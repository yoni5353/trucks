import{c as Ot,S as hz,p as NS,r as an,s as Mb,a as dc,n as Ab,i as Nb,b as LS,t as dz,d as Ju,f as fz,e as mz,g as FS,h as lA,j as _,k as pz,u as cA,l as T,m as X0,o as gz,R as K0,q as Q,v as vz}from"./index-CFGgSrri.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Lb=Ot("bot",yz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bz=Ot("calendar",_z);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xz=Ot("chevron-down",wz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ez=Ot("chevron-left",Sz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Tz=Ot("chevron-right",Cz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Oz=Ot("circle-x",Rz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Dz=Ot("copy",Iz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],kz=Ot("crosshair",Pz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Az=Ot("download",Mz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Lz=Ot("eye",Nz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],$z=Ot("grip-vertical",Fz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Wz=Ot("info",jz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],qz=Ot("map-pin",zz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],Yz=Ot("map-pinned",Gz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],Hz=Ot("mouse-pointer-click",Bz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],Vz=Ot("panel-left",Uz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],uA=Ot("search",Xz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Zz=Ot("trending-up",Kz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M14 19V7a2 2 0 0 0-2-2H9",key:"15peso"}],["path",{d:"M15 19H9",key:"18q6dt"}],["path",{d:"M19 19h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.62L18.3 9.38a1 1 0 0 0-.78-.38H14",key:"1dkp3j"}],["path",{d:"M2 13v5a1 1 0 0 0 1 1h2",key:"pkmmzz"}],["path",{d:"M4 3 2.15 5.15a.495.495 0 0 0 .35.86h2.15a.47.47 0 0 1 .35.86L3 9.02",key:"1n26pd"}],["circle",{cx:"17",cy:"19",r:"2",key:"1nxcgd"}],["circle",{cx:"7",cy:"19",r:"2",key:"gzo7y7"}]],Jz=Ot("truck-electric",Qz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hA=Ot("x",eq);var tq=class extends hz{constructor(i,e){super(),this.options=e,this.#i=i,this.#r=null,this.#n=NS(),this.bindMethods(),this.setOptions(e)}#i;#e=void 0;#m=void 0;#t=void 0;#o;#u;#n;#r;#p;#h;#d;#a;#l;#s;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),$S(this.#e,this.options)?this.#c():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Fb(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Fb(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(i){const e=this.options,t=this.#e;if(this.options=this.#i.defaultQueryOptions(i),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof an(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#e.setOptions(this.options),e._defaulted&&!Mb(this.options,e)&&this.#i.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&jS(this.#e,t,this.options,e)&&this.#c(),this.updateResult(),n&&(this.#e!==t||an(this.options.enabled,this.#e)!==an(e.enabled,this.#e)||dc(this.options.staleTime,this.#e)!==dc(e.staleTime,this.#e))&&this.#g();const r=this.#v();n&&(this.#e!==t||an(this.options.enabled,this.#e)!==an(e.enabled,this.#e)||r!==this.#s)&&this.#y(r)}getOptimisticResult(i){const e=this.#i.getQueryCache().build(this.#i,i),t=this.createResult(e,i);return nq(this,t)&&(this.#t=t,this.#u=this.options,this.#o=this.#e.state),t}getCurrentResult(){return this.#t}trackResult(i,e){return new Proxy(i,{get:(t,n)=>(this.trackProp(n),e?.(n),n==="promise"&&!this.options.experimental_prefetchInRender&&this.#n.status==="pending"&&this.#n.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(t,n))})}trackProp(i){this.#f.add(i)}getCurrentQuery(){return this.#e}refetch({...i}={}){return this.fetch({...i})}fetchOptimistic(i){const e=this.#i.defaultQueryOptions(i),t=this.#i.getQueryCache().build(this.#i,e);return t.fetch().then(()=>this.createResult(t,e))}fetch(i){return this.#c({...i,cancelRefetch:i.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#t))}#c(i){this.#x();let e=this.#e.fetch(this.options,i);return i?.throwOnError||(e=e.catch(Ab)),e}#g(){this.#b();const i=dc(this.options.staleTime,this.#e);if(Nb||this.#t.isStale||!LS(i))return;const t=dz(this.#t.dataUpdatedAt,i)+1;this.#a=Ju.setTimeout(()=>{this.#t.isStale||this.updateResult()},t)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(i){this.#w(),this.#s=i,!(Nb||an(this.options.enabled,this.#e)===!1||!LS(this.#s)||this.#s===0)&&(this.#l=Ju.setInterval(()=>{(this.options.refetchIntervalInBackground||fz.isFocused())&&this.#c()},this.#s))}#_(){this.#g(),this.#y(this.#v())}#b(){this.#a&&(Ju.clearTimeout(this.#a),this.#a=void 0)}#w(){this.#l&&(Ju.clearInterval(this.#l),this.#l=void 0)}createResult(i,e){const t=this.#e,n=this.options,r=this.#t,s=this.#o,o=this.#u,l=i!==t?i.state:this.#m,{state:c}=i;let u={...c},h=!1,d;if(e._optimisticResults){const S=this.hasListeners(),R=!S&&$S(i,e),I=S&&jS(i,t,e,n);(R||I)&&(u={...u,...mz(c.data,i.options)}),e._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:f,errorUpdatedAt:m,status:p}=u;d=u.data;let g=!1;if(e.placeholderData!==void 0&&d===void 0&&p==="pending"){let S;r?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(S=r.data,g=!0):S=typeof e.placeholderData=="function"?e.placeholderData(this.#d?.state.data,this.#d):e.placeholderData,S!==void 0&&(p="success",d=FS(r?.data,S,e),h=!0)}if(e.select&&d!==void 0&&!g)if(r&&d===s?.data&&e.select===this.#p)d=this.#h;else try{this.#p=e.select,d=e.select(d),d=FS(r?.data,d,e),this.#h=d,this.#r=null}catch(S){this.#r=S}this.#r&&(f=this.#r,d=this.#h,m=Date.now(),p="error");const v=u.fetchStatus==="fetching",y=p==="pending",w=p==="error",b=y&&v,x=d!==void 0,E={status:p,fetchStatus:u.fetchStatus,isPending:y,isSuccess:p==="success",isError:w,isInitialLoading:b,isLoading:b,data:d,dataUpdatedAt:u.dataUpdatedAt,error:f,errorUpdatedAt:m,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:w&&!x,isPaused:u.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&x,isStale:Z0(i,e),refetch:this.refetch,promise:this.#n,isEnabled:an(e.enabled,i)!==!1};if(this.options.experimental_prefetchInRender){const S=k=>{E.status==="error"?k.reject(E.error):E.data!==void 0&&k.resolve(E.data)},R=()=>{const k=this.#n=E.promise=NS();S(k)},I=this.#n;switch(I.status){case"pending":i.queryHash===t.queryHash&&S(I);break;case"fulfilled":(E.status==="error"||E.data!==I.value)&&R();break;case"rejected":(E.status!=="error"||E.error!==I.reason)&&R();break}}return E}updateResult(){const i=this.#t,e=this.createResult(this.#e,this.options);if(this.#o=this.#e.state,this.#u=this.options,this.#o.data!==void 0&&(this.#d=this.#e),Mb(e,i))return;this.#t=e;const t=()=>{if(!i)return!0;const{notifyOnChangeProps:n}=this.options,r=typeof n=="function"?n():n;if(r==="all"||!r&&!this.#f.size)return!0;const s=new Set(r??this.#f);return this.options.throwOnError&&s.add("error"),Object.keys(this.#t).some(o=>{const a=o;return this.#t[a]!==i[a]&&s.has(a)})};this.#S({listeners:t()})}#x(){const i=this.#i.getQueryCache().build(this.#i,this.options);if(i===this.#e)return;const e=this.#e;this.#e=i,this.#m=i.state,this.hasListeners()&&(e?.removeObserver(this),i.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#S(i){lA.batch(()=>{i.listeners&&this.listeners.forEach(e=>{e(this.#t)}),this.#i.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function iq(i,e){return an(e.enabled,i)!==!1&&i.state.data===void 0&&!(i.state.status==="error"&&e.retryOnMount===!1)}function $S(i,e){return iq(i,e)||i.state.data!==void 0&&Fb(i,e,e.refetchOnMount)}function Fb(i,e,t){if(an(e.enabled,i)!==!1&&dc(e.staleTime,i)!=="static"){const n=typeof t=="function"?t(i):t;return n==="always"||n!==!1&&Z0(i,e)}return!1}function jS(i,e,t,n){return(i!==e||an(n.enabled,i)===!1)&&(!t.suspense||i.state.status!=="error")&&Z0(i,t)}function Z0(i,e){return an(e.enabled,i)!==!1&&i.isStaleByTime(dc(e.staleTime,i))}function nq(i,e){return!Mb(i.getCurrentResult(),e)}var dA=_.createContext(!1),rq=()=>_.useContext(dA);dA.Provider;function sq(){let i=!1;return{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i}}var oq=_.createContext(sq()),aq=()=>_.useContext(oq),lq=(i,e)=>{(i.suspense||i.throwOnError||i.experimental_prefetchInRender)&&(e.isReset()||(i.retryOnMount=!1))},cq=i=>{_.useEffect(()=>{i.clearReset()},[i])},uq=({result:i,errorResetBoundary:e,throwOnError:t,query:n,suspense:r})=>i.isError&&!e.isReset()&&!i.isFetching&&n&&(r&&i.data===void 0||pz(t,[i.error,n])),hq=i=>{if(i.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=i.staleTime;i.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof i.gcTime=="number"&&(i.gcTime=Math.max(i.gcTime,1e3))}},dq=(i,e)=>i.isLoading&&i.isFetching&&!e,fq=(i,e)=>i?.suspense&&e.isPending,WS=(i,e,t)=>e.fetchOptimistic(i).catch(()=>{t.clearReset()});function mq(i,e,t){const n=rq(),r=aq(),s=cA(),o=s.defaultQueryOptions(i);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",hq(o),lq(o,r),cq(r);const a=!s.getQueryCache().get(o.queryHash),[l]=_.useState(()=>new e(s,o)),c=l.getOptimisticResult(o),u=!n&&i.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(h=>{const d=u?l.subscribe(lA.batchCalls(h)):Ab;return l.updateResult(),d},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),_.useEffect(()=>{l.setOptions(o)},[o,l]),fq(o,c))throw WS(o,l,r);if(uq({result:c,errorResetBoundary:r,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!Nb&&dq(c,n)&&(a?WS(o,l,r):s.getQueryCache().get(o.queryHash)?.promise)?.catch(Ab).finally(()=>{l.updateResult()}),o.notifyOnChangeProps?c:l.trackResult(c)}function Q0(i,e){return mq(i,tq)}function zS(i,e){if(typeof i=="function")return i(e);i!=null&&(i.current=e)}function ho(...i){return e=>{let t=!1;const n=i.map(r=>{const s=zS(r,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let r=0;r<n.length;r++){const s=n[r];typeof s=="function"?s():zS(i[r],null)}}}}function ni(...i){return _.useCallback(ho(...i),i)}function Ba(i){const e=pq(i),t=_.forwardRef((n,r)=>{const{children:s,...o}=n,a=_.Children.toArray(s),l=a.find(vq);if(l){const c=l.props.children,u=a.map(h=>h===l?_.Children.count(c)>1?_.Children.only(null):_.isValidElement(c)?c.props.children:null:h);return T.jsx(e,{...o,ref:r,children:_.isValidElement(c)?_.cloneElement(c,void 0,u):null})}return T.jsx(e,{...o,ref:r,children:s})});return t.displayName=`${i}.Slot`,t}var ml=Ba("Slot");function pq(i){const e=_.forwardRef((t,n)=>{const{children:r,...s}=t;if(_.isValidElement(r)){const o=_q(r),a=yq(s,r.props);return r.type!==_.Fragment&&(a.ref=n?ho(n,o):o),_.cloneElement(r,a)}return _.Children.count(r)>1?_.Children.only(null):null});return e.displayName=`${i}.SlotClone`,e}var fA=Symbol("radix.slottable");function gq(i){const e=({children:t})=>T.jsx(T.Fragment,{children:t});return e.displayName=`${i}.Slottable`,e.__radixId=fA,e}function vq(i){return _.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===fA}function yq(i,e){const t={...e};for(const n in e){const r=i[n],s=e[n];/^on[A-Z]/.test(n)?r&&s?t[n]=(...a)=>{const l=s(...a);return r(...a),l}:r&&(t[n]=r):n==="style"?t[n]={...r,...s}:n==="className"&&(t[n]=[r,s].filter(Boolean).join(" "))}return{...i,...t}}function _q(i){let e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}function mA(i){var e,t,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var r=i.length;for(e=0;e<r;e++)i[e]&&(t=mA(i[e]))&&(n&&(n+=" "),n+=t)}else for(t in i)i[t]&&(n&&(n+=" "),n+=t);return n}function pA(){for(var i,e,t=0,n="",r=arguments.length;t<r;t++)(i=arguments[t])&&(e=mA(i))&&(n&&(n+=" "),n+=e);return n}const qS=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,GS=pA,J0=(i,e)=>t=>{var n;if(e?.variants==null)return GS(i,t?.class,t?.className);const{variants:r,defaultVariants:s}=e,o=Object.keys(r).map(c=>{const u=t?.[c],h=s?.[c];if(u===null)return null;const d=qS(u)||qS(h);return r[c][d]}),a=t&&Object.entries(t).reduce((c,u)=>{let[h,d]=u;return d===void 0||(c[h]=d),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:h,className:d,...f}=u;return Object.entries(f).every(m=>{let[p,g]=m;return Array.isArray(g)?g.includes({...s,...a}[p]):{...s,...a}[p]===g})?[...c,h,d]:c},[]);return GS(i,o,l,t?.class,t?.className)},rm=768;function bq(){const[i,e]=_.useState(void 0);return _.useEffect(()=>{const t=window.matchMedia(`(max-width: ${rm-1}px)`),n=()=>{e(window.innerWidth<rm)};return t.addEventListener("change",n),e(window.innerWidth<rm),()=>t.removeEventListener("change",n)},[]),!!i}const ew="-",wq=i=>{const e=Sq(i),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=i;return{getClassGroupId:o=>{const a=o.split(ew);return a[0]===""&&a.length!==1&&a.shift(),gA(a,e)||xq(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},gA=(i,e)=>{if(i.length===0)return e.classGroupId;const t=i[0],n=e.nextPart.get(t),r=n?gA(i.slice(1),n):void 0;if(r)return r;if(e.validators.length===0)return;const s=i.join(ew);return e.validators.find(({validator:o})=>o(s))?.classGroupId},YS=/^\[(.+)\]$/,xq=i=>{if(YS.test(i)){const e=YS.exec(i)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Sq=i=>{const{theme:e,classGroups:t}=i,n={nextPart:new Map,validators:[]};for(const r in t)$b(t[r],n,r,e);return n},$b=(i,e,t,n)=>{i.forEach(r=>{if(typeof r=="string"){const s=r===""?e:BS(e,r);s.classGroupId=t;return}if(typeof r=="function"){if(Eq(r)){$b(r(n),e,t,n);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([s,o])=>{$b(o,BS(e,s),t,n)})})},BS=(i,e)=>{let t=i;return e.split(ew).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},Eq=i=>i.isThemeGetter,Cq=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const r=(s,o)=>{t.set(s,o),e++,e>i&&(e=0,n=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return r(s,o),o},set(s,o){t.has(s)?t.set(s,o):r(s,o)}}},jb="!",Wb=":",Tq=Wb.length,Rq=i=>{const{prefix:e,experimentalParseClassName:t}=i;let n=r=>{const s=[];let o=0,a=0,l=0,c;for(let m=0;m<r.length;m++){let p=r[m];if(o===0&&a===0){if(p===Wb){s.push(r.slice(l,m)),l=m+Tq;continue}if(p==="/"){c=m;continue}}p==="["?o++:p==="]"?o--:p==="("?a++:p===")"&&a--}const u=s.length===0?r:r.substring(l),h=Oq(u),d=h!==u,f=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}};if(e){const r=e+Wb,s=n;n=o=>o.startsWith(r)?s(o.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(t){const r=n;n=s=>t({className:s,parseClassName:r})}return n},Oq=i=>i.endsWith(jb)?i.substring(0,i.length-1):i.startsWith(jb)?i.substring(1):i,Iq=i=>{const e=Object.fromEntries(i.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let s=[];return n.forEach(o=>{o[0]==="["||e[o]?(r.push(...s.sort(),o),s=[]):s.push(o)}),r.push(...s.sort()),r}},Dq=i=>({cache:Cq(i.cacheSize),parseClassName:Rq(i),sortModifiers:Iq(i),...wq(i)}),Pq=/\s+/,kq=(i,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:r,sortModifiers:s}=e,o=[],a=i.trim().split(Pq);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:h,modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=t(u);if(h){l=u+(l.length>0?" "+l:l);continue}let g=!!p,v=n(g?m.substring(0,p):m);if(!v){if(!g){l=u+(l.length>0?" "+l:l);continue}if(v=n(m),!v){l=u+(l.length>0?" "+l:l);continue}g=!1}const y=s(d).join(":"),w=f?y+jb:y,b=w+v;if(o.includes(b))continue;o.push(b);const x=r(v,g);for(let C=0;C<x.length;++C){const E=x[C];o.push(w+E)}l=u+(l.length>0?" "+l:l)}return l};function Mq(){let i=0,e,t,n="";for(;i<arguments.length;)(e=arguments[i++])&&(t=vA(e))&&(n&&(n+=" "),n+=t);return n}const vA=i=>{if(typeof i=="string")return i;let e,t="";for(let n=0;n<i.length;n++)i[n]&&(e=vA(i[n]))&&(t&&(t+=" "),t+=e);return t};function Aq(i,...e){let t,n,r,s=o;function o(l){const c=e.reduce((u,h)=>h(u),i());return t=Dq(c),n=t.cache.get,r=t.cache.set,s=a,a(l)}function a(l){const c=n(l);if(c)return c;const u=kq(l,t);return r(l,u),u}return function(){return s(Mq.apply(null,arguments))}}const kt=i=>{const e=t=>t[i]||[];return e.isThemeGetter=!0,e},yA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,_A=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Nq=/^\d+\/\d+$/,Lq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Fq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$q=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,jq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Uo=i=>Nq.test(i),xe=i=>!!i&&!Number.isNaN(Number(i)),Br=i=>!!i&&Number.isInteger(Number(i)),sm=i=>i.endsWith("%")&&xe(i.slice(0,-1)),nr=i=>Lq.test(i),zq=()=>!0,qq=i=>Fq.test(i)&&!$q.test(i),bA=()=>!1,Gq=i=>jq.test(i),Yq=i=>Wq.test(i),Bq=i=>!te(i)&&!ie(i),Hq=i=>pl(i,SA,bA),te=i=>yA.test(i),Ns=i=>pl(i,EA,qq),om=i=>pl(i,Zq,xe),HS=i=>pl(i,wA,bA),Uq=i=>pl(i,xA,Yq),eh=i=>pl(i,CA,Gq),ie=i=>_A.test(i),Wl=i=>gl(i,EA),Vq=i=>gl(i,Qq),US=i=>gl(i,wA),Xq=i=>gl(i,SA),Kq=i=>gl(i,xA),th=i=>gl(i,CA,!0),pl=(i,e,t)=>{const n=yA.exec(i);return n?n[1]?e(n[1]):t(n[2]):!1},gl=(i,e,t=!1)=>{const n=_A.exec(i);return n?n[1]?e(n[1]):t:!1},wA=i=>i==="position"||i==="percentage",xA=i=>i==="image"||i==="url",SA=i=>i==="length"||i==="size"||i==="bg-size",EA=i=>i==="length",Zq=i=>i==="number",Qq=i=>i==="family-name",CA=i=>i==="shadow",Jq=()=>{const i=kt("color"),e=kt("font"),t=kt("text"),n=kt("font-weight"),r=kt("tracking"),s=kt("leading"),o=kt("breakpoint"),a=kt("container"),l=kt("spacing"),c=kt("radius"),u=kt("shadow"),h=kt("inset-shadow"),d=kt("text-shadow"),f=kt("drop-shadow"),m=kt("blur"),p=kt("perspective"),g=kt("aspect"),v=kt("ease"),y=kt("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],x=()=>[...b(),ie,te],C=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],S=()=>[ie,te,l],R=()=>[Uo,"full","auto",...S()],I=()=>[Br,"none","subgrid",ie,te],k=()=>["auto",{span:["full",Br,ie,te]},Br,ie,te],M=()=>[Br,"auto",ie,te],N=()=>["auto","min","max","fr",ie,te],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],A=()=>["auto",...S()],z=()=>[Uo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],P=()=>[i,ie,te],G=()=>[...b(),US,HS,{position:[ie,te]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],K=()=>["auto","cover","contain",Xq,Hq,{size:[ie,te]}],D=()=>[sm,Wl,Ns],L=()=>["","none","full",c,ie,te],$=()=>["",xe,Wl,Ns],j=()=>["solid","dashed","dotted","double"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>[xe,sm,US,HS],Z=()=>["","none",m,ie,te],J=()=>["none",xe,ie,te],ae=()=>["none",xe,ie,te],et=()=>[xe,ie,te],it=()=>[Uo,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[nr],breakpoint:[nr],color:[zq],container:[nr],"drop-shadow":[nr],ease:["in","out","in-out"],font:[Bq],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[nr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[nr],shadow:[nr],spacing:["px",xe],text:[nr],"text-shadow":[nr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Uo,te,ie,g]}],container:["container"],columns:[{columns:[xe,te,ie,a]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:x()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Br,"auto",ie,te]}],basis:[{basis:[Uo,"full","auto",a,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[xe,Uo,"auto","initial","none",te]}],grow:[{grow:["",xe,ie,te]}],shrink:[{shrink:["",xe,ie,te]}],order:[{order:[Br,"first","last","none",ie,te]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:z()}],w:[{w:[a,"screen",...z()]}],"min-w":[{"min-w":[a,"screen","none",...z()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...z()]}],h:[{h:["screen","lh",...z()]}],"min-h":[{"min-h":["screen","lh","none",...z()]}],"max-h":[{"max-h":["screen","lh",...z()]}],"font-size":[{text:["base",t,Wl,Ns]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ie,om]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",sm,te]}],"font-family":[{font:[Vq,te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,ie,te]}],"line-clamp":[{"line-clamp":[xe,"none",ie,om]}],leading:[{leading:[s,...S()]}],"list-image":[{"list-image":["none",ie,te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ie,te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:[xe,"from-font","auto",ie,Ns]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[xe,"auto",ie,te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ie,te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ie,te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:G()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:K()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Br,ie,te],radial:["",ie,te],conic:[Br,ie,te]},Kq,Uq]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:D()}],"gradient-via-pos":[{via:D()}],"gradient-to-pos":[{to:D()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:L()}],"rounded-s":[{"rounded-s":L()}],"rounded-e":[{"rounded-e":L()}],"rounded-t":[{"rounded-t":L()}],"rounded-r":[{"rounded-r":L()}],"rounded-b":[{"rounded-b":L()}],"rounded-l":[{"rounded-l":L()}],"rounded-ss":[{"rounded-ss":L()}],"rounded-se":[{"rounded-se":L()}],"rounded-ee":[{"rounded-ee":L()}],"rounded-es":[{"rounded-es":L()}],"rounded-tl":[{"rounded-tl":L()}],"rounded-tr":[{"rounded-tr":L()}],"rounded-br":[{"rounded-br":L()}],"rounded-bl":[{"rounded-bl":L()}],"border-w":[{border:$()}],"border-w-x":[{"border-x":$()}],"border-w-y":[{"border-y":$()}],"border-w-s":[{"border-s":$()}],"border-w-e":[{"border-e":$()}],"border-w-t":[{"border-t":$()}],"border-w-r":[{"border-r":$()}],"border-w-b":[{"border-b":$()}],"border-w-l":[{"border-l":$()}],"divide-x":[{"divide-x":$()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":$()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...j(),"hidden","none"]}],"divide-style":[{divide:[...j(),"hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:[...j(),"none","hidden"]}],"outline-offset":[{"outline-offset":[xe,ie,te]}],"outline-w":[{outline:["",xe,Wl,Ns]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",u,th,eh]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",h,th,eh]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[xe,Ns]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":$()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",d,th,eh]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[xe,ie,te]}],"mix-blend":[{"mix-blend":[...B(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":B()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[xe]}],"mask-image-linear-from-pos":[{"mask-linear-from":W()}],"mask-image-linear-to-pos":[{"mask-linear-to":W()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":W()}],"mask-image-t-to-pos":[{"mask-t-to":W()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":W()}],"mask-image-r-to-pos":[{"mask-r-to":W()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":W()}],"mask-image-b-to-pos":[{"mask-b-to":W()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":W()}],"mask-image-l-to-pos":[{"mask-l-to":W()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":W()}],"mask-image-x-to-pos":[{"mask-x-to":W()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":W()}],"mask-image-y-to-pos":[{"mask-y-to":W()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[ie,te]}],"mask-image-radial-from-pos":[{"mask-radial-from":W()}],"mask-image-radial-to-pos":[{"mask-radial-to":W()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[xe]}],"mask-image-conic-from-pos":[{"mask-conic-from":W()}],"mask-image-conic-to-pos":[{"mask-conic-to":W()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:G()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:K()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ie,te]}],filter:[{filter:["","none",ie,te]}],blur:[{blur:Z()}],brightness:[{brightness:[xe,ie,te]}],contrast:[{contrast:[xe,ie,te]}],"drop-shadow":[{"drop-shadow":["","none",f,th,eh]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",xe,ie,te]}],"hue-rotate":[{"hue-rotate":[xe,ie,te]}],invert:[{invert:["",xe,ie,te]}],saturate:[{saturate:[xe,ie,te]}],sepia:[{sepia:["",xe,ie,te]}],"backdrop-filter":[{"backdrop-filter":["","none",ie,te]}],"backdrop-blur":[{"backdrop-blur":Z()}],"backdrop-brightness":[{"backdrop-brightness":[xe,ie,te]}],"backdrop-contrast":[{"backdrop-contrast":[xe,ie,te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",xe,ie,te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[xe,ie,te]}],"backdrop-invert":[{"backdrop-invert":["",xe,ie,te]}],"backdrop-opacity":[{"backdrop-opacity":[xe,ie,te]}],"backdrop-saturate":[{"backdrop-saturate":[xe,ie,te]}],"backdrop-sepia":[{"backdrop-sepia":["",xe,ie,te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ie,te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[xe,"initial",ie,te]}],ease:[{ease:["linear","initial",v,ie,te]}],delay:[{delay:[xe,ie,te]}],animate:[{animate:["none",y,ie,te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,ie,te]}],"perspective-origin":[{"perspective-origin":x()}],rotate:[{rotate:J()}],"rotate-x":[{"rotate-x":J()}],"rotate-y":[{"rotate-y":J()}],"rotate-z":[{"rotate-z":J()}],scale:[{scale:ae()}],"scale-x":[{"scale-x":ae()}],"scale-y":[{"scale-y":ae()}],"scale-z":[{"scale-z":ae()}],"scale-3d":["scale-3d"],skew:[{skew:et()}],"skew-x":[{"skew-x":et()}],"skew-y":[{"skew-y":et()}],transform:[{transform:[ie,te,"","none","gpu","cpu"]}],"transform-origin":[{origin:x()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:it()}],"translate-x":[{"translate-x":it()}],"translate-y":[{"translate-y":it()}],"translate-z":[{"translate-z":it()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ie,te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ie,te]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[xe,Wl,Ns,om]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},eG=Aq(Jq);function V(...i){return eG(pA(i))}function tG(i,e){return i.length===e.length&&i.every(t=>e.includes(t))}const zb=J0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),yr=_.forwardRef(({className:i,variant:e,size:t,asChild:n=!1,...r},s)=>{const o=n?ml:"button";return T.jsx(o,{className:V(zb({variant:e,size:t,className:i})),ref:s,...r})});yr.displayName="Button";const TA=_.forwardRef(({className:i,type:e,...t},n)=>T.jsx("input",{type:e,className:V("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),ref:n,...t}));TA.displayName="Input";var tw=gz();const iG=X0(tw);var nG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],We=nG.reduce((i,e)=>{const t=Ba(`Primitive.${e}`),n=_.forwardRef((r,s)=>{const{asChild:o,...a}=r,l=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(l,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...i,[e]:n}},{});function rG(i,e){i&&tw.flushSync(()=>i.dispatchEvent(e))}var sG="Separator",VS="horizontal",oG=["horizontal","vertical"],RA=_.forwardRef((i,e)=>{const{decorative:t,orientation:n=VS,...r}=i,s=aG(n)?n:VS,a=t?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return T.jsx(We.div,{"data-orientation":s,...a,...r,ref:e})});RA.displayName=sG;function aG(i){return oG.includes(i)}var OA=RA;const IA=_.forwardRef(({className:i,orientation:e="horizontal",decorative:t=!0,...n},r)=>T.jsx(OA,{ref:r,decorative:t,orientation:e,className:V("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",i),...n}));IA.displayName=OA.displayName;function Ke(i,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(i?.(r),t===!1||!r.defaultPrevented)return e?.(r)}}function lG(i,e){const t=_.createContext(e),n=s=>{const{children:o,...a}=s,l=_.useMemo(()=>a,Object.values(a));return T.jsx(t.Provider,{value:l,children:o})};n.displayName=i+"Provider";function r(s){const o=_.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${i}\``)}return[n,r]}function Po(i,e=[]){let t=[];function n(s,o){const a=_.createContext(o),l=t.length;t=[...t,o];const c=h=>{const{scope:d,children:f,...m}=h,p=d?.[i]?.[l]||a,g=_.useMemo(()=>m,Object.values(m));return T.jsx(p.Provider,{value:g,children:f})};c.displayName=s+"Provider";function u(h,d){const f=d?.[i]?.[l]||a,m=_.useContext(f);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const r=()=>{const s=t.map(o=>_.createContext(o));return function(a){const l=a?.[i]||s;return _.useMemo(()=>({[`__scope${i}`]:{...a,[i]:l}}),[a,l])}};return r.scopeName=i,[n,cG(r,...e)]}function cG(...i){const e=i[0];if(i.length===1)return e;const t=()=>{const n=i.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var ps=globalThis?.document?_.useLayoutEffect:()=>{},uG=K0[" useId ".trim().toString()]||(()=>{}),hG=0;function Ai(i){const[e,t]=_.useState(uG());return ps(()=>{t(n=>n??String(hG++))},[i]),i||(e?`radix-${e}`:"")}var dG=K0[" useInsertionEffect ".trim().toString()]||ps;function au({prop:i,defaultProp:e,onChange:t=()=>{},caller:n}){const[r,s,o]=fG({defaultProp:e,onChange:t}),a=i!==void 0,l=a?i:r;{const u=_.useRef(i!==void 0);_.useEffect(()=>{const h=u.current;h!==a&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,n])}const c=_.useCallback(u=>{if(a){const h=mG(u)?u(i):u;h!==i&&o.current?.(h)}else s(u)},[a,i,s,o]);return[l,c]}function fG({defaultProp:i,onChange:e}){const[t,n]=_.useState(i),r=_.useRef(t),s=_.useRef(e);return dG(()=>{s.current=e},[e]),_.useEffect(()=>{r.current!==t&&(s.current?.(t),r.current=t)},[t,r]),[t,n,s]}function mG(i){return typeof i=="function"}function fo(i){const e=_.useRef(i);return _.useEffect(()=>{e.current=i}),_.useMemo(()=>(...t)=>e.current?.(...t),[])}function pG(i,e=globalThis?.document){const t=fo(i);_.useEffect(()=>{const n=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[t,e])}var gG="DismissableLayer",qb="dismissableLayer.update",vG="dismissableLayer.pointerDownOutside",yG="dismissableLayer.focusOutside",XS,DA=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nd=_.forwardRef((i,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=i,c=_.useContext(DA),[u,h]=_.useState(null),d=u?.ownerDocument??globalThis?.document,[,f]=_.useState({}),m=ni(e,E=>h(E)),p=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(g),y=u?p.indexOf(u):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,b=y>=v,x=wG(E=>{const S=E.target,R=[...c.branches].some(I=>I.contains(S));!b||R||(r?.(E),o?.(E),E.defaultPrevented||a?.())},d),C=xG(E=>{const S=E.target;[...c.branches].some(I=>I.contains(S))||(s?.(E),o?.(E),E.defaultPrevented||a?.())},d);return pG(E=>{y===c.layers.size-1&&(n?.(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},d),_.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(XS=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),KS(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=XS)}},[u,d,t,c]),_.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),KS())},[u,c]),_.useEffect(()=>{const E=()=>f({});return document.addEventListener(qb,E),()=>document.removeEventListener(qb,E)},[]),T.jsx(We.div,{...l,ref:m,style:{pointerEvents:w?b?"auto":"none":void 0,...i.style},onFocusCapture:Ke(i.onFocusCapture,C.onFocusCapture),onBlurCapture:Ke(i.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Ke(i.onPointerDownCapture,x.onPointerDownCapture)})});Nd.displayName=gG;var _G="DismissableLayerBranch",bG=_.forwardRef((i,e)=>{const t=_.useContext(DA),n=_.useRef(null),r=ni(e,n);return _.useEffect(()=>{const s=n.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),T.jsx(We.div,{...i,ref:r})});bG.displayName=_G;function wG(i,e=globalThis?.document){const t=fo(i),n=_.useRef(!1),r=_.useRef(()=>{});return _.useEffect(()=>{const s=a=>{if(a.target&&!n.current){let l=function(){PA(vG,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>n.current=!0}}function xG(i,e=globalThis?.document){const t=fo(i),n=_.useRef(!1);return _.useEffect(()=>{const r=s=>{s.target&&!n.current&&PA(yG,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function KS(){const i=new CustomEvent(qb);document.dispatchEvent(i)}function PA(i,e,t,{discrete:n}){const r=t.originalEvent.target,s=new CustomEvent(i,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(i,e,{once:!0}),n?rG(r,s):r.dispatchEvent(s)}var am="focusScope.autoFocusOnMount",lm="focusScope.autoFocusOnUnmount",ZS={bubbles:!1,cancelable:!0},SG="FocusScope",iw=_.forwardRef((i,e)=>{const{loop:t=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...o}=i,[a,l]=_.useState(null),c=fo(r),u=fo(s),h=_.useRef(null),d=ni(e,p=>l(p)),f=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let p=function(w){if(f.paused||!a)return;const b=w.target;a.contains(b)?h.current=b:Jr(h.current,{select:!0})},g=function(w){if(f.paused||!a)return;const b=w.relatedTarget;b!==null&&(a.contains(b)||Jr(h.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const x of w)x.removedNodes.length>0&&Jr(a)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const y=new MutationObserver(v);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),y.disconnect()}}},[n,a,f.paused]),_.useEffect(()=>{if(a){JS.add(f);const p=document.activeElement;if(!a.contains(p)){const v=new CustomEvent(am,ZS);a.addEventListener(am,c),a.dispatchEvent(v),v.defaultPrevented||(EG(IG(kA(a)),{select:!0}),document.activeElement===p&&Jr(a))}return()=>{a.removeEventListener(am,c),setTimeout(()=>{const v=new CustomEvent(lm,ZS);a.addEventListener(lm,u),a.dispatchEvent(v),v.defaultPrevented||Jr(p??document.body,{select:!0}),a.removeEventListener(lm,u),JS.remove(f)},0)}}},[a,c,u,f]);const m=_.useCallback(p=>{if(!t&&!n||f.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(g&&v){const y=p.currentTarget,[w,b]=CG(y);w&&b?!p.shiftKey&&v===b?(p.preventDefault(),t&&Jr(w,{select:!0})):p.shiftKey&&v===w&&(p.preventDefault(),t&&Jr(b,{select:!0})):v===y&&p.preventDefault()}},[t,n,f.paused]);return T.jsx(We.div,{tabIndex:-1,...o,ref:d,onKeyDown:m})});iw.displayName=SG;function EG(i,{select:e=!1}={}){const t=document.activeElement;for(const n of i)if(Jr(n,{select:e}),document.activeElement!==t)return}function CG(i){const e=kA(i),t=QS(e,i),n=QS(e.reverse(),i);return[t,n]}function kA(i){const e=[],t=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function QS(i,e){for(const t of i)if(!TG(t,{upTo:e}))return t}function TG(i,{upTo:e}){if(getComputedStyle(i).visibility==="hidden")return!0;for(;i;){if(e!==void 0&&i===e)return!1;if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1}function RG(i){return i instanceof HTMLInputElement&&"select"in i}function Jr(i,{select:e=!1}={}){if(i&&i.focus){const t=document.activeElement;i.focus({preventScroll:!0}),i!==t&&RG(i)&&e&&i.select()}}var JS=OG();function OG(){let i=[];return{add(e){const t=i[0];e!==t&&t?.pause(),i=eE(i,e),i.unshift(e)},remove(e){i=eE(i,e),i[0]?.resume()}}}function eE(i,e){const t=[...i],n=t.indexOf(e);return n!==-1&&t.splice(n,1),t}function IG(i){return i.filter(e=>e.tagName!=="A")}var DG="Portal",nw=_.forwardRef((i,e)=>{const{container:t,...n}=i,[r,s]=_.useState(!1);ps(()=>s(!0),[]);const o=t||r&&globalThis?.document?.body;return o?iG.createPortal(T.jsx(We.div,{...n,ref:e}),o):null});nw.displayName=DG;function PG(i,e){return _.useReducer((t,n)=>e[t][n]??t,i)}var ws=i=>{const{present:e,children:t}=i,n=kG(e),r=typeof t=="function"?t({present:n.isPresent}):_.Children.only(t),s=ni(n.ref,MG(r));return typeof t=="function"||n.isPresent?_.cloneElement(r,{ref:s}):null};ws.displayName="Presence";function kG(i){const[e,t]=_.useState(),n=_.useRef(null),r=_.useRef(i),s=_.useRef("none"),o=i?"mounted":"unmounted",[a,l]=PG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const c=ih(n.current);s.current=a==="mounted"?c:"none"},[a]),ps(()=>{const c=n.current,u=r.current;if(u!==i){const d=s.current,f=ih(c);i?l("MOUNT"):f==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&d!==f?"ANIMATION_OUT":"UNMOUNT"),r.current=i}},[i,l]),ps(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=f=>{const p=ih(n.current).includes(CSS.escape(f.animationName));if(f.target===e&&p&&(l("ANIMATION_END"),!r.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},d=f=>{f.target===e&&(s.current=ih(n.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:_.useCallback(c=>{n.current=c?getComputedStyle(c):null,t(c)},[])}}function ih(i){return i?.animationName||"none"}function MG(i){let e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}var cm=0;function MA(){_.useEffect(()=>{const i=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",i[0]??tE()),document.body.insertAdjacentElement("beforeend",i[1]??tE()),cm++,()=>{cm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),cm--}},[])}function tE(){const i=document.createElement("span");return i.setAttribute("data-radix-focus-guard",""),i.tabIndex=0,i.style.outline="none",i.style.opacity="0",i.style.position="fixed",i.style.pointerEvents="none",i}var Dn=function(){return Dn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Dn.apply(this,arguments)};function AA(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t}function AG(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,s;n<r;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return i.concat(s||Array.prototype.slice.call(e))}var Lh="right-scroll-bar-position",Fh="width-before-scroll-bar",NG="with-scroll-bars-hidden",LG="--removed-body-scroll-bar-size";function um(i,e){return typeof i=="function"?i(e):i&&(i.current=e),i}function FG(i,e){var t=_.useState(function(){return{value:i,callback:e,facade:{get current(){return t.value},set current(n){var r=t.value;r!==n&&(t.value=n,t.callback(n,r))}}}})[0];return t.callback=e,t.facade}var $G=typeof window<"u"?_.useLayoutEffect:_.useEffect,iE=new WeakMap;function jG(i,e){var t=FG(null,function(n){return i.forEach(function(r){return um(r,n)})});return $G(function(){var n=iE.get(t);if(n){var r=new Set(n),s=new Set(i),o=t.current;r.forEach(function(a){s.has(a)||um(a,null)}),s.forEach(function(a){r.has(a)||um(a,o)})}iE.set(t,i)},[i]),t}function WG(i){return i}function zG(i,e){e===void 0&&(e=WG);var t=[],n=!1,r={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:i},useMedium:function(s){var o=e(s,n);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(n=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){n=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),t}}}};return r}function qG(i){i===void 0&&(i={});var e=zG(null);return e.options=Dn({async:!0,ssr:!1},i),e}var NA=function(i){var e=i.sideCar,t=AA(i,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,Dn({},t))};NA.isSideCarExport=!0;function GG(i,e){return i.useMedium(e),NA}var LA=qG(),hm=function(){},Ld=_.forwardRef(function(i,e){var t=_.useRef(null),n=_.useState({onScrollCapture:hm,onWheelCapture:hm,onTouchMoveCapture:hm}),r=n[0],s=n[1],o=i.forwardProps,a=i.children,l=i.className,c=i.removeScrollBar,u=i.enabled,h=i.shards,d=i.sideCar,f=i.noRelative,m=i.noIsolation,p=i.inert,g=i.allowPinchZoom,v=i.as,y=v===void 0?"div":v,w=i.gapMode,b=AA(i,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=d,C=jG([t,e]),E=Dn(Dn({},b),r);return _.createElement(_.Fragment,null,u&&_.createElement(x,{sideCar:LA,removeScrollBar:c,shards:h,noRelative:f,noIsolation:m,inert:p,setCallbacks:s,allowPinchZoom:!!g,lockRef:t,gapMode:w}),o?_.cloneElement(_.Children.only(a),Dn(Dn({},E),{ref:C})):_.createElement(y,Dn({},E,{className:l,ref:C}),a))});Ld.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ld.classNames={fullWidth:Fh,zeroRight:Lh};var YG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BG(){if(!document)return null;var i=document.createElement("style");i.type="text/css";var e=YG();return e&&i.setAttribute("nonce",e),i}function HG(i,e){i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}function UG(i){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(i)}var VG=function(){var i=0,e=null;return{add:function(t){i==0&&(e=BG())&&(HG(e,t),UG(e)),i++},remove:function(){i--,!i&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},XG=function(){var i=VG();return function(e,t){_.useEffect(function(){return i.add(e),function(){i.remove()}},[e&&t])}},FA=function(){var i=XG(),e=function(t){var n=t.styles,r=t.dynamic;return i(n,r),null};return e},KG={left:0,top:0,right:0,gap:0},dm=function(i){return parseInt(i||"",10)||0},ZG=function(i){var e=window.getComputedStyle(document.body),t=e[i==="padding"?"paddingLeft":"marginLeft"],n=e[i==="padding"?"paddingTop":"marginTop"],r=e[i==="padding"?"paddingRight":"marginRight"];return[dm(t),dm(n),dm(r)]},QG=function(i){if(i===void 0&&(i="margin"),typeof window>"u")return KG;var e=ZG(i),t=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-t+e[2]-e[0])}},JG=FA(),ka="data-scroll-locked",eY=function(i,e,t,n){var r=i.left,s=i.top,o=i.right,a=i.gap;return t===void 0&&(t="margin"),`
  .`.concat(NG,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(ka,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),t==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lh,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Fh,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Lh," .").concat(Lh,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Fh," .").concat(Fh,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ka,`] {
    `).concat(LG,": ").concat(a,`px;
  }
`)},nE=function(){var i=parseInt(document.body.getAttribute(ka)||"0",10);return isFinite(i)?i:0},tY=function(){_.useEffect(function(){return document.body.setAttribute(ka,(nE()+1).toString()),function(){var i=nE()-1;i<=0?document.body.removeAttribute(ka):document.body.setAttribute(ka,i.toString())}},[])},iY=function(i){var e=i.noRelative,t=i.noImportant,n=i.gapMode,r=n===void 0?"margin":n;tY();var s=_.useMemo(function(){return QG(r)},[r]);return _.createElement(JG,{styles:eY(s,!e,r,t?"":"!important")})},Gb=!1;if(typeof window<"u")try{var nh=Object.defineProperty({},"passive",{get:function(){return Gb=!0,!0}});window.addEventListener("test",nh,nh),window.removeEventListener("test",nh,nh)}catch{Gb=!1}var Vo=Gb?{passive:!1}:!1,nY=function(i){return i.tagName==="TEXTAREA"},$A=function(i,e){if(!(i instanceof Element))return!1;var t=window.getComputedStyle(i);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!nY(i)&&t[e]==="visible")},rY=function(i){return $A(i,"overflowY")},sY=function(i){return $A(i,"overflowX")},rE=function(i,e){var t=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=jA(i,n);if(r){var s=WA(i,n),o=s[1],a=s[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},oY=function(i){var e=i.scrollTop,t=i.scrollHeight,n=i.clientHeight;return[e,t,n]},aY=function(i){var e=i.scrollLeft,t=i.scrollWidth,n=i.clientWidth;return[e,t,n]},jA=function(i,e){return i==="v"?rY(e):sY(e)},WA=function(i,e){return i==="v"?oY(e):aY(e)},lY=function(i,e){return i==="h"&&e==="rtl"?-1:1},cY=function(i,e,t,n,r){var s=lY(i,window.getComputedStyle(e).direction),o=s*n,a=t.target,l=e.contains(a),c=!1,u=o>0,h=0,d=0;do{if(!a)break;var f=WA(i,a),m=f[0],p=f[1],g=f[2],v=p-g-s*m;(m||v)&&jA(i,a)&&(h+=v,d+=m);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(h)<1||!u&&Math.abs(d)<1)&&(c=!0),c},rh=function(i){return"changedTouches"in i?[i.changedTouches[0].clientX,i.changedTouches[0].clientY]:[0,0]},sE=function(i){return[i.deltaX,i.deltaY]},oE=function(i){return i&&"current"in i?i.current:i},uY=function(i,e){return i[0]===e[0]&&i[1]===e[1]},hY=function(i){return`
  .block-interactivity-`.concat(i,` {pointer-events: none;}
  .allow-interactivity-`).concat(i,` {pointer-events: all;}
`)},dY=0,Xo=[];function fY(i){var e=_.useRef([]),t=_.useRef([0,0]),n=_.useRef(),r=_.useState(dY++)[0],s=_.useState(FA)[0],o=_.useRef(i);_.useEffect(function(){o.current=i},[i]),_.useEffect(function(){if(i.inert){document.body.classList.add("block-interactivity-".concat(r));var p=AG([i.lockRef.current],(i.shards||[]).map(oE),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(r))})}}},[i.inert,i.lockRef.current,i.shards]);var a=_.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var v=rh(p),y=t.current,w="deltaX"in p?p.deltaX:y[0]-v[0],b="deltaY"in p?p.deltaY:y[1]-v[1],x,C=p.target,E=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in p&&E==="h"&&C.type==="range")return!1;var S=rE(E,C);if(!S)return!0;if(S?x=E:(x=E==="v"?"h":"v",S=rE(E,C)),!S)return!1;if(!n.current&&"changedTouches"in p&&(w||b)&&(n.current=x),!x)return!0;var R=n.current||x;return cY(R,g,p,R==="h"?w:b)},[]),l=_.useCallback(function(p){var g=p;if(!(!Xo.length||Xo[Xo.length-1]!==s)){var v="deltaY"in g?sE(g):rh(g),y=e.current.filter(function(x){return x.name===g.type&&(x.target===g.target||g.target===x.shadowParent)&&uY(x.delta,v)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(oE).filter(Boolean).filter(function(x){return x.contains(g.target)}),b=w.length>0?a(g,w[0]):!o.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),c=_.useCallback(function(p,g,v,y){var w={name:p,delta:g,target:v,should:y,shadowParent:mY(v)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(b){return b!==w})},1)},[]),u=_.useCallback(function(p){t.current=rh(p),n.current=void 0},[]),h=_.useCallback(function(p){c(p.type,sE(p),p.target,a(p,i.lockRef.current))},[]),d=_.useCallback(function(p){c(p.type,rh(p),p.target,a(p,i.lockRef.current))},[]);_.useEffect(function(){return Xo.push(s),i.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:d}),document.addEventListener("wheel",l,Vo),document.addEventListener("touchmove",l,Vo),document.addEventListener("touchstart",u,Vo),function(){Xo=Xo.filter(function(p){return p!==s}),document.removeEventListener("wheel",l,Vo),document.removeEventListener("touchmove",l,Vo),document.removeEventListener("touchstart",u,Vo)}},[]);var f=i.removeScrollBar,m=i.inert;return _.createElement(_.Fragment,null,m?_.createElement(s,{styles:hY(r)}):null,f?_.createElement(iY,{noRelative:i.noRelative,gapMode:i.gapMode}):null)}function mY(i){for(var e=null;i!==null;)i instanceof ShadowRoot&&(e=i.host,i=i.host),i=i.parentNode;return e}const pY=GG(LA,fY);var rw=_.forwardRef(function(i,e){return _.createElement(Ld,Dn({},i,{ref:e,sideCar:pY}))});rw.classNames=Ld.classNames;var gY=function(i){if(typeof document>"u")return null;var e=Array.isArray(i)?i[0]:i;return e.ownerDocument.body},Ko=new WeakMap,sh=new WeakMap,oh={},fm=0,zA=function(i){return i&&(i.host||zA(i.parentNode))},vY=function(i,e){return e.map(function(t){if(i.contains(t))return t;var n=zA(t);return n&&i.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",i,". Doing nothing"),null)}).filter(function(t){return!!t})},yY=function(i,e,t,n){var r=vY(e,Array.isArray(i)?i:[i]);oh[t]||(oh[t]=new WeakMap);var s=oh[t],o=[],a=new Set,l=new Set(r),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};r.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(d){if(a.has(d))u(d);else try{var f=d.getAttribute(n),m=f!==null&&f!=="false",p=(Ko.get(d)||0)+1,g=(s.get(d)||0)+1;Ko.set(d,p),s.set(d,g),o.push(d),p===1&&m&&sh.set(d,!0),g===1&&d.setAttribute(t,"true"),m||d.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",d,v)}})};return u(e),a.clear(),fm++,function(){o.forEach(function(h){var d=Ko.get(h)-1,f=s.get(h)-1;Ko.set(h,d),s.set(h,f),d||(sh.has(h)||h.removeAttribute(n),sh.delete(h)),f||h.removeAttribute(t)}),fm--,fm||(Ko=new WeakMap,Ko=new WeakMap,sh=new WeakMap,oh={})}},qA=function(i,e,t){t===void 0&&(t="data-aria-hidden");var n=Array.from(Array.isArray(i)?i:[i]),r=gY(i);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live], script"))),yY(n,r,t,"aria-hidden")):function(){return null}},Fd="Dialog",[GA]=Po(Fd),[_Y,Sn]=GA(Fd),YA=i=>{const{__scopeDialog:e,children:t,open:n,defaultOpen:r,onOpenChange:s,modal:o=!0}=i,a=_.useRef(null),l=_.useRef(null),[c,u]=au({prop:n,defaultProp:r??!1,onChange:s,caller:Fd});return T.jsx(_Y,{scope:e,triggerRef:a,contentRef:l,contentId:Ai(),titleId:Ai(),descriptionId:Ai(),open:c,onOpenChange:u,onOpenToggle:_.useCallback(()=>u(h=>!h),[u]),modal:o,children:t})};YA.displayName=Fd;var BA="DialogTrigger",bY=_.forwardRef((i,e)=>{const{__scopeDialog:t,...n}=i,r=Sn(BA,t),s=ni(e,r.triggerRef);return T.jsx(We.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":aw(r.open),...n,ref:s,onClick:Ke(i.onClick,r.onOpenToggle)})});bY.displayName=BA;var sw="DialogPortal",[wY,HA]=GA(sw,{forceMount:void 0}),UA=i=>{const{__scopeDialog:e,forceMount:t,children:n,container:r}=i,s=Sn(sw,e);return T.jsx(wY,{scope:e,forceMount:t,children:_.Children.map(n,o=>T.jsx(ws,{present:t||s.open,children:T.jsx(nw,{asChild:!0,container:r,children:o})}))})};UA.displayName=sw;var Vh="DialogOverlay",VA=_.forwardRef((i,e)=>{const t=HA(Vh,i.__scopeDialog),{forceMount:n=t.forceMount,...r}=i,s=Sn(Vh,i.__scopeDialog);return s.modal?T.jsx(ws,{present:n||s.open,children:T.jsx(SY,{...r,ref:e})}):null});VA.displayName=Vh;var xY=Ba("DialogOverlay.RemoveScroll"),SY=_.forwardRef((i,e)=>{const{__scopeDialog:t,...n}=i,r=Sn(Vh,t);return T.jsx(rw,{as:xY,allowPinchZoom:!0,shards:[r.contentRef],children:T.jsx(We.div,{"data-state":aw(r.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),mo="DialogContent",XA=_.forwardRef((i,e)=>{const t=HA(mo,i.__scopeDialog),{forceMount:n=t.forceMount,...r}=i,s=Sn(mo,i.__scopeDialog);return T.jsx(ws,{present:n||s.open,children:s.modal?T.jsx(EY,{...r,ref:e}):T.jsx(CY,{...r,ref:e})})});XA.displayName=mo;var EY=_.forwardRef((i,e)=>{const t=Sn(mo,i.__scopeDialog),n=_.useRef(null),r=ni(e,t.contentRef,n);return _.useEffect(()=>{const s=n.current;if(s)return qA(s)},[]),T.jsx(KA,{...i,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(i.onCloseAutoFocus,s=>{s.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Ke(i.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Ke(i.onFocusOutside,s=>s.preventDefault())})}),CY=_.forwardRef((i,e)=>{const t=Sn(mo,i.__scopeDialog),n=_.useRef(!1),r=_.useRef(!1);return T.jsx(KA,{...i,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{i.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||t.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:s=>{i.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=s.target;t.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),KA=_.forwardRef((i,e)=>{const{__scopeDialog:t,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:s,...o}=i,a=Sn(mo,t),l=_.useRef(null),c=ni(e,l);return MA(),T.jsxs(T.Fragment,{children:[T.jsx(iw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:s,children:T.jsx(Nd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":aw(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),T.jsxs(T.Fragment,{children:[T.jsx(TY,{titleId:a.titleId}),T.jsx(OY,{contentRef:l,descriptionId:a.descriptionId})]})]})}),ow="DialogTitle",ZA=_.forwardRef((i,e)=>{const{__scopeDialog:t,...n}=i,r=Sn(ow,t);return T.jsx(We.h2,{id:r.titleId,...n,ref:e})});ZA.displayName=ow;var QA="DialogDescription",JA=_.forwardRef((i,e)=>{const{__scopeDialog:t,...n}=i,r=Sn(QA,t);return T.jsx(We.p,{id:r.descriptionId,...n,ref:e})});JA.displayName=QA;var eN="DialogClose",tN=_.forwardRef((i,e)=>{const{__scopeDialog:t,...n}=i,r=Sn(eN,t);return T.jsx(We.button,{type:"button",...n,ref:e,onClick:Ke(i.onClick,()=>r.onOpenChange(!1))})});tN.displayName=eN;function aw(i){return i?"open":"closed"}var iN="DialogTitleWarning",[zce,nN]=lG(iN,{contentName:mo,titleName:ow,docsSlug:"dialog"}),TY=({titleId:i})=>{const e=nN(iN),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{i&&(document.getElementById(i)||console.error(t))},[t,i]),null},RY="DialogDescriptionWarning",OY=({contentRef:i,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nN(RY).contentName}}.`;return _.useEffect(()=>{const r=i.current?.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(n))},[n,i,e]),null},rN=YA,lw=UA,lu=VA,cu=XA,$d=ZA,jd=JA,sN=tN;const IY=rN,DY=lw,oN=_.forwardRef(({className:i,...e},t)=>T.jsx(lu,{className:V("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",i),...e,ref:t}));oN.displayName=lu.displayName;const PY=J0("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),aN=_.forwardRef(({side:i="right",className:e,children:t,...n},r)=>T.jsxs(DY,{children:[T.jsx(oN,{}),T.jsxs(cu,{ref:r,className:V(PY({side:i}),e),...n,children:[t,T.jsxs(sN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[T.jsx(hA,{className:"h-4 w-4"}),T.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));aN.displayName=cu.displayName;const lN=({className:i,...e})=>T.jsx("div",{className:V("flex flex-col space-y-2 text-center sm:text-left",i),...e});lN.displayName="SheetHeader";const cN=_.forwardRef(({className:i,...e},t)=>T.jsx($d,{ref:t,className:V("text-lg font-semibold text-foreground",i),...e}));cN.displayName=$d.displayName;const uN=_.forwardRef(({className:i,...e},t)=>T.jsx(jd,{ref:t,className:V("text-sm text-muted-foreground",i),...e}));uN.displayName=jd.displayName;function fc({className:i,...e}){return T.jsx("div",{className:V("animate-pulse rounded-md bg-muted",i),...e})}const kY=["top","right","bottom","left"],gs=Math.min,Pi=Math.max,Xh=Math.round,ah=Math.floor,Wn=i=>({x:i,y:i}),MY={left:"right",right:"left",bottom:"top",top:"bottom"},AY={start:"end",end:"start"};function Yb(i,e,t){return Pi(i,gs(e,t))}function Dr(i,e){return typeof i=="function"?i(e):i}function Pr(i){return i.split("-")[0]}function vl(i){return i.split("-")[1]}function cw(i){return i==="x"?"y":"x"}function uw(i){return i==="y"?"height":"width"}const NY=new Set(["top","bottom"]);function An(i){return NY.has(Pr(i))?"y":"x"}function hw(i){return cw(An(i))}function LY(i,e,t){t===void 0&&(t=!1);const n=vl(i),r=hw(i),s=uw(r);let o=r==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Kh(o)),[o,Kh(o)]}function FY(i){const e=Kh(i);return[Bb(i),e,Bb(e)]}function Bb(i){return i.replace(/start|end/g,e=>AY[e])}const aE=["left","right"],lE=["right","left"],$Y=["top","bottom"],jY=["bottom","top"];function WY(i,e,t){switch(i){case"top":case"bottom":return t?e?lE:aE:e?aE:lE;case"left":case"right":return e?$Y:jY;default:return[]}}function zY(i,e,t,n){const r=vl(i);let s=WY(Pr(i),t==="start",n);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(Bb)))),s}function Kh(i){return i.replace(/left|right|bottom|top/g,e=>MY[e])}function qY(i){return{top:0,right:0,bottom:0,left:0,...i}}function hN(i){return typeof i!="number"?qY(i):{top:i,right:i,bottom:i,left:i}}function Zh(i){const{x:e,y:t,width:n,height:r}=i;return{width:n,height:r,top:t,left:e,right:e+n,bottom:t+r,x:e,y:t}}function cE(i,e,t){let{reference:n,floating:r}=i;const s=An(e),o=hw(e),a=uw(o),l=Pr(e),c=s==="y",u=n.x+n.width/2-r.width/2,h=n.y+n.height/2-r.height/2,d=n[a]/2-r[a]/2;let f;switch(l){case"top":f={x:u,y:n.y-r.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-r.width,y:h};break;default:f={x:n.x,y:n.y}}switch(vl(e)){case"start":f[o]-=d*(t&&c?-1:1);break;case"end":f[o]+=d*(t&&c?-1:1);break}return f}const GY=async(i,e,t)=>{const{placement:n="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:i,floating:e,strategy:r}),{x:u,y:h}=cE(c,n,l),d=n,f={},m=0;for(let p=0;p<a.length;p++){const{name:g,fn:v}=a[p],{x:y,y:w,data:b,reset:x}=await v({x:u,y:h,initialPlacement:n,placement:d,strategy:r,middlewareData:f,rects:c,platform:o,elements:{reference:i,floating:e}});u=y??u,h=w??h,f={...f,[g]:{...f[g],...b}},x&&m<=50&&(m++,typeof x=="object"&&(x.placement&&(d=x.placement),x.rects&&(c=x.rects===!0?await o.getElementRects({reference:i,floating:e,strategy:r}):x.rects),{x:u,y:h}=cE(c,d,l)),p=-1)}return{x:u,y:h,placement:d,strategy:r,middlewareData:f}};async function Ec(i,e){var t;e===void 0&&(e={});const{x:n,y:r,platform:s,rects:o,elements:a,strategy:l}=i,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=Dr(e,i),m=hN(f),g=a[d?h==="floating"?"reference":"floating":h],v=Zh(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(g)))==null||t?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=h==="floating"?{x:n,y:r,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},x=Zh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:l}):y);return{top:(v.top-x.top+m.top)/b.y,bottom:(x.bottom-v.bottom+m.bottom)/b.y,left:(v.left-x.left+m.left)/b.x,right:(x.right-v.right+m.right)/b.x}}const YY=i=>({name:"arrow",options:i,async fn(e){const{x:t,y:n,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Dr(i,e)||{};if(c==null)return{};const h=hN(u),d={x:t,y:n},f=hw(r),m=uw(f),p=await o.getDimensions(c),g=f==="y",v=g?"top":"left",y=g?"bottom":"right",w=g?"clientHeight":"clientWidth",b=s.reference[m]+s.reference[f]-d[f]-s.floating[m],x=d[f]-s.reference[f],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=C?C[w]:0;(!E||!await(o.isElement==null?void 0:o.isElement(C)))&&(E=a.floating[w]||s.floating[m]);const S=b/2-x/2,R=E/2-p[m]/2-1,I=gs(h[v],R),k=gs(h[y],R),M=I,N=E-p[m]-k,F=E/2-p[m]/2+S,q=Yb(M,F,N),A=!l.arrow&&vl(r)!=null&&F!==q&&s.reference[m]/2-(F<M?I:k)-p[m]/2<0,z=A?F<M?F-M:F-N:0;return{[f]:d[f]+z,data:{[f]:q,centerOffset:F-q-z,...A&&{alignmentOffset:z}},reset:A}}}),BY=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(e){var t,n;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...g}=Dr(i,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const v=Pr(r),y=An(a),w=Pr(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),x=d||(w||!p?[Kh(a)]:FY(a)),C=m!=="none";!d&&C&&x.push(...zY(a,p,m,b));const E=[a,...x],S=await Ec(e,g),R=[];let I=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&R.push(S[v]),h){const F=LY(r,o,b);R.push(S[F[0]],S[F[1]])}if(I=[...I,{placement:r,overflows:R}],!R.every(F=>F<=0)){var k,M;const F=(((k=s.flip)==null?void 0:k.index)||0)+1,q=E[F];if(q&&(!(h==="alignment"?y!==An(q):!1)||I.every(P=>An(P.placement)===y?P.overflows[0]>0:!0)))return{data:{index:F,overflows:I},reset:{placement:q}};let A=(M=I.filter(z=>z.overflows[0]<=0).sort((z,P)=>z.overflows[1]-P.overflows[1])[0])==null?void 0:M.placement;if(!A)switch(f){case"bestFit":{var N;const z=(N=I.filter(P=>{if(C){const G=An(P.placement);return G===y||G==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(G=>G>0).reduce((G,U)=>G+U,0)]).sort((P,G)=>P[1]-G[1])[0])==null?void 0:N[0];z&&(A=z);break}case"initialPlacement":A=a;break}if(r!==A)return{reset:{placement:A}}}return{}}}};function uE(i,e){return{top:i.top-e.height,right:i.right-e.width,bottom:i.bottom-e.height,left:i.left-e.width}}function hE(i){return kY.some(e=>i[e]>=0)}const HY=function(i){return i===void 0&&(i={}),{name:"hide",options:i,async fn(e){const{rects:t}=e,{strategy:n="referenceHidden",...r}=Dr(i,e);switch(n){case"referenceHidden":{const s=await Ec(e,{...r,elementContext:"reference"}),o=uE(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:hE(o)}}}case"escaped":{const s=await Ec(e,{...r,altBoundary:!0}),o=uE(s,t.floating);return{data:{escapedOffsets:o,escaped:hE(o)}}}default:return{}}}}},dN=new Set(["left","top"]);async function UY(i,e){const{placement:t,platform:n,elements:r}=i,s=await(n.isRTL==null?void 0:n.isRTL(r.floating)),o=Pr(t),a=vl(t),l=An(t)==="y",c=dN.has(o)?-1:1,u=s&&l?-1:1,h=Dr(e,i);let{mainAxis:d,crossAxis:f,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof m=="number"&&(f=a==="end"?m*-1:m),l?{x:f*u,y:d*c}:{x:d*c,y:f*u}}const VY=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(e){var t,n;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await UY(e,i);return o===((t=a.offset)==null?void 0:t.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},XY=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(e){const{x:t,y:n,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:v,y}=g;return{x:v,y}}},...l}=Dr(i,e),c={x:t,y:n},u=await Ec(e,l),h=An(Pr(r)),d=cw(h);let f=c[d],m=c[h];if(s){const g=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=f+u[g],w=f-u[v];f=Yb(y,f,w)}if(o){const g=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=m+u[g],w=m-u[v];m=Yb(y,m,w)}const p=a.fn({...e,[d]:f,[h]:m});return{...p,data:{x:p.x-t,y:p.y-n,enabled:{[d]:s,[h]:o}}}}}},KY=function(i){return i===void 0&&(i={}),{options:i,fn(e){const{x:t,y:n,placement:r,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Dr(i,e),u={x:t,y:n},h=An(r),d=cw(h);let f=u[d],m=u[h];const p=Dr(a,e),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const w=d==="y"?"height":"width",b=s.reference[d]-s.floating[w]+g.mainAxis,x=s.reference[d]+s.reference[w]-g.mainAxis;f<b?f=b:f>x&&(f=x)}if(c){var v,y;const w=d==="y"?"width":"height",b=dN.has(Pr(r)),x=s.reference[h]-s.floating[w]+(b&&((v=o.offset)==null?void 0:v[h])||0)+(b?0:g.crossAxis),C=s.reference[h]+s.reference[w]+(b?0:((y=o.offset)==null?void 0:y[h])||0)-(b?g.crossAxis:0);m<x?m=x:m>C&&(m=C)}return{[d]:f,[h]:m}}}},ZY=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(e){var t,n;const{placement:r,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Dr(i,e),u=await Ec(e,c),h=Pr(r),d=vl(r),f=An(r)==="y",{width:m,height:p}=s.floating;let g,v;h==="top"||h==="bottom"?(g=h,v=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,g=d==="end"?"top":"bottom");const y=p-u.top-u.bottom,w=m-u.left-u.right,b=gs(p-u[g],y),x=gs(m-u[v],w),C=!e.middlewareData.shift;let E=b,S=x;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(S=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=y),C&&!d){const I=Pi(u.left,0),k=Pi(u.right,0),M=Pi(u.top,0),N=Pi(u.bottom,0);f?S=m-2*(I!==0||k!==0?I+k:Pi(u.left,u.right)):E=p-2*(M!==0||N!==0?M+N:Pi(u.top,u.bottom))}await l({...e,availableWidth:S,availableHeight:E});const R=await o.getDimensions(a.floating);return m!==R.width||p!==R.height?{reset:{rects:!0}}:{}}}};function Wd(){return typeof window<"u"}function yl(i){return fN(i)?(i.nodeName||"").toLowerCase():"#document"}function Ni(i){var e;return(i==null||(e=i.ownerDocument)==null?void 0:e.defaultView)||window}function Hn(i){var e;return(e=(fN(i)?i.ownerDocument:i.document)||window.document)==null?void 0:e.documentElement}function fN(i){return Wd()?i instanceof Node||i instanceof Ni(i).Node:!1}function gn(i){return Wd()?i instanceof Element||i instanceof Ni(i).Element:!1}function Yn(i){return Wd()?i instanceof HTMLElement||i instanceof Ni(i).HTMLElement:!1}function dE(i){return!Wd()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof Ni(i).ShadowRoot}const QY=new Set(["inline","contents"]);function uu(i){const{overflow:e,overflowX:t,overflowY:n,display:r}=vn(i);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!QY.has(r)}const JY=new Set(["table","td","th"]);function eB(i){return JY.has(yl(i))}const tB=[":popover-open",":modal"];function zd(i){return tB.some(e=>{try{return i.matches(e)}catch{return!1}})}const iB=["transform","translate","scale","rotate","perspective"],nB=["transform","translate","scale","rotate","perspective","filter"],rB=["paint","layout","strict","content"];function dw(i){const e=fw(),t=gn(i)?vn(i):i;return iB.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||nB.some(n=>(t.willChange||"").includes(n))||rB.some(n=>(t.contain||"").includes(n))}function sB(i){let e=vs(i);for(;Yn(e)&&!Ha(e);){if(dw(e))return e;if(zd(e))return null;e=vs(e)}return null}function fw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const oB=new Set(["html","body","#document"]);function Ha(i){return oB.has(yl(i))}function vn(i){return Ni(i).getComputedStyle(i)}function qd(i){return gn(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function vs(i){if(yl(i)==="html")return i;const e=i.assignedSlot||i.parentNode||dE(i)&&i.host||Hn(i);return dE(e)?e.host:e}function mN(i){const e=vs(i);return Ha(e)?i.ownerDocument?i.ownerDocument.body:i.body:Yn(e)&&uu(e)?e:mN(e)}function Cc(i,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=mN(i),s=r===((n=i.ownerDocument)==null?void 0:n.body),o=Ni(r);if(s){const a=Hb(o);return e.concat(o,o.visualViewport||[],uu(r)?r:[],a&&t?Cc(a):[])}return e.concat(r,Cc(r,[],t))}function Hb(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function pN(i){const e=vn(i);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=Yn(i),s=r?i.offsetWidth:t,o=r?i.offsetHeight:n,a=Xh(t)!==s||Xh(n)!==o;return a&&(t=s,n=o),{width:t,height:n,$:a}}function mw(i){return gn(i)?i:i.contextElement}function Ma(i){const e=mw(i);if(!Yn(e))return Wn(1);const t=e.getBoundingClientRect(),{width:n,height:r,$:s}=pN(e);let o=(s?Xh(t.width):t.width)/n,a=(s?Xh(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const aB=Wn(0);function gN(i){const e=Ni(i);return!fw()||!e.visualViewport?aB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lB(i,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ni(i)?!1:e}function po(i,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=i.getBoundingClientRect(),s=mw(i);let o=Wn(1);e&&(n?gn(n)&&(o=Ma(n)):o=Ma(i));const a=lB(s,t,n)?gN(s):Wn(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,u=r.width/o.x,h=r.height/o.y;if(s){const d=Ni(s),f=n&&gn(n)?Ni(n):n;let m=d,p=Hb(m);for(;p&&n&&f!==m;){const g=Ma(p),v=p.getBoundingClientRect(),y=vn(p),w=v.left+(p.clientLeft+parseFloat(y.paddingLeft))*g.x,b=v.top+(p.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,c*=g.y,u*=g.x,h*=g.y,l+=w,c+=b,m=Ni(p),p=Hb(m)}}return Zh({width:u,height:h,x:l,y:c})}function Gd(i,e){const t=qd(i).scrollLeft;return e?e.left+t:po(Hn(i)).left+t}function vN(i,e){const t=i.getBoundingClientRect(),n=t.left+e.scrollLeft-Gd(i,t),r=t.top+e.scrollTop;return{x:n,y:r}}function cB(i){let{elements:e,rect:t,offsetParent:n,strategy:r}=i;const s=r==="fixed",o=Hn(n),a=e?zd(e.floating):!1;if(n===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=Wn(1);const u=Wn(0),h=Yn(n);if((h||!h&&!s)&&((yl(n)!=="body"||uu(o))&&(l=qd(n)),Yn(n))){const f=po(n);c=Ma(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}const d=o&&!h&&!s?vN(o,l):Wn(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:t.y*c.y-l.scrollTop*c.y+u.y+d.y}}function uB(i){return Array.from(i.getClientRects())}function hB(i){const e=Hn(i),t=qd(i),n=i.ownerDocument.body,r=Pi(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Pi(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-t.scrollLeft+Gd(i);const a=-t.scrollTop;return vn(n).direction==="rtl"&&(o+=Pi(e.clientWidth,n.clientWidth)-r),{width:r,height:s,x:o,y:a}}const fE=25;function dB(i,e){const t=Ni(i),n=Hn(i),r=t.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const u=fw();(!u||u&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}const c=Gd(n);if(c<=0){const u=n.ownerDocument,h=u.body,d=getComputedStyle(h),f=u.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,m=Math.abs(n.clientWidth-h.clientWidth-f);m<=fE&&(s-=m)}else c<=fE&&(s+=c);return{width:s,height:o,x:a,y:l}}const fB=new Set(["absolute","fixed"]);function mB(i,e){const t=po(i,!0,e==="fixed"),n=t.top+i.clientTop,r=t.left+i.clientLeft,s=Yn(i)?Ma(i):Wn(1),o=i.clientWidth*s.x,a=i.clientHeight*s.y,l=r*s.x,c=n*s.y;return{width:o,height:a,x:l,y:c}}function mE(i,e,t){let n;if(e==="viewport")n=dB(i,t);else if(e==="document")n=hB(Hn(i));else if(gn(e))n=mB(e,t);else{const r=gN(i);n={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Zh(n)}function yN(i,e){const t=vs(i);return t===e||!gn(t)||Ha(t)?!1:vn(t).position==="fixed"||yN(t,e)}function pB(i,e){const t=e.get(i);if(t)return t;let n=Cc(i,[],!1).filter(a=>gn(a)&&yl(a)!=="body"),r=null;const s=vn(i).position==="fixed";let o=s?vs(i):i;for(;gn(o)&&!Ha(o);){const a=vn(o),l=dw(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&fB.has(r.position)||uu(o)&&!l&&yN(i,o))?n=n.filter(u=>u!==o):r=a,o=vs(o)}return e.set(i,n),n}function gB(i){let{element:e,boundary:t,rootBoundary:n,strategy:r}=i;const o=[...t==="clippingAncestors"?zd(e)?[]:pB(e,this._c):[].concat(t),n],a=o[0],l=o.reduce((c,u)=>{const h=mE(e,u,r);return c.top=Pi(h.top,c.top),c.right=gs(h.right,c.right),c.bottom=gs(h.bottom,c.bottom),c.left=Pi(h.left,c.left),c},mE(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function vB(i){const{width:e,height:t}=pN(i);return{width:e,height:t}}function yB(i,e,t){const n=Yn(e),r=Hn(e),s=t==="fixed",o=po(i,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Wn(0);function c(){l.x=Gd(r)}if(n||!n&&!s)if((yl(e)!=="body"||uu(r))&&(a=qd(e)),n){const f=po(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else r&&c();s&&!n&&r&&c();const u=r&&!n&&!s?vN(r,a):Wn(0),h=o.left+a.scrollLeft-l.x-u.x,d=o.top+a.scrollTop-l.y-u.y;return{x:h,y:d,width:o.width,height:o.height}}function mm(i){return vn(i).position==="static"}function pE(i,e){if(!Yn(i)||vn(i).position==="fixed")return null;if(e)return e(i);let t=i.offsetParent;return Hn(i)===t&&(t=t.ownerDocument.body),t}function _N(i,e){const t=Ni(i);if(zd(i))return t;if(!Yn(i)){let r=vs(i);for(;r&&!Ha(r);){if(gn(r)&&!mm(r))return r;r=vs(r)}return t}let n=pE(i,e);for(;n&&eB(n)&&mm(n);)n=pE(n,e);return n&&Ha(n)&&mm(n)&&!dw(n)?t:n||sB(i)||t}const _B=async function(i){const e=this.getOffsetParent||_N,t=this.getDimensions,n=await t(i.floating);return{reference:yB(i.reference,await e(i.floating),i.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function bB(i){return vn(i).direction==="rtl"}const wB={convertOffsetParentRelativeRectToViewportRelativeRect:cB,getDocumentElement:Hn,getClippingRect:gB,getOffsetParent:_N,getElementRects:_B,getClientRects:uB,getDimensions:vB,getScale:Ma,isElement:gn,isRTL:bB};function bN(i,e){return i.x===e.x&&i.y===e.y&&i.width===e.width&&i.height===e.height}function xB(i,e){let t=null,n;const r=Hn(i);function s(){var a;clearTimeout(n),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=i.getBoundingClientRect(),{left:u,top:h,width:d,height:f}=c;if(a||e(),!d||!f)return;const m=ah(h),p=ah(r.clientWidth-(u+d)),g=ah(r.clientHeight-(h+f)),v=ah(u),w={rootMargin:-m+"px "+-p+"px "+-g+"px "+-v+"px",threshold:Pi(0,gs(1,l))||1};let b=!0;function x(C){const E=C[0].intersectionRatio;if(E!==l){if(!b)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!bN(c,i.getBoundingClientRect())&&o(),b=!1}try{t=new IntersectionObserver(x,{...w,root:r.ownerDocument})}catch{t=new IntersectionObserver(x,w)}t.observe(i)}return o(!0),s}function SB(i,e,t,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=mw(i),u=r||s?[...c?Cc(c):[],...Cc(e)]:[];u.forEach(v=>{r&&v.addEventListener("scroll",t,{passive:!0}),s&&v.addEventListener("resize",t)});const h=c&&a?xB(c,t):null;let d=-1,f=null;o&&(f=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(e)})),t()}),c&&!l&&f.observe(c),f.observe(e));let m,p=l?po(i):null;l&&g();function g(){const v=po(i);p&&!bN(p,v)&&t(),p=v,m=requestAnimationFrame(g)}return t(),()=>{var v;u.forEach(y=>{r&&y.removeEventListener("scroll",t),s&&y.removeEventListener("resize",t)}),h?.(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(m)}}const EB=VY,CB=XY,TB=BY,RB=ZY,OB=HY,gE=YY,IB=KY,DB=(i,e,t)=>{const n=new Map,r={platform:wB,...t},s={...r.platform,_c:n};return GY(i,e,{...r,platform:s})};var PB=typeof document<"u",kB=function(){},$h=PB?_.useLayoutEffect:kB;function Qh(i,e){if(i===e)return!0;if(typeof i!=typeof e)return!1;if(typeof i=="function"&&i.toString()===e.toString())return!0;let t,n,r;if(i&&e&&typeof i=="object"){if(Array.isArray(i)){if(t=i.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Qh(i[n],e[n]))return!1;return!0}if(r=Object.keys(i),t=r.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,r[n]))return!1;for(n=t;n--!==0;){const s=r[n];if(!(s==="_owner"&&i.$$typeof)&&!Qh(i[s],e[s]))return!1}return!0}return i!==i&&e!==e}function wN(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function vE(i,e){const t=wN(i);return Math.round(e*t)/t}function pm(i){const e=_.useRef(i);return $h(()=>{e.current=i}),e}function MB(i){i===void 0&&(i={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=i,[u,h]=_.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[d,f]=_.useState(n);Qh(d,n)||f(n);const[m,p]=_.useState(null),[g,v]=_.useState(null),y=_.useCallback(P=>{P!==C.current&&(C.current=P,p(P))},[]),w=_.useCallback(P=>{P!==E.current&&(E.current=P,v(P))},[]),b=s||m,x=o||g,C=_.useRef(null),E=_.useRef(null),S=_.useRef(u),R=l!=null,I=pm(l),k=pm(r),M=pm(c),N=_.useCallback(()=>{if(!C.current||!E.current)return;const P={placement:e,strategy:t,middleware:d};k.current&&(P.platform=k.current),DB(C.current,E.current,P).then(G=>{const U={...G,isPositioned:M.current!==!1};F.current&&!Qh(S.current,U)&&(S.current=U,tw.flushSync(()=>{h(U)}))})},[d,e,t,k,M]);$h(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(P=>({...P,isPositioned:!1})))},[c]);const F=_.useRef(!1);$h(()=>(F.current=!0,()=>{F.current=!1}),[]),$h(()=>{if(b&&(C.current=b),x&&(E.current=x),b&&x){if(I.current)return I.current(b,x,N);N()}},[b,x,N,I,R]);const q=_.useMemo(()=>({reference:C,floating:E,setReference:y,setFloating:w}),[y,w]),A=_.useMemo(()=>({reference:b,floating:x}),[b,x]),z=_.useMemo(()=>{const P={position:t,left:0,top:0};if(!A.floating)return P;const G=vE(A.floating,u.x),U=vE(A.floating,u.y);return a?{...P,transform:"translate("+G+"px, "+U+"px)",...wN(A.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:G,top:U}},[t,a,A.floating,u.x,u.y]);return _.useMemo(()=>({...u,update:N,refs:q,elements:A,floatingStyles:z}),[u,N,q,A,z])}const AB=i=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:i,fn(t){const{element:n,padding:r}=typeof i=="function"?i(t):i;return n&&e(n)?n.current!=null?gE({element:n.current,padding:r}).fn(t):{}:n?gE({element:n,padding:r}).fn(t):{}}}},NB=(i,e)=>({...EB(i),options:[i,e]}),LB=(i,e)=>({...CB(i),options:[i,e]}),FB=(i,e)=>({...IB(i),options:[i,e]}),$B=(i,e)=>({...TB(i),options:[i,e]}),jB=(i,e)=>({...RB(i),options:[i,e]}),WB=(i,e)=>({...OB(i),options:[i,e]}),zB=(i,e)=>({...AB(i),options:[i,e]});var qB="Arrow",xN=_.forwardRef((i,e)=>{const{children:t,width:n=10,height:r=5,...s}=i;return T.jsx(We.svg,{...s,ref:e,width:n,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:i.asChild?t:T.jsx("polygon",{points:"0,0 30,0 15,10"})})});xN.displayName=qB;var GB=xN;function YB(i){const[e,t]=_.useState(void 0);return ps(()=>{if(i){t({width:i.offsetWidth,height:i.offsetHeight});const n=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=i.offsetWidth,a=i.offsetHeight;t({width:o,height:a})});return n.observe(i,{box:"border-box"}),()=>n.unobserve(i)}else t(void 0)},[i]),e}var pw="Popper",[SN,Yd]=Po(pw),[BB,EN]=SN(pw),CN=i=>{const{__scopePopper:e,children:t}=i,[n,r]=_.useState(null);return T.jsx(BB,{scope:e,anchor:n,onAnchorChange:r,children:t})};CN.displayName=pw;var TN="PopperAnchor",RN=_.forwardRef((i,e)=>{const{__scopePopper:t,virtualRef:n,...r}=i,s=EN(TN,t),o=_.useRef(null),a=ni(e,o),l=_.useRef(null);return _.useEffect(()=>{const c=l.current;l.current=n?.current||o.current,c!==l.current&&s.onAnchorChange(l.current)}),n?null:T.jsx(We.div,{...r,ref:a})});RN.displayName=TN;var gw="PopperContent",[HB,UB]=SN(gw),ON=_.forwardRef((i,e)=>{const{__scopePopper:t,side:n="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:d=!1,updatePositionStrategy:f="optimized",onPlaced:m,...p}=i,g=EN(gw,t),[v,y]=_.useState(null),w=ni(e,W=>y(W)),[b,x]=_.useState(null),C=YB(b),E=C?.width??0,S=C?.height??0,R=n+(s!=="center"?"-"+s:""),I=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(c)?c:[c],M=k.length>0,N={padding:I,boundary:k.filter(XB),altBoundary:M},{refs:F,floatingStyles:q,placement:A,isPositioned:z,middlewareData:P}=MB({strategy:"fixed",placement:R,whileElementsMounted:(...W)=>SB(...W,{animationFrame:f==="always"}),elements:{reference:g.anchor},middleware:[NB({mainAxis:r+S,alignmentAxis:o}),l&&LB({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?FB():void 0,...N}),l&&$B({...N}),jB({...N,apply:({elements:W,rects:Z,availableWidth:J,availableHeight:ae})=>{const{width:et,height:it}=Z.reference,he=W.floating.style;he.setProperty("--radix-popper-available-width",`${J}px`),he.setProperty("--radix-popper-available-height",`${ae}px`),he.setProperty("--radix-popper-anchor-width",`${et}px`),he.setProperty("--radix-popper-anchor-height",`${it}px`)}}),b&&zB({element:b,padding:a}),KB({arrowWidth:E,arrowHeight:S}),d&&WB({strategy:"referenceHidden",...N})]}),[G,U]=PN(A),K=fo(m);ps(()=>{z&&K?.()},[z,K]);const D=P.arrow?.x,L=P.arrow?.y,$=P.arrow?.centerOffset!==0,[j,B]=_.useState();return ps(()=>{v&&B(window.getComputedStyle(v).zIndex)},[v]),T.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:z?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:j,"--radix-popper-transform-origin":[P.transformOrigin?.x,P.transformOrigin?.y].join(" "),...P.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:i.dir,children:T.jsx(HB,{scope:t,placedSide:G,onArrowChange:x,arrowX:D,arrowY:L,shouldHideArrow:$,children:T.jsx(We.div,{"data-side":G,"data-align":U,...p,ref:w,style:{...p.style,animation:z?void 0:"none"}})})})});ON.displayName=gw;var IN="PopperArrow",VB={top:"bottom",right:"left",bottom:"top",left:"right"},DN=_.forwardRef(function(e,t){const{__scopePopper:n,...r}=e,s=UB(IN,n),o=VB[s.placedSide];return T.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:T.jsx(GB,{...r,ref:t,style:{...r.style,display:"block"}})})});DN.displayName=IN;function XB(i){return i!==null}var KB=i=>({name:"transformOrigin",options:i,fn(e){const{placement:t,rects:n,middlewareData:r}=e,o=r.arrow?.centerOffset!==0,a=o?0:i.arrowWidth,l=o?0:i.arrowHeight,[c,u]=PN(t),h={start:"0%",center:"50%",end:"100%"}[u],d=(r.arrow?.x??0)+a/2,f=(r.arrow?.y??0)+l/2;let m="",p="";return c==="bottom"?(m=o?h:`${d}px`,p=`${-l}px`):c==="top"?(m=o?h:`${d}px`,p=`${n.floating.height+l}px`):c==="right"?(m=`${-l}px`,p=o?h:`${f}px`):c==="left"&&(m=`${n.floating.width+l}px`,p=o?h:`${f}px`),{data:{x:m,y:p}}}});function PN(i){const[e,t="center"]=i.split("-");return[e,t]}var kN=CN,vw=RN,MN=ON,AN=DN,ZB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),QB="VisuallyHidden",NN=_.forwardRef((i,e)=>T.jsx(We.span,{...i,ref:e,style:{...ZB,...i.style}}));NN.displayName=QB;var JB=NN,[Bd]=Po("Tooltip",[Yd]),Hd=Yd(),LN="TooltipProvider",eH=700,Ub="tooltip.open",[tH,yw]=Bd(LN),FN=i=>{const{__scopeTooltip:e,delayDuration:t=eH,skipDelayDuration:n=300,disableHoverableContent:r=!1,children:s}=i,o=_.useRef(!0),a=_.useRef(!1),l=_.useRef(0);return _.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),T.jsx(tH,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:_.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:_.useCallback(c=>{a.current=c},[]),disableHoverableContent:r,children:s})};FN.displayName=LN;var Tc="Tooltip",[iH,Ud]=Bd(Tc),$N=i=>{const{__scopeTooltip:e,children:t,open:n,defaultOpen:r,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=i,l=yw(Tc,i.__scopeTooltip),c=Hd(e),[u,h]=_.useState(null),d=Ai(),f=_.useRef(0),m=o??l.disableHoverableContent,p=a??l.delayDuration,g=_.useRef(!1),[v,y]=au({prop:n,defaultProp:r??!1,onChange:E=>{E?(l.onOpen(),document.dispatchEvent(new CustomEvent(Ub))):l.onClose(),s?.(E)},caller:Tc}),w=_.useMemo(()=>v?g.current?"delayed-open":"instant-open":"closed",[v]),b=_.useCallback(()=>{window.clearTimeout(f.current),f.current=0,g.current=!1,y(!0)},[y]),x=_.useCallback(()=>{window.clearTimeout(f.current),f.current=0,y(!1)},[y]),C=_.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{g.current=!0,y(!0),f.current=0},p)},[p,y]);return _.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),T.jsx(kN,{...c,children:T.jsx(iH,{scope:e,contentId:d,open:v,stateAttribute:w,trigger:u,onTriggerChange:h,onTriggerEnter:_.useCallback(()=>{l.isOpenDelayedRef.current?C():b()},[l.isOpenDelayedRef,C,b]),onTriggerLeave:_.useCallback(()=>{m?x():(window.clearTimeout(f.current),f.current=0)},[x,m]),onOpen:b,onClose:x,disableHoverableContent:m,children:t})})};$N.displayName=Tc;var Vb="TooltipTrigger",jN=_.forwardRef((i,e)=>{const{__scopeTooltip:t,...n}=i,r=Ud(Vb,t),s=yw(Vb,t),o=Hd(t),a=_.useRef(null),l=ni(e,a,r.onTriggerChange),c=_.useRef(!1),u=_.useRef(!1),h=_.useCallback(()=>c.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),T.jsx(vw,{asChild:!0,...o,children:T.jsx(We.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...n,ref:l,onPointerMove:Ke(i.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ke(i.onPointerLeave,()=>{r.onTriggerLeave(),u.current=!1}),onPointerDown:Ke(i.onPointerDown,()=>{r.open&&r.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ke(i.onFocus,()=>{c.current||r.onOpen()}),onBlur:Ke(i.onBlur,r.onClose),onClick:Ke(i.onClick,r.onClose)})})});jN.displayName=Vb;var nH="TooltipPortal",[qce,rH]=Bd(nH,{forceMount:void 0}),Ua="TooltipContent",WN=_.forwardRef((i,e)=>{const t=rH(Ua,i.__scopeTooltip),{forceMount:n=t.forceMount,side:r="top",...s}=i,o=Ud(Ua,i.__scopeTooltip);return T.jsx(ws,{present:n||o.open,children:o.disableHoverableContent?T.jsx(zN,{side:r,...s,ref:e}):T.jsx(sH,{side:r,...s,ref:e})})}),sH=_.forwardRef((i,e)=>{const t=Ud(Ua,i.__scopeTooltip),n=yw(Ua,i.__scopeTooltip),r=_.useRef(null),s=ni(e,r),[o,a]=_.useState(null),{trigger:l,onClose:c}=t,u=r.current,{onPointerInTransitChange:h}=n,d=_.useCallback(()=>{a(null),h(!1)},[h]),f=_.useCallback((m,p)=>{const g=m.currentTarget,v={x:m.clientX,y:m.clientY},y=uH(v,g.getBoundingClientRect()),w=hH(v,y),b=dH(p.getBoundingClientRect()),x=mH([...w,...b]);a(x),h(!0)},[h]);return _.useEffect(()=>()=>d(),[d]),_.useEffect(()=>{if(l&&u){const m=g=>f(g,u),p=g=>f(g,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",p)}}},[l,u,f,d]),_.useEffect(()=>{if(o){const m=p=>{const g=p.target,v={x:p.clientX,y:p.clientY},y=l?.contains(g)||u?.contains(g),w=!fH(v,o);y?d():w&&(d(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,o,c,d]),T.jsx(zN,{...i,ref:s})}),[oH,aH]=Bd(Tc,{isInside:!1}),lH=gq("TooltipContent"),zN=_.forwardRef((i,e)=>{const{__scopeTooltip:t,children:n,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=i,l=Ud(Ua,t),c=Hd(t),{onClose:u}=l;return _.useEffect(()=>(document.addEventListener(Ub,u),()=>document.removeEventListener(Ub,u)),[u]),_.useEffect(()=>{if(l.trigger){const h=d=>{d.target?.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),T.jsx(Nd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:T.jsxs(MN,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[T.jsx(lH,{children:n}),T.jsx(oH,{scope:t,isInside:!0,children:T.jsx(JB,{id:l.contentId,role:"tooltip",children:r||n})})]})})});WN.displayName=Ua;var qN="TooltipArrow",cH=_.forwardRef((i,e)=>{const{__scopeTooltip:t,...n}=i,r=Hd(t);return aH(qN,t).isInside?null:T.jsx(AN,{...r,...n,ref:e})});cH.displayName=qN;function uH(i,e){const t=Math.abs(e.top-i.y),n=Math.abs(e.bottom-i.y),r=Math.abs(e.right-i.x),s=Math.abs(e.left-i.x);switch(Math.min(t,n,r,s)){case s:return"left";case r:return"right";case t:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function hH(i,e,t=5){const n=[];switch(e){case"top":n.push({x:i.x-t,y:i.y+t},{x:i.x+t,y:i.y+t});break;case"bottom":n.push({x:i.x-t,y:i.y-t},{x:i.x+t,y:i.y-t});break;case"left":n.push({x:i.x+t,y:i.y-t},{x:i.x+t,y:i.y+t});break;case"right":n.push({x:i.x-t,y:i.y-t},{x:i.x-t,y:i.y+t});break}return n}function dH(i){const{top:e,right:t,bottom:n,left:r}=i;return[{x:r,y:e},{x:t,y:e},{x:t,y:n},{x:r,y:n}]}function fH(i,e){const{x:t,y:n}=i;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,h=l.x,d=l.y;u>n!=d>n&&t<(h-c)*(n-u)/(d-u)+c&&(r=!r)}return r}function mH(i){const e=i.slice();return e.sort((t,n)=>t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0),pH(e)}function pH(i){if(i.length<=1)return i.slice();const e=[];for(let n=0;n<i.length;n++){const r=i[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let n=i.length-1;n>=0;n--){const r=i[n];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var gH=FN,vH=$N,yH=jN,GN=WN;const _H=gH,bH=vH,wH=yH,YN=_.forwardRef(({className:i,sideOffset:e=4,...t},n)=>T.jsx(GN,{ref:n,sideOffset:e,className:V("z-50 origin-[--radix-tooltip-content-transform-origin] overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i),...t}));YN.displayName=GN.displayName;const xH="sidebar_state",SH=3600*24*7,EH="16rem",CH="18rem",TH="3rem",RH="b",BN=_.createContext(null);function hu(){const i=_.useContext(BN);if(!i)throw new Error("useSidebar must be used within a SidebarProvider.");return i}const HN=_.forwardRef(({defaultOpen:i=!0,open:e,onOpenChange:t,className:n,style:r,children:s,...o},a)=>{const l=bq(),[c,u]=_.useState(!1),[h,d]=_.useState(i),f=e??h,m=_.useCallback(y=>{const w=typeof y=="function"?y(f):y;t?t(w):d(w),document.cookie=`${xH}=${w}; path=/; max-age=${SH}`},[t,f]),p=_.useCallback(()=>l?u(y=>!y):m(y=>!y),[l,m,u]);_.useEffect(()=>{const y=w=>{w.key===RH&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),p())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[p]);const g=f?"expanded":"collapsed",v=_.useMemo(()=>({state:g,open:f,setOpen:m,isMobile:l,openMobile:c,setOpenMobile:u,toggleSidebar:p}),[g,f,m,l,c,u,p]);return T.jsx(BN.Provider,{value:v,children:T.jsx(_H,{delayDuration:0,children:T.jsx("div",{style:{"--sidebar-width":EH,"--sidebar-width-icon":TH,...r},className:V("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:a,...o,children:s})})})});HN.displayName="SidebarProvider";const UN=_.forwardRef(({side:i="left",variant:e="sidebar",collapsible:t="offcanvas",className:n,children:r,...s},o)=>{const{isMobile:a,state:l,openMobile:c,setOpenMobile:u}=hu();return t==="none"?T.jsx("div",{className:V("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...s,children:r}):a?T.jsx(IY,{open:c,onOpenChange:u,...s,children:T.jsxs(aN,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":CH},side:i,children:[T.jsxs(lN,{className:"sr-only",children:[T.jsx(cN,{children:"Sidebar"}),T.jsx(uN,{children:"Displays the mobile sidebar."})]}),T.jsx("div",{className:"flex h-full w-full flex-col",children:r})]})}):T.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":l,"data-collapsible":l==="collapsed"?t:"","data-variant":e,"data-side":i,children:[T.jsx("div",{className:V("relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),T.jsx("div",{className:V("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",i==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...s,children:T.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:r})})]})});UN.displayName="Sidebar";const VN=_.forwardRef(({className:i,onClick:e,...t},n)=>{const{toggleSidebar:r}=hu();return T.jsxs(yr,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:V("h-7 w-7",i),onClick:s=>{e?.(s),r()},...t,children:[T.jsx(Vz,{}),T.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});VN.displayName="SidebarTrigger";const XN=_.forwardRef(({className:i,...e},t)=>{const{toggleSidebar:n}=hu();return T.jsx("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,className:V("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",i),...e})});XN.displayName="SidebarRail";const KN=_.forwardRef(({className:i,...e},t)=>T.jsx("main",{ref:t,className:V("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",i),...e}));KN.displayName="SidebarInset";const OH=_.forwardRef(({className:i,...e},t)=>T.jsx(TA,{ref:t,"data-sidebar":"input",className:V("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",i),...e}));OH.displayName="SidebarInput";const ZN=_.forwardRef(({className:i,...e},t)=>T.jsx("div",{ref:t,"data-sidebar":"header",className:V("flex flex-col gap-2 p-2",i),...e}));ZN.displayName="SidebarHeader";const IH=_.forwardRef(({className:i,...e},t)=>T.jsx("div",{ref:t,"data-sidebar":"footer",className:V("flex flex-col gap-2 p-2",i),...e}));IH.displayName="SidebarFooter";const DH=_.forwardRef(({className:i,...e},t)=>T.jsx(IA,{ref:t,"data-sidebar":"separator",className:V("mx-2 w-auto bg-sidebar-border",i),...e}));DH.displayName="SidebarSeparator";const QN=_.forwardRef(({className:i,...e},t)=>T.jsx("div",{ref:t,"data-sidebar":"content",className:V("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",i),...e}));QN.displayName="SidebarContent";const jh=_.forwardRef(({className:i,...e},t)=>T.jsx("div",{ref:t,"data-sidebar":"group",className:V("relative flex w-full min-w-0 flex-col p-2",i),...e}));jh.displayName="SidebarGroup";const Wh=_.forwardRef(({className:i,asChild:e=!1,...t},n)=>{const r=e?ml:"div";return T.jsx(r,{ref:n,"data-sidebar":"group-label",className:V("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",i),...t})});Wh.displayName="SidebarGroupLabel";const PH=_.forwardRef(({className:i,asChild:e=!1,...t},n)=>{const r=e?ml:"button";return T.jsx(r,{ref:n,"data-sidebar":"group-action",className:V("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",i),...t})});PH.displayName="SidebarGroupAction";const zh=_.forwardRef(({className:i,...e},t)=>T.jsx("div",{ref:t,"data-sidebar":"group-content",className:V("w-full text-sm",i),...e}));zh.displayName="SidebarGroupContent";const JN=_.forwardRef(({className:i,...e},t)=>T.jsx("ul",{ref:t,"data-sidebar":"menu",className:V("flex w-full min-w-0 flex-col gap-1",i),...e}));JN.displayName="SidebarMenu";const zs=_.forwardRef(({className:i,...e},t)=>T.jsx("li",{ref:t,"data-sidebar":"menu-item",className:V("group/menu-item relative",i),...e}));zs.displayName="SidebarMenuItem";const kH=J0("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Bs=_.forwardRef(({asChild:i=!1,isActive:e=!1,variant:t="default",size:n="default",tooltip:r,className:s,...o},a)=>{const l=i?ml:"button",{isMobile:c,state:u}=hu(),h=T.jsx(l,{ref:a,"data-sidebar":"menu-button","data-size":n,"data-active":e,className:V(kH({variant:t,size:n}),s),...o});return r?(typeof r=="string"&&(r={children:r}),T.jsxs(bH,{children:[T.jsx(wH,{asChild:!0,children:h}),T.jsx(YN,{side:"right",align:"center",hidden:u!=="collapsed"||c,...r})]})):h});Bs.displayName="SidebarMenuButton";const MH=_.forwardRef(({className:i,asChild:e=!1,showOnHover:t=!1,...n},r)=>{const s=e?ml:"button";return T.jsx(s,{ref:r,"data-sidebar":"menu-action",className:V("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",i),...n})});MH.displayName="SidebarMenuAction";const AH=_.forwardRef(({className:i,...e},t)=>T.jsx("div",{ref:t,"data-sidebar":"menu-badge",className:V("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",i),...e}));AH.displayName="SidebarMenuBadge";const NH=_.forwardRef(({className:i,showIcon:e=!1,...t},n)=>{const r=_.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return T.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:V("flex h-8 items-center gap-2 rounded-md px-2",i),...t,children:[e&&T.jsx(fc,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),T.jsx(fc,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":r}})]})});NH.displayName="SidebarMenuSkeleton";const LH=_.forwardRef(({className:i,...e},t)=>T.jsx("ul",{ref:t,"data-sidebar":"menu-sub",className:V("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",i),...e}));LH.displayName="SidebarMenuSub";const FH=_.forwardRef(({...i},e)=>T.jsx("li",{ref:e,...i}));FH.displayName="SidebarMenuSubItem";const $H=_.forwardRef(({asChild:i=!1,size:e="md",isActive:t,className:n,...r},s)=>{const o=i?ml:"a";return T.jsx(o,{ref:s,"data-sidebar":"menu-sub-button","data-size":e,"data-active":t,className:V("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...r})});$H.displayName="SidebarMenuSubButton";const jt={ADD:"add",REMOVE:"remove"},Va={PROPERTYCHANGE:"propertychange"},fe={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class Vd{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function jH(i,e,t){let n,r;t=t||_r;let s=0,o=i.length,a=!1;for(;s<o;)n=s+(o-s>>1),r=+t(i[n],e),r<0?s=n+1:(o=n,a=!r);return a?s:~s}function _r(i,e){return i>e?1:i<e?-1:0}function WH(i,e){return i<e?1:i>e?-1:0}function _w(i,e,t){if(i[0]<=e)return 0;const n=i.length;if(e<=i[n-1])return n-1;if(typeof t=="function"){for(let r=1;r<n;++r){const s=i[r];if(s===e)return r;if(s<e)return t(e,i[r-1],s)>0?r-1:r}return n-1}if(t>0){for(let r=1;r<n;++r)if(i[r]<e)return r-1;return n-1}if(t<0){for(let r=1;r<n;++r)if(i[r]<=e)return r;return n-1}for(let r=1;r<n;++r){if(i[r]==e)return r;if(i[r]<e)return i[r-1]-e<e-i[r]?r-1:r}return n-1}function zH(i,e,t){for(;e<t;){const n=i[e];i[e]=i[t],i[t]=n,++e,--t}}function Xa(i,e){const t=Array.isArray(e)?e:[e],n=t.length;for(let r=0;r<n;r++)i[i.length]=t[r]}function xs(i,e){const t=i.length;if(t!==e.length)return!1;for(let n=0;n<t;n++)if(i[n]!==e[n])return!1;return!0}function qH(i,e,t){const n=e||_r;return i.every(function(r,s){if(s===0)return!0;const o=n(i[s-1],r);return!(o>0||o===0)})}function go(){return!0}function du(){return!1}function Rc(){}function eL(i){let e,t,n;return function(){const r=Array.prototype.slice.call(arguments);return(!t||this!==n||!xs(r,t))&&(n=this,t=r,e=i.apply(this,arguments)),e}}function GH(i){function e(){let t;try{t=i()}catch(n){return Promise.reject(n)}return t instanceof Promise?t:Promise.resolve(t)}return e()}function _l(i){for(const e in i)delete i[e]}function Ka(i){let e;for(e in i)return!1;return!e}class Un{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class Xd extends Vd{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const n=this.listeners_||(this.listeners_={}),r=n[e]||(n[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){const t=typeof e=="string",n=t?e:e.type,r=this.listeners_&&this.listeners_[n];if(!r)return;const s=t?new Un(e):e;s.target||(s.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});n in o||(o[n]=0,a[n]=0),++o[n];let l;for(let c=0,u=r.length;c<u;++c)if("handleEvent"in r[c]?l=r[c].handleEvent(s):l=r[c].call(this,s),l===!1||s.propagationStopped){l=!1;break}if(--o[n]===0){let c=a[n];for(delete a[n];c--;)this.removeEventListener(n,Rc);delete o[n]}return l}disposeInternal(){this.listeners_&&_l(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;const n=this.listeners_[e];if(!n)return;const r=n.indexOf(t);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[r]=Rc,++this.pendingRemovals_[e]):(n.splice(r,1),n.length===0&&delete this.listeners_[e]))}}function ke(i,e,t,n,r){if(r){const o=t;t=function(a){return i.removeEventListener(e,t),o.call(n??this,a)}}else n&&n!==i&&(t=t.bind(n));const s={target:i,type:e,listener:t};return i.addEventListener(e,t),s}function Jh(i,e,t,n){return ke(i,e,t,n,!0)}function st(i){i&&i.target&&(i.target.removeEventListener(i.type,i.listener),_l(i))}class fu extends Xd{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(fe.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const n=e.length,r=new Array(n);for(let s=0;s<n;++s)r[s]=ke(this,e[s],t);return r}return ke(this,e,t)}onceInternal(e,t){let n;if(Array.isArray(e)){const r=e.length;n=new Array(r);for(let s=0;s<r;++s)n[s]=Jh(this,e[s],t)}else n=Jh(this,e,t);return t.ol_key=n,n}unInternal(e,t){const n=t.ol_key;if(n)YH(n);else if(Array.isArray(e))for(let r=0,s=e.length;r<s;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)}}fu.prototype.on;fu.prototype.once;fu.prototype.un;function YH(i){if(Array.isArray(i))for(let e=0,t=i.length;e<t;++e)st(i[e]);else st(i)}function Ae(){throw new Error("Unimplemented abstract method.")}let BH=0;function Se(i){return i.ol_uid||(i.ol_uid=String(++BH))}class yE extends Un{constructor(e,t,n){super(e),this.key=t,this.oldValue=n}}class En extends fu{constructor(e){super(),this.on,this.once,this.un,Se(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let n;n=`change:${e}`,this.hasListener(n)&&this.dispatchEvent(new yE(n,e,t)),n=Va.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new yE(n,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,n){const r=this.values_||(this.values_={});if(n)r[e]=t;else{const s=r[e];r[e]=t,s!==t&&this.notify(e,s)}}setProperties(e,t){for(const n in e)this.set(n,e[n],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const n=this.values_[e];delete this.values_[e],Ka(this.values_)&&(this.values_=null),t||this.notify(e,n)}}}const _E={LENGTH:"length"};class lh extends Un{constructor(e,t,n){super(e),this.element=t,this.index=n}}let un=class extends En{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let n=0,r=this.array_.length;n<r;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,n=e.length;t<n;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let n=0,r=t.length;n<r;++n)e(t[n],n,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(_E.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new lh(jt.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let n=0,r=t.length;n<r;++n)if(t[n]===e)return this.removeAt(n)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new lh(jt.REMOVE,t,e)),t}setAt(e,t){const n=this.getLength();if(e>=n){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const r=this.array_[e];this.array_[e]=t,this.dispatchEvent(new lh(jt.REMOVE,r,e)),this.dispatchEvent(new lh(jt.ADD,t,e))}updateLength_(){this.set(_E.LENGTH,this.array_.length)}assertUnique_(e,t){for(let n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===e&&n!==t)throw new Error("Duplicate item added to a unique collection")}};class fa extends Un{constructor(e,t,n){super(e),this.map=t,this.frameState=n!==void 0?n:null}}class es extends fa{constructor(e,t,n,r,s,o){super(e,t,s),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const dt={SINGLECLICK:"singleclick",CLICK:fe.CLICK,DBLCLICK:fe.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},vo=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",HH=vo.includes("safari")&&!vo.includes("chrom");HH&&(vo.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(vo));const UH=vo.includes("webkit")&&!vo.includes("edge"),bw=vo.includes("macintosh"),VH=typeof devicePixelRatio<"u"?devicePixelRatio:1,ww=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,tL=typeof Image<"u"&&Image.prototype.decode,iL=(function(){let i=!1;try{const e=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return i})(),Xb={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class XH extends Xd{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=ke(n,Xb.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=ke(n,Xb.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(fe.TOUCHMOVE,this.boundHandleTouchMove_,iL?{passive:!1}:!1)}emulateClick_(e){let t=new es(dt.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new es(dt.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const n=new es(dt.SINGLECLICK,this.map_,e);this.dispatchEvent(n)},250)}updateActivePointers_(e){const t=e,n=t.pointerId;if(t.type==dt.POINTERUP||t.type==dt.POINTERCANCEL){delete this.trackedTouches_[n];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==t.target){delete this.trackedTouches_[r];break}}else(t.type==dt.POINTERDOWN||t.type==dt.POINTERMOVE)&&(this.trackedTouches_[n]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new es(dt.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(st),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const t=new es(dt.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const n=this.map_.getOwnerDocument();this.dragListenerKeys_.push(ke(n,dt.POINTERMOVE,this.handlePointerMove_,this),ke(n,dt.POINTERUP,this.handlePointerUp_,this),ke(this.element_,dt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==n&&this.dragListenerKeys_.push(ke(this.element_.getRootNode(),dt.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new es(dt.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new es(dt.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(st(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(fe.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(st(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(st),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const lr={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Jt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},oe={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function je(i,e){if(!i)throw new Error(e)}const ed=1/0;class KH{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,_l(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,n=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const r=this.keyFunction_(n);return delete this.queuedElements_[r],n}enqueue(e){je(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=ed?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,n=this.priorities_,r=t.length,s=t[e],o=n[e],a=e;for(;e<r>>1;){const l=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),u=c<r&&n[c]<n[l]?c:l;t[e]=t[u],n[e]=n[u],e=u}t[e]=s,n[e]=o,this.siftDown_(a,e)}siftDown_(e,t){const n=this.elements_,r=this.priorities_,s=n[t],o=r[t];for(;t>e;){const a=this.getParentIndex_(t);if(r[a]>o)n[t]=n[a],r[t]=r[a],t=a;else break}n[t]=s,r[t]=o}reprioritize(){const e=this.priorityFunction_,t=this.elements_,n=this.priorities_;let r=0;const s=t.length;let o,a,l;for(a=0;a<s;++a)o=t[a],l=e(o),l==ed?delete this.queuedElements_[this.keyFunction_(o)]:(n[r]=l,t[r++]=o);t.length=r,n.length=r,this.heapify_()}}class ZH extends KH{constructor(e,t){super(n=>e.apply(null,n),n=>n[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(fe.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,n=t.getState();if(n===oe.LOADED||n===oe.ERROR||n===oe.EMPTY){n!==oe.ERROR&&t.removeEventListener(fe.CHANGE,this.boundHandleTileChange_);const r=t.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let n=0;for(;this.tilesLoading_<e&&n<t&&this.getCount()>0;){const r=this.dequeue()[0],s=r.getKey();r.getState()===oe.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++n,r.load())}}}function QH(i,e,t,n,r){if(!i||!(t in i.wantedTiles)||!i.wantedTiles[t][e.getKey()])return ed;const s=i.viewState.center,o=n[0]-s[0],a=n[1]-s[1];return 65536*Math.log(r)+Math.sqrt(o*o+a*a)/r}const ti={ANIMATING:0,INTERACTING:1},on={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function mt(i,e,t){return Math.min(Math.max(i,e),t)}function JH(i,e,t,n,r,s){const o=r-t,a=s-n;if(o!==0||a!==0){const l=((i-t)*o+(e-n)*a)/(o*o+a*a);l>1?(t=r,n=s):l>0&&(t+=o*l,n+=a*l)}return Aa(i,e,t,n)}function Aa(i,e,t,n){const r=t-i,s=n-e;return r*r+s*s}function eU(i){const e=i.length;for(let n=0;n<e;n++){let r=n,s=Math.abs(i[n][n]);for(let a=n+1;a<e;a++){const l=Math.abs(i[a][n]);l>s&&(s=l,r=a)}if(s===0)return null;const o=i[r];i[r]=i[n],i[n]=o;for(let a=n+1;a<e;a++){const l=-i[a][n]/i[n][n];for(let c=n;c<e+1;c++)n==c?i[a][c]=0:i[a][c]+=l*i[n][c]}}const t=new Array(e);for(let n=e-1;n>=0;n--){t[n]=i[n][e]/i[n][n];for(let r=n-1;r>=0;r--)i[r][e]-=i[r][n]*t[n]}return t}function bE(i){return i*180/Math.PI}function cs(i){return i*Math.PI/180}function Na(i,e){const t=i%e;return t*e<0?t+e:t}function ki(i,e,t){return i+t*(e-i)}function Kd(i,e){const t=Math.pow(10,e);return Math.round(i*t)/t}function ch(i,e){return Math.floor(Kd(i,e))}function uh(i,e){return Math.ceil(Kd(i,e))}function Kb(i,e,t){if(i>=e&&i<t)return i;const n=t-e;return((i-e)%n+n)%n+e}function wE(i,e,t){return(function(n,r,s,o,a){if(!n)return;if(!r&&!e)return n;const l=e?0:s[0]*r,c=e?0:s[1]*r,u=a?a[0]:0,h=a?a[1]:0;let d=i[0]+l/2+u,f=i[2]-l/2+u,m=i[1]+c/2+h,p=i[3]-c/2+h;d>f&&(d=(f+d)/2,f=d),m>p&&(m=(p+m)/2,p=m);let g=mt(n[0],d,f),v=mt(n[1],m,p);if(o&&t&&r){const y=30*r;g+=-y*Math.log(1+Math.max(0,d-n[0])/y)+y*Math.log(1+Math.max(0,n[0]-f)/y),v+=-y*Math.log(1+Math.max(0,m-n[1])/y)+y*Math.log(1+Math.max(0,n[1]-p)/y)}return[g,v]})}function tU(i){return i}const Ft={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function xE(i){const e=Li();for(let t=0,n=i.length;t<n;++t)mc(e,i[t]);return e}function Zd(i,e,t){return t?(t[0]=i[0]-e,t[1]=i[1]-e,t[2]=i[2]+e,t[3]=i[3]+e,t):[i[0]-e,i[1]-e,i[2]+e,i[3]+e]}function nL(i,e){return e?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e):i.slice()}function xw(i,e,t){let n,r;return e<i[0]?n=i[0]-e:i[2]<e?n=e-i[2]:n=0,t<i[1]?r=i[1]-t:i[3]<t?r=t-i[3]:r=0,n*n+r*r}function Za(i,e){return rL(i,e[0],e[1])}function wa(i,e){return i[0]<=e[0]&&e[2]<=i[2]&&i[1]<=e[1]&&e[3]<=i[3]}function rL(i,e,t){return i[0]<=e&&e<=i[2]&&i[1]<=t&&t<=i[3]}function Zb(i,e){const t=i[0],n=i[1],r=i[2],s=i[3],o=e[0],a=e[1];let l=Ft.UNKNOWN;return o<t?l=l|Ft.LEFT:o>r&&(l=l|Ft.RIGHT),a<n?l=l|Ft.BELOW:a>s&&(l=l|Ft.ABOVE),l===Ft.UNKNOWN&&(l=Ft.INTERSECTING),l}function Li(){return[1/0,1/0,-1/0,-1/0]}function ys(i,e,t,n,r){return r?(r[0]=i,r[1]=e,r[2]=t,r[3]=n,r):[i,e,t,n]}function Qd(i){return ys(1/0,1/0,-1/0,-1/0,i)}function Sw(i,e){const t=i[0],n=i[1];return ys(t,n,t,n,e)}function Ew(i,e,t,n,r){const s=Qd(r);return sL(s,i,e,t,n)}function Oc(i,e){return i[0]==e[0]&&i[2]==e[2]&&i[1]==e[1]&&i[3]==e[3]}function iU(i,e){return e[0]<i[0]&&(i[0]=e[0]),e[2]>i[2]&&(i[2]=e[2]),e[1]<i[1]&&(i[1]=e[1]),e[3]>i[3]&&(i[3]=e[3]),i}function mc(i,e){e[0]<i[0]&&(i[0]=e[0]),e[0]>i[2]&&(i[2]=e[0]),e[1]<i[1]&&(i[1]=e[1]),e[1]>i[3]&&(i[3]=e[1])}function sL(i,e,t,n,r){for(;t<n;t+=r)nU(i,e[t],e[t+1]);return i}function nU(i,e,t){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}function oL(i,e){let t;return t=e(Jd(i)),t||(t=e(ef(i)),t)||(t=e(tf(i)),t)||(t=e(ko(i)),t)?t:!1}function Qb(i){let e=0;return nf(i)||(e=Be(i)*li(i)),e}function Jd(i){return[i[0],i[1]]}function ef(i){return[i[2],i[1]]}function _s(i){return[(i[0]+i[2])/2,(i[1]+i[3])/2]}function rU(i,e){let t;if(e==="bottom-left")t=Jd(i);else if(e==="bottom-right")t=ef(i);else if(e==="top-left")t=ko(i);else if(e==="top-right")t=tf(i);else throw new Error("Invalid corner");return t}function Jb(i,e,t,n,r){const[s,o,a,l,c,u,h,d]=aL(i,e,t,n);return ys(Math.min(s,a,c,h),Math.min(o,l,u,d),Math.max(s,a,c,h),Math.max(o,l,u,d),r)}function aL(i,e,t,n){const r=e*n[0]/2,s=e*n[1]/2,o=Math.cos(t),a=Math.sin(t),l=r*o,c=r*a,u=s*o,h=s*a,d=i[0],f=i[1];return[d-l+h,f-c-u,d-l-h,f-c+u,d+l-h,f+c+u,d+l+h,f+c-u,d-l+h,f-c-u]}function li(i){return i[3]-i[1]}function no(i,e,t){const n=t||Li();return yi(i,e)?(i[0]>e[0]?n[0]=i[0]:n[0]=e[0],i[1]>e[1]?n[1]=i[1]:n[1]=e[1],i[2]<e[2]?n[2]=i[2]:n[2]=e[2],i[3]<e[3]?n[3]=i[3]:n[3]=e[3]):Qd(n),n}function ko(i){return[i[0],i[3]]}function tf(i){return[i[2],i[3]]}function Be(i){return i[2]-i[0]}function yi(i,e){return i[0]<=e[2]&&i[2]>=e[0]&&i[1]<=e[3]&&i[3]>=e[1]}function nf(i){return i[2]<i[0]||i[3]<i[1]}function sU(i,e){return e?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e):i}function oU(i,e,t){let n=!1;const r=Zb(i,e),s=Zb(i,t);if(r===Ft.INTERSECTING||s===Ft.INTERSECTING)n=!0;else{const o=i[0],a=i[1],l=i[2],c=i[3],u=e[0],h=e[1],d=t[0],f=t[1],m=(f-h)/(d-u);let p,g;s&Ft.ABOVE&&!(r&Ft.ABOVE)&&(p=d-(f-c)/m,n=p>=o&&p<=l),!n&&s&Ft.RIGHT&&!(r&Ft.RIGHT)&&(g=f-(d-l)*m,n=g>=a&&g<=c),!n&&s&Ft.BELOW&&!(r&Ft.BELOW)&&(p=d-(f-a)/m,n=p>=o&&p<=l),!n&&s&Ft.LEFT&&!(r&Ft.LEFT)&&(g=f-(d-o)*m,n=g>=a&&g<=c)}return n}function lL(i,e){const t=e.getExtent(),n=_s(i);if(e.canWrapX()&&(n[0]<t[0]||n[0]>=t[2])){const r=Be(t),o=Math.floor((n[0]-t[0])/r)*r;i[0]-=o,i[2]-=o}return i}function cL(i,e,t){if(e.canWrapX()){const n=e.getExtent();if(!isFinite(i[0])||!isFinite(i[2]))return[[n[0],i[1],n[2],i[3]]];lL(i,e);const r=Be(n);if(Be(i)>r&&!t)return[[n[0],i[1],n[2],i[3]]];if(i[0]<n[0])return[[i[0]+r,i[1],n[2],i[3]],[n[0],i[1],i[2],i[3]]];if(i[2]>n[2])return[[i[0],i[1],n[2],i[3]],[n[0],i[1],i[2]-r,i[3]]]}return[i]}function uL(i,e){return i[0]+=+e[0],i[1]+=+e[1],i}function td(i,e){let t=!0;for(let n=i.length-1;n>=0;--n)if(i[n]!=e[n]){t=!1;break}return t}function Cw(i,e){const t=Math.cos(e),n=Math.sin(e),r=i[0]*t-i[1]*n,s=i[1]*t+i[0]*n;return i[0]=r,i[1]=s,i}function hL(i,e){return i[0]*=e,i[1]*=e,i}function dL(i,e){if(e.canWrapX()){const t=Be(e.getExtent()),n=aU(i,e,t);n&&(i[0]-=n*t)}return i}function aU(i,e,t){const n=e.getExtent();let r=0;return e.canWrapX()&&(i[0]<n[0]||i[0]>n[2])&&(t=t||Be(n),r=Math.floor((i[0]-n[0])/t)),r}function fL(i){return Math.pow(i,3)}function bl(i){return 1-fL(1-i)}function lU(i){return 3*i*i-2*i*i*i}function cU(i){return i}const uU=63710088e-1;function SE(i,e,t){t=t||uU;const n=cs(i[1]),r=cs(e[1]),s=(r-n)/2,o=cs(e[0]-i[0])/2,a=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(n)*Math.cos(r);return 2*t*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function mL(...i){console.warn(...i)}const Tw={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Rw{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Tw[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const mu=6378137,xa=Math.PI*mu,hU=[-xa,-xa,xa,xa],dU=[-180,-85,180,85],hh=mu*Math.log(Math.tan(Math.PI/2));class Zo extends Rw{constructor(e){super({code:e,units:"m",extent:hU,global:!0,worldExtent:dU,getPointResolution:function(t,n){return t/Math.cosh(n[1]/mu)}})}}const EE=[new Zo("EPSG:3857"),new Zo("EPSG:102100"),new Zo("EPSG:102113"),new Zo("EPSG:900913"),new Zo("http://www.opengis.net/def/crs/EPSG/0/3857"),new Zo("http://www.opengis.net/gml/srs/epsg.xml#3857")];function fU(i,e,t,n){const r=i.length;t=t>1?t:2,n=n??t,e===void 0&&(t>2?e=i.slice():e=new Array(r));for(let s=0;s<r;s+=n){e[s]=xa*i[s]/180;let o=mu*Math.log(Math.tan(Math.PI*(+i[s+1]+90)/360));o>hh?o=hh:o<-hh&&(o=-hh),e[s+1]=o}return e}function mU(i,e,t,n){const r=i.length;t=t>1?t:2,n=n??t,e===void 0&&(t>2?e=i.slice():e=new Array(r));for(let s=0;s<r;s+=n)e[s]=180*i[s]/xa,e[s+1]=360*Math.atan(Math.exp(i[s+1]/mu))/Math.PI-90;return e}const pU=6378137,CE=[-180,-90,180,90],gU=Math.PI*pU/180;class Ls extends Rw{constructor(e,t){super({code:e,units:"degrees",extent:CE,axisOrientation:t,global:!0,metersPerUnit:gU,worldExtent:CE})}}const TE=[new Ls("CRS:84"),new Ls("EPSG:4326","neu"),new Ls("urn:ogc:def:crs:OGC:1.3:CRS84"),new Ls("urn:ogc:def:crs:OGC:2:84"),new Ls("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Ls("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Ls("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let e0={};function vU(i){return e0[i]||e0[i.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function yU(i,e){e0[i]=e}let La={};function Ic(i,e,t){const n=i.getCode(),r=e.getCode();n in La||(La[n]={}),La[n][r]=t}function gm(i,e){return i in La&&e in La[i]?La[i][e]:null}const id=.9996,Ki=.00669438,rf=Ki*Ki,sf=rf*Ki,Us=Ki/(1-Ki),RE=Math.sqrt(1-Ki),Qa=(1-RE)/(1+RE),pL=Qa*Qa,Ow=pL*Qa,Iw=Ow*Qa,gL=Iw*Qa,vL=1-Ki/4-3*rf/64-5*sf/256,_U=3*Ki/8+3*rf/32+45*sf/1024,bU=15*rf/256+45*sf/1024,wU=35*sf/3072,xU=3/2*Qa-27/32*Ow+269/512*gL,SU=21/16*pL-55/32*Iw,EU=151/96*Ow-417/128*gL,CU=1097/512*Iw,nd=6378137;function TU(i,e,t){const n=i-5e5,o=(t.north?e:e-1e7)/id/(nd*vL),a=o+xU*Math.sin(2*o)+SU*Math.sin(4*o)+EU*Math.sin(6*o)+CU*Math.sin(8*o),l=Math.sin(a),c=l*l,u=Math.cos(a),h=l/u,d=h*h,f=d*d,m=1-Ki*c,p=Math.sqrt(1-Ki*c),g=nd/p,v=(1-Ki)/m,y=Us*u**2,w=y*y,b=n/(g*id),x=b*b,C=x*b,E=C*b,S=E*b,R=S*b,I=a-h/v*(x/2-E/24*(5+3*d+10*y-4*w-9*Us))+R/720*(61+90*d+298*y+45*f-252*Us-3*w);let k=(b-C/6*(1+2*d+y)+S/120*(5-2*y+28*d-3*w+8*Us+24*f))/u;return k=Kb(k+cs(yL(t.number)),-Math.PI,Math.PI),[bE(k),bE(I)]}const OE=-80,IE=84,RU=-180,OU=180;function IU(i,e,t){i=Kb(i,RU,OU),e<OE?e=OE:e>IE&&(e=IE);const n=cs(e),r=Math.sin(n),s=Math.cos(n),o=r/s,a=o*o,l=a*a,c=cs(i),u=yL(t.number),h=cs(u),d=nd/Math.sqrt(1-Ki*r**2),f=Us*s**2,m=s*Kb(c-h,-Math.PI,Math.PI),p=m*m,g=p*m,v=g*m,y=v*m,w=y*m,b=nd*(vL*n-_U*Math.sin(2*n)+bU*Math.sin(4*n)-wU*Math.sin(6*n)),x=id*d*(m+g/6*(1-a+f)+y/120*(5-18*a+l+72*f-58*Us))+5e5;let C=id*(b+d*o*(p/2+v/24*(5-a+9*f+4*f**2)+w/720*(61-58*a+l+600*f-330*Us)));return t.north||(C+=1e7),[x,C]}function yL(i){return(i-1)*6-180+3}const DU=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function _L(i){let e=0;for(const r of DU){const s=i.match(r);if(s){e=parseInt(s[1]);break}}if(!e)return null;let t=0,n=!1;return e>32700&&e<32761?t=e-32700:e>32600&&e<32661&&(n=!0,t=e-32600),t?{number:t,north:n}:null}function DE(i,e){return function(t,n,r,s){const o=t.length;r=r>1?r:2,s=s??r,n||(r>2?n=t.slice():n=new Array(o));for(let a=0;a<o;a+=s){const l=t[a],c=t[a+1],u=i(l,c,e);n[a]=u[0],n[a+1]=u[1]}return n}}function PU(i){return _L(i)?new Rw({code:i,units:"m"}):null}function kU(i){const e=_L(i.getCode());return e?{forward:DE(IU,e),inverse:DE(TU,e)}:null}const MU=[kU],AU=[PU];let t0=!0;function bL(i){t0=!1}function Dw(i,e){if(e!==void 0){for(let t=0,n=i.length;t<n;++t)e[t]=i[t];e=e}else e=i.slice();return e}function i0(i){yU(i.getCode(),i),Ic(i,i,Dw)}function NU(i){i.forEach(i0)}function xi(i){if(typeof i!="string")return i;const e=vU(i);if(e)return e;for(const t of AU){const n=t(i);if(n)return n}return null}function PE(i,e,t,n){i=xi(i);let r;const s=i.getPointResolutionFunc();if(s)r=s(e,t);else{const o=i.getUnits();if(o=="degrees"&&!n||n=="degrees")r=e;else{const a=kw(i,xi("EPSG:4326"));if(!a&&o!=="degrees")r=e*i.getMetersPerUnit();else{let c=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];c=a(c,c,2);const u=SE(c.slice(0,2),c.slice(2,4)),h=SE(c.slice(4,6),c.slice(6,8));r=(u+h)/2}const l=i.getMetersPerUnit();l!==void 0&&(r/=l)}}return r}function kE(i){NU(i),i.forEach(function(e){i.forEach(function(t){e!==t&&Ic(e,t,Dw)})})}function LU(i,e,t,n){i.forEach(function(r){e.forEach(function(s){Ic(r,s,t),Ic(s,r,n)})})}function Pw(i,e){return i?typeof i=="string"?xi(i):i:xi(e)}function FU(i){return(function(e,t,n,r){const s=e.length;n=n!==void 0?n:2,r=r??n,t=t!==void 0?t:new Array(s);for(let o=0;o<s;o+=r){const a=i(e.slice(o,o+n)),l=a.length;for(let c=0,u=r;c<u;++c)t[o+c]=c>=l?e[o+c]:a[c]}return t})}function Fa(i,e){return bL(),Mw(i,"EPSG:4326","EPSG:3857")}function vm(i,e){if(i===e)return!0;const t=i.getUnits()===e.getUnits();return(i.getCode()===e.getCode()||kw(i,e)===Dw)&&t}function kw(i,e){const t=i.getCode(),n=e.getCode();let r=gm(t,n);if(r)return r;let s=null,o=null;for(const l of MU)s||(s=l(i)),o||(o=l(e));if(!s&&!o)return null;const a="EPSG:4326";if(o)if(s)r=ym(s.inverse,o.forward);else{const l=gm(t,a);l&&(r=ym(l,o.forward))}else{const l=gm(a,n);l&&(r=ym(s.inverse,l))}return r&&(i0(i),i0(e),Ic(i,e,r)),r}function ym(i,e){return function(t,n,r,s){return n=i(t,n,r,s),e(n,n,r,s)}}function rd(i,e){const t=xi(i),n=xi(e);return kw(t,n)}function Mw(i,e,t){const n=rd(e,t);if(!n){const r=xi(e).getCode(),s=xi(t).getCode();throw new Error(`No transform available between ${r} and ${s}`)}return n(i,void 0,i.length)}function n0(i,e){return i}function ar(i,e){return t0&&!td(i,[0,0])&&i[0]>=-180&&i[0]<=180&&i[1]>=-90&&i[1]<=90&&(t0=!1,mL("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),i}function wL(i,e){return i}function ss(i,e){return i}function $U(){kE(EE),kE(TE),LU(TE,EE,fU,mU)}$U();new Array(6);function fn(){return[1,0,0,1,0,0]}function jU(i,e){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i}function $t(i,e){const t=e[0],n=e[1];return e[0]=i[0]*t+i[2]*n+i[4],e[1]=i[1]*t+i[3]*n+i[5],e}function kr(i,e,t,n,r,s,o,a){const l=Math.sin(s),c=Math.cos(s);return i[0]=n*c,i[1]=r*l,i[2]=-n*l,i[3]=r*c,i[4]=o*n*c-a*n*l+e,i[5]=o*r*l+a*r*c+t,i}function xL(i,e){const t=WU(e);je(t!==0,"Transformation matrix cannot be inverted");const n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5];return i[0]=o/t,i[1]=-r/t,i[2]=-s/t,i[3]=n/t,i[4]=(s*l-o*a)/t,i[5]=-(n*l-r*a)/t,i}function WU(i){return i[0]*i[3]-i[1]*i[2]}const zU=[1e5,1e5,1e5,1e5,2,2];function qU(i){return"matrix("+i.join(", ")+")"}function ME(i){return i.substring(7,i.length-1).split(",").map(parseFloat)}function GU(i,e){const t=ME(i),n=ME(e);for(let r=0;r<6;++r)if(Math.round((t[r]-n[r])*zU[r])!==0)return!1;return!0}function us(i,e,t,n,r,s,o){s=s||[],o=o||2;let a=0;for(let l=e;l<t;l+=n){const c=i[l],u=i[l+1];s[a++]=r[0]*c+r[2]*u+r[4],s[a++]=r[1]*c+r[3]*u+r[5];for(let h=2;h<o;h++)s[a++]=i[l+h]}return s&&s.length!=a&&(s.length=a),s}function SL(i,e,t,n,r,s,o){o=o||[];const a=Math.cos(r),l=Math.sin(r),c=s[0],u=s[1];let h=0;for(let d=e;d<t;d+=n){const f=i[d]-c,m=i[d+1]-u;o[h++]=c+f*a-m*l,o[h++]=u+f*l+m*a;for(let p=d+2;p<d+n;++p)o[h++]=i[p]}return o&&o.length!=h&&(o.length=h),o}function YU(i,e,t,n,r,s,o,a){a=a||[];const l=o[0],c=o[1];let u=0;for(let h=e;h<t;h+=n){const d=i[h]-l,f=i[h+1]-c;a[u++]=l+r*d,a[u++]=c+s*f;for(let m=h+2;m<h+n;++m)a[u++]=i[m]}return a&&a.length!=u&&(a.length=u),a}function BU(i,e,t,n,r,s,o){o=o||[];let a=0;for(let l=e;l<t;l+=n){o[a++]=i[l]+r,o[a++]=i[l+1]+s;for(let c=l+2;c<l+n;++c)o[a++]=i[c]}return o&&o.length!=a&&(o.length=a),o}const AE=fn(),HU=[NaN,NaN];class UU extends En{constructor(){super(),this.extent_=Li(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=eL((e,t,n)=>{if(!n)return this.getSimplifiedGeometry(t);const r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return Ae()}closestPointXY(e,t,n,r){return Ae()}containsXY(e,t){return this.closestPointXY(e,t,HU,Number.MIN_VALUE)===0}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Ae()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&Qd(t),this.extentRevision_=this.getRevision()}return sU(this.extent_,e)}rotate(e,t){Ae()}scale(e,t,n){Ae()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Ae()}getType(){return Ae()}applyTransform(e){Ae()}intersectsExtent(e){return Ae()}translate(e,t){Ae()}transform(e,t){const n=xi(e),r=n.getUnits()=="tile-pixels"?function(s,o,a){const l=n.getExtent(),c=n.getWorldExtent(),u=li(c)/li(l);kr(AE,c[0],c[3],u,-u,0,0,0);const h=us(s,0,s.length,a,AE,o),d=rd(n,t);return d?d(h,h,a):h}:rd(n,t);return this.applyTransform(r),this}}class of extends UU{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return Ew(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Ae()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=NE(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){Ae()}setLayout(e,t,n){let r;if(e)r=NE(e);else{for(let s=0;s<n;++s){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}r=t.length,e=VU(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,t){const n=this.getFlatCoordinates();if(n){const r=this.getStride();SL(n,0,n.length,r,e,t,n),this.changed()}}scale(e,t,n){t===void 0&&(t=e),n||(n=_s(this.getExtent()));const r=this.getFlatCoordinates();if(r){const s=this.getStride();YU(r,0,r.length,s,e,t,n,r),this.changed()}}translate(e,t){const n=this.getFlatCoordinates();if(n){const r=this.getStride();BU(n,0,n.length,r,e,t,n),this.changed()}}}function VU(i){let e;return i==2?e="XY":i==3?e="XYZ":i==4&&(e="XYZM"),e}function NE(i){let e;return i=="XY"?e=2:i=="XYZ"||i=="XYM"?e=3:i=="XYZM"&&(e=4),e}function XU(i,e,t){const n=i.getFlatCoordinates();if(!n)return null;const r=i.getStride();return us(n,0,n.length,r,e,t)}function EL(i,e,t,n){let r=0;const s=i[t-n],o=i[t-n+1];let a=0,l=0;for(;e<t;e+=n){const c=i[e]-s,u=i[e+1]-o;r+=l*c-a*u,a=c,l=u}return r/2}function KU(i,e,t,n){let r=0;for(let s=0,o=t.length;s<o;++s){const a=t[s];r+=EL(i,e,a,n),e=a}return r}function LE(i,e,t,n,r,s,o){const a=i[e],l=i[e+1],c=i[t]-a,u=i[t+1]-l;let h;if(c===0&&u===0)h=e;else{const d=((r-a)*c+(s-l)*u)/(c*c+u*u);if(d>1)h=t;else if(d>0){for(let f=0;f<n;++f)o[f]=ki(i[e+f],i[t+f],d);o.length=n;return}else h=e}for(let d=0;d<n;++d)o[d]=i[h+d];o.length=n}function Aw(i,e,t,n,r){let s=i[e],o=i[e+1];for(e+=n;e<t;e+=n){const a=i[e],l=i[e+1],c=Aa(s,o,a,l);c>r&&(r=c),s=a,o=l}return r}function ZU(i,e,t,n,r){for(let s=0,o=t.length;s<o;++s){const a=t[s];r=Aw(i,e,a,n,r),e=a}return r}function Nw(i,e,t,n,r,s,o,a,l,c,u){if(e==t)return c;let h,d;if(r===0){if(d=Aa(o,a,i[e],i[e+1]),d<c){for(h=0;h<n;++h)l[h]=i[e+h];return l.length=n,d}return c}u=u||[NaN,NaN];let f=e+n;for(;f<t;)if(LE(i,f-n,f,n,o,a,u),d=Aa(o,a,u[0],u[1]),d<c){for(c=d,h=0;h<n;++h)l[h]=u[h];l.length=n,f+=n}else f+=n*Math.max((Math.sqrt(d)-Math.sqrt(c))/r|0,1);if(s&&(LE(i,t-n,e,n,o,a,u),d=Aa(o,a,u[0],u[1]),d<c)){for(c=d,h=0;h<n;++h)l[h]=u[h];l.length=n}return c}function QU(i,e,t,n,r,s,o,a,l,c,u){u=u||[NaN,NaN];for(let h=0,d=t.length;h<d;++h){const f=t[h];c=Nw(i,e,f,n,r,s,o,a,l,c,u),e=f}return c}function JU(i,e,t,n){for(let r=0,s=t.length;r<s;++r)i[e++]=t[r];return e}function Lw(i,e,t,n){for(let r=0,s=t.length;r<s;++r){const o=t[r];for(let a=0;a<n;++a)i[e++]=o[a]}return e}function e5(i,e,t,n,r){r=r||[];let s=0;for(let o=0,a=t.length;o<a;++o){const l=Lw(i,e,t[o],n);r[s++]=l,e=l}return r.length=s,r}function Vs(i,e,t,n,r){r=r!==void 0?r:[];let s=0;for(let o=e;o<t;o+=n)r[s++]=i.slice(o,o+n);return r.length=s,r}function sd(i,e,t,n,r){r=r!==void 0?r:[];let s=0;for(let o=0,a=t.length;o<a;++o){const l=t[o];r[s++]=Vs(i,e,l,n,r[s]),e=l}return r.length=s,r}function FE(i,e,t,n,r){r=r!==void 0?r:[];let s=0;for(let o=0,a=t.length;o<a;++o){const l=t[o];r[s++]=l.length===1&&l[0]===e?[]:sd(i,e,l,n,r[s]),e=l[l.length-1]}return r.length=s,r}function af(i,e,t,n,r,s,o){const a=(t-e)/n;if(a<3){for(;e<t;e+=n)s[o++]=i[e],s[o++]=i[e+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const c=[e,t-n];let u=0;for(;c.length>0;){const h=c.pop(),d=c.pop();let f=0;const m=i[d],p=i[d+1],g=i[h],v=i[h+1];for(let y=d+n;y<h;y+=n){const w=i[y],b=i[y+1],x=JH(w,b,m,p,g,v);x>f&&(u=y,f=x)}f>r&&(l[(u-e)/n]=1,d+n<u&&c.push(d,u),u+n<h&&c.push(u,h))}for(let h=0;h<a;++h)l[h]&&(s[o++]=i[e+h*n],s[o++]=i[e+h*n+1]);return o}function t5(i,e,t,n,r,s,o,a){for(let l=0,c=t.length;l<c;++l){const u=t[l];o=af(i,e,u,n,r,s,o),a.push(o),e=u}return o}function qs(i,e){return e*Math.round(i/e)}function i5(i,e,t,n,r,s,o){if(e==t)return o;let a=qs(i[e],r),l=qs(i[e+1],r);e+=n,s[o++]=a,s[o++]=l;let c,u;do if(c=qs(i[e],r),u=qs(i[e+1],r),e+=n,e==t)return s[o++]=c,s[o++]=u,o;while(c==a&&u==l);for(;e<t;){const h=qs(i[e],r),d=qs(i[e+1],r);if(e+=n,h==c&&d==u)continue;const f=c-a,m=u-l,p=h-a,g=d-l;if(f*g==m*p&&(f<0&&p<f||f==p||f>0&&p>f)&&(m<0&&g<m||m==g||m>0&&g>m)){c=h,u=d;continue}s[o++]=c,s[o++]=u,a=c,l=u,c=h,u=d}return s[o++]=c,s[o++]=u,o}function CL(i,e,t,n,r,s,o,a){for(let l=0,c=t.length;l<c;++l){const u=t[l];o=i5(i,e,u,n,r,s,o),a.push(o),e=u}return o}class Dc extends of{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new Dc(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,n,r){return r<xw(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Aw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Nw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,r))}getArea(){return EL(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Vs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=af(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new Dc(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Lw(this.flatCoordinates,0,e,this.stride),this.changed()}}class Ss extends of{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new Ss(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){const s=this.flatCoordinates,o=Aa(e,t,s[0],s[1]);if(o<r){const a=this.stride;for(let l=0;l<a;++l)n[l]=s[l];return n.length=a,o}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return Sw(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return rL(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=JU(this.flatCoordinates,0,e,this.stride),this.changed()}}function n5(i,e,t,n,r){return!oL(r,function(o){return!Xs(i,e,t,n,o[0],o[1])})}function Xs(i,e,t,n,r,s){let o=0,a=i[t-n],l=i[t-n+1];for(;e<t;e+=n){const c=i[e],u=i[e+1];l<=s?u>s&&(c-a)*(s-l)-(r-a)*(u-l)>0&&o++:u<=s&&(c-a)*(s-l)-(r-a)*(u-l)<0&&o--,a=c,l=u}return o!==0}function TL(i,e,t,n,r,s){if(t.length===0||!Xs(i,e,t[0],n,r,s))return!1;for(let o=1,a=t.length;o<a;++o)if(Xs(i,t[o-1],t[o],n,r,s))return!1;return!0}function Fw(i,e,t,n,r,s,o){let a,l,c,u,h,d,f;const m=r[s+1],p=[];for(let y=0,w=t.length;y<w;++y){const b=t[y];for(u=i[b-n],d=i[b-n+1],a=e;a<b;a+=n)h=i[a],f=i[a+1],(m<=d&&f<=m||d<=m&&m<=f)&&(c=(m-d)/(f-d)*(h-u)+u,p.push(c)),u=h,d=f}let g=NaN,v=-1/0;for(p.sort(_r),u=p[0],a=1,l=p.length;a<l;++a){h=p[a];const y=Math.abs(h-u);y>v&&(c=(u+h)/2,TL(i,e,t,n,c,m)&&(g=c,v=y)),u=h}return isNaN(g)&&(g=r[s]),o?(o.push(g,m,v),o):[g,m,v]}function r5(i,e,t,n,r){let s=[];for(let o=0,a=t.length;o<a;++o){const l=t[o];s=Fw(i,e,l,n,r,2*o,s),e=l[l.length-1]}return s}function RL(i,e,t,n,r){let s;for(e+=n;e<t;e+=n)if(s=r(i.slice(e-n,e),i.slice(e,e+n)),s)return s;return!1}function $w(i,e,t,n,r,s){return s=s??sL(Li(),i,e,t,n),yi(r,s)?s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]?!0:RL(i,e,t,n,function(o,a){return oU(r,o,a)}):!1}function OL(i,e,t,n,r){return!!($w(i,e,t,n,r)||Xs(i,e,t,n,r[0],r[1])||Xs(i,e,t,n,r[0],r[3])||Xs(i,e,t,n,r[2],r[1])||Xs(i,e,t,n,r[2],r[3]))}function s5(i,e,t,n,r){if(!OL(i,e,t[0],n,r))return!1;if(t.length===1)return!0;for(let s=1,o=t.length;s<o;++s)if(n5(i,t[s-1],t[s],n,r)&&!$w(i,t[s-1],t[s],n,r))return!1;return!0}function o5(i,e,t,n){for(;e<t-n;){for(let r=0;r<n;++r){const s=i[e+r];i[e+r]=i[t-n+r],i[t-n+r]=s}e+=n,t-=n}}function jw(i,e,t,n){let r=0,s=i[t-n],o=i[t-n+1];for(;e<t;e+=n){const a=i[e],l=i[e+1];r+=(a-s)*(l+o),s=a,o=l}return r===0?void 0:r>0}function a5(i,e,t,n,r){r=r!==void 0?r:!1;for(let s=0,o=t.length;s<o;++s){const a=t[s],l=jw(i,e,a,n);if(s===0){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;e=a}return!0}function $E(i,e,t,n,r){r=r!==void 0?r:!1;for(let s=0,o=t.length;s<o;++s){const a=t[s],l=jw(i,e,a,n);(s===0?r&&l||!r&&!l:r&&!l||!r&&l)&&o5(i,e,a,n),e=a}return e}function l5(i,e){const t=[];let n=0,r=0,s;for(let o=0,a=e.length;o<a;++o){const l=e[o],c=jw(i,n,l,2);if(s===void 0&&(s=c),c===s)t.push(e.slice(r,o+1));else{if(t.length===0)continue;t[t.length-1].push(e[r])}r=o+1,n=l}return t}class Pc extends of{constructor(e,t,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&n?(this.setFlatCoordinates(t,e),this.ends_=n):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?Xa(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Pc(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,r){return r<xw(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ZU(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),QU(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,n,r))}containsXY(e,t){return TL(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return KU(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),$E(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,sd(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=_s(this.getExtent());this.flatInteriorPoint_=Fw(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Ss(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Dc(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,n=this.ends_,r=[];let s=0;for(let o=0,a=n.length;o<a;++o){const l=n[o],c=new Dc(t.slice(s,l),e);r.push(c),s=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;a5(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=$E(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=CL(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,n),new Pc(t,"XY",n)}getType(){return"Polygon"}intersectsExtent(e){return s5(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=e5(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()}}function jE(i){if(nf(i))throw new Error("Cannot create polygon from empty extent");const e=i[0],t=i[1],n=i[2],r=i[3],s=[e,t,e,r,n,r,n,t,e,t];return new Pc(s,"XY",[s.length])}function Ww(i,e,t,n){const r=Be(e)/t[0],s=li(e)/t[1];return n?Math.min(i,Math.max(r,s)):Math.min(i,Math.min(r,s))}function zw(i,e,t){let n=Math.min(i,e);const r=50;return n*=Math.log(1+r*Math.max(0,i/e-1))/r+1,t&&(n=Math.max(n,t),n/=Math.log(1+r*Math.max(0,t/i-1))/r+1),mt(n,t/2,e*2)}function c5(i,e,t,n){return e=e!==void 0?e:!0,(function(r,s,o,a){if(r!==void 0){const l=i[0],c=i[i.length-1],u=t?Ww(l,t,o,n):l;if(a)return e?zw(r,u,c):mt(r,c,u);const h=Math.min(u,r),d=Math.floor(_w(i,h,s));return i[d]>u&&d<i.length-1?i[d+1]:i[d]}})}function u5(i,e,t,n,r,s){return n=n!==void 0?n:!0,t=t!==void 0?t:0,(function(o,a,l,c){if(o!==void 0){const u=r?Ww(e,r,l,s):e;if(c)return n?zw(o,u,t):mt(o,t,u);const h=1e-9,d=Math.ceil(Math.log(e/u)/Math.log(i)-h),f=-a*(.5-h)+.5,m=Math.min(u,o),p=Math.floor(Math.log(e/m)/Math.log(i)+f),g=Math.max(d,p),v=e/Math.pow(i,g);return mt(v,t,u)}})}function WE(i,e,t,n,r){return t=t!==void 0?t:!0,(function(s,o,a,l){if(s!==void 0){const c=n?Ww(i,n,a,r):i;return!t||!l?mt(s,e,c):zw(s,c,e)}})}function qw(i){if(i!==void 0)return 0}function zE(i){if(i!==void 0)return i}function h5(i){const e=2*Math.PI/i;return(function(t,n){if(n)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t})}function d5(i){const e=cs(5);return(function(t,n){return n||t===void 0?t:Math.abs(t)<=e?0:t})}const f5=42,Gw=256,_m=0;class Pn extends En{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Pw(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&bL(),e.center&&(e.center=ar(e.center,this.projection_)),e.extent&&(e.extent=ss(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const a in on)delete t[a];this.setProperties(t,!0);const n=p5(e);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=n.minZoom;const r=m5(e),s=n.constraint,o=g5(e);this.constraints_={center:r,resolution:s,rotation:o},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const n=this.getCenterInternal();if(n){const r=e||[0,0,0,0];t=t||[0,0,0,0];const s=this.getResolution(),o=s/2*(r[3]-t[3]+t[1]-r[1]),a=s/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([n[0]+o,n[1]-a])}}getUpdatedOptions_(e){const t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let n=0;n<t.length;++n){let r=arguments[n];r.center&&(r=Object.assign({},r),r.center=ar(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=ar(r.anchor,this.getProjection())),t[n]=r}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,n;t>1&&typeof arguments[t-1]=="function"&&(n=arguments[t-1],--t);let r=0;for(;r<t&&!this.isDef();++r){const u=arguments[r];u.center&&this.setCenterInternal(u.center),u.zoom!==void 0?this.setZoom(u.zoom):u.resolution&&this.setResolution(u.resolution),u.rotation!==void 0&&this.setRotation(u.rotation)}if(r===t){n&&dh(n,!0);return}let s=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const c=[];for(;r<t;++r){const u=arguments[r],h={start:s,complete:!1,anchor:u.anchor,duration:u.duration!==void 0?u.duration:1e3,easing:u.easing||lU,callback:n};if(u.center&&(h.sourceCenter=o,h.targetCenter=u.center.slice(),o=h.targetCenter),u.zoom!==void 0?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(u.zoom),a=h.targetResolution):u.resolution&&(h.sourceResolution=a,h.targetResolution=u.resolution,a=h.targetResolution),u.rotation!==void 0){h.sourceRotation=l;const d=Na(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+d,l=h.targetRotation}v5(h)?h.complete=!0:s+=h.duration,c.push(h)}this.animations_.push(c),this.setHint(ti.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[ti.ANIMATING]>0}getInteracting(){return this.hints_[ti.INTERACTING]>0}cancelAnimations(){this.setHint(ti.ANIMATING,-this.hints_[ti.ANIMATING]);let e;for(let t=0,n=this.animations_.length;t<n;++t){const r=this.animations_[t];if(r[0].callback&&dh(r[0].callback,!1),!e)for(let s=0,o=r.length;s<o;++s){const a=r[s];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let n=this.animations_.length-1;n>=0;--n){const r=this.animations_[n];let s=!0;for(let o=0,a=r.length;o<a;++o){const l=r[o];if(l.complete)continue;const c=e-l.start;let u=l.duration>0?c/l.duration:1;u>=1?(l.complete=!0,u=1):s=!1;const h=l.easing(u);if(l.sourceCenter){const d=l.sourceCenter[0],f=l.sourceCenter[1],m=l.targetCenter[0],p=l.targetCenter[1];this.nextCenter_=l.targetCenter;const g=d+h*(m-d),v=f+h*(p-f);this.targetCenter_=[g,v]}if(l.sourceResolution&&l.targetResolution){const d=h===1?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){const f=this.getViewportSize_(this.getRotation()),m=this.constraints_.resolution(d,0,f,!0);this.targetCenter_=this.calculateCenterZoom(m,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=d,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const d=h===1?Na(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){const f=this.constraints_.rotation(d,!0);this.targetCenter_=this.calculateCenterRotate(f,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=d}if(this.applyTargetState_(!0),t=!0,!l.complete)break}if(s){this.animations_[n]=null,this.setHint(ti.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=r[0].callback;o&&dh(o,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let n;const r=this.getCenterInternal();return r!==void 0&&(n=[r[0]-t[0],r[1]-t[1]],Cw(n,e-this.getRotation()),uL(n,t)),n}calculateCenterZoom(e,t){let n;const r=this.getCenterInternal(),s=this.getResolution();if(r!==void 0&&s!==void 0){const o=t[0]-e*(t[0]-r[0])/s,a=t[1]-e*(t[1]-r[1])/s;n=[o,a]}return n}getViewportSize_(e){const t=this.viewportSize_;if(e){const n=t[0],r=t[1];return[Math.abs(n*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(n*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&n0(e,this.getProjection())}getCenterInternal(){return this.get(on.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const t=this.calculateExtentInternal(e);return wL(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();je(t,"The view center is not defined");const n=this.getResolution();je(n!==void 0,"The view resolution is not defined");const r=this.getRotation();return je(r!==void 0,"The view rotation is not defined"),Jb(t,n,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(on.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(ss(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const n=Be(e)/t[0],r=li(e)/t[1];return Math.max(n,r)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,r=Math.log(t/n)/Math.log(e);return(function(s){return t/Math.pow(e,s*r)})}getRotation(){return this.get(on.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,s=Math.log(n/r)/t;return(function(o){return Math.log(n/o)/t/s})}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const n=this.padding_;return n&&(t=[t[0]-n[1]-n[3],t[1]-n[0]-n[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),n=this.getRotation();let r=this.getCenterInternal();const s=this.padding_;if(s){const o=this.getViewportSizeMinusPadding_();r=bm(r,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],t,n)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,n,r;if(this.resolutions_){const s=_w(this.resolutions_,e,1);t=s,n=this.resolutions_[s],s==this.resolutions_.length-1?r=2:r=n/this.resolutions_[s+1]}else n=this.maxResolution_,r=this.zoomFactor_;return t+Math.log(n/e)/Math.log(r)}getResolutionForZoom(e){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];const t=mt(Math.floor(e),0,this.resolutions_.length-2),n=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(n,mt(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let n;if(je(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){je(!nf(e),"Cannot fit empty extent provided as `geometry`");const r=ss(e,this.getProjection());n=jE(r)}else if(e.getType()==="Circle"){const r=ss(e.getExtent(),this.getProjection());n=jE(r),n.rotate(this.getRotation(),_s(r))}else n=e;this.fitInternal(n,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),n=Math.cos(t),r=Math.sin(-t),s=e.getFlatCoordinates(),o=e.getStride();let a=1/0,l=1/0,c=-1/0,u=-1/0;for(let h=0,d=s.length;h<d;h+=o){const f=s[h]*n-s[h+1]*r,m=s[h]*r+s[h+1]*n;a=Math.min(a,f),l=Math.min(l,m),c=Math.max(c,f),u=Math.max(u,m)}return[a,l,c,u]}fitInternal(e,t){t=t||{};let n=t.size;n||(n=this.getViewportSizeMinusPadding_());const r=t.padding!==void 0?t.padding:[0,0,0,0],s=t.nearest!==void 0?t.nearest:!1;let o;t.minResolution!==void 0?o=t.minResolution:t.maxZoom!==void 0?o=this.getResolutionForZoom(t.maxZoom):o=0;const a=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(a,[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,s?0:1);const c=this.getRotation(),u=Math.sin(c),h=Math.cos(c),d=_s(a);d[0]+=(r[1]-r[3])/2*l,d[1]+=(r[0]-r[2])/2*l;const f=d[0]*h-d[1]*u,m=d[1]*h+d[0]*u,p=this.getConstrainedCenter([f,m],l),g=t.callback?t.callback:Rc;t.duration!==void 0?this.animateInternal({resolution:l,center:p,duration:t.duration,easing:t.easing},g):(this.targetResolution_=l,this.targetCenter_=p,this.applyTargetState_(!1,!0),dh(g,!0))}centerOn(e,t,n){this.centerOnInternal(ar(e,this.getProjection()),t,n)}centerOnInternal(e,t,n){this.setCenterInternal(bm(e,t,n,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,n,r){let s;const o=this.padding_;if(o&&e){const a=this.getViewportSizeMinusPadding_(-n),l=bm(e,r,[a[0]/2+o[3],a[1]/2+o[0]],t,n);s=[e[0]-l[0],e[1]-l[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const t=n0(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&ar(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,r,n);t&&(this.targetCenter_=this.calculateCenterZoom(s,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=ar(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,n);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&ar(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const n=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,n),s=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,s,n),a=this.constraints_.center(this.targetCenter_,o,s,n,this.calculateCenterShift(this.targetCenter_,o,r,s));this.get(on.ROTATION)!==r&&this.set(on.ROTATION,r),this.get(on.RESOLUTION)!==o&&(this.set(on.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(on.CENTER)||!td(this.get(on.CENTER),a))&&this.set(on.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,n){e=e!==void 0?e:200;const r=t||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,r,o),l=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,s,o));if(e===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=s,this.targetCenter_=l,this.applyTargetState_();return}n=n||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==s||!this.getCenterInternal()||!td(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:a,duration:e,easing:bl,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(ti.INTERACTING,1)}endInteraction(e,t,n){n=n&&ar(n,this.getProjection()),this.endInteractionInternal(e,t,n)}endInteractionInternal(e,t,n){this.getInteracting()&&(this.setHint(ti.INTERACTING,-1),this.resolveConstraints(e,t,n))}getConstrainedCenter(e,t){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)}getConstrainedZoom(e,t){const n=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(n,t))}getConstrainedResolution(e,t){t=t||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,n)}}function dh(i,e){setTimeout(function(){i(e)},0)}function m5(i){if(i.extent!==void 0){const t=i.smoothExtentConstraint!==void 0?i.smoothExtentConstraint:!0;return wE(i.extent,i.constrainOnlyCenter,t)}const e=Pw(i.projection,"EPSG:3857");if(i.multiWorld!==!0&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,wE(t,!1,!1)}return tU}function p5(i){let e,t,n,o=i.minZoom!==void 0?i.minZoom:_m,a=i.maxZoom!==void 0?i.maxZoom:28;const l=i.zoomFactor!==void 0?i.zoomFactor:2,c=i.multiWorld!==void 0?i.multiWorld:!1,u=i.smoothResolutionConstraint!==void 0?i.smoothResolutionConstraint:!0,h=i.showFullExtent!==void 0?i.showFullExtent:!1,d=Pw(i.projection,"EPSG:3857"),f=d.getExtent();let m=i.constrainOnlyCenter,p=i.extent;if(!c&&!p&&d.isGlobal()&&(m=!1,p=f),i.resolutions!==void 0){const g=i.resolutions;t=g[o],n=g[a]!==void 0?g[a]:g[g.length-1],i.constrainResolution?e=c5(g,u,!m&&p,h):e=WE(t,n,u,!m&&p,h)}else{const v=(f?Math.max(Be(f),li(f)):360*Tw.degrees/d.getMetersPerUnit())/Gw/Math.pow(2,_m),y=v/Math.pow(2,28-_m);t=i.maxResolution,t!==void 0?o=0:t=v/Math.pow(l,o),n=i.minResolution,n===void 0&&(i.maxZoom!==void 0?i.maxResolution!==void 0?n=t/Math.pow(l,a):n=v/Math.pow(l,a):n=y),a=o+Math.floor(Math.log(t/n)/Math.log(l)),n=t/Math.pow(l,a-o),i.constrainResolution?e=u5(l,t,n,u,!m&&p,h):e=WE(t,n,u,!m&&p,h)}return{constraint:e,maxResolution:t,minResolution:n,minZoom:o,zoomFactor:l}}function g5(i){if(i.enableRotation!==void 0?i.enableRotation:!0){const t=i.constrainRotation;return t===void 0||t===!0?d5():t===!1?zE:typeof t=="number"?h5(t):zE}return qw}function v5(i){return!(i.sourceCenter&&i.targetCenter&&!td(i.sourceCenter,i.targetCenter)||i.sourceResolution!==i.targetResolution||i.sourceRotation!==i.targetRotation)}function bm(i,e,t,n,r){const s=Math.cos(-r);let o=Math.sin(-r),a=i[0]*s-i[1]*o,l=i[1]*s+i[0]*o;a+=(e[0]/2-t[0])*n,l+=(t[1]-e[1]/2)*n,o=-o;const c=a*s-l*o,u=l*s+a*o;return[c,u]}const fh="ol-hidden",y5="ol-selectable",lf="ol-unselectable",Yw="ol-control",qE="ol-collapsed",_5=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),GE=["style","variant","weight","size","lineHeight","family"],r0={normal:400,bold:700},s0=function(i){const e=i.match(_5);if(!e)return null;const t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"400",variant:"normal"};for(let n=0,r=GE.length;n<r;++n){const s=e[n+1];s!==void 0&&(t[GE[n]]=typeof s=="string"?s.trim():s)}return isNaN(Number(t.weight))&&t.weight in r0&&(t.weight=r0[t.weight]),t.families=t.family.split(/,\s?/).map(n=>n.trim().replace(/^['"]|['"]$/g,"")),t};function Nt(i,e,t,n){let r;return t&&t.length?r=t.shift():ww?r=new OffscreenCanvas(i||300,e||300):r=document.createElement("canvas"),i&&(r.width=i),e&&(r.height=e),r.getContext("2d",n)}let wm;function od(){return wm||(wm=Nt(1,1)),wm}function cf(i){const e=i.canvas;e.width=1,e.height=1,i.clearRect(0,0,1,1)}function b5(i){let e=i.offsetWidth;const t=getComputedStyle(i);return e+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10),e}function w5(i){let e=i.offsetHeight;const t=getComputedStyle(i);return e+=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10),e}function YE(i,e){const t=e.parentNode;t&&t.replaceChild(i,e)}function IL(i){for(;i.lastChild;)i.lastChild.remove()}function x5(i,e){const t=i.childNodes;for(let n=0;;++n){const r=t[n],s=e[n];if(!r&&!s)break;if(r!==s){if(!r){i.appendChild(s);continue}if(!s){i.removeChild(r),--n;continue}i.insertBefore(s,r)}}}class Bw extends En{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let t=0,n=this.listenerKeys.length;t<n;++t)st(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=e,e){const t=this.target_??e.getOverlayContainerStopEvent();this.element&&t.appendChild(this.element),this.render!==Rc&&this.listenerKeys.push(ke(e,lr.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class S5 extends Bw{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const t=e.className!==void 0?e.className:"ol-attribution",n=e.tipLabel!==void 0?e.tipLabel:"Attributions",r=e.expandClassName!==void 0?e.expandClassName:t+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"",o=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;const a=e.label!==void 0?e.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=r):this.label_=a;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(fe.CLICK,this.handleClick_.bind(this),!1);const c=t+" "+lf+" "+Yw+(this.collapsed_&&this.collapsible_?" "+qE:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=c,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=this.getMap().getAllLayers(),n=new Set(t.flatMap(r=>r.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>n.add(r)):n.add(this.attributions_)),!this.overrideCollapsible_){const r=!t.some(s=>s.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(r)}return Array.from(n)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=await Promise.all(this.collectSourceAttributions_(e).map(r=>GH(()=>r))),n=t.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!xs(t,this.renderedAttributions_)){IL(this.ulElement_);for(let r=0,s=t.length;r<s;++r){const o=document.createElement("li");o.innerHTML=t[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(qE),this.collapsed_?YE(this.collapseLabel_,this.label_):YE(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class E5 extends Bw{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=e.className!==void 0?e.className:"ol-rotate",n=e.label!==void 0?e.label:"",r=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof n=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(r));const s=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=t+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener(fe.CLICK,this.handleClick_.bind(this),!1);const a=t+" "+lf+" "+Yw,l=this.element;l.className=a,l.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(fh)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const n=t.getRotation();n!==void 0&&(this.duration_>0&&n%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:bl}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const n=t.viewState.rotation;if(n!=this.rotation_){const r="rotate("+n+"rad)";if(this.autoHide_){const s=this.element.classList.contains(fh);!s&&n===0?this.element.classList.add(fh):s&&n!==0&&this.element.classList.remove(fh)}this.label_.style.transform=r}this.rotation_=n}}class C5 extends Bw{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=e.className!==void 0?e.className:"ol-zoom",n=e.delta!==void 0?e.delta:1,r=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",o=e.zoomInLabel!==void 0?e.zoomInLabel:"+",a=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",c=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=r,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof o=="string"?document.createTextNode(o):o),u.addEventListener(fe.CLICK,this.handleClick_.bind(this,n),!1);const h=document.createElement("button");h.className=s,h.setAttribute("type","button"),h.title=c,h.appendChild(typeof a=="string"?document.createTextNode(a):a),h.addEventListener(fe.CLICK,this.handleClick_.bind(this,-n),!1);const d=t+" "+lf+" "+Yw,f=this.element;f.className=d,f.appendChild(u),f.appendChild(h),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const n=this.getMap().getView();if(!n)return;const r=n.getZoom();if(r!==void 0){const s=n.getConstrainedZoom(r+e);this.duration_>0?(n.getAnimating()&&n.cancelAnimations(),n.animate({zoom:s,duration:this.duration_,easing:bl})):n.setZoom(s)}}}function T5(i){i=i||{};const e=new un;return(i.zoom!==void 0?i.zoom:!0)&&e.push(new C5(i.zoomOptions)),(i.rotate!==void 0?i.rotate:!0)&&e.push(new E5(i.rotateOptions)),(i.attribution!==void 0?i.attribution:!0)&&e.push(new S5(i.attributionOptions)),e}class R5{constructor(e,t,n){this.decay_=e,this.minVelocity_=t,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let n=t-3;for(;n>0&&this.points_[n+2]>e;)n-=3;const r=this.points_[t+2]-this.points_[n+2];if(r<1e3/60)return!1;const s=this.points_[t]-this.points_[n],o=this.points_[t+1]-this.points_[n+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const BE={ACTIVE:"active"};class wl extends En{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(BE.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(BE.ACTIVE,e)}setMap(e){this.map_=e}}function O5(i,e,t){const n=i.getCenterInternal();if(n){const r=[n[0]+e[0],n[1]+e[1]];i.animateInternal({duration:t!==void 0?t:250,easing:cU,center:i.getConstrainedCenter(r)})}}function Hw(i,e,t,n){const r=i.getZoom();if(r===void 0)return;const s=i.getConstrainedZoom(r+e),o=i.getResolutionForZoom(s);i.getAnimating()&&i.cancelAnimations(),i.animate({resolution:o,anchor:t,duration:n!==void 0?n:250,easing:bl})}class I5 extends wl{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==dt.DBLCLICK){const n=e.originalEvent,r=e.map,s=e.coordinate,o=n.shiftKey?-this.delta_:this.delta_,a=r.getView();Hw(a,o,s,this.duration_),n.preventDefault(),t=!0}return!t}}function o0(i){const e=arguments;return function(t){let n=!0;for(let r=0,s=e.length;r<s&&(n=n&&e[r](t),!!n);++r);return n}}const D5=function(i){const e=i.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},P5=function(i){const e=i.map.getTargetElement(),t=e.getRootNode(),n=i.map.getOwnerDocument().activeElement;return t instanceof ShadowRoot?t.host.contains(n):e.contains(n)},DL=function(i){const e=i.map.getTargetElement(),t=e.getRootNode();return(t instanceof ShadowRoot?t.host:e).hasAttribute("tabindex")?P5(i):!0},k5=go,PL=function(i){const e=i.originalEvent;return"pointerId"in e&&e.button==0&&!(UH&&bw&&e.ctrlKey)},HE=du,M5=function(i){return i.type==dt.SINGLECLICK},kL=function(i){const e=i.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},A5=function(i){const e=i.originalEvent;return!e.altKey&&(bw?e.metaKey:e.ctrlKey)&&!e.shiftKey},N5=function(i){const e=i.originalEvent;return bw?e.metaKey:e.ctrlKey},Uw=function(i){const e=i.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},ML=function(i){const e=i.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},xm=function(i){const e=i.originalEvent;return"pointerId"in e&&e.pointerType=="mouse"},L5=function(i){const e=i.originalEvent;return"pointerId"in e&&e.isPrimary&&e.button===0};class pu extends wl{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==dt.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==dt.POINTERUP){const n=this.handleUpEvent(e);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(e.type==dt.POINTERDOWN){const n=this.handleDownEvent(e);this.handlingDownUpSequence=n,t=this.stopDown(n)}else e.type==dt.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function Vw(i){const e=i.length;let t=0,n=0;for(let r=0;r<e;r++)t+=i[r].clientX,n+=i[r].clientY;return{clientX:t/e,clientY:n/e}}class F5 extends pu{constructor(e){super({stopDown:du}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:o0(kL,L5);this.condition_=e.onFocusOnly?o0(DL,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const n=this.targetPointers,r=t.getEventPixel(Vw(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const s=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=e.map.getView();hL(s,a.getResolution()),Cw(s,a.getRotation()),a.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,n=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=n.getCenterInternal(),a=t.getPixelFromCoordinateInternal(o),l=t.getCoordinateFromPixelInternal([a[0]-r*Math.cos(s),a[1]-r*Math.sin(s)]);n.animateInternal({center:n.getConstrainedCenter(l),duration:500,easing:bl})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const n=e.map.getView();return this.lastCentroid=null,n.getAnimating()&&n.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class $5 extends pu{constructor(e){e=e||{},super({stopDown:du}),this.condition_=e.condition?e.condition:D5,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!xm(e))return;const t=e.map,n=t.getView();if(n.getConstraints().rotation===qw)return;const r=t.getSize(),s=e.pixel,o=Math.atan2(r[1]/2-s[1],s[0]-r[0]/2);if(this.lastAngle_!==void 0){const a=o-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=o}handleUpEvent(e){return xm(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return xm(e)&&PL(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class j5 extends Vd{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,n="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+n,r.top=Math.min(e[1],t[1])+n,r.width=Math.abs(t[0]-e[0])+n,r.height=Math.abs(t[1]-e[1])+n}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new Pc([r])}getGeometry(){return this.geometry_}}const Qo={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class zl extends Un{constructor(e,t,n){super(e),this.coordinate=t,this.mapBrowserEvent=n}}class AL extends pu{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new j5(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??PL,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,n){const r=n[0]-t[0],s=n[1]-t[1];return r*r+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new zl(Qo.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new zl(t?Qo.BOXEND:Qo.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new zl(Qo.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new zl(Qo.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new zl(Qo.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class W5 extends AL{constructor(e){e=e||{};const t=e.condition?e.condition:Uw;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const n=this.getMap().getView();let r=this.getGeometry();if(this.out_){const s=n.rotatedExtentForGeometry(r),o=n.getResolutionForExtentInternal(s),a=n.getResolution()/o;r=r.clone(),r.scale(a*a)}n.fitInternal(r,{duration:this.duration_,easing:bl})}}const Fs={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class z5 extends wl{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return kL(t)&&ML(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==fe.KEYDOWN){const n=e.originalEvent,r=n.key;if(this.condition_(e)&&(r==Fs.DOWN||r==Fs.LEFT||r==Fs.RIGHT||r==Fs.UP)){const o=e.map.getView(),a=o.getResolution()*this.pixelDelta_;let l=0,c=0;r==Fs.DOWN?c=-a:r==Fs.LEFT?l=-a:r==Fs.RIGHT?l=a:c=a;const u=[l,c];Cw(u,o.getRotation()),O5(o,u,this.duration_),n.preventDefault(),t=!0}}return!t}}class q5 extends wl{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!N5(t)&&ML(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==fe.KEYDOWN||e.type==fe.KEYPRESS){const n=e.originalEvent,r=n.key;if(this.condition_(e)&&(r==="+"||r==="-")){const s=e.map,o=r==="+"?this.delta_:-this.delta_,a=s.getView();Hw(a,o,void 0,this.duration_),n.preventDefault(),t=!0}}return!t}}const G5=40,Y5=300;class B5 extends wl{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const t=e.condition?e.condition:k5;this.condition_=e.onFocusOnly?o0(DL,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==fe.WHEEL)return!0;const n=e.map,r=e.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let s=r.deltaY;switch(r.deltaMode){case WheelEvent.DOM_DELTA_LINE:s*=G5;break;case WheelEvent.DOM_DELTA_PAGE:s*=Y5;break}if(s===0)return!1;this.lastDelta_=s;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const a=n.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_?n.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=o,!1;this.totalDelta_+=s;const l=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),l),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let n=-mt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),Hw(t,n,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class H5 extends pu{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=du),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0;const n=this.targetPointers[0],r=this.targetPointers[1],s=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(this.lastAngle_!==void 0){const l=s-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=l}this.lastAngle_=s;const o=e.map,a=o.getView();a.getConstraints().rotation!==qw&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(Vw(this.targetPointers))),this.rotating_&&(o.render(),a.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}class U5 extends pu{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=du),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const n=this.targetPointers[0],r=this.targetPointers[1],s=n.clientX-r.clientX,o=n.clientY-r.clientY,a=Math.sqrt(s*s+o*o);this.lastDistance_!==void 0&&(t=this.lastDistance_/a),this.lastDistance_=a;const l=e.map,c=l.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(Vw(this.targetPointers))),l.render(),c.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const n=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return n.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}function V5(i){i=i||{};const e=new un,t=new R5(-.005,.05,100);return(i.altShiftDragRotate!==void 0?i.altShiftDragRotate:!0)&&e.push(new $5),(i.doubleClickZoom!==void 0?i.doubleClickZoom:!0)&&e.push(new I5({delta:i.zoomDelta,duration:i.zoomDuration})),(i.dragPan!==void 0?i.dragPan:!0)&&e.push(new F5({onFocusOnly:i.onFocusOnly,kinetic:t})),(i.pinchRotate!==void 0?i.pinchRotate:!0)&&e.push(new H5),(i.pinchZoom!==void 0?i.pinchZoom:!0)&&e.push(new U5({duration:i.zoomDuration})),(i.keyboard!==void 0?i.keyboard:!0)&&(e.push(new z5),e.push(new q5({delta:i.zoomDelta,duration:i.zoomDuration}))),(i.mouseWheelZoom!==void 0?i.mouseWheelZoom:!0)&&e.push(new B5({onFocusOnly:i.onFocusOnly,duration:i.zoomDuration})),(i.shiftDragZoom!==void 0?i.shiftDragZoom:!0)&&e.push(new W5({duration:i.zoomDuration})),e}const Ge={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class NL extends En{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[Ge.OPACITY]=e.opacity!==void 0?e.opacity:1,je(typeof t[Ge.OPACITY]=="number","Layer opacity must be a number"),t[Ge.VISIBLE]=e.visible!==void 0?e.visible:!0,t[Ge.Z_INDEX]=e.zIndex,t[Ge.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[Ge.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[Ge.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[Ge.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:e===void 0?!0:e},n=this.getZIndex();return t.opacity=mt(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=n===void 0&&!t.managed?1/0:n,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return Ae()}getLayerStatesArray(e){return Ae()}getExtent(){return this.get(Ge.EXTENT)}getMaxResolution(){return this.get(Ge.MAX_RESOLUTION)}getMinResolution(){return this.get(Ge.MIN_RESOLUTION)}getMinZoom(){return this.get(Ge.MIN_ZOOM)}getMaxZoom(){return this.get(Ge.MAX_ZOOM)}getOpacity(){return this.get(Ge.OPACITY)}getSourceState(){return Ae()}getVisible(){return this.get(Ge.VISIBLE)}getZIndex(){return this.get(Ge.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Ge.EXTENT,e)}setMaxResolution(e){this.set(Ge.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Ge.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Ge.MAX_ZOOM,e)}setMinZoom(e){this.set(Ge.MIN_ZOOM,e)}setOpacity(e){je(typeof e=="number","Layer opacity must be a number"),this.set(Ge.OPACITY,e)}setVisible(e){this.set(Ge.VISIBLE,e)}setZIndex(e){this.set(Ge.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class ts extends Un{constructor(e,t){super(e),this.layer=t}}const Sm={LAYERS:"layers"};class xl extends NL{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let n=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Sm.LAYERS,this.handleLayersChanged_),n?Array.isArray(n)?n=new un(n.slice(),{unique:!0}):je(typeof n.getArray=="function","Expected `layers` to be an array or a `Collection`"):n=new un(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(st),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(ke(e,jt.ADD,this.handleLayersAdd_,this),ke(e,jt.REMOVE,this.handleLayersRemove_,this));for(const n in this.listenerKeys_)this.listenerKeys_[n].forEach(st);_l(this.listenerKeys_);const t=e.getArray();for(let n=0,r=t.length;n<r;n++){const s=t[n];this.registerLayerListeners_(s),this.dispatchEvent(new ts("addlayer",s))}this.changed()}registerLayerListeners_(e){const t=[ke(e,Va.PROPERTYCHANGE,this.handleLayerChange_,this),ke(e,fe.CHANGE,this.handleLayerChange_,this)];e instanceof xl&&t.push(ke(e,"addlayer",this.handleLayerGroupAdd_,this),ke(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Se(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new ts("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new ts("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new ts("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,n=Se(t);this.listenerKeys_[n].forEach(st),delete this.listenerKeys_[n],this.dispatchEvent(new ts("removelayer",t)),this.changed()}getLayers(){return this.get(Sm.LAYERS)}setLayers(e){const t=this.getLayers();if(t){const n=t.getArray();for(let r=0,s=n.length;r<s;++r)this.dispatchEvent(new ts("removelayer",n[r]))}this.set(Sm.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=e!==void 0?e:[],n=t.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(t)});const r=this.getLayerState();let s=r.zIndex;!e&&r.zIndex===void 0&&(s=0);for(let o=n,a=t.length;o<a;o++){const l=t[o];l.opacity*=r.opacity,l.visible=l.visible&&r.visible,l.maxResolution=Math.min(l.maxResolution,r.maxResolution),l.minResolution=Math.max(l.minResolution,r.minResolution),l.minZoom=Math.max(l.minZoom,r.minZoom),l.maxZoom=Math.min(l.maxZoom,r.maxZoom),r.extent!==void 0&&(l.extent!==void 0?l.extent=no(l.extent,r.extent):l.extent=r.extent),l.zIndex===void 0&&(l.zIndex=s)}return t}getSourceState(){return"ready"}}const Ui={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class uf extends NL{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Ge.SOURCE,this.handleSourcePropertyChange_);const n=e.source?e.source:null;this.setSource(n)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Ge.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(st(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=ke(e,fe.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t;const n=this.getMapInternal();!e&&n&&(e=n.getView()),e instanceof Pn?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&n&&(t.layerStatesArray=n.getLayerGroup().getLayerStatesArray());let r;if(t.layerStatesArray){if(r=t.layerStatesArray.find(o=>o.layer===this),!r)return!1}else r=this.getLayerState();const s=this.getExtent();return Xw(r,t.viewState)&&(!s||yi(s,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];const t=this.getSource()?.getAttributions();if(!t)return[];const n=e instanceof Pn?e.getViewStateAndExtent():e;let r=t(n);return Array.isArray(r)||(r=[r]),r}render(e,t){const n=this.getRenderer();return n.prepareFrame(e)?(this.rendered=!0,n.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){const t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(Ge.MAP,e)}getMapInternal(){return this.get(Ge.MAP)}setMap(e){this.mapPrecomposeKey_&&(st(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(st(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=ke(e,Ui.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=ke(this,fe.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const t=e.frameState.layerStatesArray,n=this.getLayerState(!1);je(!t.some(r=>r.layer===n.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(n)}setSource(e){this.set(Ge.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function Xw(i,e){if(!i.visible)return!1;const t=e.resolution;if(t<i.minResolution||t>=i.maxResolution)return!1;const n=e.zoom;return n>i.minZoom&&n<=i.maxZoom}function LL(i,e,t=0,n=i.length-1,r=X5){for(;n>t;){if(n-t>600){const l=n-t+1,c=e-t+1,u=Math.log(l),h=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*h*(l-h)/l)*(c-l/2<0?-1:1),f=Math.max(t,Math.floor(e-c*h/l+d)),m=Math.min(n,Math.floor(e+(l-c)*h/l+d));LL(i,e,f,m,r)}const s=i[e];let o=t,a=n;for(ql(i,t,e),r(i[n],s)>0&&ql(i,t,n);o<a;){for(ql(i,o,a),o++,a--;r(i[o],s)<0;)o++;for(;r(i[a],s)>0;)a--}r(i[t],s)===0?ql(i,t,a):(a++,ql(i,a,n)),a<=e&&(t=a+1),e<=a&&(n=a-1)}}function ql(i,e,t){const n=i[e];i[e]=i[t],i[t]=n}function X5(i,e){return i<e?-1:i>e?1:0}let FL=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const n=[];if(!ph(e,t))return n;const r=this.toBBox,s=[];for(;t;){for(let o=0;o<t.children.length;o++){const a=t.children[o],l=t.leaf?r(a):a;ph(e,l)&&(t.leaf?n.push(a):Cm(e,l)?this._all(a,n):s.push(a))}t=s.pop()}return n}collides(e){let t=this.data;if(!ph(e,t))return!1;const n=[];for(;t;){for(let r=0;r<t.children.length;r++){const s=t.children[r],o=t.leaf?this.toBBox(s):s;if(ph(e,o)){if(t.leaf||Cm(e,o))return!0;n.push(s)}}t=n.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let n=0;n<e.length;n++)this.insert(e[n]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const n=this.data;this.data=t,t=n}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=ma([]),this}remove(e,t){if(!e)return this;let n=this.data;const r=this.toBBox(e),s=[],o=[];let a,l,c;for(;n||s.length;){if(n||(n=s.pop(),l=s[s.length-1],a=o.pop(),c=!0),n.leaf){const u=K5(e,n.children,t);if(u!==-1)return n.children.splice(u,1),s.push(n),this._condense(s),this}!c&&!n.leaf&&Cm(n,r)?(s.push(n),o.push(a),a=0,l=n,n=n.children[0]):l?(a++,n=l.children[a],c=!1):n=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const n=[];for(;e;)e.leaf?t.push(...e.children):n.push(...e.children),e=n.pop();return t}_build(e,t,n,r){const s=n-t+1;let o=this._maxEntries,a;if(s<=o)return a=ma(e.slice(t,n+1)),Jo(a,this.toBBox),a;r||(r=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,r-1))),a=ma([]),a.leaf=!1,a.height=r;const l=Math.ceil(s/o),c=l*Math.ceil(Math.sqrt(o));UE(e,t,n,c,this.compareMinX);for(let u=t;u<=n;u+=c){const h=Math.min(u+c-1,n);UE(e,u,h,l,this.compareMinY);for(let d=u;d<=h;d+=l){const f=Math.min(d+l-1,h);a.children.push(this._build(e,d,f,r-1))}}return Jo(a,this.toBBox),a}_chooseSubtree(e,t,n,r){for(;r.push(t),!(t.leaf||r.length-1===n);){let s=1/0,o=1/0,a;for(let l=0;l<t.children.length;l++){const c=t.children[l],u=Em(c),h=J5(e,c)-u;h<o?(o=h,s=u<s?u:s,a=c):h===o&&u<s&&(s=u,a=c)}t=a||t.children[0]}return t}_insert(e,t,n){const r=n?e:this.toBBox(e),s=[],o=this._chooseSubtree(r,this.data,t,s);for(o.children.push(e),ic(o,r);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(r,s,t)}_split(e,t){const n=e[t],r=n.children.length,s=this._minEntries;this._chooseSplitAxis(n,s,r);const o=this._chooseSplitIndex(n,s,r),a=ma(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,Jo(n,this.toBBox),Jo(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(n,a)}_splitRoot(e,t){this.data=ma([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Jo(this.data,this.toBBox)}_chooseSplitIndex(e,t,n){let r,s=1/0,o=1/0;for(let a=t;a<=n-t;a++){const l=tc(e,0,a,this.toBBox),c=tc(e,a,n,this.toBBox),u=eV(l,c),h=Em(l)+Em(c);u<s?(s=u,r=a,o=h<o?h:o):u===s&&h<o&&(o=h,r=a)}return r||n-t}_chooseSplitAxis(e,t,n){const r=e.leaf?this.compareMinX:Z5,s=e.leaf?this.compareMinY:Q5,o=this._allDistMargin(e,t,n,r),a=this._allDistMargin(e,t,n,s);o<a&&e.children.sort(r)}_allDistMargin(e,t,n,r){e.children.sort(r);const s=this.toBBox,o=tc(e,0,t,s),a=tc(e,n-t,n,s);let l=mh(o)+mh(a);for(let c=t;c<n-t;c++){const u=e.children[c];ic(o,e.leaf?s(u):u),l+=mh(o)}for(let c=n-t-1;c>=t;c--){const u=e.children[c];ic(a,e.leaf?s(u):u),l+=mh(a)}return l}_adjustParentBBoxes(e,t,n){for(let r=n;r>=0;r--)ic(t[r],e)}_condense(e){for(let t=e.length-1,n;t>=0;t--)e[t].children.length===0?t>0?(n=e[t-1].children,n.splice(n.indexOf(e[t]),1)):this.clear():Jo(e[t],this.toBBox)}};function K5(i,e,t){if(!t)return e.indexOf(i);for(let n=0;n<e.length;n++)if(t(i,e[n]))return n;return-1}function Jo(i,e){tc(i,0,i.children.length,e,i)}function tc(i,e,t,n,r){r||(r=ma(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s=e;s<t;s++){const o=i.children[s];ic(r,i.leaf?n(o):o)}return r}function ic(i,e){return i.minX=Math.min(i.minX,e.minX),i.minY=Math.min(i.minY,e.minY),i.maxX=Math.max(i.maxX,e.maxX),i.maxY=Math.max(i.maxY,e.maxY),i}function Z5(i,e){return i.minX-e.minX}function Q5(i,e){return i.minY-e.minY}function Em(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function mh(i){return i.maxX-i.minX+(i.maxY-i.minY)}function J5(i,e){return(Math.max(e.maxX,i.maxX)-Math.min(e.minX,i.minX))*(Math.max(e.maxY,i.maxY)-Math.min(e.minY,i.minY))}function eV(i,e){const t=Math.max(i.minX,e.minX),n=Math.max(i.minY,e.minY),r=Math.min(i.maxX,e.maxX),s=Math.min(i.maxY,e.maxY);return Math.max(0,r-t)*Math.max(0,s-n)}function Cm(i,e){return i.minX<=e.minX&&i.minY<=e.minY&&e.maxX<=i.maxX&&e.maxY<=i.maxY}function ph(i,e){return e.minX<=i.maxX&&e.minY<=i.maxY&&e.maxX>=i.minX&&e.maxY>=i.minY}function ma(i){return{children:i,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function UE(i,e,t,n,r){const s=[e,t];for(;s.length;){if(t=s.pop(),e=s.pop(),t-e<=n)continue;const o=e+Math.ceil((t-e)/n/2)*n;LL(i,o,e,t,r),s.push(e,o,o,t)}}const Kw=[NaN,NaN,NaN,0];let Tm;function tV(){return Tm||(Tm=Nt(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),Tm}const iV=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,nV=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,rV=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,sV=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function gh(i,e){return i.endsWith("%")?Number(i.substring(0,i.length-1))/e:Number(i)}function pc(i){throw new Error('failed to parse "'+i+'" as color')}function $L(i){if(i.toLowerCase().startsWith("rgb")){const s=i.match(nV)||i.match(iV)||i.match(rV);if(s){const o=s[4],a=100/255;return[mt(gh(s[1],a)+.5|0,0,255),mt(gh(s[2],a)+.5|0,0,255),mt(gh(s[3],a)+.5|0,0,255),o!==void 0?mt(gh(o,100),0,1):1]}pc(i)}if(i.startsWith("#")){if(sV.test(i)){const s=i.substring(1),o=s.length<=4?1:2,a=[0,0,0,255];for(let l=0,c=s.length;l<c;l+=o){let u=parseInt(s.substring(l,l+o),16);o===1&&(u+=u<<4),a[l/o]=u}return a[3]=a[3]/255,a}pc(i)}const e=tV();e.fillStyle="#abcdef";let t=e.fillStyle;e.fillStyle=i,e.fillStyle===t&&(e.fillStyle="#fedcba",t=e.fillStyle,e.fillStyle=i,e.fillStyle===t&&pc(i));const n=e.fillStyle;if(n.startsWith("#")||n.startsWith("rgba"))return $L(n);e.clearRect(0,0,1,1),e.fillRect(0,0,1,1);const r=Array.from(e.getImageData(0,0,1,1).data);return r[3]=Kd(r[3]/255,3),r}function oV(i){return typeof i=="string"?i:Qw(i)}const aV=1024,Gl={};let Rm=0;function lV(i){if(i.length===4)return i;const e=i.slice();return e[3]=1,e}function Om(i){return i>.0031308?Math.pow(i,1/2.4)*269.025-14.025:i*3294.6}function Im(i){return i>.2068965?Math.pow(i,3):(i-4/29)*(108/841)}function Dm(i){return i>10.314724?Math.pow((i+14.025)/269.025,2.4):i/3294.6}function Pm(i){return i>.0088564?Math.pow(i,1/3):i/(108/841)+4/29}function VE(i){const e=Dm(i[0]),t=Dm(i[1]),n=Dm(i[2]),r=Pm(e*.222488403+t*.716873169+n*.06060791),s=500*(Pm(e*.452247074+t*.399439023+n*.148375274)-r),o=200*(r-Pm(e*.016863605+t*.117638439+n*.865350722)),a=Math.atan2(o,s)*(180/Math.PI);return[116*r-16,Math.sqrt(s*s+o*o),a<0?a+360:a,i[3]]}function cV(i){const e=(i[0]+16)/116,t=i[1],n=i[2]*Math.PI/180,r=Im(e),s=Im(e+t/500*Math.cos(n)),o=Im(e-t/200*Math.sin(n)),a=Om(s*3.021973625-r*1.617392459-o*.404875592),l=Om(s*-.943766287+r*1.916279586+o*.027607165),c=Om(s*.069407491-r*.22898585+o*1.159737864);return[mt(a+.5|0,0,255),mt(l+.5|0,0,255),mt(c+.5|0,0,255),i[3]]}function Zw(i){if(i==="none")return Kw;if(Gl.hasOwnProperty(i))return Gl[i];if(Rm>=aV){let t=0;for(const n in Gl)(t++&3)===0&&(delete Gl[n],--Rm)}const e=$L(i);e.length!==4&&pc(i);for(const t of e)isNaN(t)&&pc(i);return Gl[i]=e,++Rm,e}function Ja(i){return Array.isArray(i)?i:Zw(i)}function Qw(i){let e=i[0];e!=(e|0)&&(e=e+.5|0);let t=i[1];t!=(t|0)&&(t=t+.5|0);let n=i[2];n!=(n|0)&&(n=n+.5|0);const r=i[3]===void 0?1:Math.round(i[3]*1e3)/1e3;return"rgba("+e+","+t+","+n+","+r+")"}function XE(i){return i[0]>0&&i[1]>0}function uV(i,e,t){return t===void 0&&(t=[0,0]),t[0]=i[0]*e+.5|0,t[1]=i[1]*e+.5|0,t}function bi(i,e){return Array.isArray(i)?i:(e===void 0?e=[i,i]:(e[0]=i,e[1]=i),e)}let Mo=0;const oi=1<<Mo++,Oe=1<<Mo++,gi=1<<Mo++,cn=1<<Mo++,yo=1<<Mo++,nc=1<<Mo++,vh=Math.pow(2,Mo)-1,Jw={[oi]:"boolean",[Oe]:"number",[gi]:"string",[cn]:"color",[yo]:"number[]",[nc]:"size"},hV=Object.keys(Jw).map(Number).sort(_r);function dV(i){return i in Jw}function rc(i){const e=[];for(const t of hV)sc(i,t)&&e.push(Jw[t]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function sc(i,e){return(i&e)===e}function Hr(i,e){return i===e}class Mt{constructor(e,t){if(!dV(e))throw new Error(`literal expressions must have a specific type, got ${rc(e)}`);this.type=e,this.value=t}}class fV{constructor(e,t,...n){this.type=e,this.operator=t,this.args=n}}function jL(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function Vt(i,e,t){switch(typeof i){case"boolean":{if(Hr(e,gi))return new Mt(gi,i?"true":"false");if(!sc(e,oi))throw new Error(`got a boolean, but expected ${rc(e)}`);return new Mt(oi,i)}case"number":{if(Hr(e,nc))return new Mt(nc,bi(i));if(Hr(e,oi))return new Mt(oi,!!i);if(Hr(e,gi))return new Mt(gi,i.toString());if(!sc(e,Oe))throw new Error(`got a number, but expected ${rc(e)}`);return new Mt(Oe,i)}case"string":{if(Hr(e,cn))return new Mt(cn,Zw(i));if(Hr(e,oi))return new Mt(oi,!!i);if(!sc(e,gi))throw new Error(`got a string, but expected ${rc(e)}`);return new Mt(gi,i)}}if(!Array.isArray(i))throw new Error("expression must be an array or a primitive value");if(i.length===0)throw new Error("empty expression");if(typeof i[0]=="string")return EV(i,e,t);for(const n of i)if(typeof n!="number")throw new Error("expected an array of numbers");if(Hr(e,nc)){if(i.length!==2)throw new Error(`expected an array of two values for a size, got ${i.length}`);return new Mt(nc,i)}if(Hr(e,cn)){if(i.length===3)return new Mt(cn,[...i,1]);if(i.length===4)return new Mt(cn,i);throw new Error(`expected an array of 3 or 4 values for a color, got ${i.length}`)}if(!sc(e,yo))throw new Error(`got an array of numbers, but expected ${rc(e)}`);return new Mt(yo,i)}const Y={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},mV={[Y.Get]:ce(ye(1,1/0),KE),[Y.Var]:ce(ye(1,1),pV),[Y.Has]:ce(ye(1,1/0),KE),[Y.Id]:ce(gV,ea),[Y.Concat]:ce(ye(2,1/0),$e(gi)),[Y.GeometryType]:ce(vV,ea),[Y.LineMetric]:ce(ea),[Y.Resolution]:ce(km,ea),[Y.Zoom]:ce(km,ea),[Y.Time]:ce(km,ea),[Y.Any]:ce(ye(2,1/0),$e(oi)),[Y.All]:ce(ye(2,1/0),$e(oi)),[Y.Not]:ce(ye(1,1),$e(oi)),[Y.Equal]:ce(ye(2,2),$e(vh)),[Y.NotEqual]:ce(ye(2,2),$e(vh)),[Y.GreaterThan]:ce(ye(2,2),$e(Oe)),[Y.GreaterThanOrEqualTo]:ce(ye(2,2),$e(Oe)),[Y.LessThan]:ce(ye(2,2),$e(Oe)),[Y.LessThanOrEqualTo]:ce(ye(2,2),$e(Oe)),[Y.Multiply]:ce(ye(2,1/0),ZE),[Y.Coalesce]:ce(ye(2,1/0),ZE),[Y.Divide]:ce(ye(2,2),$e(Oe)),[Y.Add]:ce(ye(2,1/0),$e(Oe)),[Y.Subtract]:ce(ye(2,2),$e(Oe)),[Y.Clamp]:ce(ye(3,3),$e(Oe)),[Y.Mod]:ce(ye(2,2),$e(Oe)),[Y.Pow]:ce(ye(2,2),$e(Oe)),[Y.Abs]:ce(ye(1,1),$e(Oe)),[Y.Floor]:ce(ye(1,1),$e(Oe)),[Y.Ceil]:ce(ye(1,1),$e(Oe)),[Y.Round]:ce(ye(1,1),$e(Oe)),[Y.Sin]:ce(ye(1,1),$e(Oe)),[Y.Cos]:ce(ye(1,1),$e(Oe)),[Y.Atan]:ce(ye(1,2),$e(Oe)),[Y.Sqrt]:ce(ye(1,1),$e(Oe)),[Y.Match]:ce(ye(4,1/0),QE,_V),[Y.Between]:ce(ye(3,3),$e(Oe)),[Y.Interpolate]:ce(ye(6,1/0),QE,bV),[Y.Case]:ce(ye(3,1/0),yV,wV),[Y.In]:ce(ye(2,2),xV),[Y.Number]:ce(ye(1,1/0),$e(vh)),[Y.String]:ce(ye(1,1/0),$e(vh)),[Y.Array]:ce(ye(1,1/0),$e(Oe)),[Y.Color]:ce(ye(1,4),$e(Oe)),[Y.Band]:ce(ye(1,3),$e(Oe)),[Y.Palette]:ce(ye(2,2),SV),[Y.ToString]:ce(ye(1,1),$e(oi|Oe|gi|cn))};function KE(i,e,t){const n=i.length-1,r=new Array(n);for(let s=0;s<n;++s){const o=i[s+1];switch(typeof o){case"number":{r[s]=new Mt(Oe,o);break}case"string":{r[s]=new Mt(gi,o);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${o}`)}s===0&&t.properties.add(String(o))}return r}function pV(i,e,t){const n=i[1];if(typeof n!="string")throw new Error("expected a string argument for var operation");return t.variables.add(n),[new Mt(gi,n)]}function gV(i,e,t){t.featureId=!0}function vV(i,e,t){t.geometryType=!0}function km(i,e,t){t.mapState=!0}function ea(i,e,t){const n=i[0];if(i.length!==1)throw new Error(`expected no arguments for ${n} operation`);return[]}function ye(i,e){return function(t,n,r){const s=t[0],o=t.length-1;if(i===e){if(o!==i){const a=i===1?"":"s";throw new Error(`expected ${i} argument${a} for ${s}, got ${o}`)}}else if(o<i||o>e){const a=e===1/0?`${i} or more`:`${i} to ${e}`;throw new Error(`expected ${a} arguments for ${s}, got ${o}`)}}}function ZE(i,e,t){const n=i.length-1,r=new Array(n);for(let s=0;s<n;++s){const o=Vt(i[s+1],e,t);r[s]=o}return r}function $e(i){return function(e,t,n){const r=e.length-1,s=new Array(r);for(let o=0;o<r;++o){const a=Vt(e[o+1],i,n);s[o]=a}return s}}function yV(i,e,t){const n=i[0],r=i.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${n}, got ${r} instead`)}function QE(i,e,t){const n=i[0],r=i.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${n}, got ${r} instead`)}function _V(i,e,t){const n=i.length-1,r=gi|Oe|oi,s=Vt(i[1],r,t),o=Vt(i[i.length-1],e,t),a=new Array(n-2);for(let l=0;l<n-2;l+=2){try{const c=Vt(i[l+2],s.type,t);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+1} of match expression: ${c.message}`)}try{const c=Vt(i[l+3],o.type,t);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+2} of match expression: ${c.message}`)}}return[s,...a,o]}function bV(i,e,t){const n=i[1];let r;switch(n[0]){case"linear":r=1;break;case"exponential":const l=n[1];if(typeof l!="number"||l<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);r=l;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(n)}`)}const s=new Mt(Oe,r);let o;try{o=Vt(i[2],Oe,t)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}const a=new Array(i.length-3);for(let l=0;l<a.length;l+=2){try{const c=Vt(i[l+3],Oe,t);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+2} for interpolate expression: ${c.message}`)}try{const c=Vt(i[l+4],e,t);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+3} for interpolate expression: ${c.message}`)}}return[s,o,...a]}function wV(i,e,t){const n=Vt(i[i.length-1],e,t),r=new Array(i.length-1);for(let s=0;s<r.length-1;s+=2){try{const o=Vt(i[s+1],oi,t);r[s]=o}catch(o){throw new Error(`failed to parse argument ${s} of case expression: ${o.message}`)}try{const o=Vt(i[s+2],n.type,t);r[s+1]=o}catch(o){throw new Error(`failed to parse argument ${s+1} of case expression: ${o.message}`)}}return r[r.length-1]=n,r}function xV(i,e,t){let n=i[2];if(!Array.isArray(n))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof n[0]=="string"){if(n[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(n[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');n=n[1],r=gi}else r=Oe;const s=new Array(n.length);for(let a=0;a<s.length;a++)try{const l=Vt(n[a],r,t);s[a]=l}catch(l){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${l.message}`)}return[Vt(i[1],r,t),...s]}function SV(i,e,t){let n;try{n=Vt(i[1],Oe,t)}catch(o){throw new Error(`failed to parse first argument in palette expression: ${o.message}`)}const r=i[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const s=new Array(r.length);for(let o=0;o<s.length;o++){let a;try{a=Vt(r[o],cn,t)}catch(l){throw new Error(`failed to parse color at index ${o} in palette expression: ${l.message}`)}if(!(a instanceof Mt))throw new Error(`the palette color at index ${o} must be a literal value`);s[o]=a}return[n,...s]}function ce(...i){return function(e,t,n){const r=e[0];let s;for(let o=0;o<i.length;o++){const a=i[o](e,t,n);if(o==i.length-1){if(!a)throw new Error("expected last argument validator to return the parsed args");s=a}}return new fV(t,r,...s)}}function EV(i,e,t){const n=i[0],r=mV[n];if(!r)throw new Error(`unknown operator: ${n}`);return r(i,e,t)}function WL(i){if(!i)return"";const e=i.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return WL(i.getGeometries()[0]);default:return""}}function zL(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Fr(i,e,t){const n=Vt(i,e,t);return yn(n)}function yn(i,e){if(i instanceof Mt){if(i.type===cn&&typeof i.value=="string"){const n=Zw(i.value);return function(){return n}}return function(){return i.value}}const t=i.operator;switch(t){case Y.Number:case Y.String:case Y.Coalesce:return CV(i);case Y.Get:case Y.Var:case Y.Has:return TV(i);case Y.Id:return n=>n.featureId;case Y.GeometryType:return n=>n.geometryType;case Y.Concat:{const n=i.args.map(r=>yn(r));return r=>"".concat(...n.map(s=>s(r).toString()))}case Y.Resolution:return n=>n.resolution;case Y.Any:case Y.All:case Y.Between:case Y.In:case Y.Not:return OV(i);case Y.Equal:case Y.NotEqual:case Y.LessThan:case Y.LessThanOrEqualTo:case Y.GreaterThan:case Y.GreaterThanOrEqualTo:return RV(i);case Y.Multiply:case Y.Divide:case Y.Add:case Y.Subtract:case Y.Clamp:case Y.Mod:case Y.Pow:case Y.Abs:case Y.Floor:case Y.Ceil:case Y.Round:case Y.Sin:case Y.Cos:case Y.Atan:case Y.Sqrt:return IV(i);case Y.Case:return DV(i);case Y.Match:return PV(i);case Y.Interpolate:return kV(i);case Y.ToString:return MV(i);default:throw new Error(`Unsupported operator ${t}`)}}function CV(i,e){const t=i.operator,n=i.args.length,r=new Array(n);for(let s=0;s<n;++s)r[s]=yn(i.args[s]);switch(t){case Y.Coalesce:return s=>{for(let o=0;o<n;++o){const a=r[o](s);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case Y.Number:case Y.String:return s=>{for(let o=0;o<n;++o){const a=r[o](s);if(typeof a===t)return a}throw new Error(`Expected one of the values to be a ${t}`)};default:throw new Error(`Unsupported assertion operator ${t}`)}}function TV(i,e){const n=i.args[0].value;switch(i.operator){case Y.Get:return r=>{const s=i.args;let o=r.properties[n];for(let a=1,l=s.length;a<l;++a){const u=s[a].value;o=o[u]}return o};case Y.Var:return r=>r.variables[n];case Y.Has:return r=>{const s=i.args;if(!(n in r.properties))return!1;let o=r.properties[n];for(let a=1,l=s.length;a<l;++a){const u=s[a].value;if(!o||!Object.hasOwn(o,u))return!1;o=o[u]}return!0};default:throw new Error(`Unsupported accessor operator ${i.operator}`)}}function RV(i,e){const t=i.operator,n=yn(i.args[0]),r=yn(i.args[1]);switch(t){case Y.Equal:return s=>n(s)===r(s);case Y.NotEqual:return s=>n(s)!==r(s);case Y.LessThan:return s=>n(s)<r(s);case Y.LessThanOrEqualTo:return s=>n(s)<=r(s);case Y.GreaterThan:return s=>n(s)>r(s);case Y.GreaterThanOrEqualTo:return s=>n(s)>=r(s);default:throw new Error(`Unsupported comparison operator ${t}`)}}function OV(i,e){const t=i.operator,n=i.args.length,r=new Array(n);for(let s=0;s<n;++s)r[s]=yn(i.args[s]);switch(t){case Y.Any:return s=>{for(let o=0;o<n;++o)if(r[o](s))return!0;return!1};case Y.All:return s=>{for(let o=0;o<n;++o)if(!r[o](s))return!1;return!0};case Y.Between:return s=>{const o=r[0](s),a=r[1](s),l=r[2](s);return o>=a&&o<=l};case Y.In:return s=>{const o=r[0](s);for(let a=1;a<n;++a)if(o===r[a](s))return!0;return!1};case Y.Not:return s=>!r[0](s);default:throw new Error(`Unsupported logical operator ${t}`)}}function IV(i,e){const t=i.operator,n=i.args.length,r=new Array(n);for(let s=0;s<n;++s)r[s]=yn(i.args[s]);switch(t){case Y.Multiply:return s=>{let o=1;for(let a=0;a<n;++a)o*=r[a](s);return o};case Y.Divide:return s=>r[0](s)/r[1](s);case Y.Add:return s=>{let o=0;for(let a=0;a<n;++a)o+=r[a](s);return o};case Y.Subtract:return s=>r[0](s)-r[1](s);case Y.Clamp:return s=>{const o=r[0](s),a=r[1](s);if(o<a)return a;const l=r[2](s);return o>l?l:o};case Y.Mod:return s=>r[0](s)%r[1](s);case Y.Pow:return s=>Math.pow(r[0](s),r[1](s));case Y.Abs:return s=>Math.abs(r[0](s));case Y.Floor:return s=>Math.floor(r[0](s));case Y.Ceil:return s=>Math.ceil(r[0](s));case Y.Round:return s=>Math.round(r[0](s));case Y.Sin:return s=>Math.sin(r[0](s));case Y.Cos:return s=>Math.cos(r[0](s));case Y.Atan:return n===2?s=>Math.atan2(r[0](s),r[1](s)):s=>Math.atan(r[0](s));case Y.Sqrt:return s=>Math.sqrt(r[0](s));default:throw new Error(`Unsupported numeric operator ${t}`)}}function DV(i,e){const t=i.args.length,n=new Array(t);for(let r=0;r<t;++r)n[r]=yn(i.args[r]);return r=>{for(let s=0;s<t-1;s+=2)if(n[s](r))return n[s+1](r);return n[t-1](r)}}function PV(i,e){const t=i.args.length,n=new Array(t);for(let r=0;r<t;++r)n[r]=yn(i.args[r]);return r=>{const s=n[0](r);for(let o=1;o<t-1;o+=2)if(s===n[o](r))return n[o+1](r);return n[t-1](r)}}function kV(i,e){const t=i.args.length,n=new Array(t);for(let r=0;r<t;++r)n[r]=yn(i.args[r]);return r=>{const s=n[0](r),o=n[1](r);let a,l;for(let c=2;c<t;c+=2){const u=n[c](r);let h=n[c+1](r);const d=Array.isArray(h);if(d&&(h=lV(h)),u>=o)return c===2?h:d?AV(s,o,a,l,u,h):oc(s,o,a,l,u,h);a=u,l=h}return l}}function MV(i,e){const t=i.operator,n=i.args.length,r=new Array(n);for(let s=0;s<n;++s)r[s]=yn(i.args[s]);switch(t){case Y.ToString:return s=>{const o=r[0](s);return i.args[0].type===cn?Qw(o):o.toString()};default:throw new Error(`Unsupported convert operator ${t}`)}}function oc(i,e,t,n,r,s){const o=r-t;if(o===0)return n;const a=e-t,l=i===1?a/o:(Math.pow(i,a)-1)/(Math.pow(i,o)-1);return n+l*(s-n)}function AV(i,e,t,n,r,s){if(r-t===0)return n;const a=VE(n),l=VE(s);let c=l[2]-a[2];c>180?c-=360:c<-180&&(c+=360);const u=[oc(i,e,t,a[0],r,l[0]),oc(i,e,t,a[1],r,l[1]),a[2]+oc(i,e,t,0,r,c),oc(i,e,t,n[3],r,s[3])];return cV(u)}const be={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function NV(i,e,t){const n=i;let r=!0,s=!1,o=!1;const a=[Jh(n,fe.LOAD,function(){o=!0,s||e()})];return n.src&&tL?(s=!0,n.decode().then(function(){r&&e()}).catch(function(l){r&&(o?e():t())})):a.push(Jh(n,fe.ERROR,t)),function(){r=!1,a.forEach(st)}}function LV(i,e){return new Promise((t,n)=>{function r(){o(),t(i)}function s(){o(),n(new Error("Image load error"))}function o(){i.removeEventListener("load",r),i.removeEventListener("error",s)}i.addEventListener("load",r),i.addEventListener("error",s)})}function FV(i,e){return e&&(i.src=e),i.src&&tL?new Promise((t,n)=>i.decode().then(()=>t(i)).catch(r=>i.complete&&i.width?t(i):n(r))):LV(i)}class $V{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const n=this.cache_[t];(e++&3)===0&&!n.hasListener()&&(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}get(e,t,n){const r=Mm(e,t,n);return r in this.cache_?this.cache_[r]:null}getPattern(e,t,n){const r=Mm(e,t,n);return r in this.patternCache_?this.patternCache_[r]:null}set(e,t,n,r,s){const o=Mm(e,t,n),a=o in this.cache_;this.cache_[o]=r,s&&(r.getImageState()===be.IDLE&&r.load(),r.getImageState()===be.LOADING?r.ready().then(()=>{this.patternCache_[o]=od().createPattern(r.getImage(1),"repeat")}):this.patternCache_[o]=od().createPattern(r.getImage(1),"repeat")),a||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function Mm(i,e,t){const n=t?Ja(t):"null";return e+":"+i+":"+n}const Vi=new $V;let Yl=null;class qL extends Xd{constructor(e,t,n,r,s){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=n,this.canvas_={},this.color_=s,this.imageState_=r===void 0?be.IDLE:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===be.LOADED){Yl||(Yl=Nt(1,1,void 0,{willReadFrequently:!0})),Yl.drawImage(this.image_,0,0);try{Yl.getImageData(0,0,1,1),this.tainted_=!1}catch{Yl=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(fe.CHANGE)}handleImageError_(){this.imageState_=be.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=be.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],n=Nt(e,t);n.fillRect(0,0,e,t),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===be.IDLE){this.image_||this.initializeImage_(),this.imageState_=be.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&FV(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==be.LOADED)return;const t=this.image_,n=Nt(Math.ceil(t.width*e),Math.ceil(t.height*e)),r=n.canvas;n.scale(e,e),n.drawImage(t,0,0),n.globalCompositeOperation="multiply",n.fillStyle=oV(this.color_),n.fillRect(0,0,r.width/e,r.height/e),n.globalCompositeOperation="destination-in",n.drawImage(t,0,0),this.canvas_[e]=r}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===be.LOADED||this.imageState_===be.ERROR)e();else{const t=()=>{(this.imageState_===be.LOADED||this.imageState_===be.ERROR)&&(this.removeEventListener(fe.CHANGE,t),e())};this.addEventListener(fe.CHANGE,t)}})),this.ready_}}function ex(i,e,t,n,r,s){let o=e===void 0?void 0:Vi.get(e,t,r);return o||(o=new qL(i,i&&"src"in i?i.src||void 0:e,t,n,r),Vi.set(e,t,r,o,s)),s&&o&&!Vi.getPattern(e,t,r)&&Vi.set(e,t,r,o,s),o}function Nn(i){return i?Array.isArray(i)?Qw(i):typeof i=="object"&&"src"in i?jV(i):i:null}function jV(i){if(!i.offset||!i.size)return Vi.getPattern(i.src,"anonymous",i.color);const e=i.src+":"+i.offset,t=Vi.getPattern(e,void 0,i.color);if(t)return t;const n=Vi.get(i.src,"anonymous",null);if(n.getImageState()!==be.LOADED)return null;const r=Nt(i.size[0],i.size[1]);return r.drawImage(n.getImage(1),i.offset[0],i.offset[1],i.size[0],i.size[1],0,0,i.size[0],i.size[1]),ex(r.canvas,e,void 0,be.LOADED,i.color,!0),Vi.getPattern(e,void 0,i.color)}const GL="10px sans-serif",vi="#000",el="round",br=[],wr=0,tl="round",kc=10,Mc="#000",Ac="center",ad="middle",Ks=[0,0,0,0],Nc=1,pa=new En;let Bl=null,JE;const a0={},WV=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","emoji","math","fangsong"]);function zV(i,e,t){return`${i} ${e} 16px "${t}"`}const qV=(function(){let e,t;async function n(s){await t.ready;const o=await t.load(s);if(o.length===0)return!1;const a=s0(s),l=a.families[0].toLowerCase(),c=a.weight;return o.some(u=>{const h=u.family.replace(/^['"]|['"]$/g,"").toLowerCase(),d=r0[u.weight]||u.weight;return h===l&&u.style===a.style&&d==c})}async function r(){await t.ready;let s=!0;const o=pa.getProperties(),a=Object.keys(o).filter(l=>o[l]<100);for(let l=a.length-1;l>=0;--l){const c=a[l];let u=o[c];u<100&&(await n(c)?(_l(a0),pa.set(c,100)):(u+=10,pa.set(c,u,!0),u<100&&(s=!1)))}e=void 0,s||(e=setTimeout(r,100))}return async function(s){t||(t=ww?self.fonts:document.fonts);const o=s0(s);if(!o)return;const a=o.families;let l=!1;for(const c of a){if(WV.has(c))continue;const u=zV(o.style,o.weight,c);pa.get(u)===void 0&&(pa.set(u,0,!0),l=!0)}l&&(clearTimeout(e),e=setTimeout(r,100))}})(),GV=(function(){let i;return function(e){let t=a0[e];if(t==null){if(ww){const n=s0(e),r=YL(e,"g");t=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else i||(i=document.createElement("div"),i.innerHTML="M",i.style.minHeight="0",i.style.maxHeight="none",i.style.height="auto",i.style.padding="0",i.style.border="none",i.style.position="absolute",i.style.display="block",i.style.left="-99999px"),i.style.font=e,document.body.appendChild(i),t=i.offsetHeight,document.body.removeChild(i);a0[e]=t}return t}})();function YL(i,e){return Bl||(Bl=Nt(1,1)),i!=JE&&(Bl.font=i,JE=Bl.font),Bl.measureText(e)}function BL(i,e){return YL(i,e).width}function e1(i,e,t){if(e in t)return t[e];const n=e.split(`
`).reduce((r,s)=>Math.max(r,BL(i,s)),0);return t[e]=n,n}function YV(i,e){const t=[],n=[],r=[];let s=0,o=0,a=0,l=0;for(let c=0,u=e.length;c<=u;c+=2){const h=e[c];if(h===`
`||c===u){s=Math.max(s,o),r.push(o),o=0,a+=l,l=0;continue}const d=e[c+1]||i.font,f=BL(d,h);t.push(f),o+=f;const m=GV(d);n.push(m),l=Math.max(l,m)}return{width:s,height:a,widths:t,heights:n,lineWidths:r}}function BV(i,e,t,n,r,s,o,a,l,c,u){i.save(),t!==1&&(i.globalAlpha===void 0?i.globalAlpha=h=>h.globalAlpha*=t:i.globalAlpha*=t),e&&i.transform.apply(i,e),n.contextInstructions?(i.translate(l,c),i.scale(u[0],u[1]),HV(n,i)):u[0]<0||u[1]<0?(i.translate(l,c),i.scale(u[0],u[1]),i.drawImage(n,r,s,o,a,0,0,o,a)):i.drawImage(n,r,s,o,a,l,c,o*u[0],a*u[1]),i.restore()}function HV(i,e){const t=i.contextInstructions;for(let n=0,r=t.length;n<r;n+=2)Array.isArray(t[n+1])?e[t[n]].apply(e,t[n+1]):e[t[n]]=t[n+1]}class hf{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=bi(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new hf({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Ae()}getImage(e){return Ae()}getHitDetectionImage(){return Ae()}getPixelRatio(e){return 1}getImageState(){return Ae()}getImageSize(){return Ae()}getOrigin(){return Ae()}getSize(){return Ae()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=bi(e)}listenImageChange(e){Ae()}load(){Ae()}unlistenImageChange(e){Ae()}ready(){return Promise.resolve()}}class df extends hf{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?be.LOADING:be.LOADED,this.imageState_===be.LOADING&&this.ready().then(()=>this.imageState_=be.LOADED),this.render()}clone(){const e=this.getScale(),t=new df({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_,t=this.getDisplacement(),n=this.getScaleArray();return[e[0]/2-t[0]/n[0],e[1]/2+t[1]/n[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){const t=this.fill_?.getKey(),n=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${t}`+Object.values(this.renderOptions_).join(",");let r=Vi.get(n,null,null)?.getImage(1);if(!r){const s=this.renderOptions_,o=Math.ceil(s.size*e),a=Nt(o,o);this.draw_(s,a,e),r=a.canvas,Vi.set(n,null,null,new qL(r,void 0,null,be.LOADED,null))}return r}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,n){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let r=this.radius,s=this.radius2_===void 0?r:this.radius2_;if(r<s){const C=r;r=s,s=C}const o=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/o,l=s*Math.sin(a),c=Math.sqrt(s*s-l*l),u=r-c,h=Math.sqrt(l*l+u*u),d=h/l;if(e==="miter"&&d<=n)return d*t;const f=t/2/d,m=t/2*(u/h),g=Math.sqrt((r+f)*(r+f)+m*m)-r;if(this.radius2_===void 0||e==="bevel")return g*2;const v=r*Math.sin(a),y=Math.sqrt(r*r-v*v),w=s-y,x=Math.sqrt(v*v+w*w)/v;if(x<=n){const C=x*t/2-s-r;return 2*Math.max(g,C)}return g*2}createRenderOptions(){let e=el,t=tl,n=0,r=null,s=0,o,a=0;this.stroke_&&(o=Nn(this.stroke_.getColor()??Mc),a=this.stroke_.getWidth()??Nc,r=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset()??0,t=this.stroke_.getLineJoin()??tl,e=this.stroke_.getLineCap()??el,n=this.stroke_.getMiterLimit()??kc);const l=this.calculateLineJoinSize_(t,a,n),c=Math.max(this.radius,this.radius2_||0),u=Math.ceil(2*c+l);return{strokeStyle:o,strokeWidth:a,size:u,lineCap:e,lineDash:r,lineDashOffset:s,lineJoin:t,miterLimit:n}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,n){if(t.scale(n,n),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let r=this.fill_.getColor();r===null&&(r=vi),t.fillStyle=Nn(r),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let n=this.fill_.getColor(),r=0;typeof n=="string"&&(n=Ja(n)),n===null?r=1:Array.isArray(n)&&(r=n.length===4?n[3]:1),r===0&&(t=Nt(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_;const n=this.radius;if(t===1/0)e.arc(0,0,n,0,2*Math.PI);else{const r=this.radius2_===void 0?n:this.radius2_;this.radius2_!==void 0&&(t*=2);const s=this.angle_-Math.PI/2,o=2*Math.PI/t;for(let a=0;a<t;a++){const l=s+a*o,c=a%2===0?n:r;e.lineTo(c*Math.cos(l),c*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=vi,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class Mr extends df{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new Mr({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius=e,this.render()}}class Zi{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new Zi({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const t=ex(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));t.ready().then(()=>{this.patternImage_=null}),t.getImageState()===be.IDLE&&t.load(),t.getImageState()===be.LOADING&&(this.patternImage_=t)}this.color_=e}getKey(){const e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?Se(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:Ja(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function t1(i,e,t,n){return t!==void 0&&n!==void 0?[t/i,n/e]:t!==void 0?t/i:n!==void 0?n/e:1}class gu extends hf{constructor(e){e=e||{};const t=e.opacity!==void 0?e.opacity:1,n=e.rotation!==void 0?e.rotation:0,r=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:n,scale:r,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const o=e.img!==void 0?e.img:null;let a=e.src;je(!(a!==void 0&&o),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&o&&(a=o.src||Se(o)),je(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),je(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=be.IDLE:o!==void 0&&("complete"in o?o.complete?l=o.src?be.LOADED:be.IDLE:l=be.LOADING:l=be.LOADED),this.color_=e.color!==void 0?Ja(e.color):null,this.iconImage_=ex(o,a,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let c,u;if(e.size)[c,u]=e.size;else{const h=this.getImage(1);if(h.width&&h.height)c=h.width,u=h.height;else if(h instanceof HTMLImageElement){this.initialOptions_=e;const d=()=>{if(this.unlistenImageChange(d),!this.initialOptions_)return;const f=this.iconImage_.getSize();this.setScale(t1(f[0],f[1],e.width,e.height))};this.listenImageChange(d);return}}c!==void 0&&this.setScale(t1(c,u,e.width,e.height))}}clone(){let e,t,n;return this.initialOptions_?(t=this.initialOptions_.width,n=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new gu({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:n,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=r[0]),this.anchorYUnits_=="fraction"&&(e[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),n=this.getScaleArray();return[e[0]-t[0]/n[0],e[1]+t[1]/n[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const t=this.getSize(),n=this.iconImage_.getSize();if(!t||!n)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=n[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=n[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==be.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==be.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(fe.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(fe.CHANGE,e)}ready(){return this.iconImage_.ready()}}class zn{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new zn({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class Xt{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=i1,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new Xt({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=i1,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function UV(i){let e;if(typeof i=="function")e=i;else{let t;Array.isArray(i)?t=i:(je(typeof i.getZIndex=="function","Expected an `Style` or an array of `Style`"),t=[i]),e=function(){return t}}return e}let Am=null;function HL(i,e){if(!Am){const t=new Zi({color:"rgba(255,255,255,0.4)"}),n=new zn({color:"#3399CC",width:1.25});Am=[new Xt({image:new Mr({fill:t,stroke:n,radius:5}),fill:t,stroke:n})]}return Am}function VV(){const i={},e=[255,255,255,1],t=[0,153,255,1],n=3;return i.Polygon=[new Xt({fill:new Zi({color:[255,255,255,.5]})})],i.MultiPolygon=i.Polygon,i.LineString=[new Xt({stroke:new zn({color:e,width:n+2})}),new Xt({stroke:new zn({color:t,width:n})})],i.MultiLineString=i.LineString,i.Circle=i.Polygon.concat(i.LineString),i.Point=[new Xt({image:new Mr({radius:n*2,fill:new Zi({color:t}),stroke:new zn({color:e,width:n/2})}),zIndex:1/0})],i.MultiPoint=i.Point,i.GeometryCollection=i.Polygon.concat(i.LineString,i.Point),i}function i1(i){return i.getGeometry()}const XV="#333";class ff{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=bi(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Zi({color:XV}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new ff({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=bi(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}function KV(i){return!0}function ZV(i){const e=jL(),t=QV(i,e),n=zL();return function(r,s){if(n.properties=r.getPropertiesInternal(),n.resolution=s,e.featureId){const o=r.getId();o!==void 0?n.featureId=o:n.featureId=null}return e.geometryType&&(n.geometryType=WL(r.getGeometry())),t(n)}}function n1(i){const e=jL(),t=i.length,n=new Array(t);for(let o=0;o<t;++o)n[o]=l0(i[o],e);const r=zL(),s=new Array(t);return function(o,a){if(r.properties=o.getPropertiesInternal(),r.resolution=a,e.featureId){const c=o.getId();c!==void 0?r.featureId=c:r.featureId=null}let l=0;for(let c=0;c<t;++c){const u=n[c](r);u&&(s[l]=u,l+=1)}return s.length=l,s}}function QV(i,e){const t=i.length,n=new Array(t);for(let r=0;r<t;++r){const s=i[r],o="filter"in s?Fr(s.filter,oi,e):KV;let a;if(Array.isArray(s.style)){const l=s.style.length;a=new Array(l);for(let c=0;c<l;++c)a[c]=l0(s.style[c],e)}else a=[l0(s.style,e)];n[r]={filter:o,styles:a}}return function(r){const s=[];let o=!1;for(let a=0;a<t;++a){const l=n[a].filter;if(l(r)&&!(i[a].else&&o)){o=!0;for(const c of n[a].styles){const u=c(r);u&&s.push(u)}}}return s}}function l0(i,e){const t=Lc(i,"",e),n=Fc(i,"",e),r=JV(i,e),s=e3(i,e),o=_i(i,"z-index",e);if(!t&&!n&&!r&&!s&&!Ka(i))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(i));const a=new Xt;return function(l){let c=!0;if(t){const u=t(l);u&&(c=!1),a.setFill(u)}if(n){const u=n(l);u&&(c=!1),a.setStroke(u)}if(r){const u=r(l);u&&(c=!1),a.setText(u)}if(s){const u=s(l);u&&(c=!1),a.setImage(u)}return o&&a.setZIndex(o(l)),c?null:a}}function Lc(i,e,t){let n;if(e+"fill-pattern-src"in i)n=r3(i,e+"fill-",t);else{if(i[e+"fill-color"]==="none")return s=>null;n=tx(i,e+"fill-color",t)}if(!n)return null;const r=new Zi;return function(s){const o=n(s);return o===Kw?null:(r.setColor(o),r)}}function Fc(i,e,t){const n=_i(i,e+"stroke-width",t),r=tx(i,e+"stroke-color",t);if(!n&&!r)return null;const s=ur(i,e+"stroke-line-cap",t),o=ur(i,e+"stroke-line-join",t),a=UL(i,e+"stroke-line-dash",t),l=_i(i,e+"stroke-line-dash-offset",t),c=_i(i,e+"stroke-miter-limit",t),u=new zn;return function(h){if(r){const d=r(h);if(d===Kw)return null;u.setColor(d)}if(n&&u.setWidth(n(h)),s){const d=s(h);if(d!=="butt"&&d!=="round"&&d!=="square")throw new Error("Expected butt, round, or square line cap");u.setLineCap(d)}if(o){const d=o(h);if(d!=="bevel"&&d!=="round"&&d!=="miter")throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(d)}return a&&u.setLineDash(a(h)),l&&u.setLineDashOffset(l(h)),c&&u.setMiterLimit(c(h)),u}}function JV(i,e){const t="text-",n=ur(i,t+"value",e);if(!n)return null;const r=Lc(i,t,e),s=Lc(i,t+"background-",e),o=Fc(i,t,e),a=Fc(i,t+"background-",e),l=ur(i,t+"font",e),c=_i(i,t+"max-angle",e),u=_i(i,t+"offset-x",e),h=_i(i,t+"offset-y",e),d=$a(i,t+"overflow",e),f=ur(i,t+"placement",e),m=_i(i,t+"repeat",e),p=mf(i,t+"scale",e),g=$a(i,t+"rotate-with-view",e),v=_i(i,t+"rotation",e),y=ur(i,t+"align",e),w=ur(i,t+"justify",e),b=ur(i,t+"baseline",e),x=$a(i,t+"keep-upright",e),C=UL(i,t+"padding",e),E=pf(i,t+"declutter-mode"),S=new ff({declutterMode:E});return function(R){if(S.setText(n(R)),r&&S.setFill(r(R)),s&&S.setBackgroundFill(s(R)),o&&S.setStroke(o(R)),a&&S.setBackgroundStroke(a(R)),l&&S.setFont(l(R)),c&&S.setMaxAngle(c(R)),u&&S.setOffsetX(u(R)),h&&S.setOffsetY(h(R)),d&&S.setOverflow(d(R)),f){const I=f(R);if(I!=="point"&&I!=="line")throw new Error("Expected point or line for text-placement");S.setPlacement(I)}if(m&&S.setRepeat(m(R)),p&&S.setScale(p(R)),g&&S.setRotateWithView(g(R)),v&&S.setRotation(v(R)),y){const I=y(R);if(I!=="left"&&I!=="center"&&I!=="right"&&I!=="end"&&I!=="start")throw new Error("Expected left, right, center, start, or end for text-align");S.setTextAlign(I)}if(w){const I=w(R);if(I!=="left"&&I!=="right"&&I!=="center")throw new Error("Expected left, right, or center for text-justify");S.setJustify(I)}if(b){const I=b(R);if(I!=="bottom"&&I!=="top"&&I!=="middle"&&I!=="alphabetic"&&I!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");S.setTextBaseline(I)}return C&&S.setPadding(C(R)),x&&S.setKeepUpright(x(R)),S}}function e3(i,e){return"icon-src"in i?t3(i,e):"shape-points"in i?i3(i,e):"circle-radius"in i?n3(i,e):null}function t3(i,e){const t="icon-",n=t+"src",r=VL(i[n],n),s=ld(i,t+"anchor",e),o=mf(i,t+"scale",e),a=_i(i,t+"opacity",e),l=ld(i,t+"displacement",e),c=_i(i,t+"rotation",e),u=$a(i,t+"rotate-with-view",e),h=s1(i,t+"anchor-origin"),d=o1(i,t+"anchor-x-units"),f=o1(i,t+"anchor-y-units"),m=l3(i,t+"color"),p=o3(i,t+"cross-origin"),g=a3(i,t+"offset"),v=s1(i,t+"offset-origin"),y=cd(i,t+"width"),w=cd(i,t+"height"),b=s3(i,t+"size"),x=pf(i,t+"declutter-mode"),C=new gu({src:r,anchorOrigin:h,anchorXUnits:d,anchorYUnits:f,color:m,crossOrigin:p,offset:g,offsetOrigin:v,height:w,width:y,size:b,declutterMode:x});return function(E){return a&&C.setOpacity(a(E)),l&&C.setDisplacement(l(E)),c&&C.setRotation(c(E)),u&&C.setRotateWithView(u(E)),o&&C.setScale(o(E)),s&&C.setAnchor(s(E)),C}}function i3(i,e){const t="shape-",n=t+"points",r=t+"radius",s=c0(i[n],n),o=c0(i[r],r),a=Lc(i,t,e),l=Fc(i,t,e),c=mf(i,t+"scale",e),u=ld(i,t+"displacement",e),h=_i(i,t+"rotation",e),d=$a(i,t+"rotate-with-view",e),f=cd(i,t+"radius2"),m=cd(i,t+"angle"),p=pf(i,t+"declutter-mode"),g=new df({points:s,radius:o,radius2:f,angle:m,declutterMode:p});return function(v){return a&&g.setFill(a(v)),l&&g.setStroke(l(v)),u&&g.setDisplacement(u(v)),h&&g.setRotation(h(v)),d&&g.setRotateWithView(d(v)),c&&g.setScale(c(v)),g}}function n3(i,e){const t="circle-",n=Lc(i,t,e),r=Fc(i,t,e),s=_i(i,t+"radius",e),o=mf(i,t+"scale",e),a=ld(i,t+"displacement",e),l=_i(i,t+"rotation",e),c=$a(i,t+"rotate-with-view",e),u=pf(i,t+"declutter-mode"),h=new Mr({radius:5,declutterMode:u});return function(d){return s&&h.setRadius(s(d)),n&&h.setFill(n(d)),r&&h.setStroke(r(d)),a&&h.setDisplacement(a(d)),l&&h.setRotation(l(d)),c&&h.setRotateWithView(c(d)),o&&h.setScale(o(d)),h}}function _i(i,e,t){if(!(e in i))return;const n=Fr(i[e],Oe,t);return function(r){return c0(n(r),e)}}function ur(i,e,t){if(!(e in i))return null;const n=Fr(i[e],gi,t);return function(r){return VL(n(r),e)}}function r3(i,e,t){const n=ur(i,e+"pattern-src",t),r=r1(i,e+"pattern-offset",t),s=r1(i,e+"pattern-size",t),o=tx(i,e+"color",t);return function(a){return{src:n(a),offset:r&&r(a),size:s&&s(a),color:o&&o(a)}}}function $a(i,e,t){if(!(e in i))return null;const n=Fr(i[e],oi,t);return function(r){const s=n(r);if(typeof s!="boolean")throw new Error(`Expected a boolean for ${e}`);return s}}function tx(i,e,t){if(!(e in i))return null;const n=Fr(i[e],cn,t);return function(r){return XL(n(r),e)}}function UL(i,e,t){if(!(e in i))return null;const n=Fr(i[e],yo,t);return function(r){return vu(n(r),e)}}function ld(i,e,t){if(!(e in i))return null;const n=Fr(i[e],yo,t);return function(r){const s=vu(n(r),e);if(s.length!==2)throw new Error(`Expected two numbers for ${e}`);return s}}function r1(i,e,t){if(!(e in i))return null;const n=Fr(i[e],yo,t);return function(r){return KL(n(r),e)}}function mf(i,e,t){if(!(e in i))return null;const n=Fr(i[e],yo|Oe,t);return function(r){return c3(n(r),e)}}function cd(i,e){const t=i[e];if(t!==void 0){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}}function s3(i,e){const t=i[e];if(t!==void 0){if(typeof t=="number")return bi(t);if(!Array.isArray(t))throw new Error(`Expected a number or size array for ${e}`);if(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return t}}function o3(i,e){const t=i[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}}function s1(i,e){const t=i[e];if(t!==void 0){if(t!=="bottom-left"&&t!=="bottom-right"&&t!=="top-left"&&t!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return t}}function o1(i,e){const t=i[e];if(t!==void 0){if(t!=="pixels"&&t!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return t}}function a3(i,e){const t=i[e];if(t!==void 0)return vu(t,e)}function pf(i,e){const t=i[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);if(t!=="declutter"&&t!=="obstacle"&&t!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return t}}function l3(i,e){const t=i[e];if(t!==void 0)return XL(t,e)}function vu(i,e){if(!Array.isArray(i))throw new Error(`Expected an array for ${e}`);const t=i.length;for(let n=0;n<t;++n)if(typeof i[n]!="number")throw new Error(`Expected an array of numbers for ${e}`);return i}function VL(i,e){if(typeof i!="string")throw new Error(`Expected a string for ${e}`);return i}function c0(i,e){if(typeof i!="number")throw new Error(`Expected a number for ${e}`);return i}function XL(i,e){if(typeof i=="string")return i;const t=vu(i,e),n=t.length;if(n<3||n>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return t}function KL(i,e){const t=vu(i,e);if(t.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return t}function c3(i,e){return typeof i=="number"?i:KL(i,e)}const a1={RENDER_ORDER:"renderOrder"};class ZL extends uf{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(a1.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){const n=this.getDeclutter();n in e.declutter||(e.declutter[n]=new FL(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(a1.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?HL:e;const t=u3(e);this.styleFunction_=e===null?void 0:UV(t),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}}function u3(i){if(i===void 0)return HL;if(!i)return null;if(typeof i=="function"||i instanceof Xt)return i;if(!Array.isArray(i))return n1([i]);if(i.length===0)return[];const e=i.length,t=i[0];if(t instanceof Xt){const r=new Array(e);for(let s=0;s<e;++s){const o=i[s];if(!(o instanceof Xt))throw new Error("Expected a list of style instances");r[s]=o}return r}if("style"in t){const r=new Array(e);for(let s=0;s<e;++s){const o=i[s];if(!("style"in o))throw new Error("Expected a list of rules with a style property");r[s]=o}return ZV(r)}return n1(i)}class QL extends Un{constructor(e,t,n,r){super(e),this.inversePixelTransform=t,this.frameState=n,this.context=r}}class h3 extends Vd{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){Ae()}calculateMatrices2D(e){const t=e.viewState,n=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;kr(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),xL(r,n)}forEachFeatureAtCoordinate(e,t,n,r,s,o,a,l){let c;const u=t.viewState;function h(b,x,C,E){return s.call(o,x,b?C:null,E)}const d=u.projection,f=dL(e.slice(),d),m=[[0,0]];if(d.canWrapX()&&r){const b=d.getExtent(),x=Be(b);m.push([-x,0],[x,0])}const p=t.layerStatesArray,g=p.length,v=[],y=[];for(let b=0;b<m.length;b++)for(let x=g-1;x>=0;--x){const C=p[x],E=C.layer;if(E.hasRenderer()&&Xw(C,u)&&a.call(l,E)){const S=E.getRenderer(),R=E.getSource();if(S&&R){const I=R.getWrapX()?f:e,k=h.bind(null,C.managed);y[0]=I[0]+m[b][0],y[1]=I[1]+m[b][1],c=S.forEachFeatureAtCoordinate(y,t,n,k,v)}if(c)return c}}if(v.length===0)return;const w=1/v.length;return v.forEach((b,x)=>b.distanceSq+=x*w),v.sort((b,x)=>b.distanceSq-x.distanceSq),v.some(b=>c=b.callback(b.feature,b.layer,b.geometry)),c}hasFeatureAtCoordinate(e,t,n,r,s,o){return this.forEachFeatureAtCoordinate(e,t,n,r,go,this,s,o)!==void 0}getMap(){return this.map_}renderFrame(e){Ae()}scheduleExpireIconCache(e){Vi.canExpireCache()&&e.postRenderFunctions.push(d3)}}function d3(i,e){Vi.expire()}class f3 extends h3{constructor(e){super(e),this.fontChangeListenerKey_=ke(pa,Va.PROPERTYCHANGE,e.redrawText,e),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=lf+" ol-layers";const n=e.getViewport();n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const n=this.getMap();if(n.hasListener(e)){const r=new QL(e,void 0,t);n.dispatchEvent(r)}}disposeInternal(){st(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(Ui.PRECOMPOSE,e);const t=e.layerStatesArray.sort((a,l)=>a.zIndex-l.zIndex);t.some(a=>a.layer instanceof ZL&&a.layer.getDeclutter())&&(e.declutter={});const r=e.viewState;this.children_.length=0;const s=[];let o=null;for(let a=0,l=t.length;a<l;++a){const c=t[a];e.layerIndex=a;const u=c.layer,h=u.getSourceState();if(!Xw(c,r)||h!="ready"&&h!="undefined"){u.unrender();continue}const d=u.render(e,o);d&&(d!==o&&(this.children_.push(d),o=d),s.push(c))}this.declutter(e,s),x5(this.element_,this.children_),this.dispatchRenderEvent(Ui.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let n=t.length-1;n>=0;--n){const r=t[n],s=r.layer;s.getDeclutter()&&s.renderDeclutter(e,r)}t.forEach(n=>n.layer.renderDeferred(e))}}}function JL(i){if(i instanceof uf){i.setMapInternal(null);return}i instanceof xl&&i.getLayers().forEach(JL)}function eF(i,e){if(i instanceof uf){i.setMapInternal(e);return}if(i instanceof xl){const t=i.getLayers().getArray();for(let n=0,r=t.length;n<r;++n)eF(t[n],e)}}let m3=class extends En{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=p3(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:VH,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=fn(),this.pixelToCoordinateTransform_=fn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||T5(),this.interactions=t.interactions||V5({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new ZH(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Jt.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Jt.VIEW,this.handleViewChanged_),this.addChangeListener(Jt.SIZE,this.handleSizeChanged_),this.addChangeListener(Jt.TARGET,this.handleTargetChanged_),this.setProperties(t.values);const n=this;e.view&&!(e.view instanceof Pn)&&e.view.then(function(r){n.setView(new Pn(r))}),this.controls.addEventListener(jt.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(jt.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(jt.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(jt.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(jt.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(jt.REMOVE,r=>{const s=r.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){eF(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,n){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const s=n.hitTolerance!==void 0?n.hitTolerance:0,o=n.layerFilter!==void 0?n.layerFilter:go,a=n.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,s,a,t,null,o,null)}getFeaturesAtPixel(e,t){const n=[];return this.forEachFeatureAtPixel(e,function(r){n.push(r)},t),n}getAllLayers(){const e=[];function t(n){n.forEach(function(r){r instanceof xl?t(r.getLayers()):e.push(r)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const n=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};const r=t.layerFilter!==void 0?t.layerFilter:go,s=t.hitTolerance!==void 0?t.hitTolerance:0,o=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,s,o,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const n=this.viewport_.getBoundingClientRect(),r=this.getSize(),s=n.width/r[0],o=n.height/r[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-n.left)/s,(a.clientY-n.top)/o]}getTarget(){return this.get(Jt.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return n0(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?$t(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Jt.LAYERGROUP)}setLayers(e){const t=this.getLayerGroup();if(e instanceof un){t.setLayers(e);return}const n=t.getLayers();n.clear(),n.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,n=e.length;t<n;++t){const r=e[t];if(!r.visible)continue;const s=r.layer.getRenderer();if(s&&!s.ready)return!0;const o=r.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const t=ar(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?$t(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Jt.SIZE)}getView(){return this.get(Jt.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,n,r){return QH(this.frameState_,e,t,n,r)}handleBrowserEvent(e,t){t=t||e.type;const n=new es(t,this,e);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,n=t.type;if(n===Xb.POINTERDOWN||n===fe.WHEEL||n===fe.KEYDOWN){const r=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():r,o=t.target,a=s instanceof ShadowRoot?s.host===o?s.host.ownerDocument:s:s===r?r.documentElement:s;if(this.overlayContainerStopEvent_.contains(o)||!a.contains(o))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const r=this.getInteractions().getArray().slice();for(let s=r.length-1;s>=0;s--){const o=r[s];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let r=this.maxTilesLoading_,s=r;if(e){const o=e.viewHints;if(o[ti.ANIMATING]||o[ti.INTERACTING]){const a=Date.now()-e.time>8;r=a?0:8,s=a?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(Ui.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Ui.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new fa(lr.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new fa(lr.LOADSTART,this,e))));const n=this.postRenderFunctions_;if(e)for(let r=0,s=n.length;r<s;++r)n[r](this,e);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let n=0,r=this.targetChangeHandlerKeys_.length;n<r;++n)st(this.targetChangeHandlerKeys_[n]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(fe.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(fe.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const n=this.targetElement_.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.unobserve(n.host),this.setSize(void 0)}const e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new f3(this)),this.mapBrowserEventHandler_=new XH(this,this.moveTolerance_);for(const s in dt)this.mapBrowserEventHandler_.addEventListener(dt[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(fe.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(fe.WHEEL,this.boundHandleBrowserEvent_,iL?{passive:!1}:!1);let n;if(this.keyboardEventTarget_)n=this.keyboardEventTarget_;else{const s=t.getRootNode();n=s instanceof ShadowRoot?s.host:t}this.targetChangeHandlerKeys_=[ke(n,fe.KEYDOWN,this.handleBrowserEvent,this),ke(n,fe.KEYPRESS,this.handleBrowserEvent,this)];const r=t.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(t)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(st(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(st(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=ke(e,Va.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ke(e,fe.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(st),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new ts("addlayer",e)),this.layerGroupPropertyListenerKeys_=[ke(e,Va.PROPERTYCHANGE,this.render,this),ke(e,fe.CHANGE,this.render,this),ke(e,"addlayer",this.handleLayerAdd_,this),ke(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;const e=this.frameState_.layerStatesArray;for(let t=0,n=e.length;t<n;++t){const r=e[t].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){JL(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),n=this.getView(),r=this.frameState_;let s=null;if(t!==void 0&&XE(t)&&n&&n.isDef()){const o=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=n.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Jb(a.center,a.resolution,a.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:Se(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;s.nextExtent=Jb(a.nextCenter,a.nextResolution,l,t)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),r&&(!this.previousExtent_||!nf(this.previousExtent_)&&!Oc(s.extent,this.previousExtent_))&&(this.dispatchEvent(new fa(lr.MOVESTART,this,r)),this.previousExtent_=Qd(this.previousExtent_)),this.previousExtent_&&!s.viewHints[ti.ANIMATING]&&!s.viewHints[ti.INTERACTING]&&!Oc(s.extent,this.previousExtent_)&&(this.dispatchEvent(new fa(lr.MOVEEND,this,s)),nL(s.extent,this.previousExtent_))),this.dispatchEvent(new fa(lr.POSTRENDER,this,s)),this.renderComplete_=(this.hasListener(lr.LOADSTART)||this.hasListener(lr.LOADEND)||this.hasListener(Ui.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new ts("removelayer",t)),this.set(Jt.LAYERGROUP,e)}setSize(e){this.set(Jt.SIZE,e)}setTarget(e){this.set(Jt.TARGET,e)}setView(e){if(!e||e instanceof Pn){this.set(Jt.VIEW,e);return}this.set(Jt.VIEW,new Pn);const t=this;e.then(function(n){t.setView(new Pn(n))})}updateSize(){const e=this.getTargetElement();let t;if(e){const r=getComputedStyle(e),s=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),o=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(s)&&!isNaN(o)&&(t=[Math.max(0,s),Math.max(0,o)],!XE(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&mL("No map visible because the map container's width or height are 0."))}const n=this.getSize();t&&(!n||!xs(t,n))&&(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){const t=this.getView();t&&t.setViewportSize(e)}};function p3(i){let e=null;i.keyboardEventTarget!==void 0&&(e=typeof i.keyboardEventTarget=="string"?document.getElementById(i.keyboardEventTarget):i.keyboardEventTarget);const t={},n=i.layers&&typeof i.layers.getLayers=="function"?i.layers:new xl({layers:i.layers});t[Jt.LAYERGROUP]=n,t[Jt.TARGET]=i.target,t[Jt.VIEW]=i.view instanceof Pn?i.view:new Pn;let r;i.controls!==void 0&&(Array.isArray(i.controls)?r=new un(i.controls.slice()):(je(typeof i.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=i.controls));let s;i.interactions!==void 0&&(Array.isArray(i.interactions)?s=new un(i.interactions.slice()):(je(typeof i.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),s=i.interactions));let o;return i.overlays!==void 0?Array.isArray(i.overlays)?o=new un(i.overlays.slice()):(je(typeof i.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),o=i.overlays):o=new un,{controls:r,interactions:s,keyboardEventTarget:e,overlays:o,values:t}}class Ar extends En{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new Ar(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const n=this.getStyle();return n&&e.setStyle(n),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(st(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=ke(e,fe.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?g3(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function g3(i){if(typeof i=="function")return i;let e;return Array.isArray(i)?e=i:(je(typeof i.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[i]),function(){return e}}function u0(i,e,t,n,r,s,o){let a,l;const c=(t-e)/n;if(c===1)a=e;else if(c===2)a=e,l=r;else if(c!==0){let u=i[e],h=i[e+1],d=0;const f=[0];for(let g=e+n;g<t;g+=n){const v=i[g],y=i[g+1];d+=Math.sqrt((v-u)*(v-u)+(y-h)*(y-h)),f.push(d),u=v,h=y}const m=r*d,p=jH(f,m);p<0?(l=(m-f[-p-2])/(f[-p-1]-f[-p-2]),a=e+(-p-2)*n):a=e+p*n}o=o>1?o:2,s=s||new Array(o);for(let u=0;u<o;++u)s[u]=a===void 0?NaN:l===void 0?i[a+u]:ki(i[a+u],i[a+n+u],l);return s}function v3(i,e,t,n,r,s){if(t==e)return null;let o;if(r<i[e+n-1])return s?(o=i.slice(e,e+n),o[n-1]=r,o):null;if(i[t-1]<r)return s?(o=i.slice(t-n,t),o[n-1]=r,o):null;if(r==i[e+n-1])return i.slice(e,e+n);let a=e/n,l=t/n;for(;a<l;){const d=a+l>>1;r<i[(d+1)*n-1]?l=d:a=d+1}const c=i[a*n-1];if(r==c)return i.slice((a-1)*n,(a-1)*n+n);const u=i[(a+1)*n-1],h=(r-c)/(u-c);o=[];for(let d=0;d<n-1;++d)o.push(ki(i[(a-1)*n+d],i[a*n+d],h));return o.push(r),o}function tF(i,e,t,n){let r=i[e],s=i[e+1],o=0;for(let a=e+n;a<t;a+=n){const l=i[a],c=i[a+1];o+=Math.sqrt((l-r)*(l-r)+(c-s)*(c-s)),r=l,s=c}return o}class ud extends of{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendCoordinate(e){Xa(this.flatCoordinates,e),this.changed()}clone(){const e=new ud(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){return r<xw(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Aw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Nw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,n,r))}forEachSegment(e){return RL(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return this.layout!="XYM"&&this.layout!="XYZM"?null:(t=t!==void 0?t:!1,v3(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return Vs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return u0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return tF(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=af(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new ud(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return $w(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,this.getExtent())}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Lw(this.flatCoordinates,0,e,this.stride),this.changed()}}function y3(i,e,t,n){const r=[];let s=Li();for(let o=0,a=t.length;o<a;++o){const l=t[o];s=Ew(i,e,l[0],n),r.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=l[l.length-1]}return r}class iF{drawCustom(e,t,n,r,s){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,n){}drawFeature(e,t,n){}drawGeometryCollection(e,t,n){}drawLineString(e,t,n){}drawMultiLineString(e,t,n){}drawMultiPoint(e,t,n){}drawMultiPolygon(e,t,n){}drawPoint(e,t,n){}drawPolygon(e,t,n){}drawText(e,t,n){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}}const se={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},yh=[se.FILL],os=[se.STROKE],Zs=[se.BEGIN_PATH],l1=[se.CLOSE_PATH];class yu extends iF{constructor(e,t,n,r){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=n,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return t==1?e:e.map(function(n){return n*t})}appendFlatPointCoordinates(e,t){const n=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,s=this.coordinates;let o=s.length;for(let a=0,l=e.length;a<l;a+=t)r[0]=e[a],r[1]=e[a+1],Za(n,r)&&(s[o++]=r[0],s[o++]=r[1]);return o}appendFlatLineCoordinates(e,t,n,r,s,o){const a=this.coordinates;let l=a.length;const c=this.getBufferedMaxExtent();o&&(t+=r);let u=e[t],h=e[t+1];const d=this.tmpCoordinate_;let f=!0,m,p,g;for(m=t+r;m<n;m+=r)d[0]=e[m],d[1]=e[m+1],g=Zb(c,d),g!==p?(f&&(a[l++]=u,a[l++]=h,f=!1),a[l++]=d[0],a[l++]=d[1]):g===Ft.INTERSECTING?(a[l++]=d[0],a[l++]=d[1],f=!1):f=!0,u=d[0],h=d[1],p=g;return(s&&f||m===t+r)&&(a[l++]=u,a[l++]=h),l}drawCustomCoordinates_(e,t,n,r,s){for(let o=0,a=n.length;o<a;++o){const l=n[o],c=this.appendFlatLineCoordinates(e,t,l,r,!1,!1);s.push(c),t=l}return t}drawCustom(e,t,n,r,s){this.beginGeometry(e,t,s);const o=e.getType(),a=e.getStride(),l=this.coordinates.length;let c,u,h,d,f;switch(o){case"MultiPolygon":c=e.getOrientedFlatCoordinates(),d=[];const m=e.getEndss();f=0;for(let p=0,g=m.length;p<g;++p){const v=[];f=this.drawCustomCoordinates_(c,f,m[p],a,v),d.push(v)}this.instructions.push([se.CUSTOM,l,d,e,n,FE,s]),this.hitDetectionInstructions.push([se.CUSTOM,l,d,e,r||n,FE,s]);break;case"Polygon":case"MultiLineString":h=[],c=o=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),f=this.drawCustomCoordinates_(c,0,e.getEnds(),a,h),this.instructions.push([se.CUSTOM,l,h,e,n,sd,s]),this.hitDetectionInstructions.push([se.CUSTOM,l,h,e,r||n,sd,s]);break;case"LineString":case"Circle":c=e.getFlatCoordinates(),u=this.appendFlatLineCoordinates(c,0,c.length,a,!1,!1),this.instructions.push([se.CUSTOM,l,u,e,n,Vs,s]),this.hitDetectionInstructions.push([se.CUSTOM,l,u,e,r||n,Vs,s]);break;case"MultiPoint":c=e.getFlatCoordinates(),u=this.appendFlatPointCoordinates(c,a),u>l&&(this.instructions.push([se.CUSTOM,l,u,e,n,Vs,s]),this.hitDetectionInstructions.push([se.CUSTOM,l,u,e,r||n,Vs,s]));break;case"Point":c=e.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),u=this.coordinates.length,this.instructions.push([se.CUSTOM,l,u,e,n,void 0,s]),this.hitDetectionInstructions.push([se.CUSTOM,l,u,e,r||n,void 0,s]);break}this.endGeometry(t)}beginGeometry(e,t,n){this.beginGeometryInstruction1_=[se.BEGIN_GEOMETRY,t,0,e,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[se.BEGIN_GEOMETRY,t,0,e,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let t;const n=e.length;let r,s,o=-1;for(t=0;t<n;++t)r=e[t],s=r[0],s==se.END_GEOMETRY?o=t:s==se.BEGIN_GEOMETRY&&(r[2]=t,zH(this.hitDetectionInstructions,o,t),o=-1)}fillStyleToState(e,t={}){if(e){const n=e.getColor();t.fillPatternScale=n&&typeof n=="object"&&"src"in n?this.pixelRatio:1,t.fillStyle=Nn(n||vi)}else t.fillStyle=void 0;return t}strokeStyleToState(e,t={}){if(e){const n=e.getColor();t.strokeStyle=Nn(n||Mc);const r=e.getLineCap();t.lineCap=r!==void 0?r:el;const s=e.getLineDash();t.lineDash=s?s.slice():br;const o=e.getLineDashOffset();t.lineDashOffset=o||wr;const a=e.getLineJoin();t.lineJoin=a!==void 0?a:tl;const l=e.getWidth();t.lineWidth=l!==void 0?l:Nc;const c=e.getMiterLimit();t.miterLimit=c!==void 0?c:kc,t.lineWidth>this.maxLineWidth&&(this.maxLineWidth=t.lineWidth,this.bufferedMaxExtent_=null)}else t.strokeStyle=void 0,t.lineCap=void 0,t.lineDash=null,t.lineDashOffset=void 0,t.lineJoin=void 0,t.lineWidth=void 0,t.miterLimit=void 0;return t}setFillStrokeStyle(e,t){const n=this.state;this.fillStyleToState(e,n),this.strokeStyleToState(t,n)}createFill(e){const t=e.fillStyle,n=[se.SET_FILL_STYLE,t];return typeof t!="string"&&n.push(e.fillPatternScale),n}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[se.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const n=e.fillStyle;(typeof n!="string"||e.currentFillStyle!=n)&&(this.instructions.push(t.call(this,e)),e.currentFillStyle=n)}updateStrokeStyle(e,t){const n=e.strokeStyle,r=e.lineCap,s=e.lineDash,o=e.lineDashOffset,a=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=n||e.currentLineCap!=r||s!=e.currentLineDash&&!xs(e.currentLineDash,s)||e.currentLineDashOffset!=o||e.currentLineJoin!=a||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(t.call(this,e),e.currentStrokeStyle=n,e.currentLineCap=r,e.currentLineDash=s,e.currentLineDashOffset=o,e.currentLineJoin=a,e.currentLineWidth=l,e.currentMiterLimit=c)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[se.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=nL(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;Zd(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class _3 extends yu{constructor(e,t,n,r){super(e,t,n,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,n){if(!this.image_||this.maxExtent&&!Za(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,n);const r=e.getFlatCoordinates(),s=e.getStride(),o=this.coordinates.length,a=this.appendFlatPointCoordinates(r,s);this.instructions.push([se.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([se.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,n){if(!this.image_)return;this.beginGeometry(e,t,n);const r=e.getFlatCoordinates(),s=[];for(let l=0,c=r.length;l<c;l+=e.getStride())(!this.maxExtent||Za(this.maxExtent,r.slice(l,l+2)))&&s.push(r[l],r[l+1]);const o=this.coordinates.length,a=this.appendFlatPointCoordinates(s,2);this.instructions.push([se.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([se.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const n=e.getAnchor(),r=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}class b3 extends yu{constructor(e,t,n,r){super(e,t,n,r)}drawFlatCoordinates_(e,t,n,r){const s=this.coordinates.length,o=this.appendFlatLineCoordinates(e,t,n,r,!1,!1),a=[se.MOVE_TO_LINE_TO,s,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n}drawLineString(e,t,n){const r=this.state,s=r.strokeStyle,o=r.lineWidth;if(s===void 0||o===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,n),this.hitDetectionInstructions.push([se.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,br,wr],Zs);const a=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(a,0,a.length,l),this.hitDetectionInstructions.push(os),this.endGeometry(t)}drawMultiLineString(e,t,n){const r=this.state,s=r.strokeStyle,o=r.lineWidth;if(s===void 0||o===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,n),this.hitDetectionInstructions.push([se.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,br,wr],Zs);const a=e.getEnds(),l=e.getFlatCoordinates(),c=e.getStride();let u=0;for(let h=0,d=a.length;h<d;++h)u=this.drawFlatCoordinates_(l,u,a[h],c);this.hitDetectionInstructions.push(os),this.endGeometry(t)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(os),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(os),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Zs)}}class c1 extends yu{constructor(e,t,n,r){super(e,t,n,r)}drawFlatCoordinatess_(e,t,n,r){const s=this.state,o=s.fillStyle!==void 0,a=s.strokeStyle!==void 0,l=n.length;this.instructions.push(Zs),this.hitDetectionInstructions.push(Zs);for(let c=0;c<l;++c){const u=n[c],h=this.coordinates.length,d=this.appendFlatLineCoordinates(e,t,u,r,!0,!a),f=[se.MOVE_TO_LINE_TO,h,d];this.instructions.push(f),this.hitDetectionInstructions.push(f),a&&(this.instructions.push(l1),this.hitDetectionInstructions.push(l1)),t=u}return o&&(this.instructions.push(yh),this.hitDetectionInstructions.push(yh)),a&&(this.instructions.push(os),this.hitDetectionInstructions.push(os)),t}drawCircle(e,t,n){const r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([se.SET_FILL_STYLE,vi]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([se.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,br,wr]);const a=e.getFlatCoordinates(),l=e.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,l,!1,!1);const u=[se.CIRCLE,c];this.instructions.push(Zs,u),this.hitDetectionInstructions.push(Zs,u),r.fillStyle!==void 0&&(this.instructions.push(yh),this.hitDetectionInstructions.push(yh)),r.strokeStyle!==void 0&&(this.instructions.push(os),this.hitDetectionInstructions.push(os)),this.endGeometry(t)}drawPolygon(e,t,n){const r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([se.SET_FILL_STYLE,vi]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([se.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,br,wr]);const a=e.getEnds(),l=e.getOrientedFlatCoordinates(),c=e.getStride();this.drawFlatCoordinatess_(l,0,a,c),this.endGeometry(t)}drawMultiPolygon(e,t,n){const r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([se.SET_FILL_STYLE,vi]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([se.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,br,wr]);const a=e.getEndss(),l=e.getOrientedFlatCoordinates(),c=e.getStride();let u=0;for(let h=0,d=a.length;h<d;++h)u=this.drawFlatCoordinatess_(l,u,a[h],c);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const t=this.coordinates;for(let n=0,r=t.length;n<r;++n)t[n]=qs(t[n],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;this.updateFillStyle(e,this.createFill),this.updateStrokeStyle(e,this.applyStroke)}}function w3(i,e,t,n,r){const s=[];let o=t,a=0,l=e.slice(t,2);for(;a<i&&o+r<n;){const[c,u]=l.slice(-2),h=e[o+r],d=e[o+r+1],f=Math.sqrt((h-c)*(h-c)+(d-u)*(d-u));if(a+=f,a>=i){const m=(i-a+f)/f,p=ki(c,h,m),g=ki(u,d,m);l.push(p,g),s.push(l),l=[p,g],a==i&&(o+=r),a=0}else if(a<i)l.push(e[o+r],e[o+r+1]),o+=r;else{const m=f-a,p=ki(c,h,m/f),g=ki(u,d,m/f);l.push(p,g),s.push(l),l=[p,g],a=0,o+=r}}return a>0&&s.push(l),s}function x3(i,e,t,n,r){let s=t,o=t,a=0,l=0,c=t,u,h,d,f,m,p,g,v,y,w;for(h=t;h<n;h+=r){const b=e[h],x=e[h+1];m!==void 0&&(y=b-m,w=x-p,f=Math.sqrt(y*y+w*w),g!==void 0&&(l+=d,u=Math.acos((g*y+v*w)/(d*f)),u>i&&(l>a&&(a=l,s=c,o=h),l=0,c=h-r)),d=f,g=y,v=w),m=b,p=x}return l+=f,l>a?[c,h]:[s,o]}const hd={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class S3 extends yu{constructor(e,t,n,r){super(e,t,n,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[vi]={fillStyle:vi},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,n){const r=this.textFillState_,s=this.textStrokeState_,o=this.textState_;if(this.text_===""||!o||!r&&!s)return;const a=this.coordinates;let l=a.length;const c=e.getType();let u=null,h=e.getStride();if(o.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!yi(this.maxExtent,e.getExtent()))return;let d;if(u=e.getFlatCoordinates(),c=="LineString")d=[u.length];else if(c=="MultiLineString")d=e.getEnds();else if(c=="Polygon")d=e.getEnds().slice(0,1);else if(c=="MultiPolygon"){const g=e.getEndss();d=[];for(let v=0,y=g.length;v<y;++v)d.push(g[v][0])}this.beginGeometry(e,t,n);const f=o.repeat,m=f?void 0:o.textAlign;let p=0;for(let g=0,v=d.length;g<v;++g){let y;f?y=w3(f*this.resolution,u,p,d[g],h):y=[u.slice(p,d[g])];for(let w=0,b=y.length;w<b;++w){const x=y[w];let C=0,E=x.length;if(m==null){const R=x3(o.maxAngle,x,0,x.length,2);C=R[0],E=R[1]}for(let R=C;R<E;R+=h)a.push(x[R],x[R+1]);const S=a.length;p=d[g],this.drawChars_(l,S),l=S}}this.endGeometry(t)}else{let d=o.overflow?null:[];switch(c){case"Point":case"MultiPoint":u=e.getFlatCoordinates();break;case"LineString":u=e.getFlatMidpoint();break;case"Circle":u=e.getCenter();break;case"MultiLineString":u=e.getFlatMidpoints(),h=2;break;case"Polygon":u=e.getFlatInteriorPoint(),o.overflow||d.push(u[2]/this.resolution),h=3;break;case"MultiPolygon":const b=e.getFlatInteriorPoints();u=[];for(let x=0,C=b.length;x<C;x+=3)o.overflow||d.push(b[x+2]/this.resolution),u.push(b[x],b[x+1]);if(u.length===0)return;h=2;break}const f=this.appendFlatPointCoordinates(u,h);if(f===l)return;if(d&&(f-l)/2!==u.length/h){let b=l/2;d=d.filter((x,C)=>{const E=a[(b+C)*2]===u[C*h]&&a[(b+C)*2+1]===u[C*h+1];return E||--b,E})}this.saveTextStates_();const m=o.backgroundFill?this.createFill(this.fillStyleToState(o.backgroundFill)):null,p=o.backgroundStroke?this.createStroke(this.strokeStyleToState(o.backgroundStroke)):null;this.beginGeometry(e,t,n);let g=o.padding;if(g!=Ks&&(o.scale[0]<0||o.scale[1]<0)){let b=o.padding[0],x=o.padding[1],C=o.padding[2],E=o.padding[3];o.scale[0]<0&&(x=-x,E=-E),o.scale[1]<0&&(b=-b,C=-C),g=[b,x,C,E]}const v=this.pixelRatio;this.instructions.push([se.DRAW_IMAGE,l,f,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,g==Ks?Ks:g.map(function(b){return b*v}),m,p,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,d]);const y=1/v,w=m?m.slice(0):null;w&&(w[1]=vi),this.hitDetectionInstructions.push([se.DRAW_IMAGE,l,f,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[y,y],NaN,this.declutterMode_,this.declutterImageWithText_,g,w,p,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?vi:this.fillKey_,this.textOffsetX_,this.textOffsetY_,d]),this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,n=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:t.font,textAlign:t.textAlign||Ac,justify:t.justify,textBaseline:t.textBaseline||ad,scale:t.scale});const o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))}drawChars_(e,t){const n=this.textStrokeState_,r=this.textState_,s=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,c=hd[r.textBaseline],u=this.textOffsetY_*l,h=this.text_,d=n?n.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([se.DRAW_CHARS,e,t,c,r.overflow,a,r.maxAngle,l,u,s,d*l,h,o,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([se.DRAW_CHARS,e,t,c,r.overflow,a&&vi,r.maxAngle,l,u,s,d*l,h,o,1/l,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,t){let n,r,s;if(!e)this.text_="";else{const o=e.getFill();o?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=Nn(o.getColor()||vi)):(r=null,this.textFillState_=r);const a=e.getStroke();if(!a)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const p=a.getLineDash(),g=a.getLineDashOffset(),v=a.getWidth(),y=a.getMiterLimit();s.lineCap=a.getLineCap()||el,s.lineDash=p?p.slice():br,s.lineDashOffset=g===void 0?wr:g,s.lineJoin=a.getLineJoin()||tl,s.lineWidth=v===void 0?Nc:v,s.miterLimit=y===void 0?kc:y,s.strokeStyle=Nn(a.getColor()||Mc)}n=this.textState_;const l=e.getFont()||GL;qV(l);const c=e.getScaleArray();n.overflow=e.getOverflow(),n.font=l,n.maxAngle=e.getMaxAngle(),n.placement=e.getPlacement(),n.textAlign=e.getTextAlign(),n.repeat=e.getRepeat(),n.justify=e.getJustify(),n.textBaseline=e.getTextBaseline()||ad,n.backgroundFill=e.getBackgroundFill(),n.backgroundStroke=e.getBackgroundStroke(),n.padding=e.getPadding()||Ks,n.scale=c===void 0?[1,1]:c;const u=e.getOffsetX(),h=e.getOffsetY(),d=e.getRotateWithView(),f=e.getKeepUpright(),m=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=u===void 0?0:u,this.textOffsetY_=h===void 0?0:h,this.textRotateWithView_=d===void 0?!1:d,this.textKeepUpright_=f===void 0?!0:f,this.textRotation_=m===void 0?0:m,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:Se(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.repeat||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+Se(r.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}const E3={Circle:c1,Default:yu,Image:_3,LineString:b3,Polygon:c1,Text:S3};class C3{constructor(e,t,n,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const n=this.buildersByZIndex_[t];for(const r in n){const s=n[r].finish();e[t][r]=s}}return e}getBuilder(e,t){const n=e!==void 0?e.toString():"0";let r=this.buildersByZIndex_[n];r===void 0&&(r={},this.buildersByZIndex_[n]=r);let s=r[t];if(s===void 0){const o=E3[t];s=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=s}return s}}function T3(i,e,t,n,r,s,o,a,l,c,u,h,d=!0){let f=i[e],m=i[e+1],p=0,g=0,v=0,y=0;function w(){p=f,g=m,e+=n,f=i[e],m=i[e+1],y+=v,v=Math.sqrt((f-p)*(f-p)+(m-g)*(m-g))}do w();while(e<t-n&&y+v<s);let b=v===0?0:(s-y)/v;const x=ki(p,f,b),C=ki(g,m,b),E=e-n,S=y,R=s+a*l(c,r,u);for(;e<t-n&&y+v<R;)w();b=v===0?0:(R-y)/v;const I=ki(p,f,b),k=ki(g,m,b);let M=!1;if(d)if(h){const z=[x,C,I,k];SL(z,0,4,2,h,z,z),M=z[0]>z[2]}else M=x>I;const N=Math.PI,F=[],q=E+n===e;e=E,v=0,y=S,f=i[e],m=i[e+1];let A;if(q){w(),A=Math.atan2(m-g,f-p),M&&(A+=A>0?-N:N);const z=(I+x)/2,P=(k+C)/2;return F[0]=[z,P,(R-s)/2,A,r],F}r=r.replace(/\n/g," ");for(let z=0,P=r.length;z<P;){w();let G=Math.atan2(m-g,f-p);if(M&&(G+=G>0?-N:N),A!==void 0){let j=G-A;if(j+=j>N?-2*N:j<-N?2*N:0,Math.abs(j)>o)return null}A=G;const U=z;let K=0;for(;z<P;++z){const j=M?P-z-1:z,B=a*l(c,r[j],u);if(e+n<t&&y+v<s+K+B/2)break;K+=B}if(z===U)continue;const D=M?r.substring(P-U,P-z):r.substring(U,z);b=v===0?0:(s+K/2-y)/v;const L=ki(p,f,b),$=ki(g,m,b);F.push([L,$,K/2,G,D]),s+=K}return F}class nF{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(od(),{get:(e,t)=>{if(typeof od()[t]=="function")return this.push_(t),this.pushMethodArgs_},set:(e,t,n)=>(this.push_(t,n),!0)})}push_(...e){const t=this.instructions_,n=this.zIndex+this.offset_;t[n]||(t[n]=[]),t[n].push(...e)}pushMethodArgs_=(...e)=>(this.push_(e),this);pushFunction(e){this.push_(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let n=0,r=t.length;n<r;++n){const s=t[n];if(typeof s=="function"){s(e);continue}const o=t[++n];if(typeof e[s]=="function")e[s](...o);else{if(typeof o=="function"){e[s]=o(e);continue}e[s]=o}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const ta=Li(),Ur=[],rr=[],sr=[],Vr=[];function u1(i){return i[3].declutterBox}const h1=new RegExp("[-----]");function Nm(i,e){return e==="start"?e=h1.test(i)?"right":"left":e==="end"&&(e=h1.test(i)?"left":"right"),hd[e]}function R3(i,e,t){return t>0&&i.push(`
`,""),i.push(e,""),i}function O3(i,e,t){return t%2===0&&(i+=e),i}class I3{constructor(e,t,n,r,s){this.overlaps=n,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=fn(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=s?new nF:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,n,r){const s=e+t+n+r;if(this.labels_[s])return this.labels_[s];const o=r?this.strokeStates[r]:null,a=n?this.fillStates[n]:null,l=this.textStates[t],c=this.pixelRatio,u=[l.scale[0]*c,l.scale[1]*c],h=l.justify?hd[l.justify]:Nm(Array.isArray(e)?e[0]:e,l.textAlign||Ac),d=r&&o.lineWidth?o.lineWidth:0,f=Array.isArray(e)?e:String(e).split(`
`).reduce(R3,[]),{width:m,height:p,widths:g,heights:v,lineWidths:y}=YV(l,f),w=m+d,b=[],x=(w+2)*u[0],C=(p+d)*u[1],E={width:x<0?Math.floor(x):Math.ceil(x),height:C<0?Math.floor(C):Math.ceil(C),contextInstructions:b};(u[0]!=1||u[1]!=1)&&b.push("scale",u),r&&(b.push("strokeStyle",o.strokeStyle),b.push("lineWidth",d),b.push("lineCap",o.lineCap),b.push("lineJoin",o.lineJoin),b.push("miterLimit",o.miterLimit),b.push("setLineDash",[o.lineDash]),b.push("lineDashOffset",o.lineDashOffset)),n&&b.push("fillStyle",a.fillStyle),b.push("textBaseline","middle"),b.push("textAlign","center");const S=.5-h;let R=h*w+S*d;const I=[],k=[];let M=0,N=0,F=0,q=0,A;for(let z=0,P=f.length;z<P;z+=2){const G=f[z];if(G===`
`){N+=M,M=0,R=h*w+S*d,++q;continue}const U=f[z+1]||l.font;U!==A&&(r&&I.push("font",U),n&&k.push("font",U),A=U),M=Math.max(M,v[F]);const K=[G,R+S*g[F]+h*(g[F]-y[q]),.5*(d+M)+N];R+=g[F],r&&I.push("strokeText",K),n&&k.push("fillText",K),++F}return Array.prototype.push.apply(b,I),Array.prototype.push.apply(b,k),this.labels_[s]=E,E}replayTextBackground_(e,t,n,r,s,o,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,s),e.lineTo.apply(e,t),o&&(this.alignAndScaleFill_=o[2],e.fillStyle=o[1],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())}calculateImageOrLabelDimensions_(e,t,n,r,s,o,a,l,c,u,h,d,f,m,p,g){a*=d[0],l*=d[1];let v=n-a,y=r-l;const w=s+c>e?e-c:s,b=o+u>t?t-u:o,x=m[3]+w*d[0]+m[1],C=m[0]+b*d[1]+m[2],E=v-m[3],S=y-m[0];(p||h!==0)&&(Ur[0]=E,Vr[0]=E,Ur[1]=S,rr[1]=S,rr[0]=E+x,sr[0]=rr[0],sr[1]=S+C,Vr[1]=sr[1]);let R;return h!==0?(R=kr(fn(),n,r,1,1,h,-n,-r),$t(R,Ur),$t(R,rr),$t(R,sr),$t(R,Vr),ys(Math.min(Ur[0],rr[0],sr[0],Vr[0]),Math.min(Ur[1],rr[1],sr[1],Vr[1]),Math.max(Ur[0],rr[0],sr[0],Vr[0]),Math.max(Ur[1],rr[1],sr[1],Vr[1]),ta)):ys(Math.min(E,E+x),Math.min(S,S+C),Math.max(E,E+x),Math.max(S,S+C),ta),f&&(v=Math.round(v),y=Math.round(y)),{drawImageX:v,drawImageY:y,drawImageW:w,drawImageH:b,originX:c,originY:u,declutterBox:{minX:ta[0],minY:ta[1],maxX:ta[2],maxY:ta[3],value:g},canvasTransform:R,scale:d}}replayImageOrLabel_(e,t,n,r,s,o,a){const l=!!(o||a),c=r.declutterBox,u=a?a[2]*r.scale[0]/2:0;return c.minX-u<=t[0]&&c.maxX+u>=0&&c.minY-u<=t[1]&&c.maxY+u>=0&&(l&&this.replayTextBackground_(e,Ur,rr,sr,Vr,o,a),BV(e,r.canvasTransform,s,n,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){const t=this.alignAndScaleFill_;if(t){const n=$t(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(n[0]%r,n[1]%r),t!==1&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],t[1]&&(e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6]))}drawLabelWithPointPlacement_(e,t,n,r){const s=this.textStates[t],o=this.createLabel(e,t,r,n),a=this.strokeStates[n],l=this.pixelRatio,c=Nm(Array.isArray(e)?e[0]:e,s.textAlign||Ac),u=hd[s.textBaseline||ad],h=a&&a.lineWidth?a.lineWidth:0,d=o.width/l-2*s.scale[0],f=c*d+2*(.5-c)*h,m=u*o.height/l+2*(.5-u)*h;return{label:o,anchorX:f,anchorY:m}}execute_(e,t,n,r,s,o,a,l){const c=this.zIndexContext_;let u;this.pixelCoordinates_&&xs(n,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=us(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),jU(this.renderedTransform_,n));let h=0;const d=r.length;let f=0,m,p,g,v,y,w,b,x,C,E,S,R,I,k=0,M=0;const N=this.coordinateCache_,F=this.viewRotation_,q=Math.round(Math.atan2(-n[1],n[0])*1e12)/1e12,A={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:F},z=this.instructions!=r||this.overlaps?0:200;let P,G,U,K;for(;h<d;){const D=r[h];switch(D[0]){case se.BEGIN_GEOMETRY:P=D[1],K=D[3],P.getGeometry()?a!==void 0&&!yi(a,K.getExtent())?h=D[2]+1:++h:h=D[2],c&&(c.zIndex=D[4]);break;case se.BEGIN_PATH:k>z&&(this.fill_(e),k=0),M>z&&(e.stroke(),M=0),!k&&!M&&(e.beginPath(),y=NaN,w=NaN),++h;break;case se.CIRCLE:f=D[1];const $=u[f],j=u[f+1],B=u[f+2],W=u[f+3],Z=B-$,J=W-j,ae=Math.sqrt(Z*Z+J*J);e.moveTo($+ae,j),e.arc($,j,ae,0,2*Math.PI,!0),++h;break;case se.CLOSE_PATH:e.closePath(),++h;break;case se.CUSTOM:f=D[1],m=D[2];const et=D[3],it=D[4],he=D[5];A.geometry=et,A.feature=P,h in N||(N[h]=[]);const rt=N[h];he?he(u,f,m,2,rt):(rt[0]=u[f],rt[1]=u[f+1],rt.length=2),c&&(c.zIndex=D[6]),it(rt,A),++h;break;case se.DRAW_IMAGE:f=D[1],m=D[2],C=D[3],p=D[4],g=D[5];let gt=D[6];const Et=D[7],vt=D[8],qe=D[9],zi=D[10];let ri=D[11];const Yt=D[12];let Kt=D[13];v=D[14]||"declutter";const Ue=D[15];if(!C&&D.length>=20){E=D[19],S=D[20],R=D[21],I=D[22];const fi=this.drawLabelWithPointPlacement_(E,S,R,I);C=fi.label,D[3]=C;const Jn=D[23];p=(fi.anchorX-Jn)*this.pixelRatio,D[4]=p;const Zt=D[24];g=(fi.anchorY-Zt)*this.pixelRatio,D[5]=g,gt=C.height,D[6]=gt,Kt=C.width,D[13]=Kt}let qi;D.length>25&&(qi=D[25]);let Qn,Yr,Rn;D.length>17?(Qn=D[16],Yr=D[17],Rn=D[18]):(Qn=Ks,Yr=null,Rn=null),zi&&q?ri+=F:!zi&&!q&&(ri-=F);let Ho=0;for(;f<m;f+=2){if(qi&&qi[Ho++]<Kt/this.pixelRatio)continue;const fi=this.calculateImageOrLabelDimensions_(C.width,C.height,u[f],u[f+1],Kt,gt,p,g,vt,qe,ri,Yt,s,Qn,!!Yr||!!Rn,P),Jn=[e,t,C,fi,Et,Yr,Rn];if(l){let Zt,mi,Gi;if(Ue){const yt=m-f;if(!Ue[yt]){Ue[yt]={args:Jn,declutterMode:v};continue}const si=Ue[yt];Zt=si.args,mi=si.declutterMode,delete Ue[yt],Gi=u1(Zt)}let er,tr;if(Zt&&(mi!=="declutter"||!l.collides(Gi))&&(er=!0),(v!=="declutter"||!l.collides(fi.declutterBox))&&(tr=!0),mi==="declutter"&&v==="declutter"){const yt=er&&tr;er=yt,tr=yt}er&&(mi!=="none"&&l.insert(Gi),this.replayImageOrLabel_.apply(this,Zt)),tr&&(v!=="none"&&l.insert(fi.declutterBox),this.replayImageOrLabel_.apply(this,Jn))}else this.replayImageOrLabel_.apply(this,Jn)}++h;break;case se.DRAW_CHARS:const ks=D[1],Ms=D[2],Fe=D[3],ve=D[4];I=D[5];const Ce=D[6],Ee=D[7],ze=D[8];R=D[9];const wt=D[10];E=D[11],Array.isArray(E)&&(E=E.reduce(O3,"")),S=D[12];const As=[D[13],D[13]];v=D[14]||"declutter";const pe=D[15],Ve=this.textStates[S],le=Ve.font,Me=[Ve.scale[0]*Ee,Ve.scale[1]*Ee];let Pt;le in this.widths_?Pt=this.widths_[le]:(Pt={},this.widths_[le]=Pt);const Ie=tF(u,ks,Ms,2),Qu=Math.abs(Me[0])*e1(le,E,Pt);if(ve||Qu<=Ie){const fi=this.textStates[S].textAlign,Jn=(Ie-Qu)*Nm(E,fi),Zt=T3(u,ks,Ms,2,E,Jn,Ce,Math.abs(Me[0]),e1,le,Pt,q?0:this.viewRotation_,pe);e:if(Zt){const mi=[];let Gi,er,tr,yt,si;if(R)for(Gi=0,er=Zt.length;Gi<er;++Gi){si=Zt[Gi],tr=si[4],yt=this.createLabel(tr,S,"",R),p=si[2]+(Me[0]<0?-wt:wt),g=Fe*yt.height+(.5-Fe)*2*wt*Me[1]/Me[0]-ze;const ir=this.calculateImageOrLabelDimensions_(yt.width,yt.height,si[0],si[1],yt.width,yt.height,p,g,0,0,si[3],As,!1,Ks,!1,P);if(l&&v==="declutter"&&l.collides(ir.declutterBox))break e;mi.push([e,t,yt,ir,1,null,null])}if(I)for(Gi=0,er=Zt.length;Gi<er;++Gi){si=Zt[Gi],tr=si[4],yt=this.createLabel(tr,S,I,""),p=si[2],g=Fe*yt.height-ze;const ir=this.calculateImageOrLabelDimensions_(yt.width,yt.height,si[0],si[1],yt.width,yt.height,p,g,0,0,si[3],As,!1,Ks,!1,P);if(l&&v==="declutter"&&l.collides(ir.declutterBox))break e;mi.push([e,t,yt,ir,1,null,null])}l&&v!=="none"&&l.load(mi.map(u1));for(let ir=0,uz=mi.length;ir<uz;++ir)this.replayImageOrLabel_.apply(this,mi[ir])}}++h;break;case se.END_GEOMETRY:if(o!==void 0){P=D[1];const fi=o(P,K,v);if(fi)return fi}++h;break;case se.FILL:z?k++:this.fill_(e),++h;break;case se.MOVE_TO_LINE_TO:for(f=D[1],m=D[2],G=u[f],U=u[f+1],e.moveTo(G,U),y=G+.5|0,w=U+.5|0,f+=2;f<m;f+=2)G=u[f],U=u[f+1],b=G+.5|0,x=U+.5|0,(f==m-2||b!==y||x!==w)&&(e.lineTo(G,U),y=b,w=x);++h;break;case se.SET_FILL_STYLE:this.alignAndScaleFill_=D[2],k&&(this.fill_(e),k=0,M&&(e.stroke(),M=0)),e.fillStyle=D[1],++h;break;case se.SET_STROKE_STYLE:M&&(e.stroke(),M=0),this.setStrokeStyle_(e,D),++h;break;case se.STROKE:z?M++:e.stroke(),++h;break;default:++h;break}}k&&this.fill_(e),M&&e.stroke()}execute(e,t,n,r,s,o){this.viewRotation_=r,this.execute_(e,t,n,this.instructions,s,void 0,void 0,o)}executeHitDetection(e,t,n,r,s){return this.viewRotation_=n,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,r,s)}}const Hs=["Polygon","Circle","LineString","Image","Text","Default"],rF=["Image","Text"],D3=Hs.filter(i=>!rF.includes(i));class P3{constructor(e,t,n,r,s,o,a){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=t,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=fn(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(s,a)}clip(e,t){const n=this.getClipCoords(t);e.beginPath(),e.moveTo(n[0],n[1]),e.lineTo(n[2],n[3]),e.lineTo(n[4],n[5]),e.lineTo(n[6],n[7]),e.clip()}createExecutors_(e,t){for(const n in e){let r=this.executorsByZIndex_[n];r===void 0&&(r={},this.executorsByZIndex_[n]=r);const s=e[n];for(const o in s){const a=s[o];r[o]=new I3(this.resolution_,this.pixelRatio_,this.overlaps_,a,t)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const n=this.executorsByZIndex_[t];for(let r=0,s=e.length;r<s;++r)if(e[r]in n)return!0}return!1}forEachFeatureAtCoordinate(e,t,n,r,s,o){r=Math.round(r);const a=r*2+1,l=kr(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-n,-e[0],-e[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=Nt(a,a));const u=this.hitDetectionContext_;u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):c||u.clearRect(0,0,a,a);let h;this.renderBuffer_!==void 0&&(h=Li(),mc(h,e),Zd(h,t*(this.renderBuffer_+r),h));const d=k3(r);let f;function m(x,C,E){const S=u.getImageData(0,0,a,a).data;for(let R=0,I=d.length;R<I;R++)if(S[d[R]]>0){if(!o||E==="none"||f!=="Image"&&f!=="Text"||o.includes(x)){const k=(d[R]-3)/4,M=r-k%a,N=r-(k/a|0),F=s(x,C,M*M+N*N);if(F)return F}u.clearRect(0,0,a,a);break}}const p=Object.keys(this.executorsByZIndex_).map(Number);p.sort(_r);let g,v,y,w,b;for(g=p.length-1;g>=0;--g){const x=p[g].toString();for(y=this.executorsByZIndex_[x],v=Hs.length-1;v>=0;--v)if(f=Hs[v],w=y[f],w!==void 0&&(b=w.executeHitDetection(u,l,n,m,h),b))return b}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const n=t[0],r=t[1],s=t[2],o=t[3],a=[n,r,n,o,s,o,s,r];return us(a,0,8,2,e,a),a}isEmpty(){return Ka(this.executorsByZIndex_)}execute(e,t,n,r,s,o,a){const l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(a?WH:_r),o=o||Hs;const c=Hs.length;for(let u=0,h=l.length;u<h;++u){const d=l[u].toString(),f=this.executorsByZIndex_[d];for(let m=0,p=o.length;m<p;++m){const g=o[m],v=f[g];if(v!==void 0){const y=a===null?void 0:v.getZIndexContext(),w=y?y.getContext():e,b=this.maxExtent_&&g!=="Image"&&g!=="Text";if(b&&(w.save(),this.clip(w,n)),!y||g==="Text"||g==="Image"?v.execute(w,t,n,r,s,a):y.pushFunction(x=>v.execute(x,t,n,r,s,a)),b&&w.restore(),y){y.offset();const x=l[u]*c+Hs.indexOf(g);this.deferredZIndexContexts_[x]||(this.deferredZIndexContexts_[x]=[]),this.deferredZIndexContexts_[x].push(y)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(_r);for(let n=0,r=t.length;n<r;++n)e[t[n]].forEach(s=>{s.draw(this.renderedContext_),s.clear()}),e[t[n]].length=0}}const Lm={};function k3(i){if(Lm[i]!==void 0)return Lm[i];const e=i*2+1,t=i*i,n=new Array(t+1);for(let s=0;s<=i;++s)for(let o=0;o<=i;++o){const a=s*s+o*o;if(a>t)break;let l=n[a];l||(l=[],n[a]=l),l.push(((i+s)*e+(i+o))*4+3),s>0&&l.push(((i-s)*e+(i+o))*4+3),o>0&&(l.push(((i+s)*e+(i-o))*4+3),s>0&&l.push(((i-s)*e+(i-o))*4+3))}const r=[];for(let s=0,o=n.length;s<o;++s)n[s]&&r.push(...n[s]);return Lm[i]=r,r}class M3 extends iF{constructor(e,t,n,r,s,o,a){super(),this.context_=e,this.pixelRatio_=t,this.extent_=n,this.transform_=r,this.transformRotation_=r?Kd(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=o,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=fn()}drawImages_(e,t,n,r){if(!this.image_)return;const s=us(e,t,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,l=o.globalAlpha;this.imageOpacity_!=1&&(o.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;this.transformRotation_===0&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let u=0,h=s.length;u<h;u+=2){const d=s[u]-this.imageAnchorX_,f=s[u+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const m=d+this.imageAnchorX_,p=f+this.imageAnchorY_;kr(a,m,p,1,1,c,-m,-p),o.save(),o.transform.apply(o,a),o.translate(m,p),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,f,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(o.globalAlpha=l)}drawText_(e,t,n,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=us(e,t,n,r,this.transform_,this.pixelCoordinates_),o=this.context_;let a=this.textRotation_;for(this.transformRotation_===0&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);t<n;t+=r){const l=s[t]+this.textOffsetX_,c=s[t+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(o.save(),o.translate(l-this.textOffsetX_,c-this.textOffsetY_),o.rotate(a),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,l,c),this.textFillState_&&o.fillText(this.text_,l,c))}}moveToLineTo_(e,t,n,r,s){const o=this.context_,a=us(e,t,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);let l=a.length;s&&(l-=2);for(let c=2;c<l;c+=2)o.lineTo(a[c],a[c+1]);return s&&o.closePath(),n}drawRings_(e,t,n,r){for(let s=0,o=n.length;s<o;++s)t=this.moveToLineTo_(e,t,n[s],r,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!yi(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=XU(e,this.transform_,this.pixelCoordinates_),n=t[2]-t[0],r=t[3]-t[1],s=Math.sqrt(n*n+r*r),o=this.context_;o.beginPath(),o.arc(t[0],t[1],s,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,t){const n=t.getGeometryFunction()(e);n&&(this.setStyle(t),this.drawGeometry(n))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let n=0,r=t.length;n<r;++n)this.drawGeometry(t[n])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),this.text_!==""&&this.drawText_(t,0,t.length,n)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),this.text_!==""&&this.drawText_(t,0,t.length,n)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!yi(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,n=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(n,0,n.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(yi(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getFlatCoordinates();let s=0;const o=e.getEnds(),a=e.getStride();n.beginPath();for(let l=0,c=o.length;l<c;++l)s=this.moveToLineTo_(r,s,o[l],a,!1);n.stroke()}if(this.text_!==""){const n=e.getFlatMidpoints();this.drawText_(n,0,n.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!yi(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!yi(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,n=e.getOrientedFlatCoordinates();let r=0;const s=e.getEndss(),o=e.getStride();t.beginPath();for(let a=0,l=s.length;a<l;++a){const c=s[a];r=this.drawRings_(n,r,c,o)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,n=this.contextFillState_;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=e.lineCap&&(n.lineCap=e.lineCap,t.lineCap=e.lineCap),xs(n.lineDash,e.lineDash)||t.setLineDash(n.lineDash=e.lineDash),n.lineDashOffset!=e.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),n.lineJoin!=e.lineJoin&&(n.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,n=this.contextTextState_,r=e.textAlign?e.textAlign:Ac;n?(n.font!=e.font&&(n.font=e.font,t.font=e.font),n.textAlign!=r&&(n.textAlign=r,t.textAlign=r),n.textBaseline!=e.textBaseline&&(n.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=r,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{const n=e.getColor();this.fillState_={fillStyle:Nn(n||vi)}}if(!t)this.strokeState_=null;else{const n=t.getColor(),r=t.getLineCap(),s=t.getLineDash(),o=t.getLineDashOffset(),a=t.getLineJoin(),l=t.getWidth(),c=t.getMiterLimit(),u=s||br;this.strokeState_={lineCap:r!==void 0?r:el,lineDash:this.pixelRatio_===1?u:u.map(h=>h*this.pixelRatio_),lineDashOffset:(o||wr)*this.pixelRatio_,lineJoin:a!==void 0?a:tl,lineWidth:(l!==void 0?l:Nc)*this.pixelRatio_,miterLimit:c!==void 0?c:kc,strokeStyle:Nn(n||Mc)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}const n=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*n,this.imageAnchorY_=r[1]*n,this.imageHeight_=t[1]*n,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/n,o[1]*this.pixelRatio_/n],this.imageWidth_=t[0]*n}setTextStyle(e){if(!e)this.text_="";else{const t=e.getFill();if(!t)this.textFillState_=null;else{const f=t.getColor();this.textFillState_={fillStyle:Nn(f||vi)}}const n=e.getStroke();if(!n)this.textStrokeState_=null;else{const f=n.getColor(),m=n.getLineCap(),p=n.getLineDash(),g=n.getLineDashOffset(),v=n.getLineJoin(),y=n.getWidth(),w=n.getMiterLimit();this.textStrokeState_={lineCap:m!==void 0?m:el,lineDash:p||br,lineDashOffset:g||wr,lineJoin:v!==void 0?v:tl,lineWidth:y!==void 0?y:Nc,miterLimit:w!==void 0?w:kc,strokeStyle:Nn(f||Mc)}}const r=e.getFont(),s=e.getOffsetX(),o=e.getOffsetY(),a=e.getRotateWithView(),l=e.getRotation(),c=e.getScaleArray(),u=e.getText(),h=e.getTextAlign(),d=e.getTextBaseline();this.textState_={font:r!==void 0?r:GL,textAlign:h!==void 0?h:Ac,textBaseline:d!==void 0?d:ad},this.text_=u!==void 0?Array.isArray(u)?u.reduce((f,m,p)=>f+=p%2?" ":m,""):u:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=o!==void 0?this.pixelRatio_*o:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}}}const kn=.5;function A3(i,e,t,n,r,s,o,a,l){const c=r,u=i[0]*kn,h=i[1]*kn,d=Nt(u,h);d.imageSmoothingEnabled=!1;const f=d.canvas,m=new M3(d,kn,r,null,o,a,null),p=t.length,g=Math.floor((256*256*256-1)/p),v={};for(let w=1;w<=p;++w){const b=t[w-1],x=b.getStyleFunction()||n;if(!x)continue;let C=x(b,s);if(!C)continue;Array.isArray(C)||(C=[C]);const S=(w*g).toString(16).padStart(7,"#00000");for(let R=0,I=C.length;R<I;++R){const k=C[R],M=k.getGeometryFunction()(b);if(!M||!yi(c,M.getExtent()))continue;const N=k.clone(),F=N.getFill();F&&F.setColor(S);const q=N.getStroke();q&&(q.setColor(S),q.setLineDash(null)),N.setText(void 0);const A=k.getImage();if(A){const U=A.getImageSize();if(!U)continue;const K=Nt(U[0],U[1],void 0,{alpha:!1}),D=K.canvas;K.fillStyle=S,K.fillRect(0,0,D.width,D.height),N.setImage(new gu({img:D,anchor:A.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:A.getOrigin(),opacity:1,size:A.getSize(),scale:A.getScale(),rotation:A.getRotation(),rotateWithView:A.getRotateWithView()}))}const z=N.getZIndex()||0;let P=v[z];P||(P={},v[z]=P,P.Polygon=[],P.Circle=[],P.LineString=[],P.Point=[]);const G=M.getType();if(G==="GeometryCollection"){const U=M.getGeometriesArrayRecursive();for(let K=0,D=U.length;K<D;++K){const L=U[K];P[L.getType().replace("Multi","")].push(L,N)}}else P[G.replace("Multi","")].push(M,N)}}const y=Object.keys(v).map(Number).sort(_r);for(let w=0,b=y.length;w<b;++w){const x=v[y[w]];for(const C in x){const E=x[C];for(let S=0,R=E.length;S<R;S+=2){m.setStyle(E[S+1]);for(let I=0,k=e.length;I<k;++I)m.setTransform(e[I]),m.drawGeometry(E[S])}}}return d.getImageData(0,0,f.width,f.height)}function N3(i,e,t){const n=[];if(t){const r=Math.floor(Math.round(i[0])*kn),s=Math.floor(Math.round(i[1])*kn),o=(mt(r,0,t.width-1)+mt(s,0,t.height-1)*t.width)*4,a=t.data[o],l=t.data[o+1],u=t.data[o+2]+256*(l+256*a),h=Math.floor((256*256*256-1)/e.length);u&&u%h===0&&n.push(e[u/h-1])}return n}const L3=.5,sF={Point:Y3,LineString:z3,Polygon:H3,MultiPoint:B3,MultiLineString:q3,MultiPolygon:G3,GeometryCollection:W3,Circle:$3};function F3(i,e){return parseInt(Se(i),10)-parseInt(Se(e),10)}function d1(i,e){const t=oF(i,e);return t*t}function oF(i,e){return L3*i/e}function $3(i,e,t,n,r){const s=t.getFill(),o=t.getStroke();if(s||o){const l=i.getBuilder(t.getZIndex(),"Circle");l.setFillStrokeStyle(s,o),l.drawCircle(e,n,r)}const a=t.getText();if(a&&a.getText()){const l=i.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,n)}}function f1(i,e,t,n,r,s,o,a){const l=[],c=t.getImage();if(c){let d=!0;const f=c.getImageState();f==be.LOADED||f==be.ERROR?d=!1:f==be.IDLE&&c.load(),d&&l.push(c.ready())}const u=t.getFill();u&&u.loading()&&l.push(u.ready());const h=l.length>0;return h&&Promise.all(l).then(()=>r(null)),j3(i,e,t,n,s,o,a),h}function j3(i,e,t,n,r,s,o){const a=t.getGeometryFunction()(e);if(!a)return;const l=a.simplifyTransformed(n,r);if(t.getRenderer())aF(i,l,t,e,o);else{const u=sF[l.getType()];u(i,l,t,e,o,s)}}function aF(i,e,t,n,r){if(e.getType()=="GeometryCollection"){const o=e.getGeometries();for(let a=0,l=o.length;a<l;++a)aF(i,o[a],t,n,r);return}i.getBuilder(t.getZIndex(),"Default").drawCustom(e,n,t.getRenderer(),t.getHitDetectionRenderer(),r)}function W3(i,e,t,n,r,s){const o=e.getGeometriesArray();let a,l;for(a=0,l=o.length;a<l;++a){const c=sF[o[a].getType()];c(i,o[a],t,n,r,s)}}function z3(i,e,t,n,r){const s=t.getStroke();if(s){const a=i.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,s),a.drawLineString(e,n,r)}const o=t.getText();if(o&&o.getText()){const a=i.getBuilder(t.getZIndex(),"Text");a.setTextStyle(o),a.drawText(e,n,r)}}function q3(i,e,t,n,r){const s=t.getStroke();if(s){const a=i.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,s),a.drawMultiLineString(e,n,r)}const o=t.getText();if(o&&o.getText()){const a=i.getBuilder(t.getZIndex(),"Text");a.setTextStyle(o),a.drawText(e,n,r)}}function G3(i,e,t,n,r){const s=t.getFill(),o=t.getStroke();if(o||s){const l=i.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(s,o),l.drawMultiPolygon(e,n,r)}const a=t.getText();if(a&&a.getText()){const l=i.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,n,r)}}function Y3(i,e,t,n,r,s){const o=t.getImage(),a=t.getText(),l=a&&a.getText(),c=s&&o&&l?{}:void 0;if(o){if(o.getImageState()!=be.LOADED)return;const u=i.getBuilder(t.getZIndex(),"Image");u.setImageStyle(o,c),u.drawPoint(e,n,r)}if(l){const u=i.getBuilder(t.getZIndex(),"Text");u.setTextStyle(a,c),u.drawText(e,n,r)}}function B3(i,e,t,n,r,s){const o=t.getImage(),a=o&&o.getOpacity()!==0,l=t.getText(),c=l&&l.getText(),u=s&&a&&c?{}:void 0;if(a){if(o.getImageState()!=be.LOADED)return;const h=i.getBuilder(t.getZIndex(),"Image");h.setImageStyle(o,u),h.drawMultiPoint(e,n,r)}if(c){const h=i.getBuilder(t.getZIndex(),"Text");h.setTextStyle(l,u),h.drawText(e,n,r)}}function H3(i,e,t,n,r){const s=t.getFill(),o=t.getStroke();if(s||o){const l=i.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(s,o),l.drawPolygon(e,n,r)}const a=t.getText();if(a&&a.getText()){const l=i.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,n,r)}}const U3=5;class V3 extends fu{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=U3}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return Ae()}getData(e){return null}prepareFrame(e){return Ae()}renderFrame(e,t){return Ae()}forEachFeatureAtCoordinate(e,t,n,r,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;(t.getState()===be.LOADED||t.getState()===be.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=be.LOADED&&t!=be.ERROR&&e.addEventListener(fe.CHANGE,this.boundHandleImageChange_),t==be.IDLE&&(e.load(),t=e.getState()),t==be.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const m1=[];let ga=null;function X3(){ga=Nt(1,1,void 0,{willReadFrequently:!0})}class lF extends V3{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=fn(),this.pixelTransform=fn(),this.inversePixelTransform=fn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,n){ga||X3(),ga.clearRect(0,0,1,1);let r;try{ga.drawImage(e,t,n,1,1,0,0,1,1),r=ga.getImageData(0,0,1,1).data}catch{return ga=null,null}return r}getBackground(e){let n=this.getLayer().getBackground();return typeof n=="function"&&(n=n(e.viewState.resolution)),n||void 0}useContainer(e,t,n){const r=this.getLayer().getClassName();let s,o;if(e&&e.className===r&&(!n||e&&e.style.backgroundColor&&xs(Ja(e.style.backgroundColor),Ja(n)))){const a=e.firstElementChild;a instanceof HTMLCanvasElement&&(o=a.getContext("2d"))}if(o&&GU(o.canvas.style.transform,t)?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=r;let a=s.style;a.position="absolute",a.width="100%",a.height="100%",o=Nt();const l=o.canvas;s.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&n&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=n)}clipUnrotated(e,t,n){const r=ko(n),s=tf(n),o=ef(n),a=Jd(n);$t(t.coordinateToPixelTransform,r),$t(t.coordinateToPixelTransform,s),$t(t.coordinateToPixelTransform,o),$t(t.coordinateToPixelTransform,a);const l=this.inversePixelTransform;$t(l,r),$t(l,s),$t(l,o),$t(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}prepareContainer(e,t){const n=e.extent,r=e.viewState.resolution,s=e.viewState.rotation,o=e.pixelRatio,a=Math.round(Be(n)/r*o),l=Math.round(li(n)/r*o);kr(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/o,1/o,s,-a/2,-l/2),xL(this.inversePixelTransform,this.pixelTransform);const c=qU(this.pixelTransform);if(this.useContainer(t,c,this.getBackground(e)),!this.containerReused){const u=this.context.canvas;u.width!=a||u.height!=l?(u.width=a,u.height=l):this.context.clearRect(0,0,a,l),c!==u.style.transform&&(u.style.transform=c)}}dispatchRenderEvent_(e,t,n){const r=this.getLayer();if(r.hasListener(e)){const s=new QL(e,this.inversePixelTransform,n,t);r.dispatchEvent(s)}}preRender(e,t){this.frameState=t,!t.declutter&&this.dispatchRenderEvent_(Ui.PRERENDER,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(Ui.POSTRENDER,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new nF),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(Ui.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(Ui.POSTRENDER,this.context,e))}getRenderTransform(e,t,n,r,s,o,a){const l=s/2,c=o/2,u=r/t,h=-u,d=-e[0]+a,f=-e[1];return kr(this.tempTransform,l,c,u,h,-n,d,f)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class K3 extends lF{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Li(),this.wrappedRenderedExtent_=Li(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,n){const r=t.extent,s=t.viewState,o=s.center,a=s.resolution,l=s.projection,c=s.rotation,u=l.getExtent(),h=this.getLayer().getSource(),d=this.getLayer().getDeclutter(),f=t.pixelRatio,m=t.viewHints,p=!(m[ti.ANIMATING]||m[ti.INTERACTING]),g=this.context,v=Math.round(Be(r)/a*f),y=Math.round(li(r)/a*f),w=h.getWrapX()&&l.canWrapX(),b=w?Be(u):null,x=w?Math.ceil((r[2]-u[2])/b)+1:1;let C=w?Math.floor((r[0]-u[0])/b):0;do{let E=this.getRenderTransform(o,a,0,f,v,y,C*b);t.declutter&&(E=E.slice(0)),e.execute(g,[g.canvas.width,g.canvas.height],E,c,p,n===void 0?Hs:n?rF:D3,n?d&&t.declutter[d]:void 0)}while(++C<x)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=Nt(this.context.canvas.width,this.context.canvas.height,m1))}resetDrawContext_(){if(this.opacity_!==1&&this.targetContext_){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,cf(this.context),m1.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){const n=e.layerStatesArray[e.layerIndex];this.opacity_=n.opacity;const r=e.viewState;this.prepareContainer(e,t);const s=this.context,o=this.replayGroup_;let a=o&&!o.isEmpty();if(!a&&!(this.getLayer().hasListener(Ui.PRERENDER)||this.getLayer().hasListener(Ui.POSTRENDER)))return this.container;if(this.setDrawContext_(),this.preRender(s,e),r.projection,this.clipped_=!1,a&&n.extent&&this.clipping){const l=ss(n.extent);a=yi(l,e.extent),this.clipped_=a&&!wa(l,e.extent),this.clipped_&&this.clipUnrotated(s,e,l)}return a&&this.renderWorlds(o,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&s.restore(),this.postRender(s,e),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const n=this.frameState.size.slice(),r=this.renderedCenter_,s=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),u=[],h=n[0]*kn,d=n[1]*kn;u.push(this.getRenderTransform(r,s,o,kn,h,d,0).slice());const f=c.getSource(),m=a.getExtent();if(f.getWrapX()&&a.canWrapX()&&!wa(m,l)){let p=l[0];const g=Be(m);let v=0,y;for(;p<m[0];)--v,y=g*v,u.push(this.getRenderTransform(r,s,o,kn,h,d,y).slice()),p+=g;for(v=0,p=l[2];p>m[2];)++v,y=g*v,u.push(this.getRenderTransform(r,s,o,kn,h,d,y).slice()),p-=g}this.hitDetectionImageData_=A3(n,u,this.renderedFeatures_,c.getStyleFunction(),l,s,o,d1(s,this.renderedPixelRatio_))}t(N3(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,n,r,s){if(!this.replayGroup_)return;const o=t.viewState.resolution,a=t.viewState.rotation,l=this.getLayer(),c={},u=function(d,f,m){const p=Se(d),g=c[p];if(g){if(g!==!0&&m<g.distanceSq){if(m===0)return c[p]=!0,s.splice(s.lastIndexOf(g),1),r(d,l,f);g.geometry=f,g.distanceSq=m}}else{if(m===0)return c[p]=!0,r(d,l,f);s.push(c[p]={feature:d,layer:l,geometry:f,distanceSq:m,callback:r})}},h=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,o,a,n,u,h?t.declutter?.[h]?.all().map(d=>d.value):null)}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),n=t.getSource();if(!n)return!1;const r=e.viewHints[ti.ANIMATING],s=e.viewHints[ti.INTERACTING],o=t.getUpdateWhileAnimating(),a=t.getUpdateWhileInteracting();if(this.ready&&!o&&r||!a&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=e.extent,c=e.viewState,u=c.projection,h=c.resolution,d=e.pixelRatio,f=t.getRevision(),m=t.getRenderBuffer();let p=t.getRenderOrder();p===void 0&&(p=F3);const g=c.center.slice(),v=Zd(l,m*h),y=v.slice(),w=[v.slice()],b=u.getExtent();if(n.getWrapX()&&u.canWrapX()&&!wa(b,e.extent)){const F=Be(b),q=Math.max(Be(v)/2,F);v[0]=b[0]-q,v[2]=b[2]+q,dL(g,u);const A=lL(w[0],u);A[0]<b[0]&&A[2]<b[2]?w.push([A[0]+F,A[1],A[2]+F,A[3]]):A[0]>b[0]&&A[2]>b[2]&&w.push([A[0]-F,A[1],A[2]-F,A[3]])}if(this.ready&&this.renderedResolution_==h&&this.renderedRevision_==f&&this.renderedRenderOrder_==p&&this.renderedFrameDeclutter_===!!e.declutter&&wa(this.wrappedRenderedExtent_,v))return xs(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const x=new C3(oF(h,d),v,h,d);let C;for(let F=0,q=w.length;F<q;++F)n.loadFeatures(w[F],h,u);const E=d1(h,d);let S=!0;const R=(F,q)=>{let A;const z=F.getStyleFunction()||t.getStyleFunction();if(z&&(A=z(F,h)),A){const P=this.renderFeature(F,E,A,x,C,this.getLayer().getDeclutter(),q);S=S&&!P}},I=wL(v),k=n.getFeaturesInExtent(I);p&&k.sort(p);for(let F=0,q=k.length;F<q;++F)R(k[F],F);this.renderedFeatures_=k,this.ready=S;const M=x.finish(),N=new P3(v,h,d,n.getOverlaps(),M,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=h,this.renderedRevision_=f,this.renderedRenderOrder_=p,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=y,this.wrappedRenderedExtent_=v,this.renderedCenter_=g,this.renderedProjection_=u,this.renderedPixelRatio_=d,this.replayGroup_=N,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,n,r,s,o,a){if(!n)return!1;let l=!1;if(Array.isArray(n))for(let c=0,u=n.length;c<u;++c)l=f1(r,e,n[c],t,this.boundHandleStyleImageChange_,s,o,a)||l;else l=f1(r,e,n,t,this.boundHandleStyleImageChange_,s,o,a);return l}}class h0 extends ZL{constructor(e){super(e)}createRenderer(){return new K3(this)}}let Z3=!1;function Q3(i,e,t,n,r,s,o){const a=new XMLHttpRequest;a.open("GET",typeof i=="function"?i(t,n,r):i,!0),e.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=Z3,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){const c=e.getType();try{let u;c=="text"||c=="json"?u=a.responseText:c=="xml"?u=a.responseXML||a.responseText:c=="arraybuffer"&&(u=a.response),u?s(e.readFeatures(u,{extent:t,featureProjection:r}),e.readProjection(u)):o()}catch{o()}}else o()},a.onerror=o,a.send()}function p1(i,e){return function(t,n,r,s,o){Q3(i,e,t,n,r,(a,l)=>{this.addFeatures(a),s!==void 0&&s(a)},()=>{this.changed(),o!==void 0&&o()})}}function J3(i,e){return[[-1/0,-1/0,1/0,1/0]]}const g1=fn();class ln{constructor(e,t,n,r,s,o){this.styleFunction,this.extent_,this.id_=o,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n||null,this.properties_=s,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?Sw(this.flatCoordinates_):Ew(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=_s(this.getExtent());this.flatInteriorPoints_=Fw(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=l5(this.flatCoordinates_,this.ends_),t=y3(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=r5(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=u0(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const n=this.ends_;for(let r=0,s=n.length;r<s;++r){const o=n[r],a=u0(e,t,o,2,.5);Xa(this.flatMidpoints_,a),t=o}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=xi(e);const t=e.getExtent(),n=e.getWorldExtent();if(t&&n){const r=li(n)/li(t);kr(g1,n[0],n[3],r,-r,0,0,0),us(this.flatCoordinates_,0,this.flatCoordinates_.length,2,g1,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new ln(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=eL((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);const n=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":n.length=af(n,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,n,0),r=[n.length];break;case"MultiLineString":r=[],n.length=t5(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,n,0,r);break;case"Polygon":r=[],n.length=CL(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),n,0,r);break}return r&&(this.simplifiedGeometry_=new ln(this.type_,n,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}ln.prototype.getFlatCoordinates=ln.prototype.getOrientedFlatCoordinates;class v1{constructor(e){this.rbush_=new FL(e),this.items_={}}insert(e,t){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(n),this.items_[Se(t)]=n}load(e,t){const n=new Array(t.length);for(let r=0,s=t.length;r<s;r++){const o=e[r],a=t[r],l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};n[r]=l,this.items_[Se(a)]=l}this.rbush_.load(n)}remove(e){const t=Se(e),n=this.items_[t];return delete this.items_[t],this.rbush_.remove(n)!==null}update(e,t){const n=this.items_[Se(t)],r=[n.minX,n.minY,n.maxX,n.maxY];Oc(r,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(r){return r.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let n;for(let r=0,s=e.length;r<s;r++)if(n=t(e[r]),n)return n;return n}isEmpty(){return Ka(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return ys(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}}class cF extends En{constructor(e){super(),this.projection=xi(e.projection),this.attributions_=y1(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(n,r){t.viewResolver=n,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=y1(e),this.changed()}setState(e){this.state_=e,this.changed()}}function y1(i){return i?typeof i=="function"?i:(Array.isArray(i)||(i=[i]),e=>i):null}const Yi={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class Xr extends Un{constructor(e,t,n){super(e),this.feature=t,this.features=n}}class d0 extends cF{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Rc,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(je(this.format_,"`format` must be set when `url` is set"),this.loader_=p1(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:J3;const t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new v1:null,this.loadedExtentsRtree_=new v1,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let n,r;Array.isArray(e.features)?r=e.features:e.features&&(n=e.features,r=n.getArray()),!t&&n===void 0&&(n=new un(r)),r!==void 0&&this.addFeaturesInternal(r),n!==void 0&&this.bindFeaturesCollection_(n)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=Se(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);const n=e.getGeometry();if(n){const r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Xr(Yi.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof ln||(this.featureChangeKeys_[e]=[ke(t,fe.CHANGE,this.handleFeatureChange_,this),ke(t,Va.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let n=!0;if(t.getId()!==void 0){const r=String(t.getId());if(!(r in this.idIndex_))this.idIndex_[r]=t;else if(t instanceof ln){const s=this.idIndex_[r];s instanceof ln?Array.isArray(s)?s.push(t):this.idIndex_[r]=[s,t]:n=!1}else n=!1}return n&&(je(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),n}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],n=[],r=[];for(let s=0,o=e.length;s<o;s++){const a=e[s],l=Se(a);this.addToIndex_(l,a)&&n.push(a)}for(let s=0,o=n.length;s<o;s++){const a=n[s],l=Se(a);this.setupChangeEvents_(l,a);const c=a.getGeometry();if(c){const u=c.getExtent();t.push(u),r.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(t,r),this.hasListener(Yi.ADDFEATURE))for(let s=0,o=n.length;s<o;s++)this.dispatchEvent(new Xr(Yi.ADDFEATURE,n[s]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(Yi.ADDFEATURE,function(n){t||(t=!0,e.push(n.feature),t=!1)}),this.addEventListener(Yi.REMOVEFEATURE,function(n){t||(t=!0,e.remove(n.feature),t=!1)}),e.addEventListener(jt.ADD,n=>{t||(t=!0,this.addFeature(n.element),t=!1)}),e.addEventListener(jt.REMOVE,n=>{t||(t=!0,this.removeFeature(n.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const n in this.featureChangeKeys_)this.featureChangeKeys_[n].forEach(st);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(n=>{this.removeFeatureInternal(n)});for(const n in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new Xr(Yi.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const n=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(n,function(r){const s=r.getGeometry();if(s instanceof ln||s.intersectsCoordinate(e))return t(r)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(n){const r=n.getGeometry();if(r instanceof ln||r.intersectsExtent(e)){const s=t(n);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Ka(this.nullGeometryFeatures_)||Xa(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(n){t.push(n)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const r=cL(e,t);return[].concat(...r.map(s=>this.featuresRtree_.getInExtent(s)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const n=e[0],r=e[1];let s=null;const o=[NaN,NaN];let a=1/0;const l=[-1/0,-1/0,1/0,1/0];return t=t||go,this.featuresRtree_.forEachInExtent(l,function(c){if(t(c)){const u=c.getGeometry(),h=a;if(a=u instanceof ln?0:u.closestPointXY(n,r,o,a),a<h){s=c;const d=Math.sqrt(a);l[0]=n-d,l[1]=r-d,l[2]=n+d,l[3]=r+d}}}),s}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,n=Se(t),r=t.getGeometry();if(!r)n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[n]=t);else{const o=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,t)):this.featuresRtree_&&this.featuresRtree_.update(o,t)}const s=t.getId();if(s!==void 0){const o=s.toString();this.idIndex_[o]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[o]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[n]=t;this.changed(),this.dispatchEvent(new Xr(Yi.CHANGEFEATURE,t))}hasFeature(e){const t=e.getId();return t!==void 0?t in this.idIndex_:Se(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Ka(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,n){const r=this.loadedExtentsRtree_,s=this.strategy_(e,t,n);for(let o=0,a=s.length;o<a;++o){const l=s[o];r.forEachInExtent(l,function(u){return wa(u.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Xr(Yi.FEATURESLOADSTART)),this.loader_.call(this,l,t,n,u=>{--this.loadingExtentsCount_,this.dispatchEvent(new Xr(Yi.FEATURESLOADEND,void 0,u))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Xr(Yi.FEATURESLOADERROR))}),r.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_,n=t.forEachInExtent(e,function(r){if(Oc(r.extent,e))return r});n&&t.remove(n)}removeFeatures(e){let t=!1;for(let n=0,r=e.length;n<r;++n)t=this.removeFeatureInternal(e[n])||t;t&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=Se(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[t]?.forEach(st),delete this.featureChangeKeys_[t];const r=e.getId();if(r!==void 0){const s=r.toString(),o=this.idIndex_[s];o===e?delete this.idIndex_[s]:Array.isArray(o)&&(o.splice(o.indexOf(e),1),o.length===1&&(this.idIndex_[s]=o[0]))}return delete this.uidIndex_[t],this.hasListener(Yi.REMOVEFEATURE)&&this.dispatchEvent(new Xr(Yi.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(const t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){je(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(p1(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}}const eX={SELECT:"select"};class tX extends Un{constructor(e,t,n,r){super(e),this.selected=t,this.deselected=n,this.mapBrowserEvent=r}}const _h={};let iX=class uF extends wl{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:M5,this.addCondition_=e.addCondition?e.addCondition:HE,this.removeCondition_=e.removeCondition?e.removeCondition:HE,this.toggleCondition_=e.toggleCondition?e.toggleCondition:Uw,this.multi_=e.multi?e.multi:!1,this.filter_=e.filter?e.filter:go,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=e.style!==void 0?e.style:nX(),this.features_=e.features||new un;let t;if(e.layers)if(typeof e.layers=="function")t=e.layers;else{const n=e.layers;t=function(r){return n.includes(r)}}else t=go;this.layerFilter_=t,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,t){this.featureLayerAssociation_[Se(e)]=t}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[Se(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(jt.ADD,this.boundAddFeature_),this.features_.addEventListener(jt.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(jt.ADD,this.boundAddFeature_),this.features_.removeEventListener(jt.REMOVE,this.boundRemoveFeature_))}addFeature_(e){const t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){const n=this.getMap().getAllLayers().find(function(r){if(r instanceof h0&&r.getSource()&&r.getSource().hasFeature(t))return r});n&&this.addFeatureLayerAssociation_(t,n)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}getStyle(){return this.style_}applySelectedStyle_(e){const t=Se(e);t in _h||(_h[t]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){const t=this.getMap().getInteractions().getArray();for(let r=t.length-1;r>=0;--r){const s=t[r];if(s!==this&&s instanceof uF&&s.getStyle()&&s.getFeatures().getArray().lastIndexOf(e)!==-1){e.setStyle(s.getStyle());return}}const n=Se(e);e.setStyle(_h[n]),delete _h[n]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[Se(e)]}handleEvent(e){if(!this.condition_(e))return!0;const t=this.addCondition_(e),n=this.removeCondition_(e),r=this.toggleCondition_(e),s=!t&&!n&&!r,o=e.map,a=this.getFeatures(),l=[],c=[];if(s){_l(this.featureLayerAssociation_),o.forEachFeatureAtPixel(e.pixel,(u,h)=>{if(!(!(u instanceof Ar)||!this.filter_(u,h)))return this.addFeatureLayerAssociation_(u,h),c.push(u),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let u=a.getLength()-1;u>=0;--u){const h=a.item(u),d=c.indexOf(h);d>-1?c.splice(d,1):(a.remove(h),l.push(h))}c.length!==0&&a.extend(c)}else{o.forEachFeatureAtPixel(e.pixel,(u,h)=>{if(!(!(u instanceof Ar)||!this.filter_(u,h)))return(t||r)&&!a.getArray().includes(u)?(this.addFeatureLayerAssociation_(u,h),c.push(u)):(n||r)&&a.getArray().includes(u)&&(l.push(u),this.removeFeatureLayerAssociation_(u)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let u=l.length-1;u>=0;--u)a.remove(l[u]);a.extend(c)}return(c.length>0||l.length>0)&&this.dispatchEvent(new tX(eX.SELECT,c,l,e)),!0}};function nX(){const i=VV();return Xa(i.Polygon,i.LineString),Xa(i.GeometryCollection,i.LineString),function(e){return e.getGeometry()?i[e.getGeometry().getType()]:null}}class ix extends Xd{constructor(e,t,n){super(),n=n||{},this.tileCoord=e,this.state=t,this.key="",this.transition_=n.transition===void 0?250:n.transition,this.transitionStarts_={},this.interpolate=!!n.interpolate}changed(){this.dispatchEvent(fe.CHANGE)}release(){this.setState(oe.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==oe.EMPTY){if(this.state!==oe.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}}load(){Ae()}getAlpha(e,t){if(!this.transition_)return 1;let n=this.transitionStarts_[e];if(!n)n=t,this.transitionStarts_[e]=n;else if(n===-1)return 1;const r=t-n+1e3/60;return r>=this.transition_?1:fL(r/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}function f0(i){return i instanceof Image||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageBitmap?i:null}const rX=new Error("disposed"),sX=[256,256];class _1 extends ix{constructor(e){const t=oe.IDLE;super(e.tileCoord,t,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=f0(this.data_);return e?[e.width,e.height]:sX}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==oe.IDLE&&this.state!==oe.ERROR)return;this.state=oe.LOADING,this.changed();const e=this;this.loader_().then(function(t){e.data_=t,e.state=oe.LOADED,e.changed()}).catch(function(t){e.error_=t,e.state=oe.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(rX),this.controller_=null),super.disposeInternal()}}class hF extends ix{constructor(e,t,n,r,s,o){super(e,t,o),this.crossOrigin_=r,this.src_=n,this.key=n,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=oe.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=oe.ERROR,this.unlistenImage_(),this.image_=oX(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=oe.LOADED:this.state=oe.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==oe.ERROR&&(this.state=oe.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==oe.IDLE&&(this.state=oe.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=NV(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function oX(){const i=Nt(1,1);return i.fillStyle="rgba(0,0,0,0)",i.fillRect(0,0,1,1),i.canvas}let Fm;const ja=[];function b1(i,e,t,n,r){i.beginPath(),i.moveTo(0,0),i.lineTo(e,t),i.lineTo(n,r),i.closePath(),i.save(),i.clip(),i.fillRect(0,0,Math.max(e,n)+1,Math.max(t,r)),i.restore()}function $m(i,e){return Math.abs(i[e*4]-210)>2||Math.abs(i[e*4+3]-.75*255)>2}function aX(){if(Fm===void 0){const i=Nt(6,6,ja);i.globalCompositeOperation="lighter",i.fillStyle="rgba(210, 0, 0, 0.75)",b1(i,4,5,4,0),b1(i,4,5,0,5);const e=i.getImageData(0,0,3,3).data;Fm=$m(e,0)||$m(e,4)||$m(e,8),cf(i),ja.push(i.canvas)}return Fm}function w1(i,e,t,n){const r=Mw(t,e,i);let s=PE(e,n,t);const o=e.getMetersPerUnit();o!==void 0&&(s*=o);const a=i.getMetersPerUnit();a!==void 0&&(s/=a);const l=i.getExtent();if(!l||Za(l,r)){const c=PE(i,s,r)/s;isFinite(c)&&c>0&&(s/=c)}return s}function lX(i,e,t,n){const r=_s(t);let s=w1(i,e,r,n);return(!isFinite(s)||s<=0)&&oL(t,function(o){return s=w1(i,e,o,n),isFinite(s)&&s>0}),s}function cX(i,e,t,n,r,s,o,a,l,c,u,h,d,f){const m=Nt(Math.round(t*i),Math.round(t*e),ja);if(h||(m.imageSmoothingEnabled=!1),l.length===0)return m.canvas;m.scale(t,t);function p(x){return Math.round(x*t)/t}m.globalCompositeOperation="lighter";const g=Li();l.forEach(function(x,C,E){iU(g,x.extent)});let v;const y=t/n,w=(h?1:1+Math.pow(2,-24))/y;v=Nt(Math.round(Be(g)*y),Math.round(li(g)*y),ja),h||(v.imageSmoothingEnabled=!1),l.forEach(function(x,C,E){if(x.image.width>0&&x.image.height>0){if(x.clipExtent){v.save();const M=(x.clipExtent[0]-g[0])*y,N=-(x.clipExtent[3]-g[3])*y,F=Be(x.clipExtent)*y,q=li(x.clipExtent)*y;v.rect(h?M:Math.round(M),h?N:Math.round(N),h?F:Math.round(M+F)-Math.round(M),h?q:Math.round(N+q)-Math.round(N)),v.clip()}const S=(x.extent[0]-g[0])*y,R=-(x.extent[3]-g[3])*y,I=Be(x.extent)*y,k=li(x.extent)*y;v.drawImage(x.image,c,c,x.image.width-2*c,x.image.height-2*c,h?S:Math.round(S),h?R:Math.round(R),h?I:Math.round(S+I)-Math.round(S),h?k:Math.round(R+k)-Math.round(R)),x.clipExtent&&v.restore()}});const b=ko(o);return a.getTriangles().forEach(function(x,C,E){const S=x.source,R=x.target;let I=S[0][0],k=S[0][1],M=S[1][0],N=S[1][1],F=S[2][0],q=S[2][1];const A=p((R[0][0]-b[0])/s),z=p(-(R[0][1]-b[1])/s),P=p((R[1][0]-b[0])/s),G=p(-(R[1][1]-b[1])/s),U=p((R[2][0]-b[0])/s),K=p(-(R[2][1]-b[1])/s),D=I,L=k;I=0,k=0,M-=D,N-=L,F-=D,q-=L;const $=[[M,N,0,0,P-A],[F,q,0,0,U-A],[0,0,M,N,G-z],[0,0,F,q,K-z]],j=eU($);if(!j)return;if(m.save(),m.beginPath(),aX()||!h){m.moveTo(P,G);const W=4,Z=A-P,J=z-G;for(let ae=0;ae<W;ae++)m.lineTo(P+p((ae+1)*Z/W),G+p(ae*J/(W-1))),ae!=W-1&&m.lineTo(P+p((ae+1)*Z/W),G+p((ae+1)*J/(W-1)));m.lineTo(U,K)}else m.moveTo(P,G),m.lineTo(A,z),m.lineTo(U,K);m.clip(),m.transform(j[0],j[2],j[1],j[3],A,z),m.translate(g[0]-D,g[3]-L);let B;if(v)B=v.canvas,m.scale(w,-w);else{const W=l[0],Z=W.extent;B=W.image,m.scale(Be(Z)/B.width,-li(Z)/B.height)}m.drawImage(B,0,0),m.restore()}),v&&(cf(v),ja.push(v.canvas)),u&&(m.save(),m.globalCompositeOperation="source-over",m.strokeStyle="black",m.lineWidth=1,a.getTriangles().forEach(function(x,C,E){const S=x.target,R=(S[0][0]-b[0])/s,I=-(S[0][1]-b[1])/s,k=(S[1][0]-b[0])/s,M=-(S[1][1]-b[1])/s,N=(S[2][0]-b[0])/s,F=-(S[2][1]-b[1])/s;m.beginPath(),m.moveTo(k,M),m.lineTo(R,I),m.lineTo(N,F),m.closePath(),m.stroke()}),m.restore()),m.canvas}const uX=10,x1=.25;class hX{constructor(e,t,n,r,s,o,a){this.sourceProj_=e,this.targetProj_=t;let l={};const c=a?FU(w=>$t(a,Mw(w,this.targetProj_,this.sourceProj_))):rd(this.targetProj_,this.sourceProj_);this.transformInv_=function(w){const b=w[0]+"/"+w[1];return l[b]||(l[b]=c(w)),l[b]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Be(r)>=Be(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Be(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Be(this.targetProj_.getExtent()):null;const u=ko(n),h=tf(n),d=ef(n),f=Jd(n),m=this.transformInv_(u),p=this.transformInv_(h),g=this.transformInv_(d),v=this.transformInv_(f),y=uX+(o?Math.max(0,Math.ceil(Math.log2(Qb(n)/(o*o*256*256)))):0);if(this.addQuad_(u,h,d,f,m,p,g,v,y),this.wrapsXInSource_){let w=1/0;this.triangles_.forEach(function(b,x,C){w=Math.min(w,b.source[0][0],b.source[1][0],b.source[2][0])}),this.triangles_.forEach(b=>{if(Math.max(b.source[0][0],b.source[1][0],b.source[2][0])-w>this.sourceWorldWidth_/2){const x=[[b.source[0][0],b.source[0][1]],[b.source[1][0],b.source[1][1]],[b.source[2][0],b.source[2][1]]];x[0][0]-w>this.sourceWorldWidth_/2&&(x[0][0]-=this.sourceWorldWidth_),x[1][0]-w>this.sourceWorldWidth_/2&&(x[1][0]-=this.sourceWorldWidth_),x[2][0]-w>this.sourceWorldWidth_/2&&(x[2][0]-=this.sourceWorldWidth_);const C=Math.min(x[0][0],x[1][0],x[2][0]);Math.max(x[0][0],x[1][0],x[2][0])-C<this.sourceWorldWidth_/2&&(b.source=x)}})}l={}}addTriangle_(e,t,n,r,s,o){this.triangles_.push({source:[r,s,o],target:[e,t,n]})}addQuad_(e,t,n,r,s,o,a,l,c){const u=xE([s,o,a,l]),h=this.sourceWorldWidth_?Be(u)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&h>.5&&h<1;let m=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const g=xE([e,t,n,r]);m=Be(g)/this.targetWorldWidth_>x1||m}!f&&this.sourceProj_.isGlobal()&&h&&(m=h>x1||m)}if(!m&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!yi(u,this.maxSourceExtent_))return;let p=0;if(!m&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)m=!0;else if(p=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),p!=1&&p!=2&&p!=4&&p!=8)return}if(c>0){if(!m){const g=[(e[0]+n[0])/2,(e[1]+n[1])/2],v=this.transformInv_(g);let y;f?y=(Na(s[0],d)+Na(a[0],d))/2-Na(v[0],d):y=(s[0]+a[0])/2-v[0];const w=(s[1]+a[1])/2-v[1];m=y*y+w*w>this.errorThresholdSquared_}if(m){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){const g=[(t[0]+n[0])/2,(t[1]+n[1])/2],v=this.transformInv_(g),y=[(r[0]+e[0])/2,(r[1]+e[1])/2],w=this.transformInv_(y);this.addQuad_(e,t,g,y,s,o,v,w,c-1),this.addQuad_(y,g,n,r,w,v,a,l,c-1)}else{const g=[(e[0]+t[0])/2,(e[1]+t[1])/2],v=this.transformInv_(g),y=[(n[0]+r[0])/2,(n[1]+r[1])/2],w=this.transformInv_(y);this.addQuad_(e,g,y,r,s,v,w,l,c-1),this.addQuad_(g,t,n,y,v,o,a,w,c-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(p&11)==0&&this.addTriangle_(e,n,r,s,a,l),(p&14)==0&&this.addTriangle_(e,n,t,s,a,o),p&&((p&13)==0&&this.addTriangle_(t,r,e,o,l,s),(p&7)==0&&this.addTriangle_(t,r,n,o,l,a))}calculateSourceExtent(){const e=Li();return this.triangles_.forEach(function(t,n,r){const s=t.source;mc(e,s[0]),mc(e,s[1]),mc(e,s[2])}),e}getTriangles(){return this.triangles_}}const dX=.5;class dF extends ix{constructor(e,t,n,r,s,o,a,l,c,u,h,d){super(s,oe.IDLE,d),this.renderEdges_=h!==void 0?h:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const f=r.getTileCoordExtent(this.wrappedTileCoord_),m=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const g=m?no(f,m):f;if(Qb(g)===0){this.state=oe.EMPTY;return}const v=e.getExtent();v&&(p?p=no(p,v):p=v);const y=r.getResolution(this.wrappedTileCoord_[0]),w=lX(e,n,g,y);if(!isFinite(w)||w<=0){this.state=oe.EMPTY;return}const b=u!==void 0?u:dX;if(this.triangulation_=new hX(e,n,g,p,w*b,y),this.triangulation_.getTriangles().length===0){this.state=oe.EMPTY;return}this.sourceZ_=t.getZForResolution(w);let x=this.triangulation_.calculateSourceExtent();if(p&&(e.canWrapX()?(x[1]=mt(x[1],p[1],p[3]),x[3]=mt(x[3],p[1],p[3])):x=no(x,p)),!Qb(x))this.state=oe.EMPTY;else{let C=0,E=0;e.canWrapX()&&(C=Be(v),E=Math.floor((x[0]-v[0])/C)),cL(x.slice(),e,!0).forEach(R=>{const I=t.getTileRangeForExtentAndZ(R,this.sourceZ_);for(let k=I.minX;k<=I.maxX;k++)for(let M=I.minY;M<=I.maxY;M++){const N=c(this.sourceZ_,k,M,a);if(N){const F=E*C;this.sourceTiles_.push({tile:N,offset:F})}}++E}),this.sourceTiles_.length===0&&(this.state=oe.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(t=>{const n=t.tile;if(n&&n.getState()==oe.LOADED){const r=this.sourceTileGrid_.getTileCoordExtent(n.tileCoord);r[0]+=t.offset,r[2]+=t.offset;const s=this.clipExtent_?.slice();s&&(s[0]+=t.offset,s[2]+=t.offset),e.push({extent:r,clipExtent:s,image:n.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=oe.ERROR;else{const t=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(t),r=typeof n=="number"?n:n[0],s=typeof n=="number"?n:n[1],o=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=cX(r,s,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=oe.LOADED}this.changed()}load(){if(this.state==oe.IDLE){this.state=oe.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{const n=t.getState();if(n==oe.IDLE||n==oe.LOADING){e++;const r=ke(t,fe.CHANGE,s=>{const o=t.getState();(o==oe.LOADED||o==oe.ERROR||o==oe.EMPTY)&&(st(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:t},n,r){t.getState()==oe.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(st),this.sourcesListenerKeys_=null}release(){this.canvas_&&(cf(this.canvas_.getContext("2d")),ja.push(this.canvas_),this.canvas_=null),super.release()}}class nx{constructor(e,t,n,r){this.minX=e,this.maxX=t,this.minY=n,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function ia(i,e,t,n,r){return r!==void 0?(r.minX=i,r.maxX=e,r.minY=t,r.maxY=n,r):new nx(i,e,t,n)}class fX{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const e=this.pop();e instanceof Vd&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const n=this.entries_[e];return je(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}remove(e){const t=this.entries_[e];return je(t!==void 0,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t=0,n;for(n=this.newest_;n;n=n.older)e[t++]=n.key_;return e}getValues(){const e=new Array(this.count_);let t=0,n;for(n=this.newest_;n;n=n.older)e[t++]=n.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){je(!(e in this.entries_),"Tried to set a value for a key that is used already");const n={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[e]=n,++this.count_}setSize(e){this.highWaterMark=e}}function dd(i,e,t,n){return n!==void 0?(n[0]=i,n[1]=e,n[2]=t,n):[i,e,t]}function mX(i,e,t){return i+"/"+e+"/"+t}function pX(i){return gX(i[0],i[1],i[2])}function gX(i,e,t){return(e<<i)+t}function vX(i,e){const t=i[0],n=i[1],r=i[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;const s=e.getFullTileRange(t);return s?s.containsXY(n,r):!0}function jm(i,e,t,n,r){return`${Se(i)},${e},${mX(t,n,r)}`}function Wm(i,e,t){if(!(t in i))return i[t]=new Set([e]),!0;const n=i[t],r=n.has(e);return r||n.add(e),!r}function yX(i,e,t){const n=i[t];return n?n.delete(e):!1}function S1(i,e){const t=i.layerStatesArray[i.layerIndex];t.extent&&(e=no(e,ss(t.extent,i.viewState.projection)));const n=t.layer.getRenderSource();if(!n.getWrapX()){const r=n.getTileGridForProjection(i.viewState.projection).getExtent();r&&(e=no(e,r))}return e}class _X extends lF{constructor(e,t){super(e),t=t||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Li(),this.tempTileRange_=new nx(0,0,0,0),this.tempTileCoord_=dd(0,0,0);const n=t.cacheSize!==void 0?t.cacheSize:512;this.tileCache_=new fX(n),this.maxStaleKeys=n*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,t,n,r){const s=this.tileCache_,a=this.getLayer().getSource(),l=jm(a,a.getKey(),e,t,n);let c;if(s.containsKey(l))c=s.get(l);else{if(c=a.getTile(e,t,n,r.pixelRatio,r.viewState.projection),!c)return null;s.set(l,c)}return c}getTile(e,t,n,r){const s=this.getOrCreateTile(e,t,n,r);return s||null}getData(e){const t=this.frameState;if(!t)return null;const n=this.getLayer(),r=$t(t.pixelToCoordinateTransform,e.slice()),s=n.getExtent();if(s&&!Za(s,r))return null;const o=t.viewState,a=n.getRenderSource(),l=a.getTileGridForProjection(o.projection),c=a.getTilePixelRatio(t.pixelRatio);for(let u=l.getZForResolution(o.resolution);u>=l.getMinZoom();--u){const h=l.getTileCoordForCoordAndZ(r,u),d=this.getTile(u,h[1],h[2],t);if(!d||d.getState()!==oe.LOADED)continue;const f=l.getOrigin(u),m=bi(l.getTileSize(u)),p=l.getResolution(u);let g;if(d instanceof hF||d instanceof dF)g=d.getImage();else if(d instanceof _1){if(g=f0(d.getData()),!g)continue}else continue;const v=Math.floor(c*((r[0]-f[0])/p-h[1]*m[0])),y=Math.floor(c*((f[1]-r[1])/p-h[2]*m[1])),w=Math.round(c*a.getGutterForProjection(o.projection));return this.getImageData(g,v+w,y+w)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;const t=this.getLayer().getSource();if(!t)return!1;const n=t.getRevision();return this.renderedSourceRevision_?this.renderedSourceRevision_!==n&&(this.renderedSourceRevision_=n,this.renderedSourceKey_===t.getKey()&&this.tileCache_.clear()):this.renderedSourceRevision_=n,!0}enqueueTiles(e,t,n,r,s){const o=e.viewState,a=this.getLayer(),l=a.getRenderSource(),c=l.getTileGridForProjection(o.projection),u=Se(l);u in e.wantedTiles||(e.wantedTiles[u]={});const h=e.wantedTiles[u],d=a.getMapInternal(),f=Math.max(n-s,c.getMinZoom(),c.getZForResolution(Math.min(a.getMaxResolution(),d?d.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):c.getResolution(0)),l.zDirection)),m=o.rotation,p=m?aL(o.center,o.resolution,m,e.size):void 0;for(let g=n;g>=f;--g){const v=c.getTileRangeForExtentAndZ(t,g,this.tempTileRange_),y=c.getResolution(g);for(let w=v.minX;w<=v.maxX;++w)for(let b=v.minY;b<=v.maxY;++b){if(m&&!c.tileCoordIntersectsViewport([g,w,b],p))continue;const x=this.getTile(g,w,b,e);if(!x||!Wm(r,x,g))continue;const E=x.getKey();if(h[E]=!0,x.getState()===oe.IDLE&&!e.tileQueue.isKeyQueued(E)){const S=dd(g,w,b,this.tempTileCoord_);e.tileQueue.enqueue([x,u,c.getTileCoordCenter(S),y])}}}}findStaleTile_(e,t){const n=this.tileCache_,r=e[0],s=e[1],o=e[2],a=this.getStaleKeys();for(let l=0;l<a.length;++l){const c=jm(this.getLayer().getSource(),a[l],r,s,o);if(n.containsKey(c)){const u=n.peek(c);if(u.getState()===oe.LOADED)return u.endTransition(Se(this)),Wm(t,u,r),!0}}return!1}findAltTiles_(e,t,n,r){const s=e.getTileRangeForTileCoordAndZ(t,n,this.tempTileRange_);if(!s)return!1;let o=!0;const a=this.tileCache_,l=this.getLayer().getRenderSource(),c=l.getKey();for(let u=s.minX;u<=s.maxX;++u)for(let h=s.minY;h<=s.maxY;++h){const d=jm(l,c,n,u,h);let f=!1;if(a.containsKey(d)){const m=a.peek(d);m.getState()===oe.LOADED&&(Wm(r,m,n),f=!0)}f||(o=!1)}return o}renderFrame(e,t){this.renderComplete=!0;const n=e.layerStatesArray[e.layerIndex],r=e.viewState,s=r.projection,o=r.resolution,a=r.center,l=e.pixelRatio,c=this.getLayer(),u=c.getSource(),h=u.getTileGridForProjection(s),d=h.getZForResolution(o,u.zDirection),f=h.getResolution(d),m=u.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==m&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=m):this.renderedSourceKey_=m;let p=e.extent;const g=u.getTilePixelRatio(l);this.prepareContainer(e,t);const v=this.context.canvas.width,y=this.context.canvas.height,w=n.extent&&ss(n.extent);w&&(p=no(p,ss(n.extent)));const b=f*v/2/g,x=f*y/2/g,C=[a[0]-b,a[1]-x,a[0]+b,a[1]+x],E={};this.renderedTiles.length=0;const S=c.getPreload();if(e.nextExtent){const P=h.getZForResolution(r.nextResolution,u.zDirection),G=S1(e,e.nextExtent);this.enqueueTiles(e,G,P,E,S)}const R=S1(e,p);if(this.enqueueTiles(e,R,d,E,0),S>0&&setTimeout(()=>{this.enqueueTiles(e,R,d-1,E,S-1)},0),!(d in E))return this.container;const I=Se(this),k=e.time;for(const P of E[d]){const G=P.getState();if(G===oe.EMPTY)continue;const U=P.tileCoord;if(G===oe.LOADED&&P.getAlpha(I,k)===1){P.endTransition(I);continue}if(G!==oe.ERROR&&(this.renderComplete=!1),this.findStaleTile_(U,E)){yX(E,P,d),e.animate=!0;continue}if(this.findAltTiles_(h,U,d+1,E))continue;const L=h.getMinZoom();for(let $=d-1;$>=L&&!this.findAltTiles_(h,U,$,E);--$);}const M=f/o*l/g,N=this.getRenderContext(e);kr(this.tempTransform,v/2,y/2,M,M,0,-v/2,-y/2),n.extent&&this.clipUnrotated(N,e,w),u.getInterpolate()||(N.imageSmoothingEnabled=!1),this.preRender(N,e);const F=Object.keys(E).map(Number);F.sort(_r);let q;const A=[],z=[];for(let P=F.length-1;P>=0;--P){const G=F[P],U=u.getTilePixelSize(G,l,s),D=h.getResolution(G)/f,L=U[0]*D*M,$=U[1]*D*M,j=h.getTileCoordForCoordAndZ(ko(C),G),B=h.getTileCoordExtent(j),W=$t(this.tempTransform,[g*(B[0]-C[0])/f,g*(C[3]-B[3])/f]),Z=g*u.getGutterForProjection(s);for(const J of E[G]){if(J.getState()!==oe.LOADED)continue;const ae=J.tileCoord,et=j[1]-ae[1],it=Math.round(W[0]-(et-1)*L),he=j[2]-ae[2],rt=Math.round(W[1]-(he-1)*$),gt=Math.round(W[0]-et*L),Et=Math.round(W[1]-he*$),vt=it-gt,qe=rt-Et,zi=F.length===1;let ri=!1;q=[gt,Et,gt+vt,Et,gt+vt,Et+qe,gt,Et+qe];for(let Yt=0,Kt=A.length;Yt<Kt;++Yt)if(!zi&&G<z[Yt]){const Ue=A[Yt];yi([gt,Et,gt+vt,Et+qe],[Ue[0],Ue[3],Ue[4],Ue[7]])&&(ri||(N.save(),ri=!0),N.beginPath(),N.moveTo(q[0],q[1]),N.lineTo(q[2],q[3]),N.lineTo(q[4],q[5]),N.lineTo(q[6],q[7]),N.moveTo(Ue[6],Ue[7]),N.lineTo(Ue[4],Ue[5]),N.lineTo(Ue[2],Ue[3]),N.lineTo(Ue[0],Ue[1]),N.clip())}A.push(q),z.push(G),this.drawTile(J,e,gt,Et,vt,qe,Z,zi),ri&&N.restore(),this.renderedTiles.unshift(J),this.updateUsedTiles(e.usedTiles,u,J)}}if(this.renderedResolution=f,this.extentChanged=!this.renderedExtent_||!Oc(this.renderedExtent_,C),this.renderedExtent_=C,this.renderedPixelRatio=l,this.postRender(this.context,e),n.extent&&N.restore(),N.imageSmoothingEnabled=!0,this.renderComplete){const P=(G,U)=>{const K=Se(u),D=U.wantedTiles[K],L=D?Object.keys(D).length:0;this.updateCacheSize(L),this.tileCache_.expireCache()};e.postRenderFunctions.push(P)}return this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,t,n,r,s,o,a,l){let c;if(e instanceof _1){if(c=f0(e.getData()),!c)throw new Error("Rendering array data is not yet supported")}else c=this.getTileImage(e);if(!c)return;const u=this.getRenderContext(t),h=Se(this),d=t.layerStatesArray[t.layerIndex],f=d.opacity*(l?e.getAlpha(h,t.time):1),m=f!==u.globalAlpha;m&&(u.save(),u.globalAlpha=f),u.drawImage(c,a,a,c.width-2*a,c.height-2*a,n,r,s,o),m&&u.restore(),f!==d.opacity?t.animate=!0:l&&e.endTransition(h)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,t,n){const r=Se(t);r in e||(e[r]={}),e[r][n.getKey()]=!0}}const bh={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class bX extends uf{constructor(e){e=e||{};const t=Object.assign({},e),n=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=n,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(bh.PRELOAD)}setPreload(e){this.set(bh.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(bh.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(bh.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class wX extends bX{constructor(e){super(e)}createRenderer(){return new _X(this,{cacheSize:this.getCacheSize()})}}const na=[0,0,0],Kr=5;class fF{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,je(qH(this.resolutions_,(r,s)=>s-r),"`resolutions` must be sorted in descending order");let t;if(!e.origins){for(let r=0,s=this.resolutions_.length-1;r<s;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,je(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const n=e.extent;n!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=ko(n)),je(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,je(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Gw,je(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=n!==void 0?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((r,s)=>{const o=new nx(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(n){const a=this.getTileRangeForExtentAndZ(n,s);o.minX=Math.max(a.minX,o.minX),o.maxX=Math.min(a.maxX,o.maxX),o.minY=Math.max(a.minY,o.minY),o.maxY=Math.min(a.maxY,o.maxY)}return o}):n&&this.calculateTileRanges_(n)}forEachTileCoord(e,t,n){const r=this.getTileRangeForExtentAndZ(e,t);for(let s=r.minX,o=r.maxX;s<=o;++s)for(let a=r.minY,l=r.maxY;a<=l;++a)n([t,s,a])}forEachTileCoordParentTileRange(e,t,n,r){let s,o,a,l=null,c=e[0]-1;for(this.zoomFactor_===2?(o=e[1],a=e[2]):l=this.getTileCoordExtent(e,r);c>=this.minZoom;){if(o!==void 0&&a!==void 0?(o=Math.floor(o/2),a=Math.floor(a/2),s=ia(o,o,a,a,n)):s=this.getTileRangeForExtentAndZ(l,c,n),t(c,s))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,n){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const s=e[1]*2,o=e[2]*2;return ia(s,s+1,o,o+1,t)}const r=this.getTileCoordExtent(e,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,n){if(t>this.maxZoom||t<this.minZoom)return null;const r=e[0],s=e[1],o=e[2];if(t===r)return ia(s,o,s,o,n);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,t-r),c=Math.floor(s*l),u=Math.floor(o*l);if(t<r)return ia(c,c,u,u,n);const h=Math.floor(l*(s+1))-1,d=Math.floor(l*(o+1))-1;return ia(c,h,u,d,n)}const a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t,n)}getTileRangeForExtentAndZ(e,t,n){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,na);const r=na[1],s=na[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,na);const o=na[1],a=na[2];return ia(r,o,s,a,n)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),n=this.getResolution(e[0]),r=bi(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*n,t[1]-(e[2]+.5)*r[1]*n]}getTileCoordExtent(e,t){const n=this.getOrigin(e[0]),r=this.getResolution(e[0]),s=bi(this.getTileSize(e[0]),this.tmpSize_),o=n[0]+e[1]*s[0]*r,a=n[1]-(e[2]+1)*s[1]*r,l=o+s[0]*r,c=a+s[1]*r;return ys(o,a,l,c,t)}getTileCoordForCoordAndResolution(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}getTileCoordForXYAndResolution_(e,t,n,r,s){const o=this.getZForResolution(n),a=n/this.getResolution(o),l=this.getOrigin(o),c=bi(this.getTileSize(o),this.tmpSize_);let u=a*(e-l[0])/n/c[0],h=a*(l[1]-t)/n/c[1];return r?(u=uh(u,Kr)-1,h=uh(h,Kr)-1):(u=ch(u,Kr),h=ch(h,Kr)),dd(o,u,h,s)}getTileCoordForXYAndZ_(e,t,n,r,s){const o=this.getOrigin(n),a=this.getResolution(n),l=bi(this.getTileSize(n),this.tmpSize_);let c=(e-o[0])/a/l[0],u=(o[1]-t)/a/l[1];return r?(c=uh(c,Kr)-1,u=uh(u,Kr)-1):(c=ch(c,Kr),u=ch(u,Kr)),dd(n,c,u,s)}getTileCoordForCoordAndZ(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const n=_w(this.resolutions_,e,t||0);return mt(n,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return OL(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,n=new Array(t);for(let r=this.minZoom;r<t;++r)n[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=n}}function mF(i){let e=i.getDefaultTileGrid();return e||(e=CX(i),i.setDefaultTileGrid(e)),e}function xX(i,e,t){const n=e[0],r=i.getTileCoordCenter(e),s=rx(t);if(!Za(s,r)){const o=Be(s),a=Math.ceil((s[0]-r[0])/o);return r[0]+=o*a,i.getTileCoordForCoordAndZ(r,n)}return e}function SX(i,e,t,n){n=n!==void 0?n:"top-left";const r=pF(i,e,t);return new fF({extent:i,origin:rU(i,n),resolutions:r,tileSize:t})}function EX(i){const e=i||{},t=e.extent||xi("EPSG:3857").getExtent(),n={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:pF(t,e.maxZoom,e.tileSize,e.maxResolution)};return new fF(n)}function pF(i,e,t,n){e=e!==void 0?e:f5,t=bi(t!==void 0?t:Gw);const r=li(i),s=Be(i);n=n>0?n:Math.max(s/t[0],r/t[1]);const o=e+1,a=new Array(o);for(let l=0;l<o;++l)a[l]=n/Math.pow(2,l);return a}function CX(i,e,t,n){const r=rx(i);return SX(r,e,t,n)}function rx(i){i=xi(i);let e=i.getExtent();if(!e){const t=180*Tw.degrees/i.getMetersPerUnit();e=ys(-t,-t,t,t)}return e}const TX=/\{z\}/g,RX=/\{x\}/g,OX=/\{y\}/g,IX=/\{-y\}/g;function DX(i,e,t,n,r){return i.replace(TX,e.toString()).replace(RX,t.toString()).replace(OX,n.toString()).replace(IX,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-n).toString()})}function PX(i){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(i);if(t){const n=t[1].charCodeAt(0),r=t[2].charCodeAt(0);let s;for(s=n;s<=r;++s)e.push(i.replace(t[0],String.fromCharCode(s)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(i),t){const n=parseInt(t[2],10);for(let r=parseInt(t[1],10);r<=n;r++)e.push(i.replace(t[0],r.toString()));return e}return e.push(i),e}function kX(i,e){return(function(t,n,r){if(!t)return;let s;const o=t[0];if(e){const a=e.getFullTileRange(o);a&&(s=a.getHeight()-1)}return DX(i,o,t[1],t[2],s)})}function MX(i,e){const t=i.length,n=new Array(t);for(let r=0;r<t;++r)n[r]=kX(i[r],e);return AX(n)}function AX(i){return i.length===1?i[0]:(function(e,t,n){if(!e)return;const r=pX(e),s=Na(r,i.length);return i[s](e,t,n)})}class NX extends cF{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const t=[256,256];this.tileGrid&&bi(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tmpSize=[0,0],this.key_=e.key||Se(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,n,r,s){return Ae()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:mF(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,n){const r=this.getTileGridForProjection(n),s=this.getTilePixelRatio(t),o=bi(r.getTileSize(e),this.tmpSize);return s==1?o:uV(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){const n=t!==void 0?t:this.getProjection(),r=t!==void 0?this.getTileGridForProjection(n):this.tileGrid||this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=xX(r,e,n)),vX(e,r)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class LX extends Un{constructor(e,t){super(e),this.tile=t}}const zm={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class sx extends NX{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===sx.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,n=Se(t),r=t.getState();let s;r==oe.LOADING?(this.tileLoadingKeys_[n]=!0,s=zm.TILELOADSTART):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],s=r==oe.ERROR?zm.TILELOADERROR:r==oe.LOADED?zm.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new LX(s,t))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=PX(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(MX(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,n){}}class FX extends sx{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:$X,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:hF,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!vm(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||vm(t,e)))return this.tileGrid;const n=Se(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=mF(e)),this.tileGridForProjection[n]}createTile_(e,t,n,r,s,o){const a=[e,t,n],l=this.getTileCoordForTileUrlFunction(a,s),c=l?this.tileUrlFunction(l,r,s):void 0,u=new this.tileClass(a,c!==void 0?oe.IDLE:oe.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=o,u.addEventListener(fe.CHANGE,this.handleTileChange.bind(this)),u}getTile(e,t,n,r,s){const o=this.getProjection();if(!o||!s||vm(o,s))return this.getTileInternal(e,t,n,r,o||s);const a=[e,t,n],l=this.getKey(),c=this.getTileGridForProjection(o),u=this.getTileGridForProjection(s),h=this.getTileCoordForTileUrlFunction(a,s),d=new dF(o,c,s,u,a,h,this.getTilePixelRatio(r),this.getGutter(),(f,m,p,g)=>this.getTileInternal(f,m,p,g,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return d.key=l,d}getTileInternal(e,t,n,r,s){const o=this.getKey();return this.createTile_(e,t,n,r,s,o)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,t){const n=xi(e);if(n){const r=Se(n);r in this.tileGridForProjection||(this.tileGridForProjection[r]=t)}}}function $X(i,e){i.getImage().src=e}class jX extends FX{constructor(e){e=e||{};const t=e.projection!==void 0?e.projection:"EPSG:3857",n=e.tileGrid!==void 0?e.tileGrid:EX({extent:rx(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}class WX extends d0{constructor(e){e=e||{},super({attributions:e.attributions,wrapX:e.wrapX}),this.resolution=void 0,this.distance=e.distance!==void 0?e.distance:20,this.minDistance=e.minDistance||0,this.interpolationRatio=0,this.features=[],this.geometryFunction=e.geometryFunction||function(t){const n=t.getGeometry();return je(!n||n.getType()==="Point","The default `geometryFunction` can only handle `Point` or null geometries"),n},this.createCustomCluster_=e.createCluster,this.source=null,this.boundRefresh_=this.refresh.bind(this),this.updateDistance(this.distance,this.minDistance),this.setSource(e.source||null)}clear(e){this.features.length=0,super.clear(e)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(e,t,n){this.source?.loadFeatures(e,t,n),t!==this.resolution&&(this.resolution=t,this.refresh())}setDistance(e){this.updateDistance(e,this.minDistance)}setMinDistance(e){this.updateDistance(this.distance,e)}getMinDistance(){return this.minDistance}setSource(e){this.source&&this.source.removeEventListener(fe.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(fe.CHANGE,this.boundRefresh_),this.refresh()}refresh(){this.clear(),this.cluster(),this.addFeatures(this.features)}updateDistance(e,t){const n=e===0?0:Math.min(t,e)/e,r=e!==this.distance||this.interpolationRatio!==n;this.distance=e,this.minDistance=t,this.interpolationRatio=n,r&&this.refresh()}cluster(){if(this.resolution===void 0||!this.source)return;const e=Li(),t=this.distance*this.resolution,n=this.source.getFeatures(),r={};for(let s=0,o=n.length;s<o;s++){const a=n[s];if(!(Se(a)in r)){const l=this.geometryFunction(a);if(l){const c=l.getCoordinates();Sw(c,e),Zd(e,t,e);const u=this.source.getFeaturesInExtent(e).filter(function(h){const d=Se(h);return d in r?!1:(r[d]=!0,!0)});this.features.push(this.createCluster(u,e))}}}}createCluster(e,t){const n=[0,0];for(let a=e.length-1;a>=0;--a){const l=this.geometryFunction(e[a]);l?uL(n,l.getCoordinates()):e.splice(a,1)}hL(n,1/e.length);const r=_s(t),s=this.interpolationRatio,o=new Ss([n[0]*(1-s)+r[0]*s,n[1]*(1-s)+r[1]*s]);return this.createCustomCluster_?this.createCustomCluster_(o,e):new Ar({geometry:o,features:e})}}const Qt={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class zX extends En{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+y5,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Qt.ELEMENT,this.handleElementChanged),this.addChangeListener(Qt.MAP,this.handleMapChanged),this.addChangeListener(Qt.OFFSET,this.handleOffsetChanged),this.addChangeListener(Qt.POSITION,this.handlePositionChanged),this.addChangeListener(Qt.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(Qt.ELEMENT)}getId(){return this.id}getMap(){return this.get(Qt.MAP)||null}getOffset(){return this.get(Qt.OFFSET)}getPosition(){return this.get(Qt.POSITION)}getPositioning(){return this.get(Qt.POSITIONING)}handleElementChanged(){IL(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(this.element?.remove(),st(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=ke(e,lr.POSTRENDER,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(Qt.ELEMENT,e)}setMap(e){this.set(Qt.MAP,e)}setOffset(e){this.set(Qt.OFFSET,e)}setPosition(e){this.set(Qt.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get(Qt.POSITION))return;const n=this.getRect(t.getTargetElement(),t.getSize()),r=this.getElement(),s=this.getRect(r,[b5(r),w5(r)]);e=e||{};const o=e.margin===void 0?20:e.margin;if(!wa(n,s)){const a=s[0]-n[0],l=n[2]-s[2],c=s[1]-n[1],u=n[3]-s[3],h=[0,0];if(a<0?h[0]=a-o:l<0&&(h[0]=Math.abs(l)+o),c<0?h[1]=c-o:u<0&&(h[1]=Math.abs(u)+o),h[0]!==0||h[1]!==0){const d=t.getView().getCenterInternal(),f=t.getPixelFromCoordinateInternal(d);if(!f)return;const m=[f[0]+h[0],f[1]+h[1]],p=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(m),duration:p.duration,easing:p.easing})}}}getRect(e,t){const n=e.getBoundingClientRect(),r=n.left+window.pageXOffset,s=n.top+window.pageYOffset;return[r,s,r+t[0],s+t[1]]}setPositioning(e){this.set(Qt.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(!1);return}const n=e.getPixelFromCoordinate(t),r=e.getSize();this.updateRenderedPosition(n,r)}updateRenderedPosition(e,t){const n=this.element.style,r=this.getOffset(),s=this.getPositioning();this.setVisible(!0);const o=`${e[0]+r[0]}px`,a=`${e[1]+r[1]}px`;let l="0%",c="0%";s=="bottom-right"||s=="center-right"||s=="top-right"?l="-100%":(s=="bottom-center"||s=="center-center"||s=="top-center")&&(l="-50%"),s=="bottom-left"||s=="bottom-center"||s=="bottom-right"?c="-100%":(s=="center-left"||s=="center-center"||s=="center-right")&&(c="-50%");const u=`translate(${l}, ${c}) translate(${o}, ${a})`;this.rendered.transform_!=u&&(this.rendered.transform_=u,n.transform=u)}getOptions(){return this.options}}const E1=i=>{let e;const t=new Set,n=(c,u)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const d=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(f=>f(e,d))}},r=()=>e,a={setState:n,getState:r,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=i(n,r,a);return a},qX=(i=>i?E1(i):E1),GX=i=>i;function YX(i,e=GX){const t=Q.useSyncExternalStore(i.subscribe,Q.useCallback(()=>e(i.getState()),[i,e]),Q.useCallback(()=>e(i.getInitialState()),[i,e]));return Q.useDebugValue(t),t}const ox=new Xt({image:new Mr({radius:8,fill:new Zi({color:"hsl(97 22% 40%)"}),stroke:new zn({color:"silver",width:2})})}),BX=new Xt({image:new Mr({radius:10,fill:new Zi({color:"hsl(95 25% 45%)"}),stroke:new zn({color:"silver",width:2})})}),HX=i=>{const e=i.get("features").length;return e===1?i.get("features")[0].getStyle():[new Xt({image:new Mr({radius:10,fill:new Zi({color:"hsl(97 22% 40% / 0.7)"})})}),new Xt({image:new Mr({radius:14,fill:new Zi({color:"hsl(100 20% 35% / 0.7)"})}),text:new ff({text:e.toString(),fill:new Zi({color:"#fff"})})})]},UX=new Xt({stroke:new zn({color:"hsl(100 20% 35%)",width:2})}),VX=(i,e,t)=>new Xt({geometry:new Ss([i,e]),image:new gu({src:'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12"><polygon points="0,0 12,7 0,12" stroke="silver" fill="hsl(100 20% 35%)"/></svg>',anchor:[.75,.5],rotateWithView:!0,rotation:t})});function XX(i,e){const t=[UX],r=i.getGeometry().getCoordinates();for(let s=1;s<r.length;s++){const[o,a]=r[s-1],[l,c]=r[s],u=l-o,h=c-a,d=Math.atan2(h,u);t.push(VX(l,c,-d))}return t}function KX(){return new wX({source:new jX({url:"https://basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attributions:'&copy; <a href="https://carto.com/">CARTO</a>'})})}const ZX=()=>qX(i=>({selectedEntities:[],setSelectedEntities:e=>i({selectedEntities:e})}));function QX(){const i=new d0,e=new WX({distance:10,minDistance:5,source:i}),t=new h0({source:e,style:HX}),n=new d0,r=new h0({source:n}),s=ZX(),o=new m3({target:void 0,layers:[KX(),t,r],view:new Pn({center:Fa([35,31]),zoom:7.5}),controls:[]}),{select:a}=JX(o,s,i,{excludeLayers:[r]});return{map:o,select:a,entities:i,entitiesCluster:e,histories:n,store:s}}function JX(i,e,t,{excludeLayers:n}){const r=new iX({toggleCondition:A5,style:BX,filter:(a,l)=>!n?.includes(l)});i.addInteraction(r);const s=r.getFeatures(),o=new AL({condition:Uw});return o.on("boxend",()=>{const a=o.getGeometry().getExtent();t.forEachFeatureIntersectingExtent(a,l=>{l.getId()&&s.push(l)})}),i.addInteraction(o),s.on("change:length",a=>{const l=s.getArray(),c=l.flatMap(u=>u.get("features")??[]).concat(l.filter(u=>u.getId()));e.getState().setSelectedEntities(c.map(u=>u?.getId()))}),{select:r,dragBox:o}}function e4(i){const e=new Ar({geometry:new Ss(Fa([34.8+Math.random()*.1,31.2+Math.random()*.1]))});i.addFeature(e),e.setStyle(ox),e.setId(`entity-${Math.floor(Math.random()*1e4)}`)}function t4(i,e){const t=e.map(n=>{const r=new Ar({geometry:new Ss(Fa([n.location[0],n.location[1]]))});return r.setId(`${n.type}-${n.id}`),r.setStyle(ox),r});i.addFeatures(t)}function i4(i,e,t){const n=e.getFeatures();i.getFeatures().clear(),t.forEach(r=>{const s=n.find(o=>o.getId()===r);s&&i.getFeatures().push(s)})}function gF(i,e,t){const n=e.getFeatureById(t)?.getGeometry();n&&i?.getView().fit(n,{duration:1e3,maxZoom:14})}function n4(i,e){i.clear();const t=[];Object.entries(e).forEach(([n,r])=>{r.sort((a,l)=>a.time.localeCompare(l.time));const s=.5,o=(1-s)/(r.length-1);r.forEach((a,l)=>{const c=s+l*o,u=new Ar({geometry:new Ss(Fa([a.coords[0],a.coords[1]]))});u.setId(`${n}-${a.time}`);const h=ox.clone();h.getImage()?.setOpacity(c),u.setStyle(h),t.push(u)});for(let a=0;a<r.length-1;a++){const l=r[a],c=r[a+1],u=new Ar({geometry:new ud([Fa([l.coords[0],l.coords[1]]),Fa([c.coords[0],c.coords[1]])])});u.setId(`${n}-${l.time}-${c.time}`),u.setStyle(XX),t.push(u)}}),i.addFeatures(t)}function r4(i){i.clear()}var C1=1,s4=.9,o4=.8,a4=.17,qm=.1,Gm=.999,l4=.9999,c4=.99,u4=/[\\\/_+.#"@\[\(\{&]/,h4=/[\\\/_+.#"@\[\(\{&]/g,d4=/[\s-]/,vF=/[\s-]/g;function m0(i,e,t,n,r,s,o){if(s===e.length)return r===i.length?C1:c4;var a=`${r},${s}`;if(o[a]!==void 0)return o[a];for(var l=n.charAt(s),c=t.indexOf(l,r),u=0,h,d,f,m;c>=0;)h=m0(i,e,t,n,c+1,s+1,o),h>u&&(c===r?h*=C1:u4.test(i.charAt(c-1))?(h*=o4,f=i.slice(r,c-1).match(h4),f&&r>0&&(h*=Math.pow(Gm,f.length))):d4.test(i.charAt(c-1))?(h*=s4,m=i.slice(r,c-1).match(vF),m&&r>0&&(h*=Math.pow(Gm,m.length))):(h*=a4,r>0&&(h*=Math.pow(Gm,c-r))),i.charAt(c)!==e.charAt(s)&&(h*=l4)),(h<qm&&t.charAt(c-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&t.charAt(c-1)!==n.charAt(s))&&(d=m0(i,e,t,n,c+1,s+2,o),d*qm>h&&(h=d*qm)),h>u&&(u=h),c=t.indexOf(l,c+1);return o[a]=u,u}function T1(i){return i.toLowerCase().replace(vF," ")}function f4(i,e,t){return i=t&&t.length>0?`${i+" "+t.join(" ")}`:i,m0(i,e,T1(i),T1(e),0,0,{})}var Hl='[cmdk-group=""]',Ym='[cmdk-group-items=""]',m4='[cmdk-group-heading=""]',yF='[cmdk-item=""]',R1=`${yF}:not([aria-disabled="true"])`,p0="cmdk-item-select",va="data-value",p4=(i,e,t)=>f4(i,e,t),_F=_.createContext(void 0),_u=()=>_.useContext(_F),bF=_.createContext(void 0),ax=()=>_.useContext(bF),wF=_.createContext(void 0),xF=_.forwardRef((i,e)=>{let t=ya(()=>{var D,L;return{search:"",value:(L=(D=i.value)!=null?D:i.defaultValue)!=null?L:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=ya(()=>new Set),r=ya(()=>new Map),s=ya(()=>new Map),o=ya(()=>new Set),a=SF(i),{label:l,children:c,value:u,onValueChange:h,filter:d,shouldFilter:f,loop:m,disablePointerSelection:p=!1,vimBindings:g=!0,...v}=i,y=Ai(),w=Ai(),b=Ai(),x=_.useRef(null),C=T4();_o(()=>{if(u!==void 0){let D=u.trim();t.current.value=D,E.emit()}},[u]),_o(()=>{C(6,N)},[]);let E=_.useMemo(()=>({subscribe:D=>(o.current.add(D),()=>o.current.delete(D)),snapshot:()=>t.current,setState:(D,L,$)=>{var j,B,W,Z;if(!Object.is(t.current[D],L)){if(t.current[D]=L,D==="search")M(),I(),C(1,k);else if(D==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let J=document.getElementById(b);J?J.focus():(j=document.getElementById(y))==null||j.focus()}if(C(7,()=>{var J;t.current.selectedItemId=(J=F())==null?void 0:J.id,E.emit()}),$||C(5,N),((B=a.current)==null?void 0:B.value)!==void 0){let J=L??"";(Z=(W=a.current).onValueChange)==null||Z.call(W,J);return}}E.emit()}},emit:()=>{o.current.forEach(D=>D())}}),[]),S=_.useMemo(()=>({value:(D,L,$)=>{var j;L!==((j=s.current.get(D))==null?void 0:j.value)&&(s.current.set(D,{value:L,keywords:$}),t.current.filtered.items.set(D,R(L,$)),C(2,()=>{I(),E.emit()}))},item:(D,L)=>(n.current.add(D),L&&(r.current.has(L)?r.current.get(L).add(D):r.current.set(L,new Set([D]))),C(3,()=>{M(),I(),t.current.value||k(),E.emit()}),()=>{s.current.delete(D),n.current.delete(D),t.current.filtered.items.delete(D);let $=F();C(4,()=>{M(),$?.getAttribute("id")===D&&k(),E.emit()})}),group:D=>(r.current.has(D)||r.current.set(D,new Set),()=>{s.current.delete(D),r.current.delete(D)}),filter:()=>a.current.shouldFilter,label:l||i["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:y,inputId:b,labelId:w,listInnerRef:x}),[]);function R(D,L){var $,j;let B=(j=($=a.current)==null?void 0:$.filter)!=null?j:p4;return D?B(D,t.current.search,L):0}function I(){if(!t.current.search||a.current.shouldFilter===!1)return;let D=t.current.filtered.items,L=[];t.current.filtered.groups.forEach(j=>{let B=r.current.get(j),W=0;B.forEach(Z=>{let J=D.get(Z);W=Math.max(J,W)}),L.push([j,W])});let $=x.current;q().sort((j,B)=>{var W,Z;let J=j.getAttribute("id"),ae=B.getAttribute("id");return((W=D.get(ae))!=null?W:0)-((Z=D.get(J))!=null?Z:0)}).forEach(j=>{let B=j.closest(Ym);B?B.appendChild(j.parentElement===B?j:j.closest(`${Ym} > *`)):$.appendChild(j.parentElement===$?j:j.closest(`${Ym} > *`))}),L.sort((j,B)=>B[1]-j[1]).forEach(j=>{var B;let W=(B=x.current)==null?void 0:B.querySelector(`${Hl}[${va}="${encodeURIComponent(j[0])}"]`);W?.parentElement.appendChild(W)})}function k(){let D=q().find($=>$.getAttribute("aria-disabled")!=="true"),L=D?.getAttribute(va);E.setState("value",L||void 0)}function M(){var D,L,$,j;if(!t.current.search||a.current.shouldFilter===!1){t.current.filtered.count=n.current.size;return}t.current.filtered.groups=new Set;let B=0;for(let W of n.current){let Z=(L=(D=s.current.get(W))==null?void 0:D.value)!=null?L:"",J=(j=($=s.current.get(W))==null?void 0:$.keywords)!=null?j:[],ae=R(Z,J);t.current.filtered.items.set(W,ae),ae>0&&B++}for(let[W,Z]of r.current)for(let J of Z)if(t.current.filtered.items.get(J)>0){t.current.filtered.groups.add(W);break}t.current.filtered.count=B}function N(){var D,L,$;let j=F();j&&(((D=j.parentElement)==null?void 0:D.firstChild)===j&&(($=(L=j.closest(Hl))==null?void 0:L.querySelector(m4))==null||$.scrollIntoView({block:"nearest"})),j.scrollIntoView({block:"nearest"}))}function F(){var D;return(D=x.current)==null?void 0:D.querySelector(`${yF}[aria-selected="true"]`)}function q(){var D;return Array.from(((D=x.current)==null?void 0:D.querySelectorAll(R1))||[])}function A(D){let L=q()[D];L&&E.setState("value",L.getAttribute(va))}function z(D){var L;let $=F(),j=q(),B=j.findIndex(Z=>Z===$),W=j[B+D];(L=a.current)!=null&&L.loop&&(W=B+D<0?j[j.length-1]:B+D===j.length?j[0]:j[B+D]),W&&E.setState("value",W.getAttribute(va))}function P(D){let L=F(),$=L?.closest(Hl),j;for(;$&&!j;)$=D>0?E4($,Hl):C4($,Hl),j=$?.querySelector(R1);j?E.setState("value",j.getAttribute(va)):z(D)}let G=()=>A(q().length-1),U=D=>{D.preventDefault(),D.metaKey?G():D.altKey?P(1):z(1)},K=D=>{D.preventDefault(),D.metaKey?A(0):D.altKey?P(-1):z(-1)};return _.createElement(We.div,{ref:e,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:D=>{var L;(L=v.onKeyDown)==null||L.call(v,D);let $=D.nativeEvent.isComposing||D.keyCode===229;if(!(D.defaultPrevented||$))switch(D.key){case"n":case"j":{g&&D.ctrlKey&&U(D);break}case"ArrowDown":{U(D);break}case"p":case"k":{g&&D.ctrlKey&&K(D);break}case"ArrowUp":{K(D);break}case"Home":{D.preventDefault(),A(0);break}case"End":{D.preventDefault(),G();break}case"Enter":{D.preventDefault();let j=F();if(j){let B=new Event(p0);j.dispatchEvent(B)}}}}},_.createElement("label",{"cmdk-label":"",htmlFor:S.inputId,id:S.labelId,style:O4},l),gf(i,D=>_.createElement(bF.Provider,{value:E},_.createElement(_F.Provider,{value:S},D))))}),g4=_.forwardRef((i,e)=>{var t,n;let r=Ai(),s=_.useRef(null),o=_.useContext(wF),a=_u(),l=SF(i),c=(n=(t=l.current)==null?void 0:t.forceMount)!=null?n:o?.forceMount;_o(()=>{if(!c)return a.item(r,o?.id)},[c]);let u=EF(r,s,[i.value,i.children,s],i.keywords),h=ax(),d=bs(C=>C.value&&C.value===u.current),f=bs(C=>c||a.filter()===!1?!0:C.search?C.filtered.items.get(r)>0:!0);_.useEffect(()=>{let C=s.current;if(!(!C||i.disabled))return C.addEventListener(p0,m),()=>C.removeEventListener(p0,m)},[f,i.onSelect,i.disabled]);function m(){var C,E;p(),(E=(C=l.current).onSelect)==null||E.call(C,u.current)}function p(){h.setState("value",u.current,!0)}if(!f)return null;let{disabled:g,value:v,onSelect:y,forceMount:w,keywords:b,...x}=i;return _.createElement(We.div,{ref:ho(s,e),...x,id:r,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!d,"data-disabled":!!g,"data-selected":!!d,onPointerMove:g||a.getDisablePointerSelection()?void 0:p,onClick:g?void 0:m},i.children)}),v4=_.forwardRef((i,e)=>{let{heading:t,children:n,forceMount:r,...s}=i,o=Ai(),a=_.useRef(null),l=_.useRef(null),c=Ai(),u=_u(),h=bs(f=>r||u.filter()===!1?!0:f.search?f.filtered.groups.has(o):!0);_o(()=>u.group(o),[]),EF(o,a,[i.value,i.heading,l]);let d=_.useMemo(()=>({id:o,forceMount:r}),[r]);return _.createElement(We.div,{ref:ho(a,e),...s,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},t&&_.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},t),gf(i,f=>_.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?c:void 0},_.createElement(wF.Provider,{value:d},f))))}),y4=_.forwardRef((i,e)=>{let{alwaysRender:t,...n}=i,r=_.useRef(null),s=bs(o=>!o.search);return!t&&!s?null:_.createElement(We.div,{ref:ho(r,e),...n,"cmdk-separator":"",role:"separator"})}),_4=_.forwardRef((i,e)=>{let{onValueChange:t,...n}=i,r=i.value!=null,s=ax(),o=bs(c=>c.search),a=bs(c=>c.selectedItemId),l=_u();return _.useEffect(()=>{i.value!=null&&s.setState("search",i.value)},[i.value]),_.createElement(We.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:r?i.value:o,onChange:c=>{r||s.setState("search",c.target.value),t?.(c.target.value)}})}),b4=_.forwardRef((i,e)=>{let{children:t,label:n="Suggestions",...r}=i,s=_.useRef(null),o=_.useRef(null),a=bs(c=>c.selectedItemId),l=_u();return _.useEffect(()=>{if(o.current&&s.current){let c=o.current,u=s.current,h,d=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let f=c.offsetHeight;u.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return d.observe(c),()=>{cancelAnimationFrame(h),d.unobserve(c)}}},[]),_.createElement(We.div,{ref:ho(s,e),...r,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":n,id:l.listId},gf(i,c=>_.createElement("div",{ref:ho(o,l.listInnerRef),"cmdk-list-sizer":""},c)))}),w4=_.forwardRef((i,e)=>{let{open:t,onOpenChange:n,overlayClassName:r,contentClassName:s,container:o,...a}=i;return _.createElement(rN,{open:t,onOpenChange:n},_.createElement(lw,{container:o},_.createElement(lu,{"cmdk-overlay":"",className:r}),_.createElement(cu,{"aria-label":i.label,"cmdk-dialog":"",className:s},_.createElement(xF,{ref:e,...a}))))}),x4=_.forwardRef((i,e)=>bs(t=>t.filtered.count===0)?_.createElement(We.div,{ref:e,...i,"cmdk-empty":"",role:"presentation"}):null),S4=_.forwardRef((i,e)=>{let{progress:t,children:n,label:r="Loading...",...s}=i;return _.createElement(We.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":r},gf(i,o=>_.createElement("div",{"aria-hidden":!0},o)))}),Ci=Object.assign(xF,{List:b4,Item:g4,Input:_4,Group:v4,Separator:y4,Dialog:w4,Empty:x4,Loading:S4});function E4(i,e){let t=i.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}}function C4(i,e){let t=i.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}}function SF(i){let e=_.useRef(i);return _o(()=>{e.current=i}),e}var _o=typeof window>"u"?_.useEffect:_.useLayoutEffect;function ya(i){let e=_.useRef();return e.current===void 0&&(e.current=i()),e}function bs(i){let e=ax(),t=()=>i(e.snapshot());return _.useSyncExternalStore(e.subscribe,t,t)}function EF(i,e,t,n=[]){let r=_.useRef(),s=_u();return _o(()=>{var o;let a=(()=>{var c;for(let u of t){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(c=u.current.textContent)==null?void 0:c.trim():r.current}})(),l=n.map(c=>c.trim());s.value(i,a,l),(o=e.current)==null||o.setAttribute(va,a),r.current=a}),r}var T4=()=>{let[i,e]=_.useState(),t=ya(()=>new Map);return _o(()=>{t.current.forEach(n=>n()),t.current=new Map},[i]),(n,r)=>{t.current.set(n,r),e({})}};function R4(i){let e=i.type;return typeof e=="function"?e(i.props):"render"in e?e.render(i.props):i}function gf({asChild:i,children:e},t){return i&&_.isValidElement(e)?_.cloneElement(R4(e),{ref:e.ref},t(e.props.children)):t(e)}var O4={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const I4=lw,CF=_.forwardRef(({className:i,...e},t)=>T.jsx(lu,{ref:t,className:V("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",i),...e}));CF.displayName=lu.displayName;const D4=_.forwardRef(({className:i,children:e,...t},n)=>T.jsxs(I4,{children:[T.jsx(CF,{}),T.jsxs(cu,{ref:n,className:V("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",i),...t,children:[e,T.jsxs(sN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[T.jsx(hA,{className:"h-4 w-4"}),T.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));D4.displayName=cu.displayName;const P4=_.forwardRef(({className:i,...e},t)=>T.jsx($d,{ref:t,className:V("text-lg font-semibold leading-none tracking-tight",i),...e}));P4.displayName=$d.displayName;const k4=_.forwardRef(({className:i,...e},t)=>T.jsx(jd,{ref:t,className:V("text-sm text-muted-foreground",i),...e}));k4.displayName=jd.displayName;const TF=_.forwardRef(({className:i,...e},t)=>T.jsx(Ci,{ref:t,className:V("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",i),...e}));TF.displayName=Ci.displayName;const RF=_.forwardRef(({className:i,...e},t)=>T.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[T.jsx(Ci.Input,{ref:t,className:V("flex h-9 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",i),...e}),T.jsx(uA,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"})]}));RF.displayName=Ci.Input.displayName;const OF=_.forwardRef(({className:i,...e},t)=>T.jsx(Ci.List,{ref:t,className:V("max-h-[300px] overflow-y-auto overflow-x-hidden",i),...e}));OF.displayName=Ci.List.displayName;const IF=_.forwardRef((i,e)=>T.jsx(Ci.Empty,{ref:e,className:"py-6 text-center text-sm",...i}));IF.displayName=Ci.Empty.displayName;const DF=_.forwardRef(({className:i,...e},t)=>T.jsx(Ci.Group,{ref:t,className:V("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",i),...e}));DF.displayName=Ci.Group.displayName;const M4=_.forwardRef(({className:i,...e},t)=>T.jsx(Ci.Separator,{ref:t,className:V("-mx-1 h-px bg-border",i),...e}));M4.displayName=Ci.Separator.displayName;const PF=_.forwardRef(({className:i,...e},t)=>T.jsx(Ci.Item,{ref:t,className:V("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",i),...e}));PF.displayName=Ci.Item.displayName;const kF={queryKey:["entities"],queryFn:async()=>[{type:"truck",id:"1",name:"Entity 1",location:[34.8,31.2]},{type:"truck",id:"2",name:"Entity 2",location:[34.9,31.3]},{type:"truck",id:"3",name:"Entity 3",location:[35.01,31.4]},{type:"truck",id:"4",name:"Entity 4",location:[34.85,31.25]},{type:"truck",id:"5",name:"Entity 5",location:[34.95,31.32]},{type:"truck",id:"6",name:"Entity 6",location:[34.84,31.28]},{type:"truck",id:"7",name:"Fast Truck",location:[34.8,31.28],history:[{coords:[34.7818,31.0853],time:"2025-10-20T10:00:00Z"},{coords:[34.7418,31.153],time:"2025-10-20T12:00:00Z"},{coords:[34.7618,31.28],time:"2025-10-20T15:00:00Z"},{coords:[34.8,31.28],time:"2025-10-20T18:00:00Z"}]}]},A4=async(i,e,t)=>(await i.fetchQuery(kF)).find(n=>n.id===t&&n.type===e)?.history,N4={queryKey:["events"],queryFn:async()=>[{id:"event-1",entityIds:["truck-1"],type:"speeding",timestamp:"2024-01-01T00:00:00Z"},{id:"event-2",entityIds:["truck-2"],type:"harsh_braking",timestamp:"2024-01-01T11:00:00Z"},{id:"event-3",entityIds:["truck-1"],type:"geofence_exit",timestamp:"2024-01-01T12:00:00Z"},{id:"event-4",entityIds:["truck-3"],type:"speeding",timestamp:"2024-01-01T19:00:00Z"},{id:"event-5",entityIds:["truck-2"],type:"harsh_acceleration",timestamp:"2024-01-01T14:00:00Z",timestampEnd:"2024-01-01T14:20:00Z"},{id:"event-6",entityIds:["truck-4"],type:"speeding",timestamp:"2024-01-01T16:00:00Z"},{id:"event-7",entityIds:["truck-5"],type:"harsh_braking",timestamp:"2024-01-01T17:00:00Z"},{id:"event-8",entityIds:["truck-6"],type:"geofence_exit",timestamp:"2024-01-01T18:00:00Z"},{id:"event-9",entityIds:["truck-4"],type:"speeding",timestamp:"2024-01-01T20:00:00Z"},{id:"event-10",entityIds:["truck-5"],type:"harsh_acceleration",timestamp:"2024-01-01T21:00:00Z",timestampEnd:"2024-01-01T21:20:00Z"},{id:"event-12",entityIds:["truck-7"],type:"speeding",timestamp:"2024-01-01T23:00:00Z"},{id:"event-13",entityIds:["truck-7"],type:"speeding",timestamp:"2024-01-01T12:00:00Z"},{id:"event-14",entityIds:["truck-7"],type:"speeding",timestamp:"2024-01-01T11:30:00Z"},{id:"event-15",entityIds:["truck-7"],type:"speeding",timestamp:"2024-01-01T12:15:00Z"},{id:"event-16",entityIds:["truck-7"],type:"speeding",timestamp:"2024-01-01T13:00:00Z"}]},L4=i=>({queryKey:["groupSearch",i],queryFn:async()=>({:[{value:"1",label:" 1"},{value:"2",label:" 2"},{value:"3",label:" 3"}]})});function F4({inputClassName:i}){const[e,t]=_.useState(!1),[n,r]=_.useState(""),[s,o]=_.useState(),{data:a}=Q0({...L4(n),staleTime:1/0,gcTime:1e4,placeholderData:vz,refetchOnWindowFocus:!1});return T.jsx("div",{className:"relative",children:T.jsxs(TF,{shouldFilter:!0,className:"rounded-md border bg-background shadow-sm",children:[T.jsx(RF,{className:i,value:e?n:s?.label,onValueChange:r,placeholder:" ...",onFocus:()=>{s&&r(""),t(!0)},onBlur:()=>setTimeout(()=>t(!1),100)}),e&&T.jsx("div",{className:"absolute left-0 right-0 top-full z-10 mt-1 rounded-md border bg-popover shadow-lg",children:T.jsxs(OF,{children:[T.jsx(IF,{children:"  "}),Object.entries(a??[])?.map(([l,c])=>T.jsx(DF,{heading:l,children:c.map(u=>T.jsx(PF,{onSelect:()=>{console.log("what"),t(!1),o(u)},children:u.label},u.value))},l))]})})]})})}function $4(i,e,t="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:i,timeZoneName:t}).format(e).split(/\s/g).slice(2).join(" ")}const j4={},ac={};function Qs(i,e){try{const n=(j4[i]||=new Intl.DateTimeFormat("en-US",{timeZone:i,timeZoneName:"longOffset"}).format)(e).split("GMT")[1];return n in ac?ac[n]:O1(n,n.split(":"))}catch{if(i in ac)return ac[i];const t=i?.match(W4);return t?O1(i,t.slice(1)):NaN}}const W4=/([+-]\d\d):?(\d\d)?/;function O1(i,e){const t=+(e[0]||0),n=+(e[1]||0),r=+(e[2]||0)/60;return ac[i]=t*60+n>0?t*60+n+r:t*60-n-r}class Ln extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Qs(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),MF(this),g0(this)):this.setTime(Date.now())}static tz(e,...t){return t.length?new Ln(...t,e):new Ln(Date.now(),e)}withTimeZone(e){return new Ln(+this,e)}getTimezoneOffset(){const e=-Qs(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),g0(this),+this}[Symbol.for("constructDateFrom")](e){return new Ln(+new Date(e),this.timeZone)}}const I1=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(i=>{if(!I1.test(i))return;const e=i.replace(I1,"$1UTC");Ln.prototype[e]&&(i.startsWith("get")?Ln.prototype[i]=function(){return this.internal[e]()}:(Ln.prototype[i]=function(){return Date.prototype[e].apply(this.internal,arguments),z4(this),+this},Ln.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),g0(this),+this}))});function g0(i){i.internal.setTime(+i),i.internal.setUTCSeconds(i.internal.getUTCSeconds()-Math.round(-Qs(i.timeZone,i)*60))}function z4(i){Date.prototype.setFullYear.call(i,i.internal.getUTCFullYear(),i.internal.getUTCMonth(),i.internal.getUTCDate()),Date.prototype.setHours.call(i,i.internal.getUTCHours(),i.internal.getUTCMinutes(),i.internal.getUTCSeconds(),i.internal.getUTCMilliseconds()),MF(i)}function MF(i){const e=Qs(i.timeZone,i),t=e>0?Math.floor(e):Math.ceil(e),n=new Date(+i);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+i).getTimezoneOffset(),s=-new Date(+n).getTimezoneOffset(),o=r-s,a=Date.prototype.getHours.apply(i)!==i.internal.getUTCHours();o&&a&&i.internal.setUTCMinutes(i.internal.getUTCMinutes()+o);const l=r-t;l&&Date.prototype.setUTCMinutes.call(i,Date.prototype.getUTCMinutes.call(i)+l);const c=new Date(+i);c.setUTCSeconds(0);const u=r>0?c.getSeconds():(c.getSeconds()-60)%60,h=Math.round(-(Qs(i.timeZone,i)*60))%60;(h||u)&&(i.internal.setUTCSeconds(i.internal.getUTCSeconds()+h),Date.prototype.setUTCSeconds.call(i,Date.prototype.getUTCSeconds.call(i)+h+u));const d=Qs(i.timeZone,i),f=d>0?Math.floor(d):Math.ceil(d),p=-new Date(+i).getTimezoneOffset()-f,g=f!==t,v=p-l;if(g&&v){Date.prototype.setUTCMinutes.call(i,Date.prototype.getUTCMinutes.call(i)+v);const y=Qs(i.timeZone,i),w=y>0?Math.floor(y):Math.ceil(y),b=f-w;b&&(i.internal.setUTCMinutes(i.internal.getUTCMinutes()+b),Date.prototype.setUTCMinutes.call(i,Date.prototype.getUTCMinutes.call(i)+b))}}class ei extends Ln{static tz(e,...t){return t.length?new ei(...t,e):new ei(Date.now(),e)}toISOString(){const[e,t,n]=this.tzComponents(),r=`${e}${t}:${n}`;return this.internal.toISOString().slice(0,-1)+r}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,t,n,r]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${n} ${t} ${r}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[t,n,r]=this.tzComponents();return`${e} GMT${t}${n}${r} (${$4(this.timeZone,this)})`}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),t=e>0?"-":"+",n=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),r=String(Math.abs(e)%60).padStart(2,"0");return[t,n,r]}withTimeZone(e){return new ei(+this,e)}[Symbol.for("constructDateFrom")](e){return new ei(+new Date(e),this.timeZone)}}const AF=6048e5,q4=864e5,D1=Symbol.for("constructDateFrom");function Rt(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&D1 in i?i[D1](e):i instanceof Date?new i.constructor(e):new Date(e)}function Ze(i,e){return Rt(e||i,i)}function NF(i,e,t){const n=Ze(i,t?.in);return isNaN(e)?Rt(i,NaN):(e&&n.setDate(n.getDate()+e),n)}function LF(i,e,t){const n=Ze(i,t?.in);if(isNaN(e))return Rt(i,NaN);if(!e)return n;const r=n.getDate(),s=Rt(i,n.getTime());s.setMonth(n.getMonth()+e+1,0);const o=s.getDate();return r>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}let G4={};function bu(){return G4}function il(i,e){const t=bu(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,r=Ze(i,e?.in),s=r.getDay(),o=(s<n?7:0)+s-n;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function $c(i,e){return il(i,{...e,weekStartsOn:1})}function FF(i,e){const t=Ze(i,e?.in),n=t.getFullYear(),r=Rt(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=$c(r),o=Rt(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const a=$c(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function P1(i){const e=Ze(i),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+i-+t}function Sl(i,...e){const t=Rt.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function jc(i,e){const t=Ze(i,e?.in);return t.setHours(0,0,0,0),t}function $F(i,e,t){const[n,r]=Sl(t?.in,i,e),s=jc(n),o=jc(r),a=+s-P1(s),l=+o-P1(o);return Math.round((a-l)/q4)}function Y4(i,e){const t=FF(i,e),n=Rt(i,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),$c(n)}function B4(i,e,t){return NF(i,e*7,t)}function H4(i,e,t){return LF(i,e*12,t)}function U4(i,e){let t,n=e?.in;return i.forEach(r=>{!n&&typeof r=="object"&&(n=Rt.bind(null,r));const s=Ze(r,n);(!t||t<s||isNaN(+s))&&(t=s)}),Rt(n,t||NaN)}function V4(i,e){let t,n=e?.in;return i.forEach(r=>{!n&&typeof r=="object"&&(n=Rt.bind(null,r));const s=Ze(r,n);(!t||t>s||isNaN(+s))&&(t=s)}),Rt(n,t||NaN)}function X4(i,e,t){const[n,r]=Sl(t?.in,i,e);return+jc(n)==+jc(r)}function jF(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function K4(i){return!(!jF(i)&&typeof i!="number"||isNaN(+Ze(i)))}function Z4(i,e,t){const[n,r]=Sl(t?.in,i,e),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}function Q4(i,e){const t=Ze(i,e?.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function WF(i,e){const[t,n]=Sl(i,e.start,e.end);return{start:t,end:n}}function J4(i,e){const{start:t,end:n}=WF(e?.in,i);let r=+t>+n;const s=r?+t:+n,o=r?n:t;o.setHours(0,0,0,0),o.setDate(1);let a=1;const l=[];for(;+o<=s;)l.push(Rt(t,o)),o.setMonth(o.getMonth()+a);return r?l.reverse():l}function eK(i,e){const t=Ze(i,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function tK(i,e){const t=Ze(i,e?.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function zF(i,e){const t=Ze(i,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function iK(i,e){const{start:t,end:n}=WF(e?.in,i);let r=+t>+n;const s=r?+t:+n,o=r?n:t;o.setHours(0,0,0,0),o.setMonth(0,1);let a=1;const l=[];for(;+o<=s;)l.push(Rt(t,o)),o.setFullYear(o.getFullYear()+a);return r?l.reverse():l}function qF(i,e){const t=bu(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,r=Ze(i,e?.in),s=r.getDay(),o=(s<n?-7:0)+6-(s-n);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r}function nK(i,e){return qF(i,{...e,weekStartsOn:1})}const rK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sK=(i,e,t)=>{let n;const r=rK[i];return typeof r=="string"?n=r:e===1?n=r.one:n=r.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Bm(i){return(e={})=>{const t=e.width?String(e.width):i.defaultWidth;return i.formats[t]||i.formats[i.defaultWidth]}}const oK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cK={date:Bm({formats:oK,defaultWidth:"full"}),time:Bm({formats:aK,defaultWidth:"full"}),dateTime:Bm({formats:lK,defaultWidth:"full"})},uK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hK=(i,e,t,n)=>uK[i];function Ul(i){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let r;if(n==="formatting"&&i.formattingValues){const o=i.defaultFormattingWidth||i.defaultWidth,a=t?.width?String(t.width):o;r=i.formattingValues[a]||i.formattingValues[o]}else{const o=i.defaultWidth,a=t?.width?String(t.width):i.defaultWidth;r=i.values[a]||i.values[o]}const s=i.argumentCallback?i.argumentCallback(e):e;return r[s]}}const dK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yK=(i,e)=>{const t=Number(i),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},_K={ordinalNumber:yK,era:Ul({values:dK,defaultWidth:"wide"}),quarter:Ul({values:fK,defaultWidth:"wide",argumentCallback:i=>i-1}),month:Ul({values:mK,defaultWidth:"wide"}),day:Ul({values:pK,defaultWidth:"wide"}),dayPeriod:Ul({values:gK,defaultWidth:"wide",formattingValues:vK,defaultFormattingWidth:"wide"})};function Vl(i){return(e,t={})=>{const n=t.width,r=n&&i.matchPatterns[n]||i.matchPatterns[i.defaultMatchWidth],s=e.match(r);if(!s)return null;const o=s[0],a=n&&i.parsePatterns[n]||i.parsePatterns[i.defaultParseWidth],l=Array.isArray(a)?wK(a,h=>h.test(o)):bK(a,h=>h.test(o));let c;c=i.valueCallback?i.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function bK(i,e){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&e(i[t]))return t}function wK(i,e){for(let t=0;t<i.length;t++)if(e(i[t]))return t}function xK(i){return(e,t={})=>{const n=e.match(i.matchPattern);if(!n)return null;const r=n[0],s=e.match(i.parsePattern);if(!s)return null;let o=i.valueCallback?i.valueCallback(s[0]):s[0];o=t.valueCallback?t.valueCallback(o):o;const a=e.slice(r.length);return{value:o,rest:a}}}const SK=/^(\d+)(th|st|nd|rd)?/i,EK=/\d+/i,CK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},TK={any:[/^b/i,/^(a|c)/i]},RK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},OK={any:[/1/i,/2/i,/3/i,/4/i]},IK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},DK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},PK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},MK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},NK={ordinalNumber:xK({matchPattern:SK,parsePattern:EK,valueCallback:i=>parseInt(i,10)}),era:Vl({matchPatterns:CK,defaultMatchWidth:"wide",parsePatterns:TK,defaultParseWidth:"any"}),quarter:Vl({matchPatterns:RK,defaultMatchWidth:"wide",parsePatterns:OK,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Vl({matchPatterns:IK,defaultMatchWidth:"wide",parsePatterns:DK,defaultParseWidth:"any"}),day:Vl({matchPatterns:PK,defaultMatchWidth:"wide",parsePatterns:kK,defaultParseWidth:"any"}),dayPeriod:Vl({matchPatterns:MK,defaultMatchWidth:"any",parsePatterns:AK,defaultParseWidth:"any"})},lx={code:"en-US",formatDistance:sK,formatLong:cK,formatRelative:hK,localize:_K,match:NK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LK(i,e){const t=Ze(i,e?.in);return $F(t,zF(t))+1}function GF(i,e){const t=Ze(i,e?.in),n=+$c(t)-+Y4(t);return Math.round(n/AF)+1}function YF(i,e){const t=Ze(i,e?.in),n=t.getFullYear(),r=bu(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=Rt(e?.in||i,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const a=il(o,e),l=Rt(e?.in||i,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const c=il(l,e);return+t>=+a?n+1:+t>=+c?n:n-1}function FK(i,e){const t=bu(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,r=YF(i,e),s=Rt(e?.in||i,0);return s.setFullYear(r,0,n),s.setHours(0,0,0,0),il(s,e)}function BF(i,e){const t=Ze(i,e?.in),n=+il(t,e)-+FK(t,e);return Math.round(n/AF)+1}function Ye(i,e){const t=i<0?"-":"",n=Math.abs(i).toString().padStart(e,"0");return t+n}const Zr={y(i,e){const t=i.getFullYear(),n=t>0?t:1-t;return Ye(e==="yy"?n%100:n,e.length)},M(i,e){const t=i.getMonth();return e==="M"?String(t+1):Ye(t+1,2)},d(i,e){return Ye(i.getDate(),e.length)},a(i,e){const t=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(i,e){return Ye(i.getHours()%12||12,e.length)},H(i,e){return Ye(i.getHours(),e.length)},m(i,e){return Ye(i.getMinutes(),e.length)},s(i,e){return Ye(i.getSeconds(),e.length)},S(i,e){const t=e.length,n=i.getMilliseconds(),r=Math.trunc(n*Math.pow(10,t-3));return Ye(r,e.length)}},ra={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},k1={G:function(i,e,t){const n=i.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(i,e,t){if(e==="yo"){const n=i.getFullYear(),r=n>0?n:1-n;return t.ordinalNumber(r,{unit:"year"})}return Zr.y(i,e)},Y:function(i,e,t,n){const r=YF(i,n),s=r>0?r:1-r;if(e==="YY"){const o=s%100;return Ye(o,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):Ye(s,e.length)},R:function(i,e){const t=FF(i);return Ye(t,e.length)},u:function(i,e){const t=i.getFullYear();return Ye(t,e.length)},Q:function(i,e,t){const n=Math.ceil((i.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Ye(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(i,e,t){const n=Math.ceil((i.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Ye(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(i,e,t){const n=i.getMonth();switch(e){case"M":case"MM":return Zr.M(i,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(i,e,t){const n=i.getMonth();switch(e){case"L":return String(n+1);case"LL":return Ye(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(i,e,t,n){const r=BF(i,n);return e==="wo"?t.ordinalNumber(r,{unit:"week"}):Ye(r,e.length)},I:function(i,e,t){const n=GF(i);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):Ye(n,e.length)},d:function(i,e,t){return e==="do"?t.ordinalNumber(i.getDate(),{unit:"date"}):Zr.d(i,e)},D:function(i,e,t){const n=LK(i);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):Ye(n,e.length)},E:function(i,e,t){const n=i.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(i,e,t,n){const r=i.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Ye(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(r,{width:"short",context:"formatting"});case"eeee":default:return t.day(r,{width:"wide",context:"formatting"})}},c:function(i,e,t,n){const r=i.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Ye(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(r,{width:"narrow",context:"standalone"});case"cccccc":return t.day(r,{width:"short",context:"standalone"});case"cccc":default:return t.day(r,{width:"wide",context:"standalone"})}},i:function(i,e,t){const n=i.getDay(),r=n===0?7:n;switch(e){case"i":return String(r);case"ii":return Ye(r,e.length);case"io":return t.ordinalNumber(r,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(i,e,t){const r=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(i,e,t){const n=i.getHours();let r;switch(n===12?r=ra.noon:n===0?r=ra.midnight:r=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(i,e,t){const n=i.getHours();let r;switch(n>=17?r=ra.evening:n>=12?r=ra.afternoon:n>=4?r=ra.morning:r=ra.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(i,e,t){if(e==="ho"){let n=i.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Zr.h(i,e)},H:function(i,e,t){return e==="Ho"?t.ordinalNumber(i.getHours(),{unit:"hour"}):Zr.H(i,e)},K:function(i,e,t){const n=i.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):Ye(n,e.length)},k:function(i,e,t){let n=i.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):Ye(n,e.length)},m:function(i,e,t){return e==="mo"?t.ordinalNumber(i.getMinutes(),{unit:"minute"}):Zr.m(i,e)},s:function(i,e,t){return e==="so"?t.ordinalNumber(i.getSeconds(),{unit:"second"}):Zr.s(i,e)},S:function(i,e){return Zr.S(i,e)},X:function(i,e,t){const n=i.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return A1(n);case"XXXX":case"XX":return Gs(n);case"XXXXX":case"XXX":default:return Gs(n,":")}},x:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"x":return A1(n);case"xxxx":case"xx":return Gs(n);case"xxxxx":case"xxx":default:return Gs(n,":")}},O:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+M1(n,":");case"OOOO":default:return"GMT"+Gs(n,":")}},z:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+M1(n,":");case"zzzz":default:return"GMT"+Gs(n,":")}},t:function(i,e,t){const n=Math.trunc(+i/1e3);return Ye(n,e.length)},T:function(i,e,t){return Ye(+i,e.length)}};function M1(i,e=""){const t=i>0?"-":"+",n=Math.abs(i),r=Math.trunc(n/60),s=n%60;return s===0?t+String(r):t+String(r)+e+Ye(s,2)}function A1(i,e){return i%60===0?(i>0?"-":"+")+Ye(Math.abs(i)/60,2):Gs(i,e)}function Gs(i,e=""){const t=i>0?"-":"+",n=Math.abs(i),r=Ye(Math.trunc(n/60),2),s=Ye(n%60,2);return t+r+e+s}const N1=(i,e)=>{switch(i){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},HF=(i,e)=>{switch(i){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},$K=(i,e)=>{const t=i.match(/(P+)(p+)?/)||[],n=t[1],r=t[2];if(!r)return N1(i,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",N1(n,e)).replace("{{time}}",HF(r,e))},jK={p:HF,P:$K},WK=/^D+$/,zK=/^Y+$/,qK=["D","DD","YY","YYYY"];function GK(i){return WK.test(i)}function YK(i){return zK.test(i)}function BK(i,e,t){const n=HK(i,e,t);if(console.warn(n),qK.includes(i))throw new RangeError(n)}function HK(i,e,t){const n=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const UK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,VK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,XK=/^'([^]*?)'?$/,KK=/''/g,ZK=/[a-zA-Z]/;function QK(i,e,t){const n=bu(),r=t?.locale??n.locale??lx,s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Ze(i,t?.in);if(!K4(a))throw new RangeError("Invalid time value");let l=e.match(VK).map(u=>{const h=u[0];if(h==="p"||h==="P"){const d=jK[h];return d(u,r.formatLong)}return u}).join("").match(UK).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:JK(u)};if(k1[h])return{isToken:!0,value:u};if(h.match(ZK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});r.localize.preprocessor&&(l=r.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:r};return l.map(u=>{if(!u.isToken)return u.value;const h=u.value;(!t?.useAdditionalWeekYearTokens&&YK(h)||!t?.useAdditionalDayOfYearTokens&&GK(h))&&BK(h,e,String(i));const d=k1[h[0]];return d(a,h,r.localize,c)}).join("")}function JK(i){const e=i.match(XK);return e?e[1].replace(KK,"'"):i}function e6(i,e){const t=Ze(i,e?.in),n=t.getFullYear(),r=t.getMonth(),s=Rt(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function t6(i,e){return Ze(i,e?.in).getMonth()}function i6(i,e){return Ze(i,e?.in).getFullYear()}function n6(i,e){return+Ze(i)>+Ze(e)}function r6(i,e){return+Ze(i)<+Ze(e)}function s6(i,e,t){const[n,r]=Sl(t?.in,i,e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function o6(i,e,t){const[n,r]=Sl(t?.in,i,e);return n.getFullYear()===r.getFullYear()}function a6(i,e,t){const n=Ze(i,t?.in),r=n.getFullYear(),s=n.getDate(),o=Rt(i,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const a=e6(o);return n.setMonth(e,Math.min(s,a)),n}function l6(i,e,t){const n=Ze(i,t?.in);return isNaN(+n)?Rt(i,NaN):(n.setFullYear(e),n)}const L1=5,c6=4;function u6(i,e){const t=e.startOfMonth(i),n=t.getDay()>0?t.getDay():7,r=e.addDays(i,-n+1),s=e.addDays(r,L1*7-1);return e.getMonth(i)===e.getMonth(s)?L1:c6}function UF(i,e){const t=e.startOfMonth(i),n=t.getDay();return n===1?t:n===0?e.addDays(t,-6):e.addDays(t,-1*(n-1))}function h6(i,e){const t=UF(i,e),n=u6(i,e);return e.addDays(t,n*7-1)}class Fi{constructor(e,t){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?ei.tz(this.options.timeZone):new this.Date,this.newDate=(n,r,s)=>this.overrides?.newDate?this.overrides.newDate(n,r,s):this.options.timeZone?new ei(n,r,s,this.options.timeZone):new Date(n,r,s),this.addDays=(n,r)=>this.overrides?.addDays?this.overrides.addDays(n,r):NF(n,r),this.addMonths=(n,r)=>this.overrides?.addMonths?this.overrides.addMonths(n,r):LF(n,r),this.addWeeks=(n,r)=>this.overrides?.addWeeks?this.overrides.addWeeks(n,r):B4(n,r),this.addYears=(n,r)=>this.overrides?.addYears?this.overrides.addYears(n,r):H4(n,r),this.differenceInCalendarDays=(n,r)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(n,r):$F(n,r),this.differenceInCalendarMonths=(n,r)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(n,r):Z4(n,r),this.eachMonthOfInterval=n=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(n):J4(n),this.eachYearOfInterval=n=>{const r=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(n):iK(n),s=new Set(r.map(a=>this.getYear(a)));if(s.size===r.length)return r;const o=[];return s.forEach(a=>{o.push(new Date(a,0,1))}),o},this.endOfBroadcastWeek=n=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(n):h6(n,this),this.endOfISOWeek=n=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(n):nK(n),this.endOfMonth=n=>this.overrides?.endOfMonth?this.overrides.endOfMonth(n):Q4(n),this.endOfWeek=(n,r)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(n,r):qF(n,this.options),this.endOfYear=n=>this.overrides?.endOfYear?this.overrides.endOfYear(n):tK(n),this.format=(n,r,s)=>{const o=this.overrides?.format?this.overrides.format(n,r,this.options):QK(n,r,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=n=>this.overrides?.getISOWeek?this.overrides.getISOWeek(n):GF(n),this.getMonth=(n,r)=>this.overrides?.getMonth?this.overrides.getMonth(n,this.options):t6(n,this.options),this.getYear=(n,r)=>this.overrides?.getYear?this.overrides.getYear(n,this.options):i6(n,this.options),this.getWeek=(n,r)=>this.overrides?.getWeek?this.overrides.getWeek(n,this.options):BF(n,this.options),this.isAfter=(n,r)=>this.overrides?.isAfter?this.overrides.isAfter(n,r):n6(n,r),this.isBefore=(n,r)=>this.overrides?.isBefore?this.overrides.isBefore(n,r):r6(n,r),this.isDate=n=>this.overrides?.isDate?this.overrides.isDate(n):jF(n),this.isSameDay=(n,r)=>this.overrides?.isSameDay?this.overrides.isSameDay(n,r):X4(n,r),this.isSameMonth=(n,r)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(n,r):s6(n,r),this.isSameYear=(n,r)=>this.overrides?.isSameYear?this.overrides.isSameYear(n,r):o6(n,r),this.max=n=>this.overrides?.max?this.overrides.max(n):U4(n),this.min=n=>this.overrides?.min?this.overrides.min(n):V4(n),this.setMonth=(n,r)=>this.overrides?.setMonth?this.overrides.setMonth(n,r):a6(n,r),this.setYear=(n,r)=>this.overrides?.setYear?this.overrides.setYear(n,r):l6(n,r),this.startOfBroadcastWeek=(n,r)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(n,this):UF(n,this),this.startOfDay=n=>this.overrides?.startOfDay?this.overrides.startOfDay(n):jc(n),this.startOfISOWeek=n=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(n):$c(n),this.startOfMonth=n=>this.overrides?.startOfMonth?this.overrides.startOfMonth(n):eK(n),this.startOfWeek=(n,r)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(n,this.options):il(n,this.options),this.startOfYear=n=>this.overrides?.startOfYear?this.overrides.startOfYear(n):zF(n),this.options={locale:lx,...e},this.overrides=t}getDigitMap(){const{numerals:e="latn"}=this.options,t=new Intl.NumberFormat("en-US",{numberingSystem:e}),n={};for(let r=0;r<10;r++)n[r.toString()]=t.format(r);return n}replaceDigits(e){const t=this.getDigitMap();return e.replace(/\d/g,n=>t[n]||n)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){const e=this.options.locale?.code;return e&&Fi.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:t,timeZone:n,numerals:r}=this.options,s=t?.code;if(s&&Fi.yearFirstLocales.has(s))try{return new Intl.DateTimeFormat(s,{month:"long",year:"numeric",timeZone:n,numberingSystem:r}).format(e)}catch{}const o=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,o)}}Fi.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Vn=new Fi;class VF{constructor(e,t,n=Vn){this.date=e,this.displayMonth=t,this.outside=!!(t&&!n.isSameMonth(e,t)),this.dateLib=n}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class d6{constructor(e,t){this.date=e,this.weeks=t}}class f6{constructor(e,t){this.days=t,this.weekNumber=e}}function m6(i){return Q.createElement("button",{...i})}function p6(i){return Q.createElement("span",{...i})}function g6(i){const{size:e=24,orientation:t="left",className:n}=i;return Q.createElement("svg",{className:n,width:e,height:e,viewBox:"0 0 24 24"},t==="up"&&Q.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),t==="down"&&Q.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),t==="left"&&Q.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),t==="right"&&Q.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function v6(i){const{day:e,modifiers:t,...n}=i;return Q.createElement("td",{...n})}function y6(i){const{day:e,modifiers:t,...n}=i,r=Q.useRef(null);return Q.useEffect(()=>{t.focused&&r.current?.focus()},[t.focused]),Q.createElement("button",{ref:r,...n})}var ne;(function(i){i.Root="root",i.Chevron="chevron",i.Day="day",i.DayButton="day_button",i.CaptionLabel="caption_label",i.Dropdowns="dropdowns",i.Dropdown="dropdown",i.DropdownRoot="dropdown_root",i.Footer="footer",i.MonthGrid="month_grid",i.MonthCaption="month_caption",i.MonthsDropdown="months_dropdown",i.Month="month",i.Months="months",i.Nav="nav",i.NextMonthButton="button_next",i.PreviousMonthButton="button_previous",i.Week="week",i.Weeks="weeks",i.Weekday="weekday",i.Weekdays="weekdays",i.WeekNumber="week_number",i.WeekNumberHeader="week_number_header",i.YearsDropdown="years_dropdown"})(ne||(ne={}));var ft;(function(i){i.disabled="disabled",i.hidden="hidden",i.outside="outside",i.focused="focused",i.today="today"})(ft||(ft={}));var hn;(function(i){i.range_end="range_end",i.range_middle="range_middle",i.range_start="range_start",i.selected="selected"})(hn||(hn={}));var Ii;(function(i){i.weeks_before_enter="weeks_before_enter",i.weeks_before_exit="weeks_before_exit",i.weeks_after_enter="weeks_after_enter",i.weeks_after_exit="weeks_after_exit",i.caption_after_enter="caption_after_enter",i.caption_after_exit="caption_after_exit",i.caption_before_enter="caption_before_enter",i.caption_before_exit="caption_before_exit"})(Ii||(Ii={}));function _6(i){const{options:e,className:t,components:n,classNames:r,...s}=i,o=[r[ne.Dropdown],t].join(" "),a=e?.find(({value:l})=>l===s.value);return Q.createElement("span",{"data-disabled":s.disabled,className:r[ne.DropdownRoot]},Q.createElement(n.Select,{className:o,...s},e?.map(({value:l,label:c,disabled:u})=>Q.createElement(n.Option,{key:l,value:l,disabled:u},c))),Q.createElement("span",{className:r[ne.CaptionLabel],"aria-hidden":!0},a?.label,Q.createElement(n.Chevron,{orientation:"down",size:18,className:r[ne.Chevron]})))}function b6(i){return Q.createElement("div",{...i})}function w6(i){return Q.createElement("div",{...i})}function x6(i){const{calendarMonth:e,displayIndex:t,...n}=i;return Q.createElement("div",{...n},i.children)}function S6(i){const{calendarMonth:e,displayIndex:t,...n}=i;return Q.createElement("div",{...n})}function E6(i){return Q.createElement("table",{...i})}function C6(i){return Q.createElement("div",{...i})}const XF=_.createContext(void 0);function wu(){const i=_.useContext(XF);if(i===void 0)throw new Error("useDayPicker() must be used within a custom component.");return i}function T6(i){const{components:e}=wu();return Q.createElement(e.Dropdown,{...i})}function R6(i){const{onPreviousClick:e,onNextClick:t,previousMonth:n,nextMonth:r,...s}=i,{components:o,classNames:a,labels:{labelPrevious:l,labelNext:c}}=wu(),u=_.useCallback(d=>{r&&t?.(d)},[r,t]),h=_.useCallback(d=>{n&&e?.(d)},[n,e]);return Q.createElement("nav",{...s},Q.createElement(o.PreviousMonthButton,{type:"button",className:a[ne.PreviousMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":l(n),onClick:h},Q.createElement(o.Chevron,{disabled:n?void 0:!0,className:a[ne.Chevron],orientation:"left"})),Q.createElement(o.NextMonthButton,{type:"button",className:a[ne.NextMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":c(r),onClick:u},Q.createElement(o.Chevron,{disabled:r?void 0:!0,orientation:"right",className:a[ne.Chevron]})))}function O6(i){const{components:e}=wu();return Q.createElement(e.Button,{...i})}function I6(i){return Q.createElement("option",{...i})}function D6(i){const{components:e}=wu();return Q.createElement(e.Button,{...i})}function P6(i){const{rootRef:e,...t}=i;return Q.createElement("div",{...t,ref:e})}function k6(i){return Q.createElement("select",{...i})}function M6(i){const{week:e,...t}=i;return Q.createElement("tr",{...t})}function A6(i){return Q.createElement("th",{...i})}function N6(i){return Q.createElement("thead",{"aria-hidden":!0},Q.createElement("tr",{...i}))}function L6(i){const{week:e,...t}=i;return Q.createElement("th",{...t})}function F6(i){return Q.createElement("th",{...i})}function $6(i){return Q.createElement("tbody",{...i})}function j6(i){const{components:e}=wu();return Q.createElement(e.Dropdown,{...i})}const W6=Object.freeze(Object.defineProperty({__proto__:null,Button:m6,CaptionLabel:p6,Chevron:g6,Day:v6,DayButton:y6,Dropdown:_6,DropdownNav:b6,Footer:w6,Month:x6,MonthCaption:S6,MonthGrid:E6,Months:C6,MonthsDropdown:T6,Nav:R6,NextMonthButton:O6,Option:I6,PreviousMonthButton:D6,Root:P6,Select:k6,Week:M6,WeekNumber:L6,WeekNumberHeader:F6,Weekday:A6,Weekdays:N6,Weeks:$6,YearsDropdown:j6},Symbol.toStringTag,{value:"Module"}));function fr(i,e,t=!1,n=Vn){let{from:r,to:s}=i;const{differenceInCalendarDays:o,isSameDay:a}=n;return r&&s?(o(s,r)<0&&([r,s]=[s,r]),o(e,r)>=(t?1:0)&&o(s,e)>=(t?1:0)):!t&&s?a(s,e):!t&&r?a(r,e):!1}function KF(i){return!!(i&&typeof i=="object"&&"before"in i&&"after"in i)}function cx(i){return!!(i&&typeof i=="object"&&"from"in i)}function ZF(i){return!!(i&&typeof i=="object"&&"after"in i)}function QF(i){return!!(i&&typeof i=="object"&&"before"in i)}function JF(i){return!!(i&&typeof i=="object"&&"dayOfWeek"in i)}function e2(i,e){return Array.isArray(i)&&i.every(e.isDate)}function mr(i,e,t=Vn){const n=Array.isArray(e)?e:[e],{isSameDay:r,differenceInCalendarDays:s,isAfter:o}=t;return n.some(a=>{if(typeof a=="boolean")return a;if(t.isDate(a))return r(i,a);if(e2(a,t))return a.includes(i);if(cx(a))return fr(a,i,!1,t);if(JF(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(i.getDay()):a.dayOfWeek===i.getDay();if(KF(a)){const l=s(a.before,i),c=s(a.after,i),u=l>0,h=c<0;return o(a.before,a.after)?h&&u:u||h}return ZF(a)?s(i,a.after)>0:QF(a)?s(a.before,i)>0:typeof a=="function"?a(i):!1})}function z6(i,e,t,n,r){const{disabled:s,hidden:o,modifiers:a,showOutsideDays:l,broadcastCalendar:c,today:u}=e,{isSameDay:h,isSameMonth:d,startOfMonth:f,isBefore:m,endOfMonth:p,isAfter:g}=r,v=t&&f(t),y=n&&p(n),w={[ft.focused]:[],[ft.outside]:[],[ft.disabled]:[],[ft.hidden]:[],[ft.today]:[]},b={};for(const x of i){const{date:C,displayMonth:E}=x,S=!!(E&&!d(C,E)),R=!!(v&&m(C,v)),I=!!(y&&g(C,y)),k=!!(s&&mr(C,s,r)),M=!!(o&&mr(C,o,r))||R||I||!c&&!l&&S||c&&l===!1&&S,N=h(C,u??r.today());S&&w.outside.push(x),k&&w.disabled.push(x),M&&w.hidden.push(x),N&&w.today.push(x),a&&Object.keys(a).forEach(F=>{const q=a?.[F];q&&mr(C,q,r)&&(b[F]?b[F].push(x):b[F]=[x])})}return x=>{const C={[ft.focused]:!1,[ft.disabled]:!1,[ft.hidden]:!1,[ft.outside]:!1,[ft.today]:!1},E={};for(const S in w){const R=w[S];C[S]=R.some(I=>I===x)}for(const S in b)E[S]=b[S].some(R=>R===x);return{...C,...E}}}function q6(i,e,t={}){return Object.entries(i).filter(([,r])=>r===!0).reduce((r,[s])=>(t[s]?r.push(t[s]):e[ft[s]]?r.push(e[ft[s]]):e[hn[s]]&&r.push(e[hn[s]]),r),[e[ne.Day]])}function G6(i){return{...W6,...i}}function Y6(i){const e={"data-mode":i.mode??void 0,"data-required":"required"in i?i.required:void 0,"data-multiple-months":i.numberOfMonths&&i.numberOfMonths>1||void 0,"data-week-numbers":i.showWeekNumber||void 0,"data-broadcast-calendar":i.broadcastCalendar||void 0,"data-nav-layout":i.navLayout||void 0};return Object.entries(i).forEach(([t,n])=>{t.startsWith("data-")&&(e[t]=n)}),e}function ux(){const i={};for(const e in ne)i[ne[e]]=`rdp-${ne[e]}`;for(const e in ft)i[ft[e]]=`rdp-${ft[e]}`;for(const e in hn)i[hn[e]]=`rdp-${hn[e]}`;for(const e in Ii)i[Ii[e]]=`rdp-${Ii[e]}`;return i}function t2(i,e,t){return(t??new Fi(e)).formatMonthYear(i)}const B6=t2;function H6(i,e,t){return(t??new Fi(e)).format(i,"d")}function U6(i,e=Vn){return e.format(i,"LLLL")}function V6(i,e,t){return(t??new Fi(e)).format(i,"cccccc")}function X6(i,e=Vn){return i<10?e.formatNumber(`0${i.toLocaleString()}`):e.formatNumber(`${i.toLocaleString()}`)}function K6(){return""}function i2(i,e=Vn){return e.format(i,"yyyy")}const Z6=i2,Q6=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:t2,formatDay:H6,formatMonthCaption:B6,formatMonthDropdown:U6,formatWeekNumber:X6,formatWeekNumberHeader:K6,formatWeekdayName:V6,formatYearCaption:Z6,formatYearDropdown:i2},Symbol.toStringTag,{value:"Module"}));function J6(i){return i?.formatMonthCaption&&!i.formatCaption&&(i.formatCaption=i.formatMonthCaption),i?.formatYearCaption&&!i.formatYearDropdown&&(i.formatYearDropdown=i.formatYearCaption),{...Q6,...i}}function e8(i,e,t,n,r){const{startOfMonth:s,startOfYear:o,endOfYear:a,eachMonthOfInterval:l,getMonth:c}=r;return l({start:o(i),end:a(i)}).map(d=>{const f=n.formatMonthDropdown(d,r),m=c(d),p=e&&d<s(e)||t&&d>s(t)||!1;return{value:m,label:f,disabled:p}})}function t8(i,e={},t={}){let n={...e?.[ne.Day]};return Object.entries(i).filter(([,r])=>r===!0).forEach(([r])=>{n={...n,...t?.[r]}}),n}function i8(i,e,t){const n=i.today(),r=e?i.startOfISOWeek(n):i.startOfWeek(n),s=[];for(let o=0;o<7;o++){const a=i.addDays(r,o);s.push(a)}return s}function n8(i,e,t,n,r=!1){if(!i||!e)return;const{startOfYear:s,endOfYear:o,eachYearOfInterval:a,getYear:l}=n,c=s(i),u=o(e),h=a({start:c,end:u});return r&&h.reverse(),h.map(d=>{const f=t.formatYearDropdown(d,n);return{value:l(d),label:f,disabled:!1}})}function n2(i,e,t,n){let r=(n??new Fi(t)).format(i,"PPPP");return e.today&&(r=`Today, ${r}`),e.selected&&(r=`${r}, selected`),r}const r8=n2;function r2(i,e,t){return(t??new Fi(e)).formatMonthYear(i)}const s8=r2;function o8(i,e,t,n){let r=(n??new Fi(t)).format(i,"PPPP");return e?.today&&(r=`Today, ${r}`),r}function a8(i){return"Choose the Month"}function l8(){return""}function c8(i){return"Go to the Next Month"}function u8(i){return"Go to the Previous Month"}function h8(i,e,t){return(t??new Fi(e)).format(i,"cccc")}function d8(i,e){return`Week ${i}`}function f8(i){return"Week Number"}function m8(i){return"Choose the Year"}const p8=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:s8,labelDay:r8,labelDayButton:n2,labelGrid:r2,labelGridcell:o8,labelMonthDropdown:a8,labelNav:l8,labelNext:c8,labelPrevious:u8,labelWeekNumber:d8,labelWeekNumberHeader:f8,labelWeekday:h8,labelYearDropdown:m8},Symbol.toStringTag,{value:"Module"})),xu=i=>i instanceof HTMLElement?i:null,Hm=i=>[...i.querySelectorAll("[data-animated-month]")??[]],g8=i=>xu(i.querySelector("[data-animated-month]")),Um=i=>xu(i.querySelector("[data-animated-caption]")),Vm=i=>xu(i.querySelector("[data-animated-weeks]")),v8=i=>xu(i.querySelector("[data-animated-nav]")),y8=i=>xu(i.querySelector("[data-animated-weekdays]"));function _8(i,e,{classNames:t,months:n,focused:r,dateLib:s}){const o=_.useRef(null),a=_.useRef(n),l=_.useRef(!1);_.useLayoutEffect(()=>{const c=a.current;if(a.current=n,!e||!i.current||!(i.current instanceof HTMLElement)||n.length===0||c.length===0||n.length!==c.length)return;const u=s.isSameMonth(n[0].date,c[0].date),h=s.isAfter(n[0].date,c[0].date),d=h?t[Ii.caption_after_enter]:t[Ii.caption_before_enter],f=h?t[Ii.weeks_after_enter]:t[Ii.weeks_before_enter],m=o.current,p=i.current.cloneNode(!0);if(p instanceof HTMLElement?(Hm(p).forEach(w=>{if(!(w instanceof HTMLElement))return;const b=g8(w);b&&w.contains(b)&&w.removeChild(b);const x=Um(w);x&&x.classList.remove(d);const C=Vm(w);C&&C.classList.remove(f)}),o.current=p):o.current=null,l.current||u||r)return;const g=m instanceof HTMLElement?Hm(m):[],v=Hm(i.current);if(v?.every(y=>y instanceof HTMLElement)&&g&&g.every(y=>y instanceof HTMLElement)){l.current=!0,i.current.style.isolation="isolate";const y=v8(i.current);y&&(y.style.zIndex="1"),v.forEach((w,b)=>{const x=g[b];if(!x)return;w.style.position="relative",w.style.overflow="hidden";const C=Um(w);C&&C.classList.add(d);const E=Vm(w);E&&E.classList.add(f);const S=()=>{l.current=!1,i.current&&(i.current.style.isolation=""),y&&(y.style.zIndex=""),C&&C.classList.remove(d),E&&E.classList.remove(f),w.style.position="",w.style.overflow="",w.contains(x)&&w.removeChild(x)};x.style.pointerEvents="none",x.style.position="absolute",x.style.overflow="hidden",x.setAttribute("aria-hidden","true");const R=y8(x);R&&(R.style.opacity="0");const I=Um(x);I&&(I.classList.add(h?t[Ii.caption_before_exit]:t[Ii.caption_after_exit]),I.addEventListener("animationend",S));const k=Vm(x);k&&k.classList.add(h?t[Ii.weeks_before_exit]:t[Ii.weeks_after_exit]),w.insertBefore(x,w.firstChild)})}})}function b8(i,e,t,n){const r=i[0],s=i[i.length-1],{ISOWeek:o,fixedWeeks:a,broadcastCalendar:l}=t??{},{addDays:c,differenceInCalendarDays:u,differenceInCalendarMonths:h,endOfBroadcastWeek:d,endOfISOWeek:f,endOfMonth:m,endOfWeek:p,isAfter:g,startOfBroadcastWeek:v,startOfISOWeek:y,startOfWeek:w}=n,b=l?v(r,n):o?y(r):w(r),x=l?d(s):o?f(m(s)):p(m(s)),C=u(x,b),E=h(s,r)+1,S=[];for(let k=0;k<=C;k++){const M=c(b,k);if(e&&g(M,e))break;S.push(M)}const I=(l?35:42)*E;if(a&&S.length<I){const k=I-S.length;for(let M=0;M<k;M++){const N=c(S[S.length-1],1);S.push(N)}}return S}function w8(i){const e=[];return i.reduce((t,n)=>{const r=n.weeks.reduce((s,o)=>s.concat(o.days.slice()),e.slice());return t.concat(r.slice())},e.slice())}function x8(i,e,t,n){const{numberOfMonths:r=1}=t,s=[];for(let o=0;o<r;o++){const a=n.addMonths(i,o);if(e&&a>e)break;s.push(a)}return s}function F1(i,e,t,n){const{month:r,defaultMonth:s,today:o=n.today(),numberOfMonths:a=1}=i;let l=r||s||o;const{differenceInCalendarMonths:c,addMonths:u,startOfMonth:h}=n;if(t&&c(t,l)<a-1){const d=-1*(a-1);l=u(t,d)}return e&&c(l,e)<0&&(l=e),h(l)}function S8(i,e,t,n){const{addDays:r,endOfBroadcastWeek:s,endOfISOWeek:o,endOfMonth:a,endOfWeek:l,getISOWeek:c,getWeek:u,startOfBroadcastWeek:h,startOfISOWeek:d,startOfWeek:f}=n,m=i.reduce((p,g)=>{const v=t.broadcastCalendar?h(g,n):t.ISOWeek?d(g):f(g),y=t.broadcastCalendar?s(g):t.ISOWeek?o(a(g)):l(a(g)),w=e.filter(E=>E>=v&&E<=y),b=t.broadcastCalendar?35:42;if(t.fixedWeeks&&w.length<b){const E=e.filter(S=>{const R=b-w.length;return S>y&&S<=r(y,R)});w.push(...E)}const x=w.reduce((E,S)=>{const R=t.ISOWeek?c(S):u(S),I=E.find(M=>M.weekNumber===R),k=new VF(S,g,n);return I?I.days.push(k):E.push(new f6(R,[k])),E},[]),C=new d6(g,x);return p.push(C),p},[]);return t.reverseMonths?m.reverse():m}function E8(i,e){let{startMonth:t,endMonth:n}=i;const{startOfYear:r,startOfDay:s,startOfMonth:o,endOfMonth:a,addYears:l,endOfYear:c,newDate:u,today:h}=e,{fromYear:d,toYear:f,fromMonth:m,toMonth:p}=i;!t&&m&&(t=m),!t&&d&&(t=e.newDate(d,0,1)),!n&&p&&(n=p),!n&&f&&(n=u(f,11,31));const g=i.captionLayout==="dropdown"||i.captionLayout==="dropdown-years";return t?t=o(t):d?t=u(d,0,1):!t&&g&&(t=r(l(i.today??h(),-100))),n?n=a(n):f?n=u(f,11,31):!n&&g&&(n=c(i.today??h())),[t&&s(t),n&&s(n)]}function C8(i,e,t,n){if(t.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:s=1}=t,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:l}=n,c=r?s:1,u=o(i);if(!e)return a(u,c);if(!(l(e,i)<s))return a(u,c)}function T8(i,e,t,n){if(t.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:s}=t,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:l}=n,c=r?s??1:1,u=o(i);if(!e)return a(u,-c);if(!(l(u,e)<=0))return a(u,-c)}function R8(i){const e=[];return i.reduce((t,n)=>t.concat(n.weeks.slice()),e.slice())}function vf(i,e){const[t,n]=_.useState(i);return[e===void 0?t:e,n]}function O8(i,e){const[t,n]=E8(i,e),{startOfMonth:r,endOfMonth:s}=e,o=F1(i,t,n,e),[a,l]=vf(o,i.month?o:void 0);_.useEffect(()=>{const C=F1(i,t,n,e);l(C)},[i.timeZone]);const c=x8(a,n,i,e),u=b8(c,i.endMonth?s(i.endMonth):void 0,i,e),h=S8(c,u,i,e),d=R8(h),f=w8(h),m=T8(a,t,i,e),p=C8(a,n,i,e),{disableNavigation:g,onMonthChange:v}=i,y=C=>d.some(E=>E.days.some(S=>S.isEqualTo(C))),w=C=>{if(g)return;let E=r(C);t&&E<r(t)&&(E=r(t)),n&&E>r(n)&&(E=r(n)),l(E),v?.(E)};return{months:h,weeks:d,days:f,navStart:t,navEnd:n,previousMonth:m,nextMonth:p,goToMonth:w,goToDay:C=>{y(C)||w(C.date)}}}var On;(function(i){i[i.Today=0]="Today",i[i.Selected=1]="Selected",i[i.LastFocused=2]="LastFocused",i[i.FocusedModifier=3]="FocusedModifier"})(On||(On={}));function $1(i){return!i[ft.disabled]&&!i[ft.hidden]&&!i[ft.outside]}function I8(i,e,t,n){let r,s=-1;for(const o of i){const a=e(o);$1(a)&&(a[ft.focused]&&s<On.FocusedModifier?(r=o,s=On.FocusedModifier):n?.isEqualTo(o)&&s<On.LastFocused?(r=o,s=On.LastFocused):t(o.date)&&s<On.Selected?(r=o,s=On.Selected):a[ft.today]&&s<On.Today&&(r=o,s=On.Today))}return r||(r=i.find(o=>$1(e(o)))),r}function D8(i,e,t,n,r,s,o){const{ISOWeek:a,broadcastCalendar:l}=s,{addDays:c,addMonths:u,addWeeks:h,addYears:d,endOfBroadcastWeek:f,endOfISOWeek:m,endOfWeek:p,max:g,min:v,startOfBroadcastWeek:y,startOfISOWeek:w,startOfWeek:b}=o;let C={day:c,week:h,month:u,year:d,startOfWeek:E=>l?y(E,o):a?w(E):b(E),endOfWeek:E=>l?f(E):a?m(E):p(E)}[i](t,e==="after"?1:-1);return e==="before"&&n?C=g([n,C]):e==="after"&&r&&(C=v([r,C])),C}function s2(i,e,t,n,r,s,o,a=0){if(a>365)return;const l=D8(i,e,t.date,n,r,s,o),c=!!(s.disabled&&mr(l,s.disabled,o)),u=!!(s.hidden&&mr(l,s.hidden,o)),h=l,d=new VF(l,h,o);return!c&&!u?d:s2(i,e,d,n,r,s,o,a+1)}function P8(i,e,t,n,r){const{autoFocus:s}=i,[o,a]=_.useState(),l=I8(e.days,t,n||(()=>!1),o),[c,u]=_.useState(s?l:void 0);return{isFocusTarget:p=>!!l?.isEqualTo(p),setFocused:u,focused:c,blur:()=>{a(c),u(void 0)},moveFocus:(p,g)=>{if(!c)return;const v=s2(p,g,c,e.navStart,e.navEnd,i,r);v&&(i.disableNavigation&&!e.days.some(w=>w.isEqualTo(v))||(e.goToDay(v),u(v)))}}}function k8(i,e){const{selected:t,required:n,onSelect:r}=i,[s,o]=vf(t,r?t:void 0),a=r?t:s,{isSameDay:l}=e,c=f=>a?.some(m=>l(m,f))??!1,{min:u,max:h}=i;return{selected:a,select:(f,m,p)=>{let g=[...a??[]];if(c(f)){if(a?.length===u||n&&a?.length===1)return;g=a?.filter(v=>!l(v,f))}else a?.length===h?g=[f]:g=[...g,f];return r||o(g),r?.(g,f,m,p),g},isSelected:c}}function M8(i,e,t=0,n=0,r=!1,s=Vn){const{from:o,to:a}=e||{},{isSameDay:l,isAfter:c,isBefore:u}=s;let h;if(!o&&!a)h={from:i,to:t>0?void 0:i};else if(o&&!a)l(o,i)?t===0?h={from:o,to:i}:r?h={from:o,to:void 0}:h=void 0:u(i,o)?h={from:i,to:o}:h={from:o,to:i};else if(o&&a)if(l(o,i)&&l(a,i))r?h={from:o,to:a}:h=void 0;else if(l(o,i))h={from:o,to:t>0?void 0:i};else if(l(a,i))h={from:i,to:t>0?void 0:i};else if(u(i,o))h={from:i,to:a};else if(c(i,o))h={from:o,to:i};else if(c(i,a))h={from:o,to:i};else throw new Error("Invalid range");if(h?.from&&h?.to){const d=s.differenceInCalendarDays(h.to,h.from);n>0&&d>n?h={from:i,to:void 0}:t>1&&d<t&&(h={from:i,to:void 0})}return h}function A8(i,e,t=Vn){const n=Array.isArray(e)?e:[e];let r=i.from;const s=t.differenceInCalendarDays(i.to,i.from),o=Math.min(s,6);for(let a=0;a<=o;a++){if(n.includes(r.getDay()))return!0;r=t.addDays(r,1)}return!1}function j1(i,e,t=Vn){return fr(i,e.from,!1,t)||fr(i,e.to,!1,t)||fr(e,i.from,!1,t)||fr(e,i.to,!1,t)}function N8(i,e,t=Vn){const n=Array.isArray(e)?e:[e];if(n.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:t.isDate(a)?fr(i,a,!1,t):e2(a,t)?a.some(l=>fr(i,l,!1,t)):cx(a)?a.from&&a.to?j1(i,{from:a.from,to:a.to},t):!1:JF(a)?A8(i,a.dayOfWeek,t):KF(a)?t.isAfter(a.before,a.after)?j1(i,{from:t.addDays(a.after,1),to:t.addDays(a.before,-1)},t):mr(i.from,a,t)||mr(i.to,a,t):ZF(a)||QF(a)?mr(i.from,a,t)||mr(i.to,a,t):!1))return!0;const o=n.filter(a=>typeof a=="function");if(o.length){let a=i.from;const l=t.differenceInCalendarDays(i.to,i.from);for(let c=0;c<=l;c++){if(o.some(u=>u(a)))return!0;a=t.addDays(a,1)}}return!1}function L8(i,e){const{disabled:t,excludeDisabled:n,selected:r,required:s,onSelect:o}=i,[a,l]=vf(r,o?r:void 0),c=o?r:a;return{selected:c,select:(d,f,m)=>{const{min:p,max:g}=i,v=d?M8(d,c,p,g,s,e):void 0;return n&&t&&v?.from&&v.to&&N8({from:v.from,to:v.to},t,e)&&(v.from=d,v.to=void 0),o||l(v),o?.(v,d,f,m),v},isSelected:d=>c&&fr(c,d,!1,e)}}function F8(i,e){const{selected:t,required:n,onSelect:r}=i,[s,o]=vf(t,r?t:void 0),a=r?t:s,{isSameDay:l}=e;return{selected:a,select:(h,d,f)=>{let m=h;return!n&&a&&a&&l(h,a)&&(m=void 0),r||o(m),r?.(m,h,d,f),m},isSelected:h=>a?l(a,h):!1}}function $8(i,e){const t=F8(i,e),n=k8(i,e),r=L8(i,e);switch(i.mode){case"single":return t;case"multiple":return n;case"range":return r;default:return}}function j8(i){let e=i;e.timeZone&&(e={...i},e.today&&(e.today=new ei(e.today,e.timeZone)),e.month&&(e.month=new ei(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new ei(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new ei(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new ei(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new ei(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=e.selected?.map(pe=>new ei(pe,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new ei(e.selected.from,e.timeZone):void 0,to:e.selected.to?new ei(e.selected.to,e.timeZone):void 0}));const{components:t,formatters:n,labels:r,dateLib:s,locale:o,classNames:a}=_.useMemo(()=>{const pe={...lx,...e.locale};return{dateLib:new Fi({locale:pe,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:G6(e.components),formatters:J6(e.formatters),labels:{...p8,...e.labels},locale:pe,classNames:{...ux(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:l,mode:c,navLayout:u,numberOfMonths:h=1,onDayBlur:d,onDayClick:f,onDayFocus:m,onDayKeyDown:p,onDayMouseEnter:g,onDayMouseLeave:v,onNextClick:y,onPrevClick:w,showWeekNumber:b,styles:x}=e,{formatCaption:C,formatDay:E,formatMonthDropdown:S,formatWeekNumber:R,formatWeekNumberHeader:I,formatWeekdayName:k,formatYearDropdown:M}=n,N=O8(e,s),{days:F,months:q,navStart:A,navEnd:z,previousMonth:P,nextMonth:G,goToMonth:U}=N,K=z6(F,e,A,z,s),{isSelected:D,select:L,selected:$}=$8(e,s)??{},{blur:j,focused:B,isFocusTarget:W,moveFocus:Z,setFocused:J}=P8(e,N,K,D??(()=>!1),s),{labelDayButton:ae,labelGridcell:et,labelGrid:it,labelMonthDropdown:he,labelNav:rt,labelPrevious:gt,labelNext:Et,labelWeekday:vt,labelWeekNumber:qe,labelWeekNumberHeader:zi,labelYearDropdown:ri}=r,Yt=_.useMemo(()=>i8(s,e.ISOWeek),[s,e.ISOWeek]),Kt=c!==void 0||f!==void 0,Ue=_.useCallback(()=>{P&&(U(P),w?.(P))},[P,U,w]),qi=_.useCallback(()=>{G&&(U(G),y?.(G))},[U,G,y]),Qn=_.useCallback((pe,Ve)=>le=>{le.preventDefault(),le.stopPropagation(),J(pe),L?.(pe.date,Ve,le),f?.(pe.date,Ve,le)},[L,f,J]),Yr=_.useCallback((pe,Ve)=>le=>{J(pe),m?.(pe.date,Ve,le)},[m,J]),Rn=_.useCallback((pe,Ve)=>le=>{j(),d?.(pe.date,Ve,le)},[j,d]),Ho=_.useCallback((pe,Ve)=>le=>{const Me={ArrowLeft:[le.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[le.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[le.shiftKey?"year":"week","after"],ArrowUp:[le.shiftKey?"year":"week","before"],PageUp:[le.shiftKey?"year":"month","before"],PageDown:[le.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Me[le.key]){le.preventDefault(),le.stopPropagation();const[Pt,Ie]=Me[le.key];Z(Pt,Ie)}p?.(pe.date,Ve,le)},[Z,p,e.dir]),ks=_.useCallback((pe,Ve)=>le=>{g?.(pe.date,Ve,le)},[g]),Ms=_.useCallback((pe,Ve)=>le=>{v?.(pe.date,Ve,le)},[v]),Fe=_.useCallback(pe=>Ve=>{const le=Number(Ve.target.value),Me=s.setMonth(s.startOfMonth(pe),le);U(Me)},[s,U]),ve=_.useCallback(pe=>Ve=>{const le=Number(Ve.target.value),Me=s.setYear(s.startOfMonth(pe),le);U(Me)},[s,U]),{className:Ce,style:Ee}=_.useMemo(()=>({className:[a[ne.Root],e.className].filter(Boolean).join(" "),style:{...x?.[ne.Root],...e.style}}),[a,e.className,e.style,x]),ze=Y6(e),wt=_.useRef(null);_8(wt,!!e.animate,{classNames:a,months:q,focused:B,dateLib:s});const As={dayPickerProps:e,selected:$,select:L,isSelected:D,months:q,nextMonth:G,previousMonth:P,goToMonth:U,getModifiers:K,components:t,classNames:a,styles:x,labels:r,formatters:n};return Q.createElement(XF.Provider,{value:As},Q.createElement(t.Root,{rootRef:e.animate?wt:void 0,className:Ce,style:Ee,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...ze},Q.createElement(t.Months,{className:a[ne.Months],style:x?.[ne.Months]},!e.hideNavigation&&!u&&Q.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:a[ne.Nav],style:x?.[ne.Nav],"aria-label":rt(),onPreviousClick:Ue,onNextClick:qi,previousMonth:P,nextMonth:G}),q.map((pe,Ve)=>Q.createElement(t.Month,{"data-animated-month":e.animate?"true":void 0,className:a[ne.Month],style:x?.[ne.Month],key:Ve,displayIndex:Ve,calendarMonth:pe},u==="around"&&!e.hideNavigation&&Ve===0&&Q.createElement(t.PreviousMonthButton,{type:"button",className:a[ne.PreviousMonthButton],tabIndex:P?void 0:-1,"aria-disabled":P?void 0:!0,"aria-label":gt(P),onClick:Ue,"data-animated-button":e.animate?"true":void 0},Q.createElement(t.Chevron,{disabled:P?void 0:!0,className:a[ne.Chevron],orientation:e.dir==="rtl"?"right":"left"})),Q.createElement(t.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:a[ne.MonthCaption],style:x?.[ne.MonthCaption],calendarMonth:pe,displayIndex:Ve},l?.startsWith("dropdown")?Q.createElement(t.DropdownNav,{className:a[ne.Dropdowns],style:x?.[ne.Dropdowns]},(()=>{const le=l==="dropdown"||l==="dropdown-months"?Q.createElement(t.MonthsDropdown,{key:"month",className:a[ne.MonthsDropdown],"aria-label":he(),classNames:a,components:t,disabled:!!e.disableNavigation,onChange:Fe(pe.date),options:e8(pe.date,A,z,n,s),style:x?.[ne.Dropdown],value:s.getMonth(pe.date)}):Q.createElement("span",{key:"month"},S(pe.date,s)),Me=l==="dropdown"||l==="dropdown-years"?Q.createElement(t.YearsDropdown,{key:"year",className:a[ne.YearsDropdown],"aria-label":ri(s.options),classNames:a,components:t,disabled:!!e.disableNavigation,onChange:ve(pe.date),options:n8(A,z,n,s,!!e.reverseYears),style:x?.[ne.Dropdown],value:s.getYear(pe.date)}):Q.createElement("span",{key:"year"},M(pe.date,s));return s.getMonthYearOrder()==="year-first"?[Me,le]:[le,Me]})(),Q.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},C(pe.date,s.options,s))):Q.createElement(t.CaptionLabel,{className:a[ne.CaptionLabel],role:"status","aria-live":"polite"},C(pe.date,s.options,s))),u==="around"&&!e.hideNavigation&&Ve===h-1&&Q.createElement(t.NextMonthButton,{type:"button",className:a[ne.NextMonthButton],tabIndex:G?void 0:-1,"aria-disabled":G?void 0:!0,"aria-label":Et(G),onClick:qi,"data-animated-button":e.animate?"true":void 0},Q.createElement(t.Chevron,{disabled:G?void 0:!0,className:a[ne.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Ve===h-1&&u==="after"&&!e.hideNavigation&&Q.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:a[ne.Nav],style:x?.[ne.Nav],"aria-label":rt(),onPreviousClick:Ue,onNextClick:qi,previousMonth:P,nextMonth:G}),Q.createElement(t.MonthGrid,{role:"grid","aria-multiselectable":c==="multiple"||c==="range","aria-label":it(pe.date,s.options,s)||void 0,className:a[ne.MonthGrid],style:x?.[ne.MonthGrid]},!e.hideWeekdays&&Q.createElement(t.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:a[ne.Weekdays],style:x?.[ne.Weekdays]},b&&Q.createElement(t.WeekNumberHeader,{"aria-label":zi(s.options),className:a[ne.WeekNumberHeader],style:x?.[ne.WeekNumberHeader],scope:"col"},I()),Yt.map(le=>Q.createElement(t.Weekday,{"aria-label":vt(le,s.options,s),className:a[ne.Weekday],key:String(le),style:x?.[ne.Weekday],scope:"col"},k(le,s.options,s)))),Q.createElement(t.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:a[ne.Weeks],style:x?.[ne.Weeks]},pe.weeks.map(le=>Q.createElement(t.Week,{className:a[ne.Week],key:le.weekNumber,style:x?.[ne.Week],week:le},b&&Q.createElement(t.WeekNumber,{week:le,style:x?.[ne.WeekNumber],"aria-label":qe(le.weekNumber,{locale:o}),className:a[ne.WeekNumber],scope:"row",role:"rowheader"},R(le.weekNumber,s)),le.days.map(Me=>{const{date:Pt}=Me,Ie=K(Me);if(Ie[ft.focused]=!Ie.hidden&&!!B?.isEqualTo(Me),Ie[hn.selected]=D?.(Pt)||Ie.selected,cx($)){const{from:Zt,to:mi}=$;Ie[hn.range_start]=!!(Zt&&mi&&s.isSameDay(Pt,Zt)),Ie[hn.range_end]=!!(Zt&&mi&&s.isSameDay(Pt,mi)),Ie[hn.range_middle]=fr($,Pt,!0,s)}const Qu=t8(Ie,x,e.modifiersStyles),fi=q6(Ie,a,e.modifiersClassNames),Jn=!Kt&&!Ie.hidden?et(Pt,Ie,s.options,s):void 0;return Q.createElement(t.Day,{key:`${s.format(Pt,"yyyy-MM-dd")}_${s.format(Me.displayMonth,"yyyy-MM")}`,day:Me,modifiers:Ie,className:fi.join(" "),style:Qu,role:"gridcell","aria-selected":Ie.selected||void 0,"aria-label":Jn,"data-day":s.format(Pt,"yyyy-MM-dd"),"data-month":Me.outside?s.format(Pt,"yyyy-MM"):void 0,"data-selected":Ie.selected||void 0,"data-disabled":Ie.disabled||void 0,"data-hidden":Ie.hidden||void 0,"data-outside":Me.outside||void 0,"data-focused":Ie.focused||void 0,"data-today":Ie.today||void 0},!Ie.hidden&&Kt?Q.createElement(t.DayButton,{className:a[ne.DayButton],style:x?.[ne.DayButton],type:"button",day:Me,modifiers:Ie,disabled:Ie.disabled||void 0,tabIndex:W(Me)?0:-1,"aria-label":ae(Pt,Ie,s.options,s),onClick:Qn(Me,Ie),onBlur:Rn(Me,Ie),onFocus:Yr(Me,Ie),onKeyDown:Ho(Me,Ie),onMouseEnter:ks(Me,Ie),onMouseLeave:Ms(Me,Ie)},E(Pt,s.options,s)):!Ie.hidden&&E(Me.date,s.options,s))})))))))),e.footer&&Q.createElement(t.Footer,{className:a[ne.Footer],style:x?.[ne.Footer],role:"status","aria-live":"polite"},e.footer)))}function W8({className:i,classNames:e,showOutsideDays:t=!0,captionLayout:n="label",buttonVariant:r="ghost",formatters:s,components:o,...a}){const l=ux();return T.jsx(j8,{showOutsideDays:t,className:V("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,i),captionLayout:n,formatters:{formatMonthDropdown:c=>c.toLocaleString("default",{month:"short"}),...s},classNames:{root:V("w-fit",l.root),months:V("relative flex flex-col gap-4 md:flex-row",l.months),month:V("flex w-full flex-col gap-4",l.month),nav:V("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",l.nav),button_previous:V(zb({variant:r}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",l.button_previous),button_next:V(zb({variant:r}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",l.button_next),month_caption:V("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",l.month_caption),dropdowns:V("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",l.dropdowns),dropdown_root:V("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",l.dropdown_root),dropdown:V("bg-popover absolute inset-0 opacity-0",l.dropdown),caption_label:V("select-none font-medium",n==="label"?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",l.caption_label),table:"w-full border-collapse",weekdays:V("flex",l.weekdays),weekday:V("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",l.weekday),week:V("mt-2 flex w-full",l.week),week_number_header:V("w-[--cell-size] select-none",l.week_number_header),week_number:V("text-muted-foreground select-none text-[0.8rem]",l.week_number),day:V("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",l.day),range_start:V("bg-accent rounded-l-md",l.range_start),range_middle:V("rounded-none",l.range_middle),range_end:V("bg-accent rounded-r-md",l.range_end),today:V("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",l.today),outside:V("text-muted-foreground aria-selected:text-muted-foreground",l.outside),disabled:V("text-muted-foreground opacity-50",l.disabled),hidden:V("invisible",l.hidden),...e},components:{Root:({className:c,rootRef:u,...h})=>T.jsx("div",{"data-slot":"calendar",ref:u,className:V(c),...h}),Chevron:({className:c,orientation:u,...h})=>u==="left"?T.jsx(Ez,{className:V("size-4",c),...h}):u==="right"?T.jsx(Tz,{className:V("size-4",c),...h}):T.jsx(xz,{className:V("size-4",c),...h}),DayButton:z8,WeekNumber:({children:c,...u})=>T.jsx("td",{...u,children:T.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:c})}),...o},...a})}function z8({className:i,day:e,modifiers:t,...n}){const r=ux(),s=_.useRef(null);return _.useEffect(()=>{t.focused&&s.current?.focus()},[t.focused]),T.jsx(yr,{ref:s,variant:"ghost",size:"icon","data-day":e.date.toLocaleDateString(),"data-selected-single":t.selected&&!t.range_start&&!t.range_end&&!t.range_middle,"data-range-start":t.range_start,"data-range-end":t.range_end,"data-range-middle":t.range_middle,className:V("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",r.day,i),...n})}var yf="Popover",[o2]=Po(yf,[Yd]),Su=Yd(),[q8,Es]=o2(yf),a2=i=>{const{__scopePopover:e,children:t,open:n,defaultOpen:r,onOpenChange:s,modal:o=!1}=i,a=Su(e),l=_.useRef(null),[c,u]=_.useState(!1),[h,d]=au({prop:n,defaultProp:r??!1,onChange:s,caller:yf});return T.jsx(kN,{...a,children:T.jsx(q8,{scope:e,contentId:Ai(),triggerRef:l,open:h,onOpenChange:d,onOpenToggle:_.useCallback(()=>d(f=>!f),[d]),hasCustomAnchor:c,onCustomAnchorAdd:_.useCallback(()=>u(!0),[]),onCustomAnchorRemove:_.useCallback(()=>u(!1),[]),modal:o,children:t})})};a2.displayName=yf;var l2="PopoverAnchor",G8=_.forwardRef((i,e)=>{const{__scopePopover:t,...n}=i,r=Es(l2,t),s=Su(t),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=r;return _.useEffect(()=>(o(),()=>a()),[o,a]),T.jsx(vw,{...s,...n,ref:e})});G8.displayName=l2;var c2="PopoverTrigger",u2=_.forwardRef((i,e)=>{const{__scopePopover:t,...n}=i,r=Es(c2,t),s=Su(t),o=ni(e,r.triggerRef),a=T.jsx(We.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":p2(r.open),...n,ref:o,onClick:Ke(i.onClick,r.onOpenToggle)});return r.hasCustomAnchor?a:T.jsx(vw,{asChild:!0,...s,children:a})});u2.displayName=c2;var hx="PopoverPortal",[Y8,B8]=o2(hx,{forceMount:void 0}),h2=i=>{const{__scopePopover:e,forceMount:t,children:n,container:r}=i,s=Es(hx,e);return T.jsx(Y8,{scope:e,forceMount:t,children:T.jsx(ws,{present:t||s.open,children:T.jsx(nw,{asChild:!0,container:r,children:n})})})};h2.displayName=hx;var nl="PopoverContent",d2=_.forwardRef((i,e)=>{const t=B8(nl,i.__scopePopover),{forceMount:n=t.forceMount,...r}=i,s=Es(nl,i.__scopePopover);return T.jsx(ws,{present:n||s.open,children:s.modal?T.jsx(U8,{...r,ref:e}):T.jsx(V8,{...r,ref:e})})});d2.displayName=nl;var H8=Ba("PopoverContent.RemoveScroll"),U8=_.forwardRef((i,e)=>{const t=Es(nl,i.__scopePopover),n=_.useRef(null),r=ni(e,n),s=_.useRef(!1);return _.useEffect(()=>{const o=n.current;if(o)return qA(o)},[]),T.jsx(rw,{as:H8,allowPinchZoom:!0,children:T.jsx(f2,{...i,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(i.onCloseAutoFocus,o=>{o.preventDefault(),s.current||t.triggerRef.current?.focus()}),onPointerDownOutside:Ke(i.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Ke(i.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),V8=_.forwardRef((i,e)=>{const t=Es(nl,i.__scopePopover),n=_.useRef(!1),r=_.useRef(!1);return T.jsx(f2,{...i,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{i.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||t.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:s=>{i.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=s.target;t.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),f2=_.forwardRef((i,e)=>{const{__scopePopover:t,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...h}=i,d=Es(nl,t),f=Su(t);return MA(),T.jsx(iw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:s,children:T.jsx(Nd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>d.onOpenChange(!1),children:T.jsx(MN,{"data-state":p2(d.open),role:"dialog",id:d.contentId,...f,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),m2="PopoverClose",X8=_.forwardRef((i,e)=>{const{__scopePopover:t,...n}=i,r=Es(m2,t);return T.jsx(We.button,{type:"button",...n,ref:e,onClick:Ke(i.onClick,()=>r.onOpenChange(!1))})});X8.displayName=m2;var K8="PopoverArrow",Z8=_.forwardRef((i,e)=>{const{__scopePopover:t,...n}=i,r=Su(t);return T.jsx(AN,{...r,...n,ref:e})});Z8.displayName=K8;function p2(i){return i?"open":"closed"}var Q8=a2,J8=u2,eZ=h2,g2=d2;const tZ=Q8,iZ=J8,v2=_.forwardRef(({className:i,align:e="center",sideOffset:t=4,...n},r)=>T.jsx(eZ,{children:T.jsx(g2,{ref:r,align:e,sideOffset:t,className:V("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",i),...n})}));v2.displayName=g2.displayName;const nZ=()=>T.jsxs(tZ,{children:[T.jsx(iZ,{asChild:!0,children:T.jsxs(Bs,{variant:"outline",className:V("w-full text-right font-normal"),children:[T.jsx(bz,{className:"h-4 w-4 text-right"}),"24  "]})}),T.jsxs(v2,{className:"dark w-auto p-0",align:"start",children:[T.jsx(W8,{mode:"range",captionLayout:"dropdown"}),T.jsx("div",{className:"px-2 pb-2",children:T.jsx(yr,{disabled:!0,className:"h-8",children:""})})]})]});/**
 * @license lucide-static v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=`
<svg
  class="lucide lucide-panel-right"
  xmlns="http://www.w3.org/2000/svg"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  stroke="currentColor"
  stroke-width="2"
  stroke-linecap="round"
  stroke-linejoin="round"
>
  <rect width="18" height="18" x="3" y="3" rx="2" />
  <path d="M15 3v18" />
</svg>
`;/**
 * @license lucide-static v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=`
<svg
  class="lucide lucide-shield-x"
  xmlns="http://www.w3.org/2000/svg"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  stroke="currentColor"
  stroke-width="2"
  stroke-linecap="round"
  stroke-linejoin="round"
>
  <path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z" />
  <path d="m14.5 9.5-5 5" />
  <path d="m9.5 9.5 5 5" />
</svg>
`;/**
 * @license lucide-static v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=`
<svg
  class="lucide lucide-square-kanban"
  xmlns="http://www.w3.org/2000/svg"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  stroke="currentColor"
  stroke-width="2"
  stroke-linecap="round"
  stroke-linejoin="round"
>
  <rect width="18" height="18" x="3" y="3" rx="2" />
  <path d="M8 7v7" />
  <path d="M12 7v4" />
  <path d="M16 7v9" />
</svg>
`;function aZ({entities:i,entitiesCluster:e}){const[,t]=_.useState(0),n=()=>t(s=>s+1),{toggleSidebar:r}=hu();return T.jsxs(UN,{side:"right",collapsible:"icon",dir:"rtl",children:[T.jsxs(QN,{children:[T.jsx(ZN,{children:T.jsxs("div",{className:"flex items-center justify-between gap-1",children:[T.jsx(zs,{className:"w-full",children:T.jsxs(Bs,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",children:[T.jsx("div",{className:"flex aspect-square size-8 items-center justify-center rounded-lg bg-sidebar-primary text-sidebar-primary-foreground",children:T.jsx(Jz,{className:"size-4"})}),T.jsxs("div",{className:"grid flex-1 text-right text-sm leading-tight",children:[T.jsx("span",{className:"truncate font-medium",children:"???"}),T.jsx("span",{className:"truncate text-xs",children:"?????"})]})]})}),T.jsx(VN,{className:"group-data-[collapsible=icon]:visbile h-8 w-8 transition-transform group-data-[collapsible=icon]:absolute group-data-[collapsible=icon]:right-14",children:T.jsx(rZ,{})})]})}),T.jsxs(jh,{children:[T.jsx(Wh,{children:""}),T.jsxs(zh,{className:"relative flex flex-col gap-2",children:[T.jsx(zs,{className:"group-data-[collapsible=icon]:hidden",children:T.jsx(F4,{inputClassName:"group-search-input"})}),T.jsx(zs,{className:"hidden group-data-[collapsible=icon]:block",children:T.jsx(Bs,{variant:"outline",onClick:()=>{r(),setTimeout(()=>{document?.getElementsByClassName("group-search-input").item(0)?.focus()},100)},children:T.jsx(uA,{})})}),T.jsx(zs,{children:T.jsxs(Bs,{className:"mx-auto",variant:"outline",children:[T.jsx(Yz,{}),T.jsx("span",{children:" "})]})})]})]}),T.jsxs(jh,{children:[T.jsx(Wh,{children:""}),T.jsx(zh,{children:T.jsx(nZ,{})})]}),T.jsxs(jh,{children:[T.jsx(Wh,{children:""}),T.jsx(zh,{children:T.jsxs(JN,{children:[T.jsx(zs,{children:T.jsxs(Bs,{onClick:()=>e4(i),children:[T.jsx(Lb,{}),T.jsx("div",{children:"add entity"})]})}),T.jsx(zs,{className:"group-data-[collapsible=icon]:hidden",children:T.jsxs(Bs,{onClick:()=>{e.setDistance(50),n()},children:[T.jsx(Lb,{}),T.jsxs("div",{children:["change cluster distance - ",e.getDistance()]})]})})]})})]})]}),T.jsx(XN,{})]})}function lZ({map:i,select:e,onViewEntity:t,onClickSingleEntity:n}){const r=_.useRef(null),s=_.useRef(null),o=_.useRef(null),[a,l]=_.useState();return _.useEffect(()=>{if(r.current){i.setTarget(r.current);const c=new zX({element:s.current,offset:[0,-80],positioning:"top-center",autoPan:{animation:{duration:250}}});return o.current=c,i.addOverlay(c),e?.on("select",u=>{const h=u.target.getFeatures();if(u.selected.length===1&&h.getLength()===1){const d=u.selected[0].getGeometry()?.getCoordinates();c.setPosition(d);const f=u.selected[0].get("features")[0].getId();l(f),n(f)}else c.setPosition(void 0),l(void 0),t(void 0)}),()=>{i.setTarget(void 0),i.removeOverlay(c)}}},[i,n,e]),T.jsxs(T.Fragment,{children:[T.jsx("div",{ref:r,className:"h-full w-full overflow-hidden"}),T.jsx("div",{ref:s,className:"tooltip-thing absolute text-primary",children:T.jsxs("div",{className:V("absolute -translate-x-1/2 transition-all duration-300",a?"pointer-events-auto translate-y-0 opacity-100":"pointer-events-none translate-y-2 opacity-0"),children:[T.jsxs("div",{className:"flex gap-2 rounded-xl border border-border bg-card p-2 shadow-2xl backdrop-blur-sm",children:[T.jsx(yr,{size:"sm",variant:"ghost",className:"h-9 w-9 p-0",onClick:()=>a&&t(a),children:T.jsx(Lz,{className:"h-4 w-4"})}),T.jsx(yr,{size:"sm",variant:"ghost",className:"h-9 w-9 p-0",children:T.jsx(Dz,{className:"h-4 w-4"})}),T.jsx(yr,{size:"sm",variant:"ghost",className:"h-9 w-9 p-0",children:T.jsx(Az,{className:"h-4 w-4"})})]}),T.jsx("div",{className:"absolute left-1/2 top-full -mt-[5px] -translate-x-1/2",children:T.jsx("div",{className:"h-3 w-3 rotate-45 border-b border-r border-border bg-card"})})]})})]})}function cZ(i){const e=i+"CollectionProvider",[t,n]=Po(e),[r,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:g,children:v}=p,y=Q.useRef(null),w=Q.useRef(new Map).current;return T.jsx(r,{scope:g,itemMap:w,collectionRef:y,children:v})};o.displayName=e;const a=i+"CollectionSlot",l=Ba(a),c=Q.forwardRef((p,g)=>{const{scope:v,children:y}=p,w=s(a,v),b=ni(g,w.collectionRef);return T.jsx(l,{ref:b,children:y})});c.displayName=a;const u=i+"CollectionItemSlot",h="data-radix-collection-item",d=Ba(u),f=Q.forwardRef((p,g)=>{const{scope:v,children:y,...w}=p,b=Q.useRef(null),x=ni(g,b),C=s(u,v);return Q.useEffect(()=>(C.itemMap.set(b,{ref:b,...w}),()=>void C.itemMap.delete(b))),T.jsx(d,{[h]:"",ref:x,children:y})});f.displayName=u;function m(p){const g=s(i+"CollectionConsumer",p);return Q.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((C,E)=>w.indexOf(C.ref.current)-w.indexOf(E.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},m,n]}var uZ=_.createContext(void 0);function y2(i){const e=_.useContext(uZ);return i||e||"ltr"}var Xm="rovingFocusGroup.onEntryFocus",hZ={bubbles:!1,cancelable:!0},Eu="RovingFocusGroup",[v0,_2,dZ]=cZ(Eu),[fZ,b2]=Po(Eu,[dZ]),[mZ,pZ]=fZ(Eu),w2=_.forwardRef((i,e)=>T.jsx(v0.Provider,{scope:i.__scopeRovingFocusGroup,children:T.jsx(v0.Slot,{scope:i.__scopeRovingFocusGroup,children:T.jsx(gZ,{...i,ref:e})})}));w2.displayName=Eu;var gZ=_.forwardRef((i,e)=>{const{__scopeRovingFocusGroup:t,orientation:n,loop:r=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=i,d=_.useRef(null),f=ni(e,d),m=y2(s),[p,g]=au({prop:o,defaultProp:a??null,onChange:l,caller:Eu}),[v,y]=_.useState(!1),w=fo(c),b=_2(t),x=_.useRef(!1),[C,E]=_.useState(0);return _.useEffect(()=>{const S=d.current;if(S)return S.addEventListener(Xm,w),()=>S.removeEventListener(Xm,w)},[w]),T.jsx(mZ,{scope:t,orientation:n,dir:m,loop:r,currentTabStopId:p,onItemFocus:_.useCallback(S=>g(S),[g]),onItemShiftTab:_.useCallback(()=>y(!0),[]),onFocusableItemAdd:_.useCallback(()=>E(S=>S+1),[]),onFocusableItemRemove:_.useCallback(()=>E(S=>S-1),[]),children:T.jsx(We.div,{tabIndex:v||C===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...i.style},onMouseDown:Ke(i.onMouseDown,()=>{x.current=!0}),onFocus:Ke(i.onFocus,S=>{const R=!x.current;if(S.target===S.currentTarget&&R&&!v){const I=new CustomEvent(Xm,hZ);if(S.currentTarget.dispatchEvent(I),!I.defaultPrevented){const k=b().filter(A=>A.focusable),M=k.find(A=>A.active),N=k.find(A=>A.id===p),q=[M,N,...k].filter(Boolean).map(A=>A.ref.current);E2(q,u)}}x.current=!1}),onBlur:Ke(i.onBlur,()=>y(!1))})})}),x2="RovingFocusGroupItem",S2=_.forwardRef((i,e)=>{const{__scopeRovingFocusGroup:t,focusable:n=!0,active:r=!1,tabStopId:s,children:o,...a}=i,l=Ai(),c=s||l,u=pZ(x2,t),h=u.currentTabStopId===c,d=_2(t),{onFocusableItemAdd:f,onFocusableItemRemove:m,currentTabStopId:p}=u;return _.useEffect(()=>{if(n)return f(),()=>m()},[n,f,m]),T.jsx(v0.ItemSlot,{scope:t,id:c,focusable:n,active:r,children:T.jsx(We.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:Ke(i.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:Ke(i.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ke(i.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=_Z(g,u.orientation,u.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=d().filter(b=>b.focusable).map(b=>b.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const b=w.indexOf(g.currentTarget);w=u.loop?bZ(w,b+1):w.slice(b+1)}setTimeout(()=>E2(w))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:p!=null}):o})})});S2.displayName=x2;var vZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function yZ(i,e){return e!=="rtl"?i:i==="ArrowLeft"?"ArrowRight":i==="ArrowRight"?"ArrowLeft":i}function _Z(i,e,t){const n=yZ(i.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return vZ[n]}function E2(i,e=!1){const t=document.activeElement;for(const n of i)if(n===t||(n.focus({preventScroll:e}),document.activeElement!==t))return}function bZ(i,e){return i.map((t,n)=>i[(e+n)%i.length])}var wZ=w2,xZ=S2,_f="Tabs",[SZ]=Po(_f,[b2]),C2=b2(),[EZ,dx]=SZ(_f),T2=_.forwardRef((i,e)=>{const{__scopeTabs:t,value:n,onValueChange:r,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=i,u=y2(a),[h,d]=au({prop:n,onChange:r,defaultProp:s??"",caller:_f});return T.jsx(EZ,{scope:t,baseId:Ai(),value:h,onValueChange:d,orientation:o,dir:u,activationMode:l,children:T.jsx(We.div,{dir:u,"data-orientation":o,...c,ref:e})})});T2.displayName=_f;var R2="TabsList",O2=_.forwardRef((i,e)=>{const{__scopeTabs:t,loop:n=!0,...r}=i,s=dx(R2,t),o=C2(t);return T.jsx(wZ,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:T.jsx(We.div,{role:"tablist","aria-orientation":s.orientation,...r,ref:e})})});O2.displayName=R2;var I2="TabsTrigger",D2=_.forwardRef((i,e)=>{const{__scopeTabs:t,value:n,disabled:r=!1,...s}=i,o=dx(I2,t),a=C2(t),l=k2(o.baseId,n),c=M2(o.baseId,n),u=n===o.value;return T.jsx(xZ,{asChild:!0,...a,focusable:!r,active:u,children:T.jsx(We.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:l,...s,ref:e,onMouseDown:Ke(i.onMouseDown,h=>{!r&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Ke(i.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Ke(i.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!r&&h&&o.onValueChange(n)})})})});D2.displayName=I2;var P2="TabsContent",fd=_.forwardRef((i,e)=>{const{__scopeTabs:t,value:n,forceMount:r,children:s,...o}=i,a=dx(P2,t),l=k2(a.baseId,n),c=M2(a.baseId,n),u=n===a.value,h=_.useRef(u);return _.useEffect(()=>{const d=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(d)},[]),T.jsx(ws,{present:r||u,children:({present:d})=>T.jsx(We.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:c,tabIndex:0,...o,ref:e,style:{...i.style,animationDuration:h.current?"0s":void 0},children:d&&s})})});fd.displayName=P2;function k2(i,e){return`${i}-trigger-${e}`}function M2(i,e){return`${i}-content-${e}`}var CZ=T2,A2=O2,N2=D2,L2=fd;const TZ=CZ,F2=_.forwardRef(({className:i,...e},t)=>T.jsx(A2,{ref:t,className:V("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",i),...e}));F2.displayName=A2.displayName;const y0=_.forwardRef(({className:i,...e},t)=>T.jsx(N2,{ref:t,className:V("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",i),...e}));y0.displayName=N2.displayName;const RZ=_.forwardRef(({className:i,...e},t)=>T.jsx(L2,{ref:t,className:V("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",i),...e}));RZ.displayName=L2.displayName;function $2({focusedEntityId:i,onFocus:e}){const t={value:123456,coordinates:[37.7749,-122.4194]};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"mb-6 flex items-start gap-4",children:[T.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-primary/20",children:T.jsx(qz,{className:"h-6 w-6 text-primary"})}),T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-muted-foreground",children:"  :"}),i,T.jsx(yr,{variant:"ghost",onClick:e,className:"ml-auto",children:T.jsx(kz,{})})]})]}),T.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"rounded-lg bg-secondary/50 p-4",children:[T.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[T.jsx(Wz,{className:"h-4 w-4 text-primary"}),T.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:" "})]}),T.jsx("p",{className:"text-2xl font-bold text-foreground",children:t.value})]}),T.jsxs("div",{className:"rounded-lg bg-secondary/50 p-4",children:[T.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[T.jsx(Zz,{className:"h-4 w-4 text-primary"}),T.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:""})]}),T.jsxs("p",{className:"text-right font-mono text-sm text-foreground",dir:"ltr",children:[t.coordinates[1].toFixed(4),", ",t.coordinates[0].toFixed(4)]})]})]}),T.jsxs("div",{className:"space-y-3",children:[T.jsx("h3",{className:"font-semibold text-foreground",children:""}),T.jsx("div",{className:"rounded-lg bg-secondary/30 p-4",children:T.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground",children:"     .       ;  ,  ,       ,    ,    .        ,      .       .         ,    .                    .        ."})})]})]})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var W1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Re(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Km={exports:{}},z1={},Xl,q1;function It(){if(q1)return Xl;q1=1;var i=function(e){return e&&e.Math===Math&&e};return Xl=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof W1=="object"&&W1)||i(typeof Xl=="object"&&Xl)||(function(){return this})()||Function("return this")(),Xl}var Zm,G1;function He(){return G1||(G1=1,Zm=function(i){try{return!!i()}catch{return!0}}),Zm}var Qm,Y1;function Cu(){if(Y1)return Qm;Y1=1;var i=He();return Qm=!i(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Qm}var Jm,B1;function bf(){if(B1)return Jm;B1=1;var i=Cu(),e=Function.prototype,t=e.apply,n=e.call;return Jm=typeof Reflect=="object"&&Reflect.apply||(i?n.bind(t):function(){return n.apply(t,arguments)}),Jm}var ep,H1;function tt(){if(H1)return ep;H1=1;var i=Cu(),e=Function.prototype,t=e.call,n=i&&e.bind.bind(t,t);return ep=i?n:function(r){return function(){return t.apply(r,arguments)}},ep}var tp,U1;function $r(){if(U1)return tp;U1=1;var i=tt(),e=i({}.toString),t=i("".slice);return tp=function(n){return t(e(n),8,-1)},tp}var ip,V1;function j2(){if(V1)return ip;V1=1;var i=$r(),e=tt();return ip=function(t){if(i(t)==="Function")return e(t)},ip}var np,X1;function Wt(){if(X1)return np;X1=1;var i=typeof document=="object"&&document.all;return np=typeof i>"u"&&i!==void 0?function(e){return typeof e=="function"||e===i}:function(e){return typeof e=="function"},np}var rp={},sp,K1;function Dt(){if(K1)return sp;K1=1;var i=He();return sp=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),sp}var op,Z1;function Ti(){if(Z1)return op;Z1=1;var i=Cu(),e=Function.prototype.call;return op=i?e.bind(e):function(){return e.apply(e,arguments)},op}var ap={},Q1;function fx(){if(Q1)return ap;Q1=1;var i={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!i.call({1:2},1);return ap.f=t?function(r){var s=e(this,r);return!!s&&s.enumerable}:i,ap}var lp,J1;function Tu(){return J1||(J1=1,lp=function(i,e){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:e}}),lp}var cp,eC;function wf(){if(eC)return cp;eC=1;var i=tt(),e=He(),t=$r(),n=Object,r=i("".split);return cp=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?r(s,""):n(s)}:n,cp}var up,tC;function Ru(){return tC||(tC=1,up=function(i){return i==null}),up}var hp,iC;function Ao(){if(iC)return hp;iC=1;var i=Ru(),e=TypeError;return hp=function(t){if(i(t))throw new e("Can't call method on "+t);return t},hp}var dp,nC;function Xn(){if(nC)return dp;nC=1;var i=wf(),e=Ao();return dp=function(t){return i(e(t))},dp}var fp,rC;function di(){if(rC)return fp;rC=1;var i=Wt();return fp=function(e){return typeof e=="object"?e!==null:i(e)},fp}var mp,sC;function Lt(){return sC||(sC=1,mp={}),mp}var pp,oC;function ji(){if(oC)return pp;oC=1;var i=Lt(),e=It(),t=Wt(),n=function(r){return t(r)?r:void 0};return pp=function(r,s){return arguments.length<2?n(i[r])||n(e[r]):i[r]&&i[r][s]||e[r]&&e[r][s]},pp}var gp,aC;function zt(){if(aC)return gp;aC=1;var i=tt();return gp=i({}.isPrototypeOf),gp}var vp,lC;function El(){if(lC)return vp;lC=1;var i=It(),e=i.navigator,t=e&&e.userAgent;return vp=t?String(t):"",vp}var yp,cC;function Ou(){if(cC)return yp;cC=1;var i=It(),e=El(),t=i.process,n=i.Deno,r=t&&t.versions||n&&n.version,s=r&&r.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),yp=a,yp}var _p,uC;function Cl(){if(uC)return _p;uC=1;var i=Ou(),e=He(),t=It(),n=t.String;return _p=!!Object.getOwnPropertySymbols&&!e(function(){var r=Symbol("symbol detection");return!n(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&i&&i<41}),_p}var bp,hC;function W2(){if(hC)return bp;hC=1;var i=Cl();return bp=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol",bp}var wp,dC;function Iu(){if(dC)return wp;dC=1;var i=ji(),e=Wt(),t=zt(),n=W2(),r=Object;return wp=n?function(s){return typeof s=="symbol"}:function(s){var o=i("Symbol");return e(o)&&t(o.prototype,r(s))},wp}var xp,fC;function Tl(){if(fC)return xp;fC=1;var i=String;return xp=function(e){try{return i(e)}catch{return"Object"}},xp}var Sp,mC;function jr(){if(mC)return Sp;mC=1;var i=Wt(),e=Tl(),t=TypeError;return Sp=function(n){if(i(n))return n;throw new t(e(n)+" is not a function")},Sp}var Ep,pC;function mx(){if(pC)return Ep;pC=1;var i=jr(),e=Ru();return Ep=function(t,n){var r=t[n];return e(r)?void 0:i(r)},Ep}var Cp,gC;function OZ(){if(gC)return Cp;gC=1;var i=Ti(),e=Wt(),t=di(),n=TypeError;return Cp=function(r,s){var o,a;if(s==="string"&&e(o=r.toString)&&!t(a=i(o,r))||e(o=r.valueOf)&&!t(a=i(o,r))||s!=="string"&&e(o=r.toString)&&!t(a=i(o,r)))return a;throw new n("Can't convert object to primitive value")},Cp}var Tp={exports:{}},Rp,vC;function Rl(){return vC||(vC=1,Rp=!0),Rp}var Op,yC;function IZ(){if(yC)return Op;yC=1;var i=It(),e=Object.defineProperty;return Op=function(t,n){try{e(i,t,{value:n,configurable:!0,writable:!0})}catch{i[t]=n}return n},Op}var _C;function px(){if(_C)return Tp.exports;_C=1;var i=Rl(),e=It(),t=IZ(),n="__core-js_shared__",r=Tp.exports=e[n]||t(n,{});return(r.versions||(r.versions=[])).push({version:"3.44.0",mode:i?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Tp.exports}var Ip,bC;function Ol(){if(bC)return Ip;bC=1;var i=px();return Ip=function(e,t){return i[e]||(i[e]=t||{})},Ip}var Dp,wC;function Cn(){if(wC)return Dp;wC=1;var i=Ao(),e=Object;return Dp=function(t){return e(i(t))},Dp}var Pp,xC;function qt(){if(xC)return Pp;xC=1;var i=tt(),e=Cn(),t=i({}.hasOwnProperty);return Pp=Object.hasOwn||function(r,s){return t(e(r),s)},Pp}var kp,SC;function xf(){if(SC)return kp;SC=1;var i=tt(),e=0,t=Math.random(),n=i(1.1.toString);return kp=function(r){return"Symbol("+(r===void 0?"":r)+")_"+n(++e+t,36)},kp}var Mp,EC;function Gt(){if(EC)return Mp;EC=1;var i=It(),e=Ol(),t=qt(),n=xf(),r=Cl(),s=W2(),o=i.Symbol,a=e("wks"),l=s?o.for||o:o&&o.withoutSetter||n;return Mp=function(c){return t(a,c)||(a[c]=r&&t(o,c)?o[c]:l("Symbol."+c)),a[c]},Mp}var Ap,CC;function z2(){if(CC)return Ap;CC=1;var i=Ti(),e=di(),t=Iu(),n=mx(),r=OZ(),s=Gt(),o=TypeError,a=s("toPrimitive");return Ap=function(l,c){if(!e(l)||t(l))return l;var u=n(l,a),h;if(u){if(c===void 0&&(c="default"),h=i(u,l,c),!e(h)||t(h))return h;throw new o("Can't convert object to primitive value")}return c===void 0&&(c="number"),r(l,c)},Ap}var Np,TC;function gx(){if(TC)return Np;TC=1;var i=z2(),e=Iu();return Np=function(t){var n=i(t,"string");return e(n)?n:n+""},Np}var Lp,RC;function q2(){if(RC)return Lp;RC=1;var i=It(),e=di(),t=i.document,n=e(t)&&e(t.createElement);return Lp=function(r){return n?t.createElement(r):{}},Lp}var Fp,OC;function G2(){if(OC)return Fp;OC=1;var i=Dt(),e=He(),t=q2();return Fp=!i&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),Fp}var IC;function Sf(){if(IC)return rp;IC=1;var i=Dt(),e=Ti(),t=fx(),n=Tu(),r=Xn(),s=gx(),o=qt(),a=G2(),l=Object.getOwnPropertyDescriptor;return rp.f=i?l:function(u,h){if(u=r(u),h=s(h),a)try{return l(u,h)}catch{}if(o(u,h))return n(!e(t.f,u,h),u[h])},rp}var $p,DC;function DZ(){if(DC)return $p;DC=1;var i=He(),e=Wt(),t=/#|\.prototype\./,n=function(l,c){var u=s[r(l)];return u===a?!0:u===o?!1:e(c)?i(c):!!c},r=n.normalize=function(l){return String(l).replace(t,".").toLowerCase()},s=n.data={},o=n.NATIVE="N",a=n.POLYFILL="P";return $p=n,$p}var jp,PC;function Ef(){if(PC)return jp;PC=1;var i=j2(),e=jr(),t=Cu(),n=i(i.bind);return jp=function(r,s){return e(r),s===void 0?r:t?n(r,s):function(){return r.apply(s,arguments)}},jp}var Wp={},zp,kC;function Y2(){if(kC)return zp;kC=1;var i=Dt(),e=He();return zp=i&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),zp}var qp,MC;function Wr(){if(MC)return qp;MC=1;var i=di(),e=String,t=TypeError;return qp=function(n){if(i(n))return n;throw new t(e(n)+" is not an object")},qp}var AC;function en(){if(AC)return Wp;AC=1;var i=Dt(),e=G2(),t=Y2(),n=Wr(),r=gx(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",u="writable";return Wp.f=i?t?function(d,f,m){if(n(d),f=r(f),n(m),typeof d=="function"&&f==="prototype"&&"value"in m&&u in m&&!m[u]){var p=a(d,f);p&&p[u]&&(d[f]=m.value,m={configurable:c in m?m[c]:p[c],enumerable:l in m?m[l]:p[l],writable:!1})}return o(d,f,m)}:o:function(d,f,m){if(n(d),f=r(f),n(m),e)try{return o(d,f,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(d[f]=m.value),d},Wp}var Gp,NC;function Il(){if(NC)return Gp;NC=1;var i=Dt(),e=en(),t=Tu();return Gp=i?function(n,r,s){return e.f(n,r,t(1,s))}:function(n,r,s){return n[r]=s,n},Gp}var Yp,LC;function me(){if(LC)return Yp;LC=1;var i=It(),e=bf(),t=j2(),n=Wt(),r=Sf().f,s=DZ(),o=Lt(),a=Ef(),l=Il(),c=qt(),u=function(h){var d=function(f,m,p){if(this instanceof d){switch(arguments.length){case 0:return new h;case 1:return new h(f);case 2:return new h(f,m)}return new h(f,m,p)}return e(h,this,arguments)};return d.prototype=h.prototype,d};return Yp=function(h,d){var f=h.target,m=h.global,p=h.stat,g=h.proto,v=m?i:p?i[f]:i[f]&&i[f].prototype,y=m?o:o[f]||l(o,f,{})[f],w=y.prototype,b,x,C,E,S,R,I,k,M;for(E in d)b=s(m?E:f+(p?".":"#")+E,h.forced),x=!b&&v&&c(v,E),R=y[E],x&&(h.dontCallGetSet?(M=r(v,E),I=M&&M.value):I=v[E]),S=x&&I?I:d[E],!(!b&&!g&&typeof R==typeof S)&&(h.bind&&x?k=a(S,i):h.wrap&&x?k=u(S):g&&n(S)?k=t(S):k=S,(h.sham||S&&S.sham||R&&R.sham)&&l(k,"sham",!0),l(y,E,k),g&&(C=f+"Prototype",c(o,C)||l(o,C,{}),l(o[C],E,S),h.real&&w&&(b||!w[E])&&l(w,E,S)))},Yp}var FC;function PZ(){if(FC)return z1;FC=1;var i=me(),e=Dt(),t=en().f;return i({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),z1}var $C;function kZ(){if($C)return Km.exports;$C=1,PZ();var i=Lt(),e=i.Object,t=Km.exports=function(r,s,o){return e.defineProperty(r,s,o)};return e.defineProperty.sham&&(t.sham=!0),Km.exports}var Bp,jC;function B2(){if(jC)return Bp;jC=1;var i=kZ();return Bp=i,Bp}var Hp,WC;function MZ(){if(WC)return Hp;WC=1;var i=B2();return Hp=i,Hp}var Up,zC;function AZ(){if(zC)return Up;zC=1;var i=MZ();return Up=i,Up}var Vp,qC;function NZ(){return qC||(qC=1,Vp=AZ()),Vp}var LZ=NZ(),FZ=Re(LZ),GC={},Xp,YC;function No(){if(YC)return Xp;YC=1;var i=$r();return Xp=Array.isArray||function(t){return i(t)==="Array"},Xp}var Kp,BC;function $Z(){if(BC)return Kp;BC=1;var i=Math.ceil,e=Math.floor;return Kp=Math.trunc||function(n){var r=+n;return(r>0?e:i)(r)},Kp}var Zp,HC;function Dl(){if(HC)return Zp;HC=1;var i=$Z();return Zp=function(e){var t=+e;return t!==t||t===0?0:i(t)},Zp}var Qp,UC;function H2(){if(UC)return Qp;UC=1;var i=Dl(),e=Math.min;return Qp=function(t){var n=i(t);return n>0?e(n,9007199254740991):0},Qp}var Jp,VC;function Cs(){if(VC)return Jp;VC=1;var i=H2();return Jp=function(e){return i(e.length)},Jp}var eg,XC;function U2(){if(XC)return eg;XC=1;var i=TypeError,e=9007199254740991;return eg=function(t){if(t>e)throw i("Maximum allowed index exceeded");return t},eg}var tg,KC;function Cf(){if(KC)return tg;KC=1;var i=Dt(),e=en(),t=Tu();return tg=function(n,r,s){i?e.f(n,r,t(0,s)):n[r]=s},tg}var ig,ZC;function vx(){if(ZC)return ig;ZC=1;var i=Gt(),e=i("toStringTag"),t={};return t[e]="z",ig=String(t)==="[object z]",ig}var ng,QC;function Ts(){if(QC)return ng;QC=1;var i=vx(),e=Wt(),t=$r(),n=Gt(),r=n("toStringTag"),s=Object,o=t((function(){return arguments})())==="Arguments",a=function(l,c){try{return l[c]}catch{}};return ng=i?t:function(l){var c,u,h;return l===void 0?"Undefined":l===null?"Null":typeof(u=a(c=s(l),r))=="string"?u:o?t(c):(h=t(c))==="Object"&&e(c.callee)?"Arguments":h},ng}var rg,JC;function jZ(){if(JC)return rg;JC=1;var i=tt(),e=Wt(),t=px(),n=i(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(r){return n(r)}),rg=t.inspectSource,rg}var sg,eT;function V2(){if(eT)return sg;eT=1;var i=tt(),e=He(),t=Wt(),n=Ts(),r=ji(),s=jZ(),o=function(){},a=r("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=i(l.exec),u=!l.test(o),h=function(m){if(!t(m))return!1;try{return a(o,[],m),!0}catch{return!1}},d=function(m){if(!t(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u||!!c(l,s(m))}catch{return!0}};return d.sham=!0,sg=!a||e(function(){var f;return h(h.call)||!h(Object)||!h(function(){f=!0})||f})?d:h,sg}var og,tT;function WZ(){if(tT)return og;tT=1;var i=No(),e=V2(),t=di(),n=Gt(),r=n("species"),s=Array;return og=function(o){var a;return i(o)&&(a=o.constructor,e(a)&&(a===s||i(a.prototype))?a=void 0:t(a)&&(a=a[r],a===null&&(a=void 0))),a===void 0?s:a},og}var ag,iT;function yx(){if(iT)return ag;iT=1;var i=WZ();return ag=function(e,t){return new(i(e))(t===0?0:t)},ag}var lg,nT;function Du(){if(nT)return lg;nT=1;var i=He(),e=Gt(),t=Ou(),n=e("species");return lg=function(r){return t>=51||!i(function(){var s=[],o=s.constructor={};return o[n]=function(){return{foo:1}},s[r](Boolean).foo!==1})},lg}var rT;function X2(){if(rT)return GC;rT=1;var i=me(),e=He(),t=No(),n=di(),r=Cn(),s=Cs(),o=U2(),a=Cf(),l=yx(),c=Du(),u=Gt(),h=Ou(),d=u("isConcatSpreadable"),f=h>=51||!e(function(){var g=[];return g[d]=!1,g.concat()[0]!==g}),m=function(g){if(!n(g))return!1;var v=g[d];return v!==void 0?!!v:t(g)},p=!f||!c("concat");return i({target:"Array",proto:!0,arity:1,forced:p},{concat:function(v){var y=r(this),w=l(y,0),b=0,x,C,E,S,R;for(x=-1,E=arguments.length;x<E;x++)if(R=x===-1?y:arguments[x],m(R))for(S=s(R),o(b+S),C=0;C<S;C++,b++)C in R&&a(w,b,R[C]);else o(b+1),a(w,b++,R);return w.length=b,w}}),GC}var sT={},oT={},cg,aT;function Rs(){if(aT)return cg;aT=1;var i=Ts(),e=String;return cg=function(t){if(i(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},cg}var ug={},hg,lT;function _x(){if(lT)return hg;lT=1;var i=Dl(),e=Math.max,t=Math.min;return hg=function(n,r){var s=i(n);return s<0?e(s+r,0):t(s,r)},hg}var dg,cT;function zZ(){if(cT)return dg;cT=1;var i=Xn(),e=_x(),t=Cs(),n=function(r){return function(s,o,a){var l=i(s),c=t(l);if(c===0)return!r&&-1;var u=e(a,c),h;if(r&&o!==o){for(;c>u;)if(h=l[u++],h!==h)return!0}else for(;c>u;u++)if((r||u in l)&&l[u]===o)return r||u||0;return!r&&-1}};return dg={includes:n(!0),indexOf:n(!1)},dg}var fg,uT;function Pu(){return uT||(uT=1,fg={}),fg}var mg,hT;function K2(){if(hT)return mg;hT=1;var i=tt(),e=qt(),t=Xn(),n=zZ().indexOf,r=Pu(),s=i([].push);return mg=function(o,a){var l=t(o),c=0,u=[],h;for(h in l)!e(r,h)&&e(l,h)&&s(u,h);for(;a.length>c;)e(l,h=a[c++])&&(~n(u,h)||s(u,h));return u},mg}var pg,dT;function bx(){return dT||(dT=1,pg=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),pg}var gg,fT;function Tf(){if(fT)return gg;fT=1;var i=K2(),e=bx();return gg=Object.keys||function(n){return i(n,e)},gg}var mT;function wx(){if(mT)return ug;mT=1;var i=Dt(),e=Y2(),t=en(),n=Wr(),r=Xn(),s=Tf();return ug.f=i&&!e?Object.defineProperties:function(a,l){n(a);for(var c=r(l),u=s(l),h=u.length,d=0,f;h>d;)t.f(a,f=u[d++],c[f]);return a},ug}var vg,pT;function qZ(){if(pT)return vg;pT=1;var i=ji();return vg=i("document","documentElement"),vg}var yg,gT;function Rf(){if(gT)return yg;gT=1;var i=Ol(),e=xf(),t=i("keys");return yg=function(n){return t[n]||(t[n]=e(n))},yg}var _g,vT;function ku(){if(vT)return _g;vT=1;var i=Wr(),e=wx(),t=bx(),n=Pu(),r=qZ(),s=q2(),o=Rf(),a=">",l="<",c="prototype",u="script",h=o("IE_PROTO"),d=function(){},f=function(y){return l+u+a+y+l+"/"+u+a},m=function(y){y.write(f("")),y.close();var w=y.parentWindow.Object;return y=null,w},p=function(){var y=s("iframe"),w="java"+u+":",b;return y.style.display="none",r.appendChild(y),y.src=String(w),b=y.contentWindow.document,b.open(),b.write(f("document.F=Object")),b.close(),b.F},g,v=function(){try{g=new ActiveXObject("htmlfile")}catch{}v=typeof document<"u"?document.domain&&g?m(g):p():m(g);for(var y=t.length;y--;)delete v[c][t[y]];return v()};return n[h]=!0,_g=Object.create||function(w,b){var x;return w!==null?(d[c]=i(w),x=new d,d[c]=null,x[h]=w):x=v(),b===void 0?x:e.f(x,b)},_g}var bg={},yT;function Of(){if(yT)return bg;yT=1;var i=K2(),e=bx(),t=e.concat("length","prototype");return bg.f=Object.getOwnPropertyNames||function(r){return i(r,t)},bg}var wg={},xg,_T;function Pl(){if(_T)return xg;_T=1;var i=tt();return xg=i([].slice),xg}var bT;function Z2(){if(bT)return wg;bT=1;var i=$r(),e=Xn(),t=Of().f,n=Pl(),r=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return n(r)}};return wg.f=function(a){return r&&i(a)==="Window"?s(a):t(e(a))},wg}var Sg={},wT;function If(){return wT||(wT=1,Sg.f=Object.getOwnPropertySymbols),Sg}var Eg,xT;function Mu(){if(xT)return Eg;xT=1;var i=Il();return Eg=function(e,t,n,r){return r&&r.enumerable?e[t]=n:i(e,t,n),e},Eg}var Cg,ST;function xx(){if(ST)return Cg;ST=1;var i=en();return Cg=function(e,t,n){return i.f(e,t,n)},Cg}var Tg={},ET;function Df(){if(ET)return Tg;ET=1;var i=Gt();return Tg.f=i,Tg}var Rg,CT;function pt(){if(CT)return Rg;CT=1;var i=Lt(),e=qt(),t=Df(),n=en().f;return Rg=function(r){var s=i.Symbol||(i.Symbol={});e(s,r)||n(s,r,{value:t.f(r)})},Rg}var Og,TT;function Q2(){if(TT)return Og;TT=1;var i=Ti(),e=ji(),t=Gt(),n=Mu();return Og=function(){var r=e("Symbol"),s=r&&r.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&n(s,a,function(l){return i(o,this)},{arity:1})},Og}var Ig,RT;function GZ(){if(RT)return Ig;RT=1;var i=vx(),e=Ts();return Ig=i?{}.toString:function(){return"[object "+e(this)+"]"},Ig}var Dg,OT;function Lo(){if(OT)return Dg;OT=1;var i=vx(),e=en().f,t=Il(),n=qt(),r=GZ(),s=Gt(),o=s("toStringTag");return Dg=function(a,l,c,u){var h=c?a:a&&a.prototype;h&&(n(h,o)||e(h,o,{configurable:!0,value:l}),u&&!i&&t(h,"toString",r))},Dg}var Pg,IT;function YZ(){if(IT)return Pg;IT=1;var i=It(),e=Wt(),t=i.WeakMap;return Pg=e(t)&&/native code/.test(String(t)),Pg}var kg,DT;function Au(){if(DT)return kg;DT=1;var i=YZ(),e=It(),t=di(),n=Il(),r=qt(),s=px(),o=Rf(),a=Pu(),l="Object already initialized",c=e.TypeError,u=e.WeakMap,h,d,f,m=function(y){return f(y)?d(y):h(y,{})},p=function(y){return function(w){var b;if(!t(w)||(b=d(w)).type!==y)throw new c("Incompatible receiver, "+y+" required");return b}};if(i||s.state){var g=s.state||(s.state=new u);g.get=g.get,g.has=g.has,g.set=g.set,h=function(y,w){if(g.has(y))throw new c(l);return w.facade=y,g.set(y,w),w},d=function(y){return g.get(y)||{}},f=function(y){return g.has(y)}}else{var v=o("state");a[v]=!0,h=function(y,w){if(r(y,v))throw new c(l);return w.facade=y,n(y,v,w),w},d=function(y){return r(y,v)?y[v]:{}},f=function(y){return r(y,v)}}return kg={set:h,get:d,has:f,enforce:m,getterFor:p},kg}var Mg,PT;function kl(){if(PT)return Mg;PT=1;var i=Ef(),e=tt(),t=wf(),n=Cn(),r=Cs(),s=yx(),o=e([].push),a=function(l){var c=l===1,u=l===2,h=l===3,d=l===4,f=l===6,m=l===7,p=l===5||f;return function(g,v,y,w){for(var b=n(g),x=t(b),C=r(x),E=i(v,y),S=0,R=w||s,I=c?R(g,C):u||m?R(g,0):void 0,k,M;C>S;S++)if((p||S in x)&&(k=x[S],M=E(k,S,b),l))if(c)I[S]=M;else if(M)switch(l){case 3:return!0;case 5:return k;case 6:return S;case 2:o(I,k)}else switch(l){case 4:return!1;case 7:o(I,k)}return f?-1:h||d?d:I}};return Mg={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},Mg}var kT;function BZ(){if(kT)return oT;kT=1;var i=me(),e=It(),t=Ti(),n=tt(),r=Rl(),s=Dt(),o=Cl(),a=He(),l=qt(),c=zt(),u=Wr(),h=Xn(),d=gx(),f=Rs(),m=Tu(),p=ku(),g=Tf(),v=Of(),y=Z2(),w=If(),b=Sf(),x=en(),C=wx(),E=fx(),S=Mu(),R=xx(),I=Ol(),k=Rf(),M=Pu(),N=xf(),F=Gt(),q=Df(),A=pt(),z=Q2(),P=Lo(),G=Au(),U=kl().forEach,K=k("hidden"),D="Symbol",L="prototype",$=G.set,j=G.getterFor(D),B=Object[L],W=e.Symbol,Z=W&&W[L],J=e.RangeError,ae=e.TypeError,et=e.QObject,it=b.f,he=x.f,rt=y.f,gt=E.f,Et=n([].push),vt=I("symbols"),qe=I("op-symbols"),zi=I("wks"),ri=!et||!et[L]||!et[L].findChild,Yt=function(Fe,ve,Ce){var Ee=it(B,ve);Ee&&delete B[ve],he(Fe,ve,Ce),Ee&&Fe!==B&&he(B,ve,Ee)},Kt=s&&a(function(){return p(he({},"a",{get:function(){return he(this,"a",{value:7}).a}})).a!==7})?Yt:he,Ue=function(Fe,ve){var Ce=vt[Fe]=p(Z);return $(Ce,{type:D,tag:Fe,description:ve}),s||(Ce.description=ve),Ce},qi=function(ve,Ce,Ee){ve===B&&qi(qe,Ce,Ee),u(ve);var ze=d(Ce);return u(Ee),l(vt,ze)?(Ee.enumerable?(l(ve,K)&&ve[K][ze]&&(ve[K][ze]=!1),Ee=p(Ee,{enumerable:m(0,!1)})):(l(ve,K)||he(ve,K,m(1,p(null))),ve[K][ze]=!0),Kt(ve,ze,Ee)):he(ve,ze,Ee)},Qn=function(ve,Ce){u(ve);var Ee=h(Ce),ze=g(Ee).concat(Ms(Ee));return U(ze,function(wt){(!s||t(Rn,Ee,wt))&&qi(ve,wt,Ee[wt])}),ve},Yr=function(ve,Ce){return Ce===void 0?p(ve):Qn(p(ve),Ce)},Rn=function(ve){var Ce=d(ve),Ee=t(gt,this,Ce);return this===B&&l(vt,Ce)&&!l(qe,Ce)?!1:Ee||!l(this,Ce)||!l(vt,Ce)||l(this,K)&&this[K][Ce]?Ee:!0},Ho=function(ve,Ce){var Ee=h(ve),ze=d(Ce);if(!(Ee===B&&l(vt,ze)&&!l(qe,ze))){var wt=it(Ee,ze);return wt&&l(vt,ze)&&!(l(Ee,K)&&Ee[K][ze])&&(wt.enumerable=!0),wt}},ks=function(ve){var Ce=rt(h(ve)),Ee=[];return U(Ce,function(ze){!l(vt,ze)&&!l(M,ze)&&Et(Ee,ze)}),Ee},Ms=function(Fe){var ve=Fe===B,Ce=rt(ve?qe:h(Fe)),Ee=[];return U(Ce,function(ze){l(vt,ze)&&(!ve||l(B,ze))&&Et(Ee,vt[ze])}),Ee};return o||(W=function(){if(c(Z,this))throw new ae("Symbol is not a constructor");var ve=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),Ce=N(ve),Ee=function(ze){var wt=this===void 0?e:this;wt===B&&t(Ee,qe,ze),l(wt,K)&&l(wt[K],Ce)&&(wt[K][Ce]=!1);var As=m(1,ze);try{Kt(wt,Ce,As)}catch(pe){if(!(pe instanceof J))throw pe;Yt(wt,Ce,As)}};return s&&ri&&Kt(B,Ce,{configurable:!0,set:Ee}),Ue(Ce,ve)},Z=W[L],S(Z,"toString",function(){return j(this).tag}),S(W,"withoutSetter",function(Fe){return Ue(N(Fe),Fe)}),E.f=Rn,x.f=qi,C.f=Qn,b.f=Ho,v.f=y.f=ks,w.f=Ms,q.f=function(Fe){return Ue(F(Fe),Fe)},s&&(R(Z,"description",{configurable:!0,get:function(){return j(this).description}}),r||S(B,"propertyIsEnumerable",Rn,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:W}),U(g(zi),function(Fe){A(Fe)}),i({target:D,stat:!0,forced:!o},{useSetter:function(){ri=!0},useSimple:function(){ri=!1}}),i({target:"Object",stat:!0,forced:!o,sham:!s},{create:Yr,defineProperty:qi,defineProperties:Qn,getOwnPropertyDescriptor:Ho}),i({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:ks}),z(),P(W,D),M[K]=!0,oT}var MT={},Ag,AT;function J2(){if(AT)return Ag;AT=1;var i=Cl();return Ag=i&&!!Symbol.for&&!!Symbol.keyFor,Ag}var NT;function HZ(){if(NT)return MT;NT=1;var i=me(),e=ji(),t=qt(),n=Rs(),r=Ol(),s=J2(),o=r("string-to-symbol-registry"),a=r("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{for:function(l){var c=n(l);if(t(o,c))return o[c];var u=e("Symbol")(c);return o[c]=u,a[u]=c,u}}),MT}var LT={},FT;function UZ(){if(FT)return LT;FT=1;var i=me(),e=qt(),t=Iu(),n=Tl(),r=Ol(),s=J2(),o=r("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!t(l))throw new TypeError(n(l)+" is not a symbol");if(e(o,l))return o[l]}}),LT}var $T={},Ng,jT;function VZ(){if(jT)return Ng;jT=1;var i=tt(),e=No(),t=Wt(),n=$r(),r=Rs(),s=i([].push);return Ng=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,l=[],c=0;c<a;c++){var u=o[c];typeof u=="string"?s(l,u):(typeof u=="number"||n(u)==="Number"||n(u)==="String")&&s(l,r(u))}var h=l.length,d=!0;return function(f,m){if(d)return d=!1,m;if(e(this))return m;for(var p=0;p<h;p++)if(l[p]===f)return m}}},Ng}var WT;function e$(){if(WT)return $T;WT=1;var i=me(),e=ji(),t=bf(),n=Ti(),r=tt(),s=He(),o=Wt(),a=Iu(),l=Pl(),c=VZ(),u=Cl(),h=String,d=e("JSON","stringify"),f=r(/./.exec),m=r("".charAt),p=r("".charCodeAt),g=r("".replace),v=r(1.1.toString),y=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,x=!u||s(function(){var R=e("Symbol")("stringify detection");return d([R])!=="[null]"||d({a:R})!=="{}"||d(Object(R))!=="{}"}),C=s(function(){return d("\uDF06\uD834")!=='"\\udf06\\ud834"'||d("\uDEAD")!=='"\\udead"'}),E=function(R,I){var k=l(arguments),M=c(I);if(!(!o(M)&&(R===void 0||a(R))))return k[1]=function(N,F){if(o(M)&&(F=n(M,this,h(N),F)),!a(F))return F},t(d,null,k)},S=function(R,I,k){var M=m(k,I-1),N=m(k,I+1);return f(w,R)&&!f(b,N)||f(b,R)&&!f(w,M)?"\\u"+v(p(R,0),16):R};return d&&i({target:"JSON",stat:!0,arity:3,forced:x||C},{stringify:function(I,k,M){var N=l(arguments),F=t(x?E:d,null,N);return C&&typeof F=="string"?g(F,y,S):F}}),$T}var zT={},qT;function XZ(){if(qT)return zT;qT=1;var i=me(),e=Cl(),t=He(),n=If(),r=Cn(),s=!e||t(function(){n.f(1)});return i({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var l=n.f;return l?l(r(a)):[]}}),zT}var GT;function t$(){return GT||(GT=1,BZ(),HZ(),UZ(),e$(),XZ()),sT}var YT={},BT;function i$(){if(BT)return YT;BT=1;var i=pt();return i("asyncDispose"),YT}var HT={},UT;function KZ(){if(UT)return HT;UT=1;var i=pt();return i("asyncIterator"),HT}var VT={},XT;function n$(){if(XT)return VT;XT=1;var i=pt();return i("dispose"),VT}var KT={},ZT;function ZZ(){if(ZT)return KT;ZT=1;var i=pt();return i("hasInstance"),KT}var QT={},JT;function QZ(){if(JT)return QT;JT=1;var i=pt();return i("isConcatSpreadable"),QT}var eR={},tR;function r$(){if(tR)return eR;tR=1;var i=pt();return i("iterator"),eR}var iR={},nR;function JZ(){if(nR)return iR;nR=1;var i=pt();return i("match"),iR}var rR={},sR;function e9(){if(sR)return rR;sR=1;var i=pt();return i("matchAll"),rR}var oR={},aR;function t9(){if(aR)return oR;aR=1;var i=pt();return i("replace"),oR}var lR={},cR;function i9(){if(cR)return lR;cR=1;var i=pt();return i("search"),lR}var uR={},hR;function n9(){if(hR)return uR;hR=1;var i=pt();return i("species"),uR}var dR={},fR;function r9(){if(fR)return dR;fR=1;var i=pt();return i("split"),dR}var mR={},pR;function s$(){if(pR)return mR;pR=1;var i=pt(),e=Q2();return i("toPrimitive"),e(),mR}var gR={},vR;function s9(){if(vR)return gR;vR=1;var i=ji(),e=pt(),t=Lo();return e("toStringTag"),t(i("Symbol"),"Symbol"),gR}var yR={},_R;function o9(){if(_R)return yR;_R=1;var i=pt();return i("unscopables"),yR}var bR={},wR;function a9(){if(wR)return bR;wR=1;var i=It(),e=Lo();return e(i.JSON,"JSON",!0),bR}var Lg,xR;function l9(){if(xR)return Lg;xR=1,X2(),t$(),i$(),KZ(),n$(),ZZ(),QZ(),r$(),JZ(),e9(),t9(),i9(),n9(),r9(),s$(),s9(),o9(),a9();var i=Lt();return Lg=i.Symbol,Lg}var SR={},Fg,ER;function c9(){return ER||(ER=1,Fg=function(){}),Fg}var $g,CR;function Ml(){return CR||(CR=1,$g={}),$g}var jg,TR;function u9(){if(TR)return jg;TR=1;var i=Dt(),e=qt(),t=Function.prototype,n=i&&Object.getOwnPropertyDescriptor,r=e(t,"name"),s=r&&(function(){}).name==="something",o=r&&(!i||i&&n(t,"name").configurable);return jg={EXISTS:r,PROPER:s,CONFIGURABLE:o},jg}var Wg,RR;function h9(){if(RR)return Wg;RR=1;var i=He();return Wg=!i(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Wg}var zg,OR;function o$(){if(OR)return zg;OR=1;var i=qt(),e=Wt(),t=Cn(),n=Rf(),r=h9(),s=n("IE_PROTO"),o=Object,a=o.prototype;return zg=r?o.getPrototypeOf:function(l){var c=t(l);if(i(c,s))return c[s];var u=c.constructor;return e(u)&&c instanceof u?u.prototype:c instanceof o?a:null},zg}var qg,IR;function a$(){if(IR)return qg;IR=1;var i=He(),e=Wt(),t=di(),n=ku(),r=o$(),s=Mu(),o=Gt(),a=Rl(),l=o("iterator"),c=!1,u,h,d;[].keys&&(d=[].keys(),"next"in d?(h=r(r(d)),h!==Object.prototype&&(u=h)):c=!0);var f=!t(u)||i(function(){var m={};return u[l].call(m)!==m});return f?u={}:a&&(u=n(u)),e(u[l])||s(u,l,function(){return this}),qg={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:c},qg}var Gg,DR;function d9(){if(DR)return Gg;DR=1;var i=a$().IteratorPrototype,e=ku(),t=Tu(),n=Lo(),r=Ml(),s=function(){return this};return Gg=function(o,a,l,c){var u=a+" Iterator";return o.prototype=e(i,{next:t(+!c,l)}),n(o,u,!1,!0),r[u]=s,o},Gg}var Yg,PR;function f9(){if(PR)return Yg;PR=1;var i=tt(),e=jr();return Yg=function(t,n,r){try{return i(e(Object.getOwnPropertyDescriptor(t,n)[r]))}catch{}},Yg}var Bg,kR;function m9(){if(kR)return Bg;kR=1;var i=di();return Bg=function(e){return i(e)||e===null},Bg}var Hg,MR;function p9(){if(MR)return Hg;MR=1;var i=m9(),e=String,t=TypeError;return Hg=function(n){if(i(n))return n;throw new t("Can't set "+e(n)+" as a prototype")},Hg}var Ug,AR;function g9(){if(AR)return Ug;AR=1;var i=f9(),e=di(),t=Ao(),n=p9();return Ug=Object.setPrototypeOf||("__proto__"in{}?(function(){var r=!1,s={},o;try{o=i(Object.prototype,"__proto__","set"),o(s,[]),r=s instanceof Array}catch{}return function(l,c){return t(l),n(c),e(l)&&(r?o(l,c):l.__proto__=c),l}})():void 0),Ug}var Vg,NR;function Sx(){if(NR)return Vg;NR=1;var i=me(),e=Ti(),t=Rl(),n=u9(),r=Wt(),s=d9(),o=o$(),a=g9(),l=Lo(),c=Il(),u=Mu(),h=Gt(),d=Ml(),f=a$(),m=n.PROPER,p=n.CONFIGURABLE,g=f.IteratorPrototype,v=f.BUGGY_SAFARI_ITERATORS,y=h("iterator"),w="keys",b="values",x="entries",C=function(){return this};return Vg=function(E,S,R,I,k,M,N){s(R,S,I);var F=function($){if($===k&&G)return G;if(!v&&$&&$ in z)return z[$];switch($){case w:return function(){return new R(this,$)};case b:return function(){return new R(this,$)};case x:return function(){return new R(this,$)}}return function(){return new R(this)}},q=S+" Iterator",A=!1,z=E.prototype,P=z[y]||z["@@iterator"]||k&&z[k],G=!v&&P||F(k),U=S==="Array"&&z.entries||P,K,D,L;if(U&&(K=o(U.call(new E)),K!==Object.prototype&&K.next&&(!t&&o(K)!==g&&(a?a(K,g):r(K[y])||u(K,y,C)),l(K,q,!0,!0),t&&(d[q]=C))),m&&k===b&&P&&P.name!==b&&(!t&&p?c(z,"name",b):(A=!0,G=function(){return e(P,this)})),k)if(D={values:F(b),keys:M?G:F(w),entries:F(x)},N)for(L in D)(v||A||!(L in z))&&u(z,L,D[L]);else i({target:S,proto:!0,forced:v||A},D);return(!t||N)&&z[y]!==G&&u(z,y,G,{name:k}),d[S]=G,D},Vg}var Xg,LR;function Ex(){return LR||(LR=1,Xg=function(i,e){return{value:i,done:e}}),Xg}var Kg,FR;function Os(){if(FR)return Kg;FR=1;var i=Xn(),e=c9(),t=Ml(),n=Au(),r=en().f,s=Sx(),o=Ex(),a=Rl(),l=Dt(),c="Array Iterator",u=n.set,h=n.getterFor(c);Kg=s(Array,"Array",function(f,m){u(this,{type:c,target:i(f),index:0,kind:m})},function(){var f=h(this),m=f.target,p=f.index++;if(!m||p>=m.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(p,!1);case"values":return o(m[p],!1)}return o([p,m[p]],!1)},"values");var d=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&l&&d.name!=="values")try{r(d,"name",{value:"values"})}catch{}return Kg}var Zg,$R;function v9(){return $R||($R=1,Zg={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Zg}var jR;function Is(){if(jR)return SR;jR=1,Os();var i=v9(),e=It(),t=Lo(),n=Ml();for(var r in i)t(e[r],r),n[r]=n.Array;return SR}var Qg,WR;function l$(){if(WR)return Qg;WR=1;var i=l9();return Is(),Qg=i,Qg}var zR={},qR;function y9(){if(qR)return zR;qR=1;var i=Gt(),e=en().f,t=i("metadata"),n=Function.prototype;return n[t]===void 0&&e(n,t,{value:null}),zR}var GR={},YR;function _9(){return YR||(YR=1,i$()),GR}var BR={},HR;function b9(){return HR||(HR=1,n$()),BR}var UR={},VR;function w9(){if(VR)return UR;VR=1;var i=pt();return i("metadata"),UR}var Jg,XR;function x9(){if(XR)return Jg;XR=1;var i=l$();return y9(),_9(),b9(),w9(),Jg=i,Jg}var KR={},ev,ZR;function c$(){if(ZR)return ev;ZR=1;var i=ji(),e=tt(),t=i("Symbol"),n=t.keyFor,r=e(t.prototype.valueOf);return ev=t.isRegisteredSymbol||function(o){try{return n(r(o))!==void 0}catch{return!1}},ev}var QR;function S9(){if(QR)return KR;QR=1;var i=me(),e=c$();return i({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),KR}var JR={},tv,eO;function u$(){if(eO)return tv;eO=1;for(var i=Ol(),e=ji(),t=tt(),n=Iu(),r=Gt(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),l=t(s.prototype.valueOf),c=i("wks"),u=0,h=a(s),d=h.length;u<d;u++)try{var f=h[u];n(s[f])&&r(f)}catch{}return tv=function(p){if(o&&o(p))return!0;try{for(var g=l(p),v=0,y=a(c),w=y.length;v<w;v++)if(c[y[v]]==g)return!0}catch{}return!1},tv}var tO;function E9(){if(tO)return JR;tO=1;var i=me(),e=u$();return i({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),JR}var iO={},nO;function C9(){if(nO)return iO;nO=1;var i=pt();return i("customMatcher"),iO}var rO={},sO;function T9(){if(sO)return rO;sO=1;var i=pt();return i("observable"),rO}var oO={},aO;function R9(){if(aO)return oO;aO=1;var i=me(),e=c$();return i({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),oO}var lO={},cO;function O9(){if(cO)return lO;cO=1;var i=me(),e=u$();return i({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),lO}var uO={},hO;function I9(){if(hO)return uO;hO=1;var i=pt();return i("matcher"),uO}var dO={},fO;function D9(){if(fO)return dO;fO=1;var i=pt();return i("metadataKey"),dO}var mO={},pO;function P9(){if(pO)return mO;pO=1;var i=pt();return i("patternMatch"),mO}var gO={},vO;function k9(){if(vO)return gO;vO=1;var i=pt();return i("replaceAll"),gO}var iv,yO;function M9(){if(yO)return iv;yO=1;var i=x9();return S9(),E9(),C9(),T9(),R9(),O9(),I9(),D9(),P9(),k9(),iv=i,iv}var nv,_O;function A9(){return _O||(_O=1,nv=M9()),nv}var N9=A9(),wh=Re(N9),bO={},rv,wO;function L9(){if(wO)return rv;wO=1;var i=tt(),e=Dl(),t=Rs(),n=Ao(),r=i("".charAt),s=i("".charCodeAt),o=i("".slice),a=function(l){return function(c,u){var h=t(n(c)),d=e(u),f=h.length,m,p;return d<0||d>=f?l?"":void 0:(m=s(h,d),m<55296||m>56319||d+1===f||(p=s(h,d+1))<56320||p>57343?l?r(h,d):m:l?o(h,d,d+2):(m-55296<<10)+(p-56320)+65536)}};return rv={codeAt:a(!1),charAt:a(!0)},rv}var xO;function Pf(){if(xO)return bO;xO=1;var i=L9().charAt,e=Rs(),t=Au(),n=Sx(),r=Ex(),s="String Iterator",o=t.set,a=t.getterFor(s);return n(String,"String",function(l){o(this,{type:s,string:e(l),index:0})},function(){var c=a(this),u=c.string,h=c.index,d;return h>=u.length?r(void 0,!0):(d=i(u,h),c.index+=d.length,r(d,!1))}),bO}var sv,SO;function F9(){if(SO)return sv;SO=1,Os(),Pf(),r$();var i=Df();return sv=i.f("iterator"),sv}var ov,EO;function h$(){if(EO)return ov;EO=1;var i=F9();return Is(),ov=i,ov}var av,CO;function $9(){if(CO)return av;CO=1;var i=h$();return av=i,av}var lv,TO;function j9(){if(TO)return lv;TO=1;var i=$9();return lv=i,lv}var cv,RO;function W9(){return RO||(RO=1,cv=j9()),cv}var z9=W9(),q9=Re(z9);function Wc(i){"@babel/helpers - typeof";return Wc=typeof wh=="function"&&typeof q9=="symbol"?function(e){return typeof e}:function(e){return e&&typeof wh=="function"&&e.constructor===wh&&e!==wh.prototype?"symbol":typeof e},Wc(i)}var uv,OO;function G9(){if(OO)return uv;OO=1,s$();var i=Df();return uv=i.f("toPrimitive"),uv}var hv,IO;function Y9(){if(IO)return hv;IO=1;var i=G9();return hv=i,hv}var dv,DO;function B9(){if(DO)return dv;DO=1;var i=Y9();return dv=i,dv}var fv,PO;function H9(){if(PO)return fv;PO=1;var i=B9();return fv=i,fv}var mv,kO;function U9(){return kO||(kO=1,mv=H9()),mv}var V9=U9(),X9=Re(V9);function K9(i,e){if(Wc(i)!="object"||!i)return i;var t=i[X9];if(t!==void 0){var n=t.call(i,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Z9(i){var e=K9(i,"string");return Wc(e)=="symbol"?e:e+""}function hs(i,e,t){return(e=Z9(e))in i?FZ(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var MO={},pv,AO;function Q9(){if(AO)return pv;AO=1;var i=tt(),e=jr(),t=di(),n=qt(),r=Pl(),s=Cu(),o=Function,a=i([].concat),l=i([].join),c={},u=function(h,d,f){if(!n(c,d)){for(var m=[],p=0;p<d;p++)m[p]="a["+p+"]";c[d]=o("C,a","return new C("+l(m,",")+")")}return c[d](h,f)};return pv=s?o.bind:function(d){var f=e(this),m=f.prototype,p=r(arguments,1),g=function(){var y=a(p,r(arguments));return this instanceof g?u(f,y.length,y):f.apply(d,y)};return t(m)&&(g.prototype=m),g},pv}var NO;function J9(){if(NO)return MO;NO=1;var i=me(),e=Q9();return i({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),MO}var gv,LO;function Ri(){if(LO)return gv;LO=1;var i=It(),e=Lt();return gv=function(t,n){var r=e[t+"Prototype"],s=r&&r[n];if(s)return s;var o=i[t],a=o&&o.prototype;return a&&a[n]},gv}var vv,FO;function e7(){if(FO)return vv;FO=1,J9();var i=Ri();return vv=i("Function","bind"),vv}var yv,$O;function t7(){if($O)return yv;$O=1;var i=zt(),e=e7(),t=Function.prototype;return yv=function(n){var r=n.bind;return n===t||i(t,n)&&r===t.bind?e:r},yv}var _v,jO;function i7(){if(jO)return _v;jO=1;var i=t7();return _v=i,_v}var bv,WO;function n7(){return WO||(WO=1,bv=i7()),bv}var r7=n7(),d$=Re(r7),zO={},wv,qO;function s7(){if(qO)return wv;qO=1;var i=jr(),e=Cn(),t=wf(),n=Cs(),r=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(l,c,u,h){var d=e(l),f=t(d),m=n(d);if(i(c),m===0&&u<2)throw new r(s);var p=a?m-1:0,g=a?-1:1;if(u<2)for(;;){if(p in f){h=f[p],p+=g;break}if(p+=g,a?p<0:m<=p)throw new r(s)}for(;a?p>=0:m>p;p+=g)p in f&&(h=c(h,f[p],p,d));return h}};return wv={left:o(!1),right:o(!0)},wv}var xv,GO;function kf(){if(GO)return xv;GO=1;var i=He();return xv=function(e,t){var n=[][e];return!!n&&i(function(){n.call(null,t||function(){return 1},1)})},xv}var Sv,YO;function f$(){if(YO)return Sv;YO=1;var i=It(),e=El(),t=$r(),n=function(r){return e.slice(0,r.length)===r};return Sv=(function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":i.Bun&&typeof Bun.version=="string"?"BUN":i.Deno&&typeof Deno.version=="object"?"DENO":t(i.process)==="process"?"NODE":i.window&&i.document?"BROWSER":"REST"})(),Sv}var Ev,BO;function o7(){if(BO)return Ev;BO=1;var i=f$();return Ev=i==="NODE",Ev}var HO;function a7(){if(HO)return zO;HO=1;var i=me(),e=s7().left,t=kf(),n=Ou(),r=o7(),s=!r&&n>79&&n<83,o=s||!t("reduce");return i({target:"Array",proto:!0,forced:o},{reduce:function(l){var c=arguments.length;return e(this,l,c,c>1?arguments[1]:void 0)}}),zO}var Cv,UO;function l7(){if(UO)return Cv;UO=1,a7();var i=Ri();return Cv=i("Array","reduce"),Cv}var Tv,VO;function c7(){if(VO)return Tv;VO=1;var i=zt(),e=l7(),t=Array.prototype;return Tv=function(n){var r=n.reduce;return n===t||i(t,n)&&r===t.reduce?e:r},Tv}var Rv,XO;function u7(){if(XO)return Rv;XO=1;var i=c7();return Rv=i,Rv}var Ov,KO;function h7(){return KO||(KO=1,Ov=u7()),Ov}var d7=h7(),f7=Re(d7),ZO={},QO;function m7(){if(QO)return ZO;QO=1;var i=me(),e=kl().filter,t=Du(),n=t("filter");return i({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),ZO}var Iv,JO;function p7(){if(JO)return Iv;JO=1,m7();var i=Ri();return Iv=i("Array","filter"),Iv}var Dv,eI;function g7(){if(eI)return Dv;eI=1;var i=zt(),e=p7(),t=Array.prototype;return Dv=function(n){var r=n.filter;return n===t||i(t,n)&&r===t.filter?e:r},Dv}var Pv,tI;function v7(){if(tI)return Pv;tI=1;var i=g7();return Pv=i,Pv}var kv,iI;function y7(){return iI||(iI=1,kv=v7()),kv}var _7=y7(),Sa=Re(_7),nI={},rI;function b7(){if(rI)return nI;rI=1;var i=me(),e=kl().map,t=Du(),n=t("map");return i({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),nI}var Mv,sI;function w7(){if(sI)return Mv;sI=1,b7();var i=Ri();return Mv=i("Array","map"),Mv}var Av,oI;function x7(){if(oI)return Av;oI=1;var i=zt(),e=w7(),t=Array.prototype;return Av=function(n){var r=n.map;return n===t||i(t,n)&&r===t.map?e:r},Av}var Nv,aI;function S7(){if(aI)return Nv;aI=1;var i=x7();return Nv=i,Nv}var Lv,lI;function E7(){return lI||(lI=1,Lv=S7()),Lv}var C7=E7(),hr=Re(C7),Fv,cI;function T7(){return cI||(cI=1,Fv=l$()),Fv}var R7=T7(),O7=Re(R7),uI={},hI;function I7(){if(hI)return uI;hI=1;var i=me(),e=No(),t=V2(),n=di(),r=_x(),s=Cs(),o=Xn(),a=Cf(),l=Gt(),c=Du(),u=Pl(),h=c("slice"),d=l("species"),f=Array,m=Math.max;return i({target:"Array",proto:!0,forced:!h},{slice:function(g,v){var y=o(this),w=s(y),b=r(g,w),x=r(v===void 0?w:v,w),C,E,S;if(e(y)&&(C=y.constructor,t(C)&&(C===f||e(C.prototype))?C=void 0:n(C)&&(C=C[d],C===null&&(C=void 0)),C===f||C===void 0))return u(y,b,x);for(E=new(C===void 0?f:C)(m(x-b,0)),S=0;b<x;b++,S++)b in y&&a(E,S,y[b]);return E.length=S,E}}),uI}var $v,dI;function D7(){if(dI)return $v;dI=1,I7();var i=Ri();return $v=i("Array","slice"),$v}var jv,fI;function P7(){if(fI)return jv;fI=1;var i=zt(),e=D7(),t=Array.prototype;return jv=function(n){var r=n.slice;return n===t||i(t,n)&&r===t.slice?e:r},jv}var Wv,mI;function k7(){if(mI)return Wv;mI=1;var i=P7();return Wv=i,Wv}var zv,pI;function M7(){return pI||(pI=1,zv=k7()),zv}var A7=M7(),N7=Re(A7),gI={},qv,vI;function m$(){if(vI)return qv;vI=1;var i=ji(),e=tt(),t=Of(),n=If(),r=Wr(),s=e([].concat);return qv=i("Reflect","ownKeys")||function(a){var l=t.f(r(a)),c=n.f;return c?s(l,c(a)):l},qv}var yI;function L7(){if(yI)return gI;yI=1;var i=me(),e=m$();return i({target:"Reflect",stat:!0},{ownKeys:e}),gI}var Gv,_I;function F7(){if(_I)return Gv;_I=1,L7();var i=Lt();return Gv=i.Reflect.ownKeys,Gv}var Yv,bI;function $7(){if(bI)return Yv;bI=1;var i=F7();return Yv=i,Yv}var Bv,wI;function j7(){return wI||(wI=1,Bv=$7()),Bv}var W7=j7(),z7=Re(W7),xI={},SI;function q7(){if(SI)return xI;SI=1;var i=me(),e=No();return i({target:"Array",stat:!0},{isArray:e}),xI}var Hv,EI;function G7(){if(EI)return Hv;EI=1,q7();var i=Lt();return Hv=i.Array.isArray,Hv}var Uv,CI;function Y7(){if(CI)return Uv;CI=1;var i=G7();return Uv=i,Uv}var Vv,TI;function B7(){return TI||(TI=1,Vv=Y7()),Vv}var H7=B7(),In=Re(H7),RI={},OI;function U7(){if(OI)return RI;OI=1;var i=me(),e=Cn(),t=Tf(),n=He(),r=n(function(){t(1)});return i({target:"Object",stat:!0,forced:r},{keys:function(o){return t(e(o))}}),RI}var Xv,II;function V7(){if(II)return Xv;II=1,U7();var i=Lt();return Xv=i.Object.keys,Xv}var Kv,DI;function X7(){if(DI)return Kv;DI=1;var i=V7();return Kv=i,Kv}var Zv,PI;function K7(){return PI||(PI=1,Zv=X7()),Zv}var Z7=K7(),Cx=Re(Z7),kI={},Qv,MI;function Q7(){if(MI)return Qv;MI=1;var i=kl().forEach,e=kf(),t=e("forEach");return Qv=t?[].forEach:function(r){return i(this,r,arguments.length>1?arguments[1]:void 0)},Qv}var AI;function J7(){if(AI)return kI;AI=1;var i=me(),e=Q7();return i({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),kI}var Jv,NI;function eQ(){if(NI)return Jv;NI=1,J7();var i=Ri();return Jv=i("Array","forEach"),Jv}var ey,LI;function tQ(){if(LI)return ey;LI=1;var i=eQ();return ey=i,ey}var ty,FI;function iQ(){if(FI)return ty;FI=1;var i=Ts(),e=qt(),t=zt(),n=tQ(),r=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return ty=function(o){var a=o.forEach;return o===r||t(r,o)&&a===r.forEach||e(s,i(o))?n:a},ty}var iy,$I;function nQ(){return $I||($I=1,iy=iQ()),iy}var rQ=nQ(),zc=Re(rQ),jI={},WI;function sQ(){if(WI)return jI;WI=1;var i=me(),e=tt(),t=No(),n=e([].reverse),r=[1,2];return i({target:"Array",proto:!0,forced:String(r)===String(r.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),n(this)}}),jI}var ny,zI;function oQ(){if(zI)return ny;zI=1,sQ();var i=Ri();return ny=i("Array","reverse"),ny}var ry,qI;function aQ(){if(qI)return ry;qI=1;var i=zt(),e=oQ(),t=Array.prototype;return ry=function(n){var r=n.reverse;return n===t||i(t,n)&&r===t.reverse?e:r},ry}var sy,GI;function lQ(){if(GI)return sy;GI=1;var i=aQ();return sy=i,sy}var oy,YI;function cQ(){return YI||(YI=1,oy=lQ()),oy}var uQ=cQ(),hQ=Re(uQ),BI={},ay,HI;function dQ(){if(HI)return ay;HI=1;var i=Dt(),e=No(),t=TypeError,n=Object.getOwnPropertyDescriptor,r=i&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}})();return ay=r?function(s,o){if(e(s)&&!n(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},ay}var ly,UI;function p$(){if(UI)return ly;UI=1;var i=Tl(),e=TypeError;return ly=function(t,n){if(!delete t[n])throw new e("Cannot delete property "+i(n)+" of "+i(t))},ly}var VI;function fQ(){if(VI)return BI;VI=1;var i=me(),e=Cn(),t=_x(),n=Dl(),r=Cs(),s=dQ(),o=U2(),a=yx(),l=Cf(),c=p$(),u=Du(),h=u("splice"),d=Math.max,f=Math.min;return i({target:"Array",proto:!0,forced:!h},{splice:function(p,g){var v=e(this),y=r(v),w=t(p,y),b=arguments.length,x,C,E,S,R,I;for(b===0?x=C=0:b===1?(x=0,C=y-w):(x=b-2,C=f(d(n(g),0),y-w)),o(y+x-C),E=a(v,C),S=0;S<C;S++)R=w+S,R in v&&l(E,S,v[R]);if(E.length=C,x<C){for(S=w;S<y-C;S++)R=S+C,I=S+x,R in v?v[I]=v[R]:c(v,I);for(S=y;S>y-C+x;S--)c(v,S-1)}else if(x>C)for(S=y-C;S>w;S--)R=S+C-1,I=S+x-1,R in v?v[I]=v[R]:c(v,I);for(S=0;S<x;S++)v[S+w]=arguments[S+2];return s(v,y-C+x),E}}),BI}var cy,XI;function mQ(){if(XI)return cy;XI=1,fQ();var i=Ri();return cy=i("Array","splice"),cy}var uy,KI;function pQ(){if(KI)return uy;KI=1;var i=zt(),e=mQ(),t=Array.prototype;return uy=function(n){var r=n.splice;return n===t||i(t,n)&&r===t.splice?e:r},uy}var hy,ZI;function gQ(){if(ZI)return hy;ZI=1;var i=pQ();return hy=i,hy}var dy,QI;function vQ(){return QI||(QI=1,dy=gQ()),dy}var yQ=vQ(),g$=Re(yQ),JI={},fy,eD;function _Q(){if(eD)return fy;eD=1;var i=Dt(),e=tt(),t=Ti(),n=He(),r=Tf(),s=If(),o=fx(),a=Cn(),l=wf(),c=Object.assign,u=Object.defineProperty,h=e([].concat);return fy=!c||n(function(){if(i&&c({b:1},c(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var d={},f={},m=Symbol("assign detection"),p="abcdefghijklmnopqrst";return d[m]=7,p.split("").forEach(function(g){f[g]=g}),c({},d)[m]!==7||r(c({},f)).join("")!==p})?function(f,m){for(var p=a(f),g=arguments.length,v=1,y=s.f,w=o.f;g>v;)for(var b=l(arguments[v++]),x=y?h(r(b),y(b)):r(b),C=x.length,E=0,S;C>E;)S=x[E++],(!i||t(w,b,S))&&(p[S]=b[S]);return p}:c,fy}var tD;function bQ(){if(tD)return JI;tD=1;var i=me(),e=_Q();return i({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),JI}var my,iD;function wQ(){if(iD)return my;iD=1,bQ();var i=Lt();return my=i.Object.assign,my}var py,nD;function xQ(){if(nD)return py;nD=1;var i=wQ();return py=i,py}var gy,rD;function SQ(){return rD||(rD=1,gy=xQ()),gy}var EQ=SQ(),CQ=Re(EQ),vy,sD;function TQ(){if(sD)return vy;sD=1,X2();var i=Ri();return vy=i("Array","concat"),vy}var yy,oD;function RQ(){if(oD)return yy;oD=1;var i=zt(),e=TQ(),t=Array.prototype;return yy=function(n){var r=n.concat;return n===t||i(t,n)&&r===t.concat?e:r},yy}var _y,aD;function OQ(){if(aD)return _y;aD=1;var i=RQ();return _y=i,_y}var by,lD;function IQ(){return lD||(lD=1,by=OQ()),by}var DQ=IQ(),PQ=Re(DQ),cD={},uD;function kQ(){if(uD)return cD;uD=1;var i=me(),e=Dt(),t=ku();return i({target:"Object",stat:!0,sham:!e},{create:t}),cD}var wy,hD;function MQ(){if(hD)return wy;hD=1,kQ();var i=Lt(),e=i.Object;return wy=function(n,r){return e.create(n,r)},wy}var xy,dD;function AQ(){if(dD)return xy;dD=1;var i=MQ();return xy=i,xy}var Sy,fD;function NQ(){return fD||(fD=1,Sy=AQ()),Sy}var LQ=NQ(),FQ=Re(LQ),mD={},Ey,pD;function $Q(){if(pD)return Ey;pD=1;var i=Dl(),e=Rs(),t=Ao(),n=RangeError;return Ey=function(s){var o=e(t(this)),a="",l=i(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))l&1&&(a+=o);return a},Ey}var Cy,gD;function jQ(){if(gD)return Cy;gD=1;var i=tt(),e=H2(),t=Rs(),n=$Q(),r=Ao(),s=i(n),o=i("".slice),a=Math.ceil,l=function(c){return function(u,h,d){var f=t(r(u)),m=e(h),p=f.length,g=d===void 0?" ":t(d),v,y;return m<=p||g===""?f:(v=m-p,y=s(g,a(v/g.length)),y.length>v&&(y=o(y,0,v)),c?f+y:y+f)}};return Cy={start:l(!1),end:l(!0)},Cy}var Ty,vD;function WQ(){if(vD)return Ty;vD=1;var i=tt(),e=He(),t=jQ().start,n=RangeError,r=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,l=i(o.getTime),c=i(o.getUTCDate),u=i(o.getUTCFullYear),h=i(o.getUTCHours),d=i(o.getUTCMilliseconds),f=i(o.getUTCMinutes),m=i(o.getUTCMonth),p=i(o.getUTCSeconds);return Ty=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!r(l(this)))throw new n("Invalid time value");var v=this,y=u(v),w=d(v),b=y<0?"-":y>9999?"+":"";return b+t(s(y),b?6:4,0)+"-"+t(m(v)+1,2,0)+"-"+t(c(v),2,0)+"T"+t(h(v),2,0)+":"+t(f(v),2,0)+":"+t(p(v),2,0)+"."+t(w,3,0)+"Z"}:a,Ty}var yD;function zQ(){if(yD)return mD;yD=1;var i=me(),e=Ti(),t=Cn(),n=z2(),r=WQ(),s=$r(),o=He(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return i({target:"Date",proto:!0,forced:a},{toJSON:function(c){var u=t(this),h=n(u,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in u)&&s(u)==="Date"?e(r,u):u.toISOString()}}),mD}var Ry,_D;function qQ(){if(_D)return Ry;_D=1,zQ(),e$();var i=Lt(),e=bf();return i.JSON||(i.JSON={stringify:JSON.stringify}),Ry=function(n,r,s){return e(i.JSON.stringify,null,arguments)},Ry}var Oy,bD;function GQ(){if(bD)return Oy;bD=1;var i=qQ();return Oy=i,Oy}var Iy,wD;function YQ(){return wD||(wD=1,Iy=GQ()),Iy}var BQ=YQ(),HQ=Re(BQ),xD={},SD={},Dy,ED;function UQ(){if(ED)return Dy;ED=1;var i=TypeError;return Dy=function(e,t){if(e<t)throw new i("Not enough arguments");return e},Dy}var Py,CD;function v$(){if(CD)return Py;CD=1;var i=It(),e=bf(),t=Wt(),n=f$(),r=El(),s=Pl(),o=UQ(),a=i.Function,l=/MSIE .\./.test(r)||n==="BUN"&&(function(){var c=i.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")})();return Py=function(c,u){var h=u?2:1;return l?function(d,f){var m=o(arguments.length,1)>h,p=t(d)?d:a(d),g=m?s(arguments,h):[],v=m?function(){e(p,this,g)}:p;return u?c(v,f):c(v)}:c},Py}var TD;function VQ(){if(TD)return SD;TD=1;var i=me(),e=It(),t=v$(),n=t(e.setInterval,!0);return i({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),SD}var RD={},OD;function XQ(){if(OD)return RD;OD=1;var i=me(),e=It(),t=v$(),n=t(e.setTimeout,!0);return i({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),RD}var ID;function KQ(){return ID||(ID=1,VQ(),XQ()),xD}var ky,DD;function ZQ(){if(DD)return ky;DD=1,KQ();var i=Lt();return ky=i.setTimeout,ky}var My,PD;function QQ(){return PD||(PD=1,My=ZQ()),My}var JQ=QQ(),eJ=Re(JQ),Ay={exports:{}},kD;function tJ(){return kD||(kD=1,(function(i){function e(n){if(n)return t(n);this._callbacks=new Map}function t(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,r){const s=this._callbacks.get(n)??[];return s.push(r),this._callbacks.set(n,s),this},e.prototype.once=function(n,r){const s=(...o)=>{this.off(n,s),r.apply(this,o)};return s.fn=r,this.on(n,s),this},e.prototype.off=function(n,r){if(n===void 0&&r===void 0)return this._callbacks.clear(),this;if(r===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[o,a]of s.entries())if(a===r||a.fn===r){s.splice(o,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...r){const s=this._callbacks.get(n);if(s){const o=[...s];for(const a of o)a.apply(this,r)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let r=0;for(const s of this._callbacks.values())r+=s.length;return r},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,i.exports=e})(Ay)),Ay.exports}var iJ=tJ(),nJ=Re(iJ);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function _n(){return _n=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},_n.apply(this,arguments)}function tn(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}function xh(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var _0;typeof Object.assign!="function"?_0=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!=null)for(var s in r)r.hasOwnProperty(s)&&(t[s]=r[s])}return t}:_0=Object.assign;var bo=_0,MD=["","webkit","Moz","MS","ms","o"],rJ=typeof document>"u"?{style:{}}:document.createElement("div"),sJ="function",Ea=Math.round,wo=Math.abs,Tx=Date.now;function Mf(i,e){for(var t,n,r=e[0].toUpperCase()+e.slice(1),s=0;s<MD.length;){if(t=MD[s],n=t?t+r:e,n in i)return n;s++}}var xr;typeof window>"u"?xr={}:xr=window;var y$=Mf(rJ.style,"touchAction"),_$=y$!==void 0;function oJ(){if(!_$)return!1;var i={},e=xr.CSS&&xr.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return i[t]=e?xr.CSS.supports("touch-action",t):!0}),i}var b$="compute",w$="auto",b0="manipulation",ro="none",qc="pan-x",Gc="pan-y",Sh=oJ(),aJ=/mobile|tablet|ip(ad|hone|od)|android/i,x$="ontouchstart"in xr,lJ=Mf(xr,"PointerEvent")!==void 0,cJ=x$&&aJ.test(navigator.userAgent),Nu="touch",uJ="pen",Rx="mouse",hJ="kinect",dJ=25,ui=1,Fo=2,Ct=4,Si=8,md=1,Lu=2,Fu=4,$u=8,rl=16,qn=Lu|Fu,so=$u|rl,S$=qn|so,E$=["x","y"],pd=["clientX","clientY"];function Sr(i,e,t){var n;if(i)if(i.forEach)i.forEach(e,t);else if(i.length!==void 0)for(n=0;n<i.length;)e.call(t,i[n],n,i),n++;else for(n in i)i.hasOwnProperty(n)&&e.call(t,i[n],n,i)}function Af(i,e){return typeof i===sJ?i.apply(e&&e[0]||void 0,e):i}function Js(i,e){return i.indexOf(e)>-1}function fJ(i){if(Js(i,ro))return ro;var e=Js(i,qc),t=Js(i,Gc);return e&&t?ro:e||t?e?qc:Gc:Js(i,b0)?b0:w$}var C$=(function(){function i(t,n){this.manager=t,this.set(n)}var e=i.prototype;return e.set=function(n){n===b$&&(n=this.compute()),_$&&this.manager.element.style&&Sh[n]&&(this.manager.element.style[y$]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Sr(this.manager.recognizers,function(r){Af(r.options.enable,[r])&&(n=n.concat(r.getTouchAction()))}),fJ(n.join(" "))},e.preventDefaults=function(n){var r=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){r.preventDefault();return}var o=this.actions,a=Js(o,ro)&&!Sh[ro],l=Js(o,Gc)&&!Sh[Gc],c=Js(o,qc)&&!Sh[qc];if(a){var u=n.pointers.length===1,h=n.distance<2,d=n.deltaTime<250;if(u&&h&&d)return}if(!(c&&l)&&(a||l&&s&qn||c&&s&so))return this.preventSrc(r)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},i})();function Ox(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function T$(i){var e=i.length;if(e===1)return{x:Ea(i[0].clientX),y:Ea(i[0].clientY)};for(var t=0,n=0,r=0;r<e;)t+=i[r].clientX,n+=i[r].clientY,r++;return{x:Ea(t/e),y:Ea(n/e)}}function AD(i){for(var e=[],t=0;t<i.pointers.length;)e[t]={clientX:Ea(i.pointers[t].clientX),clientY:Ea(i.pointers[t].clientY)},t++;return{timeStamp:Tx(),pointers:e,center:T$(e),deltaX:i.deltaX,deltaY:i.deltaY}}function gd(i,e,t){t||(t=E$);var n=e[t[0]]-i[t[0]],r=e[t[1]]-i[t[1]];return Math.sqrt(n*n+r*r)}function w0(i,e,t){t||(t=E$);var n=e[t[0]]-i[t[0]],r=e[t[1]]-i[t[1]];return Math.atan2(r,n)*180/Math.PI}function R$(i,e){return i===e?md:wo(i)>=wo(e)?i<0?Lu:Fu:e<0?$u:rl}function mJ(i,e){var t=e.center,n=i.offsetDelta||{},r=i.prevDelta||{},s=i.prevInput||{};(e.eventType===ui||s.eventType===Ct)&&(r=i.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=i.offsetDelta={x:t.x,y:t.y}),e.deltaX=r.x+(t.x-n.x),e.deltaY=r.y+(t.y-n.y)}function O$(i,e,t){return{x:e/i||0,y:t/i||0}}function pJ(i,e){return gd(e[0],e[1],pd)/gd(i[0],i[1],pd)}function gJ(i,e){return w0(e[1],e[0],pd)+w0(i[1],i[0],pd)}function vJ(i,e){var t=i.lastInterval||e,n=e.timeStamp-t.timeStamp,r,s,o,a;if(e.eventType!==Si&&(n>dJ||t.velocity===void 0)){var l=e.deltaX-t.deltaX,c=e.deltaY-t.deltaY,u=O$(n,l,c);s=u.x,o=u.y,r=wo(u.x)>wo(u.y)?u.x:u.y,a=R$(l,c),i.lastInterval=e}else r=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=r,e.velocityX=s,e.velocityY=o,e.direction=a}function yJ(i,e){var t=i.session,n=e.pointers,r=n.length;t.firstInput||(t.firstInput=AD(e)),r>1&&!t.firstMultiple?t.firstMultiple=AD(e):r===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,l=e.center=T$(n);e.timeStamp=Tx(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=w0(a,l),e.distance=gd(a,l),mJ(t,e),e.offsetDirection=R$(e.deltaX,e.deltaY);var c=O$(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=wo(c.x)>wo(c.y)?c.x:c.y,e.scale=o?pJ(o.pointers,n):1,e.rotation=o?gJ(o.pointers,n):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,vJ(t,e);var u=i.element,h=e.srcEvent,d;h.composedPath?d=h.composedPath()[0]:h.path?d=h.path[0]:d=h.target,Ox(d,u)&&(u=d),e.target=u}function _J(i,e,t){var n=t.pointers.length,r=t.changedPointers.length,s=e&ui&&n-r===0,o=e&(Ct|Si)&&n-r===0;t.isFirst=!!s,t.isFinal=!!o,s&&(i.session={}),t.eventType=e,yJ(i,t),i.emit("hammer.input",t),i.recognize(t),i.session.prevInput=t}function Yc(i){return i.trim().split(/\s+/g)}function gc(i,e,t){Sr(Yc(e),function(n){i.addEventListener(n,t,!1)})}function vc(i,e,t){Sr(Yc(e),function(n){i.removeEventListener(n,t,!1)})}function ND(i){var e=i.ownerDocument||i;return e.defaultView||e.parentWindow||window}var Al=(function(){function i(t,n){var r=this;this.manager=t,this.callback=n,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){Af(t.options.enable,[t])&&r.handler(s)},this.init()}var e=i.prototype;return e.handler=function(){},e.init=function(){this.evEl&&gc(this.element,this.evEl,this.domHandler),this.evTarget&&gc(this.target,this.evTarget,this.domHandler),this.evWin&&gc(ND(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&vc(this.element,this.evEl,this.domHandler),this.evTarget&&vc(this.target,this.evTarget,this.domHandler),this.evWin&&vc(ND(this.element),this.evWin,this.domHandler)},i})();function xo(i,e,t){if(i.indexOf&&!t)return i.indexOf(e);for(var n=0;n<i.length;){if(t&&i[n][t]==e||!t&&i[n]===e)return n;n++}return-1}var bJ={pointerdown:ui,pointermove:Fo,pointerup:Ct,pointercancel:Si,pointerout:Si},wJ={2:Nu,3:uJ,4:Rx,5:hJ},I$="pointerdown",D$="pointermove pointerup pointercancel";xr.MSPointerEvent&&!xr.PointerEvent&&(I$="MSPointerDown",D$="MSPointerMove MSPointerUp MSPointerCancel");var P$=(function(i){tn(e,i);function e(){var n,r=e.prototype;return r.evEl=I$,r.evWin=D$,n=i.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var t=e.prototype;return t.handler=function(r){var s=this.store,o=!1,a=r.type.toLowerCase().replace("ms",""),l=bJ[a],c=wJ[r.pointerType]||r.pointerType,u=c===Nu,h=xo(s,r.pointerId,"pointerId");l&ui&&(r.button===0||u)?h<0&&(s.push(r),h=s.length-1):l&(Ct|Si)&&(o=!0),!(h<0)&&(s[h]=r,this.callback(this.manager,l,{pointers:s,changedPointers:[r],pointerType:c,srcEvent:r}),o&&s.splice(h,1))},e})(Al);function Bc(i){return Array.prototype.slice.call(i,0)}function Ix(i,e,t){for(var n=[],r=[],s=0;s<i.length;){var o=e?i[s][e]:i[s];xo(r,o)<0&&n.push(i[s]),r[s]=o,s++}return t&&(e?n=n.sort(function(a,l){return a[e]>l[e]}):n=n.sort()),n}var xJ={touchstart:ui,touchmove:Fo,touchend:Ct,touchcancel:Si},SJ="touchstart touchmove touchend touchcancel",Dx=(function(i){tn(e,i);function e(){var n;return e.prototype.evTarget=SJ,n=i.apply(this,arguments)||this,n.targetIds={},n}var t=e.prototype;return t.handler=function(r){var s=xJ[r.type],o=EJ.call(this,r,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Nu,srcEvent:r})},e})(Al);function EJ(i,e){var t=Bc(i.touches),n=this.targetIds;if(e&(ui|Fo)&&t.length===1)return n[t[0].identifier]=!0,[t,t];var r,s,o=Bc(i.changedTouches),a=[],l=this.target;if(s=t.filter(function(c){return Ox(c.target,l)}),e===ui)for(r=0;r<s.length;)n[s[r].identifier]=!0,r++;for(r=0;r<o.length;)n[o[r].identifier]&&a.push(o[r]),e&(Ct|Si)&&delete n[o[r].identifier],r++;if(a.length)return[Ix(s.concat(a),"identifier",!0),a]}var CJ={mousedown:ui,mousemove:Fo,mouseup:Ct},TJ="mousedown",RJ="mousemove mouseup",Px=(function(i){tn(e,i);function e(){var n,r=e.prototype;return r.evEl=TJ,r.evWin=RJ,n=i.apply(this,arguments)||this,n.pressed=!1,n}var t=e.prototype;return t.handler=function(r){var s=CJ[r.type];s&ui&&r.button===0&&(this.pressed=!0),s&Fo&&r.which!==1&&(s=Ct),this.pressed&&(s&Ct&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[r],changedPointers:[r],pointerType:Rx,srcEvent:r}))},e})(Al),OJ=2500,LD=25;function FD(i){var e=i.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY},r=this.lastTouches;this.lastTouches.push(n);var s=function(){var a=r.indexOf(n);a>-1&&r.splice(a,1)};setTimeout(s,OJ)}}function IJ(i,e){i&ui?(this.primaryTouch=e.changedPointers[0].identifier,FD.call(this,e)):i&(Ct|Si)&&FD.call(this,e)}function DJ(i){for(var e=i.srcEvent.clientX,t=i.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],s=Math.abs(e-r.x),o=Math.abs(t-r.y);if(s<=LD&&o<=LD)return!0}return!1}var k$=(function(){var i=(function(e){tn(t,e);function t(r,s){var o;return o=e.call(this,r,s)||this,o.handler=function(a,l,c){var u=c.pointerType===Nu,h=c.pointerType===Rx;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(u)IJ.call(xh(xh(o)),l,c);else if(h&&DJ.call(xh(xh(o)),c))return;o.callback(a,l,c)}},o.touch=new Dx(o.manager,o.handler),o.mouse=new Px(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var n=t.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t})(Al);return i})();function PJ(i){var e,t=i.options.inputClass;return t?e=t:lJ?e=P$:cJ?e=Dx:x$?e=k$:e=Px,new e(i,_J)}function Ca(i,e,t){return Array.isArray(i)?(Sr(i,t[e],t),!0):!1}var qh=1,Qi=2,sl=4,ds=8,Er=ds,Hc=16,Fn=32,kJ=1;function MJ(){return kJ++}function Eh(i,e){var t=e.manager;return t?t.get(i):i}function $D(i){return i&Hc?"cancel":i&ds?"end":i&sl?"move":i&Qi?"start":""}var ju=(function(){function i(t){t===void 0&&(t={}),this.options=_n({enable:!0},t),this.id=MJ(),this.manager=null,this.state=qh,this.simultaneous={},this.requireFail=[]}var e=i.prototype;return e.set=function(n){return bo(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(Ca(n,"recognizeWith",this))return this;var r=this.simultaneous;return n=Eh(n,this),r[n.id]||(r[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return Ca(n,"dropRecognizeWith",this)?this:(n=Eh(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(Ca(n,"requireFailure",this))return this;var r=this.requireFail;return n=Eh(n,this),xo(r,n)===-1&&(r.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(Ca(n,"dropRequireFailure",this))return this;n=Eh(n,this);var r=xo(this.requireFail,n);return r>-1&&this.requireFail.splice(r,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var r=this,s=this.state;function o(a){r.manager.emit(a,n)}s<ds&&o(r.options.event+$D(s)),o(r.options.event),n.additionalEvent&&o(n.additionalEvent),s>=ds&&o(r.options.event+$D(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Fn},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Fn|qh)))return!1;n++}return!0},e.recognize=function(n){var r=bo({},n);if(!Af(this.options.enable,[this,r])){this.reset(),this.state=Fn;return}this.state&(Er|Hc|Fn)&&(this.state=qh),this.state=this.process(r),this.state&(Qi|sl|ds|Hc)&&this.tryEmit(r)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},i})(),x0=(function(i){tn(e,i);function e(n){var r;return n===void 0&&(n={}),r=i.call(this,_n({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,r.pTime=!1,r.pCenter=!1,r._timer=null,r._input=null,r.count=0,r}var t=e.prototype;return t.getTouchAction=function(){return[b0]},t.process=function(r){var s=this,o=this.options,a=r.pointers.length===o.pointers,l=r.distance<o.threshold,c=r.deltaTime<o.time;if(this.reset(),r.eventType&ui&&this.count===0)return this.failTimeout();if(l&&c&&a){if(r.eventType!==Ct)return this.failTimeout();var u=this.pTime?r.timeStamp-this.pTime<o.interval:!0,h=!this.pCenter||gd(this.pCenter,r.center)<o.posThreshold;this.pTime=r.timeStamp,this.pCenter=r.center,!h||!u?this.count=1:this.count+=1,this._input=r;var d=this.count%o.taps;if(d===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Er,s.tryEmit()},o.interval),Qi):Er}return Fn},t.failTimeout=function(){var r=this;return this._timer=setTimeout(function(){r.state=Fn},this.options.interval),Fn},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===Er&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e})(ju),ol=(function(i){tn(e,i);function e(n){return n===void 0&&(n={}),i.call(this,_n({pointers:1},n))||this}var t=e.prototype;return t.attrTest=function(r){var s=this.options.pointers;return s===0||r.pointers.length===s},t.process=function(r){var s=this.state,o=r.eventType,a=s&(Qi|sl),l=this.attrTest(r);return a&&(o&Si||!l)?s|Hc:a||l?o&Ct?s|ds:s&Qi?s|sl:Qi:Fn},e})(ju);function M$(i){return i===rl?"down":i===$u?"up":i===Lu?"left":i===Fu?"right":""}var kx=(function(i){tn(e,i);function e(n){var r;return n===void 0&&(n={}),r=i.call(this,_n({event:"pan",threshold:10,pointers:1,direction:S$},n))||this,r.pX=null,r.pY=null,r}var t=e.prototype;return t.getTouchAction=function(){var r=this.options.direction,s=[];return r&qn&&s.push(Gc),r&so&&s.push(qc),s},t.directionTest=function(r){var s=this.options,o=!0,a=r.distance,l=r.direction,c=r.deltaX,u=r.deltaY;return l&s.direction||(s.direction&qn?(l=c===0?md:c<0?Lu:Fu,o=c!==this.pX,a=Math.abs(r.deltaX)):(l=u===0?md:u<0?$u:rl,o=u!==this.pY,a=Math.abs(r.deltaY))),r.direction=l,o&&a>s.threshold&&l&s.direction},t.attrTest=function(r){return ol.prototype.attrTest.call(this,r)&&(this.state&Qi||!(this.state&Qi)&&this.directionTest(r))},t.emit=function(r){this.pX=r.deltaX,this.pY=r.deltaY;var s=M$(r.direction);s&&(r.additionalEvent=this.options.event+s),i.prototype.emit.call(this,r)},e})(ol),A$=(function(i){tn(e,i);function e(n){return n===void 0&&(n={}),i.call(this,_n({event:"swipe",threshold:10,velocity:.3,direction:qn|so,pointers:1},n))||this}var t=e.prototype;return t.getTouchAction=function(){return kx.prototype.getTouchAction.call(this)},t.attrTest=function(r){var s=this.options.direction,o;return s&(qn|so)?o=r.overallVelocity:s&qn?o=r.overallVelocityX:s&so&&(o=r.overallVelocityY),i.prototype.attrTest.call(this,r)&&s&r.offsetDirection&&r.distance>this.options.threshold&&r.maxPointers===this.options.pointers&&wo(o)>this.options.velocity&&r.eventType&Ct},t.emit=function(r){var s=M$(r.offsetDirection);s&&this.manager.emit(this.options.event+s,r),this.manager.emit(this.options.event,r)},e})(ol),N$=(function(i){tn(e,i);function e(n){return n===void 0&&(n={}),i.call(this,_n({event:"pinch",threshold:0,pointers:2},n))||this}var t=e.prototype;return t.getTouchAction=function(){return[ro]},t.attrTest=function(r){return i.prototype.attrTest.call(this,r)&&(Math.abs(r.scale-1)>this.options.threshold||this.state&Qi)},t.emit=function(r){if(r.scale!==1){var s=r.scale<1?"in":"out";r.additionalEvent=this.options.event+s}i.prototype.emit.call(this,r)},e})(ol),L$=(function(i){tn(e,i);function e(n){return n===void 0&&(n={}),i.call(this,_n({event:"rotate",threshold:0,pointers:2},n))||this}var t=e.prototype;return t.getTouchAction=function(){return[ro]},t.attrTest=function(r){return i.prototype.attrTest.call(this,r)&&(Math.abs(r.rotation)>this.options.threshold||this.state&Qi)},e})(ol),F$=(function(i){tn(e,i);function e(n){var r;return n===void 0&&(n={}),r=i.call(this,_n({event:"press",pointers:1,time:251,threshold:9},n))||this,r._timer=null,r._input=null,r}var t=e.prototype;return t.getTouchAction=function(){return[w$]},t.process=function(r){var s=this,o=this.options,a=r.pointers.length===o.pointers,l=r.distance<o.threshold,c=r.deltaTime>o.time;if(this._input=r,!l||!a||r.eventType&(Ct|Si)&&!c)this.reset();else if(r.eventType&ui)this.reset(),this._timer=setTimeout(function(){s.state=Er,s.tryEmit()},o.time);else if(r.eventType&Ct)return Er;return Fn},t.reset=function(){clearTimeout(this._timer)},t.emit=function(r){this.state===Er&&(r&&r.eventType&Ct?this.manager.emit(this.options.event+"up",r):(this._input.timeStamp=Tx(),this.manager.emit(this.options.event,this._input)))},e})(ju),$$={domEvents:!1,touchAction:b$,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},jD=[[L$,{enable:!1}],[N$,{enable:!1},["rotate"]],[A$,{direction:qn}],[kx,{direction:qn},["swipe"]],[x0],[x0,{event:"doubletap",taps:2},["tap"]],[F$]],AJ=1,WD=2;function zD(i,e){var t=i.element;if(t.style){var n;Sr(i.options.cssProps,function(r,s){n=Mf(t.style,s),e?(i.oldCssProps[n]=t.style[n],t.style[n]=r):t.style[n]=i.oldCssProps[n]||""}),e||(i.oldCssProps={})}}function NJ(i,e){var t=document.createEvent("Event");t.initEvent(i,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var qD=(function(){function i(t,n){var r=this;this.options=bo({},$$,n||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=PJ(this),this.touchAction=new C$(this,this.options.touchAction),zD(this,!0),Sr(this.options.recognizers,function(s){var o=r.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=i.prototype;return e.set=function(n){return bo(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?WD:AJ},e.recognize=function(n){var r=this.session;if(!r.stopped){this.touchAction.preventDefaults(n);var s,o=this.recognizers,a=r.curRecognizer;(!a||a&&a.state&Er)&&(r.curRecognizer=null,a=null);for(var l=0;l<o.length;)s=o[l],r.stopped!==WD&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(n):s.reset(),!a&&s.state&(Qi|sl|ds)&&(r.curRecognizer=s,a=s),l++}},e.get=function(n){if(n instanceof ju)return n;for(var r=this.recognizers,s=0;s<r.length;s++)if(r[s].options.event===n)return r[s];return null},e.add=function(n){if(Ca(n,"add",this))return this;var r=this.get(n.options.event);return r&&this.remove(r),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(Ca(n,"remove",this))return this;var r=this.get(n);if(n){var s=this.recognizers,o=xo(s,r);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(n,r){if(n===void 0||r===void 0)return this;var s=this.handlers;return Sr(Yc(n),function(o){s[o]=s[o]||[],s[o].push(r)}),this},e.off=function(n,r){if(n===void 0)return this;var s=this.handlers;return Sr(Yc(n),function(o){r?s[o]&&s[o].splice(xo(s[o],r),1):delete s[o]}),this},e.emit=function(n,r){this.options.domEvents&&NJ(n,r);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){r.type=n,r.preventDefault=function(){r.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](r),o++}},e.destroy=function(){this.element&&zD(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},i})(),LJ={touchstart:ui,touchmove:Fo,touchend:Ct,touchcancel:Si},FJ="touchstart",$J="touchstart touchmove touchend touchcancel",jJ=(function(i){tn(e,i);function e(){var n,r=e.prototype;return r.evTarget=FJ,r.evWin=$J,n=i.apply(this,arguments)||this,n.started=!1,n}var t=e.prototype;return t.handler=function(r){var s=LJ[r.type];if(s===ui&&(this.started=!0),!!this.started){var o=WJ.call(this,r,s);s&(Ct|Si)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Nu,srcEvent:r})}},e})(Al);function WJ(i,e){var t=Bc(i.touches),n=Bc(i.changedTouches);return e&(Ct|Si)&&(t=Ix(t.concat(n),"identifier",!0)),[t,n]}function j$(i,e,t){var n="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var r=new Error("get-stack-trace"),s=r&&r.stack?r.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,n,s),i.apply(this,arguments)}}var W$=j$(function(i,e,t){for(var n=Object.keys(e),r=0;r<n.length;)(!t||t&&i[n[r]]===void 0)&&(i[n[r]]=e[n[r]]),r++;return i},"extend","Use `assign`."),zJ=j$(function(i,e){return W$(i,e,!0)},"merge","Use `assign`.");function qJ(i,e,t){var n=e.prototype,r;r=i.prototype=Object.create(n),r.constructor=i,r._super=n,t&&bo(r,t)}function GD(i,e){return function(){return i.apply(e,arguments)}}var GJ=(function(){var i=function(t,n){return n===void 0&&(n={}),new qD(t,_n({recognizers:jD.concat()},n))};return i.VERSION="2.0.17-rc",i.DIRECTION_ALL=S$,i.DIRECTION_DOWN=rl,i.DIRECTION_LEFT=Lu,i.DIRECTION_RIGHT=Fu,i.DIRECTION_UP=$u,i.DIRECTION_HORIZONTAL=qn,i.DIRECTION_VERTICAL=so,i.DIRECTION_NONE=md,i.DIRECTION_DOWN=rl,i.INPUT_START=ui,i.INPUT_MOVE=Fo,i.INPUT_END=Ct,i.INPUT_CANCEL=Si,i.STATE_POSSIBLE=qh,i.STATE_BEGAN=Qi,i.STATE_CHANGED=sl,i.STATE_ENDED=ds,i.STATE_RECOGNIZED=Er,i.STATE_CANCELLED=Hc,i.STATE_FAILED=Fn,i.Manager=qD,i.Input=Al,i.TouchAction=C$,i.TouchInput=Dx,i.MouseInput=Px,i.PointerEventInput=P$,i.TouchMouseInput=k$,i.SingleTouchInput=jJ,i.Recognizer=ju,i.AttrRecognizer=ol,i.Tap=x0,i.Pan=kx,i.Swipe=A$,i.Pinch=N$,i.Rotate=L$,i.Press=F$,i.on=gc,i.off=vc,i.each=Sr,i.merge=zJ,i.extend=W$,i.bindFn=GD,i.assign=bo,i.inherit=qJ,i.bindFn=GD,i.prefixed=Mf,i.toArray=Bc,i.inArray=xo,i.uniqueArray=Ix,i.splitStr=Yc,i.boolOrFn=Af,i.hasParent=Ox,i.addEventListeners=gc,i.removeEventListeners=vc,i.defaults=bo({},$$,{preset:jD}),i})();const z$=O7("DELETE");function YJ(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return q$({},i,...t)}function q$(){const i=vd(...arguments);return Y$(i),i}function vd(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];if(e.length<2)return e[0];if(e.length>2)return vd(q$(e[0],e[1]),...N7(e).call(e,2));const n=e[0],r=e[1];if(n instanceof Date&&r instanceof Date)return n.setTime(r.getTime()),n;for(const s of z7(r))Object.prototype.propertyIsEnumerable.call(r,s)&&(r[s]===z$?delete n[s]:n[s]!==null&&r[s]!==null&&typeof n[s]=="object"&&typeof r[s]=="object"&&!In(n[s])&&!In(r[s])?n[s]=vd(n[s],r[s]):n[s]=G$(r[s]));return n}function G$(i){return In(i)?hr(i).call(i,e=>G$(e)):typeof i=="object"&&i!==null?i instanceof Date?new Date(i.getTime()):vd({},i):i}function Y$(i){for(const e of Cx(i))i[e]===z$?delete i[e]:typeof i[e]=="object"&&i[e]!==null&&Y$(i[e])}function BJ(){const i=()=>{};return{on:i,off:i,destroy:i,emit:i,get(){return{set:i}}}}const HJ=typeof window<"u"?window.Hammer||GJ:function(){return BJ()};function pr(i){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:i,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const t=HJ(this._dom.overlay);t.on("tap",d$(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{t.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];zc(n).call(n,r=>{t.on(r,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=r=>{UJ(r.target,i)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=r=>{("key"in r?r.key==="Escape":r.keyCode===27)&&this.deactivate()}}nJ(pr.prototype);pr.current=null;pr.prototype.destroy=function(){this.deactivate();for(const t of hQ(i=g$(e=this._cleanupQueue).call(e,0)).call(i)){var i,e;t()}};pr.prototype.activate=function(){pr.current&&pr.current.deactivate(),pr.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};pr.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};pr.prototype._onTapOverlay=function(i){this.activate(),i.srcEvent.stopPropagation()};function UJ(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}var Ny,YD;function VJ(){if(YD)return Ny;YD=1,t$();var i=Lt();return Ny=i.Object.getOwnPropertySymbols,Ny}var Ly,BD;function XJ(){if(BD)return Ly;BD=1;var i=VJ();return Ly=i,Ly}var Fy,HD;function KJ(){return HD||(HD=1,Fy=XJ()),Fy}var ZJ=KJ(),UD=Re(ZJ),$y={exports:{}},VD={},XD;function QJ(){if(XD)return VD;XD=1;var i=me(),e=He(),t=Xn(),n=Sf().f,r=Dt(),s=!r||e(function(){n(1)});return i({target:"Object",stat:!0,forced:s,sham:!r},{getOwnPropertyDescriptor:function(a,l){return n(t(a),l)}}),VD}var KD;function JJ(){if(KD)return $y.exports;KD=1,QJ();var i=Lt(),e=i.Object,t=$y.exports=function(r,s){return e.getOwnPropertyDescriptor(r,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),$y.exports}var jy,ZD;function eee(){if(ZD)return jy;ZD=1;var i=JJ();return jy=i,jy}var Wy,QD;function tee(){return QD||(QD=1,Wy=eee()),Wy}var iee=tee(),B$=Re(iee),JD={},eP;function nee(){if(eP)return JD;eP=1;var i=me(),e=Dt(),t=m$(),n=Xn(),r=Sf(),s=Cf();return i({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var l=n(a),c=r.f,u=t(l),h={},d=0,f,m;u.length>d;)m=c(l,f=u[d++]),m!==void 0&&s(h,f,m);return h}}),JD}var zy,tP;function ree(){if(tP)return zy;tP=1,nee();var i=Lt();return zy=i.Object.getOwnPropertyDescriptors,zy}var qy,iP;function see(){if(iP)return qy;iP=1;var i=ree();return qy=i,qy}var Gy,nP;function oee(){return nP||(nP=1,Gy=see()),Gy}var aee=oee(),rP=Re(aee),Yy={exports:{}},sP={},oP;function lee(){if(oP)return sP;oP=1;var i=me(),e=Dt(),t=wx().f;return i({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),sP}var aP;function cee(){if(aP)return Yy.exports;aP=1,lee();var i=Lt(),e=i.Object,t=Yy.exports=function(r,s){return e.defineProperties(r,s)};return e.defineProperties.sham&&(t.sham=!0),Yy.exports}var By,lP;function uee(){if(lP)return By;lP=1;var i=cee();return By=i,By}var Hy,cP;function hee(){return cP||(cP=1,Hy=uee()),Hy}var dee=hee(),fee=Re(dee),Uy,uP;function mee(){return uP||(uP=1,Uy=B2()),Uy}var pee=mee(),gee=Re(pee),hP={},dP={},Vy={exports:{}},Xy,fP;function vee(){if(fP)return Xy;fP=1;var i=He();return Xy=i(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Xy}var Ky,mP;function yee(){if(mP)return Ky;mP=1;var i=He(),e=di(),t=$r(),n=vee(),r=Object.isExtensible,s=i(function(){});return Ky=s||n?function(a){return!e(a)||n&&t(a)==="ArrayBuffer"?!1:r?r(a):!0}:r,Ky}var Zy,pP;function _ee(){if(pP)return Zy;pP=1;var i=He();return Zy=!i(function(){return Object.isExtensible(Object.preventExtensions({}))}),Zy}var gP;function H$(){if(gP)return Vy.exports;gP=1;var i=me(),e=tt(),t=Pu(),n=di(),r=qt(),s=en().f,o=Of(),a=Z2(),l=yee(),c=xf(),u=_ee(),h=!1,d=c("meta"),f=0,m=function(b){s(b,d,{value:{objectID:"O"+f++,weakData:{}}})},p=function(b,x){if(!n(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!r(b,d)){if(!l(b))return"F";if(!x)return"E";m(b)}return b[d].objectID},g=function(b,x){if(!r(b,d)){if(!l(b))return!0;if(!x)return!1;m(b)}return b[d].weakData},v=function(b){return u&&h&&l(b)&&!r(b,d)&&m(b),b},y=function(){w.enable=function(){},h=!0;var b=o.f,x=e([].splice),C={};C[d]=1,b(C).length&&(o.f=function(E){for(var S=b(E),R=0,I=S.length;R<I;R++)if(S[R]===d){x(S,R,1);break}return S},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},w=Vy.exports={enable:y,fastKey:p,getWeakData:g,onFreeze:v};return t[d]=!0,Vy.exports}var Qy,vP;function bee(){if(vP)return Qy;vP=1;var i=Gt(),e=Ml(),t=i("iterator"),n=Array.prototype;return Qy=function(r){return r!==void 0&&(e.Array===r||n[t]===r)},Qy}var Jy,yP;function U$(){if(yP)return Jy;yP=1;var i=Ts(),e=mx(),t=Ru(),n=Ml(),r=Gt(),s=r("iterator");return Jy=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||n[i(o)]},Jy}var e_,_P;function V$(){if(_P)return e_;_P=1;var i=Ti(),e=jr(),t=Wr(),n=Tl(),r=U$(),s=TypeError;return e_=function(o,a){var l=arguments.length<2?r(o):a;if(e(l))return t(i(l,o));throw new s(n(o)+" is not iterable")},e_}var t_,bP;function Mx(){if(bP)return t_;bP=1;var i=Ti(),e=Wr(),t=mx();return t_=function(n,r,s){var o,a;e(n);try{if(o=t(n,"return"),!o){if(r==="throw")throw s;return s}o=i(o,n)}catch(l){a=!0,o=l}if(r==="throw")throw s;if(a)throw o;return e(o),s},t_}var i_,wP;function Ax(){if(wP)return i_;wP=1;var i=Ef(),e=Ti(),t=Wr(),n=Tl(),r=bee(),s=Cs(),o=zt(),a=V$(),l=U$(),c=Mx(),u=TypeError,h=function(f,m){this.stopped=f,this.result=m},d=h.prototype;return i_=function(f,m,p){var g=p&&p.that,v=!!(p&&p.AS_ENTRIES),y=!!(p&&p.IS_RECORD),w=!!(p&&p.IS_ITERATOR),b=!!(p&&p.INTERRUPTED),x=i(m,g),C,E,S,R,I,k,M,N=function(q){return C&&c(C,"normal"),new h(!0,q)},F=function(q){return v?(t(q),b?x(q[0],q[1],N):x(q[0],q[1])):b?x(q,N):x(q)};if(y)C=f.iterator;else if(w)C=f;else{if(E=l(f),!E)throw new u(n(f)+" is not iterable");if(r(E)){for(S=0,R=s(f);R>S;S++)if(I=F(f[S]),I&&o(d,I))return I;return new h(!1)}C=a(f,E)}for(k=y?f.next:C.next;!(M=e(k,C)).done;){try{I=F(M.value)}catch(q){c(C,"throw",q)}if(typeof I=="object"&&I&&o(d,I))return I}return new h(!1)},i_}var n_,xP;function X$(){if(xP)return n_;xP=1;var i=zt(),e=TypeError;return n_=function(t,n){if(i(n,t))return t;throw new e("Incorrect invocation")},n_}var r_,SP;function K$(){if(SP)return r_;SP=1;var i=me(),e=It(),t=H$(),n=He(),r=Il(),s=Ax(),o=X$(),a=Wt(),l=di(),c=Ru(),u=Lo(),h=en().f,d=kl().forEach,f=Dt(),m=Au(),p=m.set,g=m.getterFor;return r_=function(v,y,w){var b=v.indexOf("Map")!==-1,x=v.indexOf("Weak")!==-1,C=b?"set":"add",E=e[v],S=E&&E.prototype,R={},I;if(!f||!a(E)||!(x||S.forEach&&!n(function(){new E().entries().next()})))I=w.getConstructor(y,v,b,C),t.enable();else{I=y(function(N,F){p(o(N,k),{type:v,collection:new E}),c(F)||s(F,N[C],{that:N,AS_ENTRIES:b})});var k=I.prototype,M=g(v);d(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(N){var F=N==="add"||N==="set";N in S&&!(x&&N==="clear")&&r(k,N,function(q,A){var z=M(this).collection;if(!F&&x&&!l(q))return N==="get"?void 0:!1;var P=z[N](q===0?0:q,A);return F?this:P})}),x||h(k,"size",{configurable:!0,get:function(){return M(this).collection.size}})}return u(I,v,!1,!0),R[v]=I,i({global:!0,forced:!0},R),x||w.setStrong(I,v,b),I},r_}var s_,EP;function wee(){if(EP)return s_;EP=1;var i=Mu();return s_=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:i(e,r,t[r],n);return e},s_}var o_,CP;function xee(){if(CP)return o_;CP=1;var i=ji(),e=xx(),t=Gt(),n=Dt(),r=t("species");return o_=function(s){var o=i(s);n&&o&&!o[r]&&e(o,r,{configurable:!0,get:function(){return this}})},o_}var a_,TP;function Z$(){if(TP)return a_;TP=1;var i=ku(),e=xx(),t=wee(),n=Ef(),r=X$(),s=Ru(),o=Ax(),a=Sx(),l=Ex(),c=xee(),u=Dt(),h=H$().fastKey,d=Au(),f=d.set,m=d.getterFor;return a_={getConstructor:function(p,g,v,y){var w=p(function(S,R){r(S,b),f(S,{type:g,index:i(null),first:null,last:null,size:0}),u||(S.size=0),s(R)||o(R,S[y],{that:S,AS_ENTRIES:v})}),b=w.prototype,x=m(g),C=function(S,R,I){var k=x(S),M=E(S,R),N,F;return M?M.value=I:(k.last=M={index:F=h(R,!0),key:R,value:I,previous:N=k.last,next:null,removed:!1},k.first||(k.first=M),N&&(N.next=M),u?k.size++:S.size++,F!=="F"&&(k.index[F]=M)),S},E=function(S,R){var I=x(S),k=h(R),M;if(k!=="F")return I.index[k];for(M=I.first;M;M=M.next)if(M.key===R)return M};return t(b,{clear:function(){for(var R=this,I=x(R),k=I.first;k;)k.removed=!0,k.previous&&(k.previous=k.previous.next=null),k=k.next;I.first=I.last=null,I.index=i(null),u?I.size=0:R.size=0},delete:function(S){var R=this,I=x(R),k=E(R,S);if(k){var M=k.next,N=k.previous;delete I.index[k.index],k.removed=!0,N&&(N.next=M),M&&(M.previous=N),I.first===k&&(I.first=M),I.last===k&&(I.last=N),u?I.size--:R.size--}return!!k},forEach:function(R){for(var I=x(this),k=n(R,arguments.length>1?arguments[1]:void 0),M;M=M?M.next:I.first;)for(k(M.value,M.key,this);M&&M.removed;)M=M.previous},has:function(R){return!!E(this,R)}}),t(b,v?{get:function(R){var I=E(this,R);return I&&I.value},set:function(R,I){return C(this,R===0?0:R,I)}}:{add:function(R){return C(this,R=R===0?0:R,R)}}),u&&e(b,"size",{configurable:!0,get:function(){return x(this).size}}),w},setStrong:function(p,g,v){var y=g+" Iterator",w=m(g),b=m(y);a(p,g,function(x,C){f(this,{type:y,target:x,state:w(x),kind:C,last:null})},function(){for(var x=b(this),C=x.kind,E=x.last;E&&E.removed;)E=E.previous;return!x.target||!(x.last=E=E?E.next:x.state.first)?(x.target=null,l(void 0,!0)):l(C==="keys"?E.key:C==="values"?E.value:[E.key,E.value],!1)},v?"entries":"values",!v,!0),c(g)}},a_}var RP;function See(){if(RP)return dP;RP=1;var i=K$(),e=Z$();return i("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),dP}var OP;function Eee(){return OP||(OP=1,See()),hP}var IP={},l_,DP;function Q$(){return DP||(DP=1,l_=function(i,e){return e===1?function(t,n){return t[i](n)}:function(t,n,r){return t[i](n,r)}}),l_}var c_,PP;function Cee(){if(PP)return c_;PP=1;var i=ji(),e=Q$(),t=i("Map");return c_={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},c_}var kP;function Tee(){if(kP)return IP;kP=1;var i=me(),e=tt(),t=jr(),n=Ao(),r=Ax(),s=Cee(),o=Rl(),a=He(),l=s.Map,c=s.has,u=s.get,h=s.set,d=e([].push),f=o||a(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return i({target:"Map",stat:!0,forced:o||f},{groupBy:function(p,g){n(p),t(g);var v=new l,y=0;return r(p,function(w){var b=g(w,y++);c(v,b)?d(u(v,b),w):h(v,b,[w])}),v}}),IP}var u_,MP;function Ree(){if(MP)return u_;MP=1,Os(),Eee(),Tee(),Pf();var i=Lt();return u_=i.Map,u_}var h_,AP;function Oee(){if(AP)return h_;AP=1;var i=Ree();return Is(),h_=i,h_}var d_,NP;function Iee(){return NP||(NP=1,d_=Oee()),d_}var Dee=Iee(),J$=Re(Dee),LP={},FP;function Pee(){if(FP)return LP;FP=1;var i=me(),e=kl().some,t=kf(),n=t("some");return i({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),LP}var f_,$P;function kee(){if($P)return f_;$P=1,Pee();var i=Ri();return f_=i("Array","some"),f_}var m_,jP;function Mee(){if(jP)return m_;jP=1;var i=zt(),e=kee(),t=Array.prototype;return m_=function(n){var r=n.some;return n===t||i(t,n)&&r===t.some?e:r},m_}var p_,WP;function Aee(){if(WP)return p_;WP=1;var i=Mee();return p_=i,p_}var g_,zP;function Nee(){return zP||(zP=1,g_=Aee()),g_}var Lee=Nee(),Fee=Re(Lee),v_,qP;function $ee(){if(qP)return v_;qP=1,Os();var i=Ri();return v_=i("Array","keys"),v_}var y_,GP;function jee(){if(GP)return y_;GP=1;var i=$ee();return y_=i,y_}var __,YP;function Wee(){if(YP)return __;YP=1,Is();var i=Ts(),e=qt(),t=zt(),n=jee(),r=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return __=function(o){var a=o.keys;return o===r||t(r,o)&&a===r.keys||e(s,i(o))?n:a},__}var b_,BP;function zee(){return BP||(BP=1,b_=Wee()),b_}var qee=zee(),sa=Re(qee),HP={},w_,UP;function Gee(){if(UP)return w_;UP=1;var i=Pl(),e=Math.floor,t=function(n,r){var s=n.length;if(s<8)for(var o=1,a,l;o<s;){for(l=o,a=n[o];l&&r(n[l-1],a)>0;)n[l]=n[--l];l!==o++&&(n[l]=a)}else for(var c=e(s/2),u=t(i(n,0,c),r),h=t(i(n,c),r),d=u.length,f=h.length,m=0,p=0;m<d||p<f;)n[m+p]=m<d&&p<f?r(u[m],h[p])<=0?u[m++]:h[p++]:m<d?u[m++]:h[p++];return n};return w_=t,w_}var x_,VP;function Yee(){if(VP)return x_;VP=1;var i=El(),e=i.match(/firefox\/(\d+)/i);return x_=!!e&&+e[1],x_}var S_,XP;function Bee(){if(XP)return S_;XP=1;var i=El();return S_=/MSIE|Trident/.test(i),S_}var E_,KP;function Hee(){if(KP)return E_;KP=1;var i=El(),e=i.match(/AppleWebKit\/(\d+)\./);return E_=!!e&&+e[1],E_}var ZP;function Uee(){if(ZP)return HP;ZP=1;var i=me(),e=tt(),t=jr(),n=Cn(),r=Cs(),s=p$(),o=Rs(),a=He(),l=Gee(),c=kf(),u=Yee(),h=Bee(),d=Ou(),f=Hee(),m=[],p=e(m.sort),g=e(m.push),v=a(function(){m.sort(void 0)}),y=a(function(){m.sort(null)}),w=c("sort"),b=!a(function(){if(d)return d<70;if(!(u&&u>3)){if(h)return!0;if(f)return f<603;var E="",S,R,I,k;for(S=65;S<76;S++){switch(R=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:I=3;break;case 68:case 71:I=4;break;default:I=2}for(k=0;k<47;k++)m.push({k:R+k,v:I})}for(m.sort(function(M,N){return N.v-M.v}),k=0;k<m.length;k++)R=m[k].k.charAt(0),E.charAt(E.length-1)!==R&&(E+=R);return E!=="DGBEFHACIJK"}}),x=v||!y||!w||!b,C=function(E){return function(S,R){return R===void 0?-1:S===void 0?1:E!==void 0?+E(S,R)||0:o(S)>o(R)?1:-1}};return i({target:"Array",proto:!0,forced:x},{sort:function(S){S!==void 0&&t(S);var R=n(this);if(b)return S===void 0?p(R):p(R,S);var I=[],k=r(R),M,N;for(N=0;N<k;N++)N in R&&g(I,R[N]);for(l(I,C(S)),M=r(I),N=0;N<M;)R[N]=I[N++];for(;N<k;)s(R,N++);return R}}),HP}var C_,QP;function Vee(){if(QP)return C_;QP=1,Uee();var i=Ri();return C_=i("Array","sort"),C_}var T_,JP;function Xee(){if(JP)return T_;JP=1;var i=zt(),e=Vee(),t=Array.prototype;return T_=function(n){var r=n.sort;return n===t||i(t,n)&&r===t.sort?e:r},T_}var R_,ek;function Kee(){if(ek)return R_;ek=1;var i=Xee();return R_=i,R_}var O_,tk;function Zee(){return tk||(tk=1,O_=Kee()),O_}var Qee=Zee(),S0=Re(Qee),I_,ik;function Jee(){if(ik)return I_;ik=1,Os();var i=Ri();return I_=i("Array","values"),I_}var D_,nk;function ete(){if(nk)return D_;nk=1;var i=Jee();return D_=i,D_}var P_,rk;function tte(){if(rk)return P_;rk=1,Is();var i=Ts(),e=qt(),t=zt(),n=ete(),r=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return P_=function(o){var a=o.values;return o===r||t(r,o)&&a===r.values||e(s,i(o))?n:a},P_}var k_,sk;function ite(){return sk||(sk=1,k_=tte()),k_}var nte=ite(),ok=Re(nte),M_,ak;function rte(){return ak||(ak=1,M_=h$()),M_}var ste=rte(),Ta=Re(ste),A_,lk;function ote(){if(lk)return A_;lk=1,Os();var i=Ri();return A_=i("Array","entries"),A_}var N_,ck;function ate(){if(ck)return N_;ck=1;var i=ote();return N_=i,N_}var L_,uk;function lte(){if(uk)return L_;uk=1,Is();var i=Ts(),e=qt(),t=zt(),n=ate(),r=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return L_=function(o){var a=o.entries;return o===r||t(r,o)&&a===r.entries||e(s,i(o))?n:a},L_}var F_,hk;function cte(){return hk||(hk=1,F_=lte()),F_}var ute=cte(),hte=Re(ute);const Bt=[];for(let i=0;i<256;++i)Bt.push((i+256).toString(16).slice(1));function dte(i,e=0){return(Bt[i[e+0]]+Bt[i[e+1]]+Bt[i[e+2]]+Bt[i[e+3]]+"-"+Bt[i[e+4]]+Bt[i[e+5]]+"-"+Bt[i[e+6]]+Bt[i[e+7]]+"-"+Bt[i[e+8]]+Bt[i[e+9]]+"-"+Bt[i[e+10]]+Bt[i[e+11]]+Bt[i[e+12]]+Bt[i[e+13]]+Bt[i[e+14]]+Bt[i[e+15]]).toLowerCase()}let $_;const fte=new Uint8Array(16);function mte(){if(!$_){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");$_=crypto.getRandomValues.bind(crypto)}return $_(fte)}const pte=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var dk={randomUUID:pte};function gte(i,e,t){i=i||{};const n=i.random??i.rng?.()??mte();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,dte(n)}function vte(i,e,t){return dk.randomUUID&&!i?dk.randomUUID():gte(i)}function fk(i){return typeof i=="string"||typeof i=="number"}let yte=class ej{constructor(e){hs(this,"_queue",[]),hs(this,"_timeout",null),hs(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,t){const n=new ej(t);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const r=[{name:"flush",original:void 0}];if(t&&t.replace)for(let s=0;s<t.replace.length;s++){const o=t.replace[s];r.push({name:o,original:e[o]}),n.replace(e,o)}return n._extended={object:e,methods:r},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,t=this._extended.methods;for(let n=0;n<t.length;n++){const r=t[n];r.original?e[r.name]=r.original:delete e[r.name]}this._extended=null}}replace(e,t){const n=this,r=e[t];if(!r)throw new Error("Method "+t+" undefined");e[t]=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];n.queue({args:o,fn:r,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=eJ(()=>{this.flush()},this.delay))}flush(){var e,t;zc(e=g$(t=this._queue).call(t,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}},_te=class E0{constructor(){hs(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),hs(this,"subscribe",E0.prototype.on),hs(this,"unsubscribe",E0.prototype.off)}_trigger(e,t,n){var r;if(e==="*")throw new Error("Cannot trigger event *");zc(r=[...this._subscribers[e],...this._subscribers["*"]]).call(r,s=>{s(e,t,n??null)})}on(e,t){typeof t=="function"&&this._subscribers[e].push(t)}off(e,t){var n;this._subscribers[e]=Sa(n=this._subscribers[e]).call(n,r=>r!==t)}};var mk={},pk={},gk;function bte(){if(gk)return pk;gk=1;var i=K$(),e=Z$();return i("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),pk}var vk;function wte(){return vk||(vk=1,bte()),mk}var yk={},j_,_k;function $o(){if(_k)return j_;_k=1;var i=Tl(),e=TypeError;return j_=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(i(t)+" is not a set")},j_}var W_,bk;function jo(){if(bk)return W_;bk=1;var i=ji(),e=Q$(),t=i("Set"),n=t.prototype;return W_={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},W_}var z_,wk;function Wo(){if(wk)return z_;wk=1;var i=Ti();return z_=function(e,t,n){for(var r=n?e:e.iterator,s=e.next,o,a;!(o=i(s,r)).done;)if(a=t(o.value),a!==void 0)return a},z_}var q_,xk;function Wu(){if(xk)return q_;xk=1;var i=Wo();return q_=function(e,t,n){return n?i(e.keys(),t,!0):e.forEach(t)},q_}var G_,Sk;function Nx(){if(Sk)return G_;Sk=1;var i=jo(),e=Wu(),t=i.Set,n=i.add;return G_=function(r){var s=new t;return e(r,function(o){n(s,o)}),s},G_}var Y_,Ek;function zu(){return Ek||(Ek=1,Y_=function(i){return i.size}),Y_}var B_,Ck;function xte(){return Ck||(Ck=1,B_=function(i){return{iterator:i,next:i.next,done:!1}}),B_}var H_,Tk;function zo(){if(Tk)return H_;Tk=1;var i=jr(),e=Wr(),t=Ti(),n=Dl(),r=xte(),s="Invalid size",o=RangeError,a=TypeError,l=Math.max,c=function(u,h){this.set=u,this.size=l(h,0),this.has=i(u.has),this.keys=i(u.keys)};return c.prototype={getIterator:function(){return r(e(t(this.keys,this.set)))},includes:function(u){return t(this.has,this.set,u)}},H_=function(u){e(u);var h=+u.size;if(h!==h)throw new a(s);var d=n(h);if(d<0)throw new o(s);return new c(u,d)},H_}var U_,Rk;function Ste(){if(Rk)return U_;Rk=1;var i=$o(),e=jo(),t=Nx(),n=zu(),r=zo(),s=Wu(),o=Wo(),a=e.has,l=e.remove;return U_=function(u){var h=i(this),d=r(u),f=t(h);return n(h)<=d.size?s(h,function(m){d.includes(m)&&l(f,m)}):o(d.getIterator(),function(m){a(f,m)&&l(f,m)}),f},U_}var V_,Ok;function qo(){return Ok||(Ok=1,V_=function(){return!1}),V_}var Ik;function Ete(){if(Ik)return yk;Ik=1;var i=me(),e=Ste(),t=He(),n=qo(),r=!n("difference",function(o){return o.size===0}),s=r||t(function(){var o={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var c=l++>1;return a.has(1)&&a.clear(),{done:c,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return i({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),yk}var Dk={},X_,Pk;function Cte(){if(Pk)return X_;Pk=1;var i=$o(),e=jo(),t=zu(),n=zo(),r=Wu(),s=Wo(),o=e.Set,a=e.add,l=e.has;return X_=function(u){var h=i(this),d=n(u),f=new o;return t(h)>d.size?s(d.getIterator(),function(m){l(h,m)&&a(f,m)}):r(h,function(m){d.includes(m)&&a(f,m)}),f},X_}var kk;function Tte(){if(kk)return Dk;kk=1;var i=me(),e=He(),t=Cte(),n=qo(),r=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return i({target:"Set",proto:!0,real:!0,forced:r},{intersection:t}),Dk}var Mk={},K_,Ak;function Rte(){if(Ak)return K_;Ak=1;var i=$o(),e=jo().has,t=zu(),n=zo(),r=Wu(),s=Wo(),o=Mx();return K_=function(l){var c=i(this),u=n(l);if(t(c)<=u.size)return r(c,function(d){if(u.includes(d))return!1},!0)!==!1;var h=u.getIterator();return s(h,function(d){if(e(c,d))return o(h,"normal",!1)})!==!1},K_}var Nk;function Ote(){if(Nk)return Mk;Nk=1;var i=me(),e=Rte(),t=qo(),n=!t("isDisjointFrom",function(r){return!r});return i({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),Mk}var Lk={},Z_,Fk;function Ite(){if(Fk)return Z_;Fk=1;var i=$o(),e=zu(),t=Wu(),n=zo();return Z_=function(s){var o=i(this),a=n(s);return e(o)>a.size?!1:t(o,function(l){if(!a.includes(l))return!1},!0)!==!1},Z_}var $k;function Dte(){if($k)return Lk;$k=1;var i=me(),e=Ite(),t=qo(),n=!t("isSubsetOf",function(r){return r});return i({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),Lk}var jk={},Q_,Wk;function Pte(){if(Wk)return Q_;Wk=1;var i=$o(),e=jo().has,t=zu(),n=zo(),r=Wo(),s=Mx();return Q_=function(a){var l=i(this),c=n(a);if(t(l)<c.size)return!1;var u=c.getIterator();return r(u,function(h){if(!e(l,h))return s(u,"normal",!1)})!==!1},Q_}var zk;function kte(){if(zk)return jk;zk=1;var i=me(),e=Pte(),t=qo(),n=!t("isSupersetOf",function(r){return!r});return i({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),jk}var qk={},J_,Gk;function Mte(){if(Gk)return J_;Gk=1;var i=$o(),e=jo(),t=Nx(),n=zo(),r=Wo(),s=e.add,o=e.has,a=e.remove;return J_=function(c){var u=i(this),h=n(c).getIterator(),d=t(u);return r(h,function(f){o(u,f)?a(d,f):s(d,f)}),d},J_}var eb,Yk;function tj(){return Yk||(Yk=1,eb=function(i){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[i](t);return n.size===1&&n.values().next().value===4}catch{return!1}}),eb}var Bk;function Ate(){if(Bk)return qk;Bk=1;var i=me(),e=Mte(),t=tj(),n=qo(),r=!n("symmetricDifference")||!t("symmetricDifference");return i({target:"Set",proto:!0,real:!0,forced:r},{symmetricDifference:e}),qk}var Hk={},tb,Uk;function Nte(){if(Uk)return tb;Uk=1;var i=$o(),e=jo().add,t=Nx(),n=zo(),r=Wo();return tb=function(o){var a=i(this),l=n(o).getIterator(),c=t(a);return r(l,function(u){e(c,u)}),c},tb}var Vk;function Lte(){if(Vk)return Hk;Vk=1;var i=me(),e=Nte(),t=tj(),n=qo(),r=!n("union")||!t("union");return i({target:"Set",proto:!0,real:!0,forced:r},{union:e}),Hk}var ib,Xk;function Fte(){if(Xk)return ib;Xk=1,Os(),wte(),Ete(),Tte(),Ote(),Dte(),kte(),Ate(),Lte(),Pf();var i=Lt();return ib=i.Set,ib}var nb,Kk;function $te(){if(Kk)return nb;Kk=1;var i=Fte();return Is(),nb=i,nb}var rb,Zk;function jte(){return Zk||(Zk=1,rb=$te()),rb}var Wte=jte(),sb=Re(Wte),ob,Qk;function zte(){if(Qk)return ob;Qk=1,Os(),Pf();var i=V$();return ob=i,ob}var ab,Jk;function qte(){if(Jk)return ab;Jk=1;var i=zte();return Is(),ab=i,ab}var lb,eM;function Gte(){if(eM)return lb;eM=1;var i=qte();return lb=i,lb}var cb,tM;function Yte(){if(tM)return cb;tM=1;var i=Gte();return cb=i,cb}var ub,iM;function Bte(){return iM||(iM=1,ub=Yte()),ub}var hb,nM;function Hte(){return nM||(nM=1,hb=Bte()),hb}var Ute=Hte(),db=Re(Ute);let rM=class lc{constructor(e){this._pairs=e}*[Ta](){for(const[e,t]of this._pairs)yield[e,t]}*entries(){for(const[e,t]of this._pairs)yield[e,t]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return hr(e=[...this._pairs]).call(e,t=>t[0])}toItemArray(){var e;return hr(e=[...this._pairs]).call(e,t=>t[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=FQ(null);for(const[t,n]of this._pairs)e[t]=n;return e}toMap(){return new J$(this._pairs)}toIdSet(){return new sb(this.toIdArray())}toItemSet(){return new sb(this.toItemArray())}cache(){return new lc([...this._pairs])}distinct(e){const t=new sb;for(const[n,r]of this._pairs)t.add(e(r,n));return t}filter(e){const t=this._pairs;return new lc({*[Ta](){for(const[n,r]of t)e(r,n)&&(yield[n,r])}})}forEach(e){for(const[t,n]of this._pairs)e(n,t)}map(e){const t=this._pairs;return new lc({*[Ta](){for(const[n,r]of t)yield[n,e(r,n)]}})}max(e){const t=db(this._pairs);let n=t.next();if(n.done)return null;let r=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=t.next()).done;){const[o,a]=n.value,l=e(a,o);l>s&&(s=l,r=a)}return r}min(e){const t=db(this._pairs);let n=t.next();if(n.done)return null;let r=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=t.next()).done;){const[o,a]=n.value,l=e(a,o);l<s&&(s=l,r=a)}return r}reduce(e,t){for(const[n,r]of this._pairs)t=e(t,r,n);return t}sort(e){return new lc({[Ta]:()=>{var t;return db(S0(t=[...this._pairs]).call(t,(n,r)=>{let[s,o]=n,[a,l]=r;return e(o,l,s,a)}))}})}};function sM(i,e){var t=Cx(i);if(UD){var n=UD(i);e&&(n=Sa(n).call(n,function(r){return B$(i,r).enumerable})),t.push.apply(t,n)}return t}function oM(i){for(var e=1;e<arguments.length;e++){var t,n,r=arguments[e]!=null?arguments[e]:{};e%2?zc(t=sM(Object(r),!0)).call(t,function(s){hs(i,s,r[s])}):rP?fee(i,rP(r)):zc(n=sM(Object(r))).call(n,function(s){gee(i,s,B$(r,s))})}return i}function Vte(i,e){return i[e]==null&&(i[e]=vte()),i}let aM=class extends _te{get idProp(){return this._idProp}constructor(e,t){super(),hs(this,"_queue",null),e&&!In(e)&&(t=e,e=[]),this._options=t||{},this._data=new J$,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(t)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=yte.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,t){const n=[];let r;if(In(e)){const s=hr(e).call(e,o=>o[this._idProp]);if(Fee(s).call(s,o=>this._data.has(o)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,a=e.length;o<a;o++)r=this._addItem(e[o]),n.push(r)}else if(e&&typeof e=="object")r=this._addItem(e),n.push(r);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},t),n}update(e,t){const n=[],r=[],s=[],o=[],a=this._idProp,l=c=>{const u=c[a];if(u!=null&&this._data.has(u)){const h=c,d=CQ({},this._data.get(u)),f=this._updateItem(h);r.push(f),o.push(h),s.push(d)}else{const h=this._addItem(c);n.push(h)}};if(In(e))for(let c=0,u=e.length;c<u;c++)e[c]&&typeof e[c]=="object"?l(e[c]):console.warn("Ignoring input item, which is not an object at index "+c);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},t),r.length){const c={items:r,oldData:s,data:o};this._trigger("update",c,t)}return PQ(n).call(n,r)}updateOnly(e,t){var n;In(e)||(e=[e]);const r=hr(n=hr(e).call(e,s=>{const o=this._data.get(s[this._idProp]);if(o==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:o,update:s}})).call(n,s=>{let{oldData:o,update:a}=s;const l=o[this._idProp],c=YJ(o,a);return this._data.set(l,c),{id:l,oldData:o,updatedData:c}});if(r.length){const s={items:hr(r).call(r,o=>o.id),oldData:hr(r).call(r,o=>o.oldData),data:hr(r).call(r,o=>o.updatedData)};return this._trigger("update",s,t),s.items}else return[]}get(e,t){let n,r,s;fk(e)?(n=e,s=t):In(e)?(r=e,s=t):s=e;const o=s&&s.returnType==="Object"?"Object":"Array",a=s&&Sa(s),l=[];let c,u,h;if(n!=null)c=this._data.get(n),c&&a&&!a(c)&&(c=void 0);else if(r!=null)for(let f=0,m=r.length;f<m;f++)c=this._data.get(r[f]),c!=null&&(!a||a(c))&&l.push(c);else{var d;u=[...sa(d=this._data).call(d)];for(let f=0,m=u.length;f<m;f++)h=u[f],c=this._data.get(h),c!=null&&(!a||a(c))&&l.push(c)}if(s&&s.order&&n==null&&this._sort(l,s.order),s&&s.fields){const f=s.fields;if(n!=null&&c!=null)c=this._filterFields(c,f);else for(let m=0,p=l.length;m<p;m++)l[m]=this._filterFields(l[m],f)}if(o=="Object"){const f={};for(let m=0,p=l.length;m<p;m++){const g=l[m],v=g[this._idProp];f[v]=g}return f}else return n!=null?c??null:l}getIds(e){const t=this._data,n=e&&Sa(e),r=e&&e.order,s=[...sa(t).call(t)],o=[];if(n)if(r){const a=[];for(let l=0,c=s.length;l<c;l++){const u=s[l],h=this._data.get(u);h!=null&&n(h)&&a.push(h)}this._sort(a,r);for(let l=0,c=a.length;l<c;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const c=s[a],u=this._data.get(c);u!=null&&n(u)&&o.push(u[this._idProp])}else if(r){const a=[];for(let l=0,c=s.length;l<c;l++){const u=s[l];a.push(t.get(u))}this._sort(a,r);for(let l=0,c=a.length;l<c;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const c=s[a],u=t.get(c);u!=null&&o.push(u[this._idProp])}return o}getDataSet(){return this}forEach(e,t){const n=t&&Sa(t),r=this._data,s=[...sa(r).call(r)];if(t&&t.order){const o=this.get(t);for(let a=0,l=o.length;a<l;a++){const c=o[a],u=c[this._idProp];e(c,u)}}else for(let o=0,a=s.length;o<a;o++){const l=s[o],c=this._data.get(l);c!=null&&(!n||n(c))&&e(c,l)}}map(e,t){const n=t&&Sa(t),r=[],s=this._data,o=[...sa(s).call(s)];for(let a=0,l=o.length;a<l;a++){const c=o[a],u=this._data.get(c);u!=null&&(!n||n(u))&&r.push(e(u,c))}return t&&t.order&&this._sort(r,t.order),r}_filterFields(e,t){var n;return e&&f7(n=In(t)?t:Cx(t)).call(n,(r,s)=>(r[s]=e[s],r),{})}_sort(e,t){if(typeof t=="string"){const n=t;S0(e).call(e,(r,s)=>{const o=r[n],a=s[n];return o>a?1:o<a?-1:0})}else if(typeof t=="function")S0(e).call(e,t);else throw new TypeError("Order must be a function or a string")}remove(e,t){const n=[],r=[],s=In(e)?e:[e];for(let o=0,a=s.length;o<a;o++){const l=this._remove(s[o]);if(l){const c=l[this._idProp];c!=null&&(n.push(c),r.push(l))}}return n.length&&this._trigger("remove",{items:n,oldData:r},t),n}_remove(e){let t;if(fk(e)?t=e:e&&typeof e=="object"&&(t=e[this._idProp]),t!=null&&this._data.has(t)){const n=this._data.get(t)||null;return this._data.delete(t),--this.length,n}return null}clear(e){var t;const n=[...sa(t=this._data).call(t)],r=[];for(let s=0,o=n.length;s<o;s++)r.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:r},e),n}max(e){let t=null,n=null;for(const s of ok(r=this._data).call(r)){var r;const o=s[e];typeof o=="number"&&(n==null||o>n)&&(t=s,n=o)}return t||null}min(e){let t=null,n=null;for(const s of ok(r=this._data).call(r)){var r;const o=s[e];typeof o=="number"&&(n==null||o<n)&&(t=s,n=o)}return t||null}distinct(e){const t=this._data,n=[...sa(t).call(t)],r=[];let s=0;for(let o=0,a=n.length;o<a;o++){const l=n[o],u=t.get(l)[e];let h=!1;for(let d=0;d<s;d++)if(r[d]==u){h=!0;break}!h&&u!==void 0&&(r[s]=u,s++)}return r}_addItem(e){const t=Vte(e,this._idProp),n=t[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,t),++this.length,n}_updateItem(e){const t=e[this._idProp];if(t==null)throw new Error("Cannot update item: item has no id (item: "+HQ(e)+")");const n=this._data.get(t);if(!n)throw new Error("Cannot update item: no item with id "+t+" found");return this._data.set(t,oM(oM({},n),e)),t}stream(e){if(e){const n=this._data;return new rM({*[Ta](){for(const r of e){const s=n.get(r);s!=null&&(yield[r,s])}}})}else{var t;return new rM({[Ta]:d$(t=hte(this._data)).call(t,this._data)})}}};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var ij;function X(){return ij.apply(null,arguments)}function Xte(i){ij=i}function bn(i){return i instanceof Array||Object.prototype.toString.call(i)==="[object Array]"}function oo(i){return i!=null&&Object.prototype.toString.call(i)==="[object Object]"}function Ne(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Lx(i){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(i).length===0;var e;for(e in i)if(Ne(i,e))return!1;return!0}function pi(i){return i===void 0}function Nr(i){return typeof i=="number"||Object.prototype.toString.call(i)==="[object Number]"}function qu(i){return i instanceof Date||Object.prototype.toString.call(i)==="[object Date]"}function nj(i,e){var t=[],n,r=i.length;for(n=0;n<r;++n)t.push(e(i[n],n));return t}function as(i,e){for(var t in e)Ne(e,t)&&(i[t]=e[t]);return Ne(e,"toString")&&(i.toString=e.toString),Ne(e,"valueOf")&&(i.valueOf=e.valueOf),i}function Kn(i,e,t,n){return Tj(i,e,t,n,!0).utc()}function Kte(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function _e(i){return i._pf==null&&(i._pf=Kte()),i._pf}var C0;Array.prototype.some?C0=Array.prototype.some:C0=function(i){var e=Object(this),t=e.length>>>0,n;for(n=0;n<t;n++)if(n in e&&i.call(this,e[n],n,e))return!0;return!1};function Fx(i){var e=null,t=!1,n=i._d&&!isNaN(i._d.getTime());if(n&&(e=_e(i),t=C0.call(e.parsedDateParts,function(r){return r!=null}),n=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t),i._strict&&(n=n&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(i))i._isValid=n;else return n;return i._isValid}function Nf(i){var e=Kn(NaN);return i!=null?as(_e(e),i):_e(e).userInvalidated=!0,e}var lM=X.momentProperties=[],fb=!1;function $x(i,e){var t,n,r,s=lM.length;if(pi(e._isAMomentObject)||(i._isAMomentObject=e._isAMomentObject),pi(e._i)||(i._i=e._i),pi(e._f)||(i._f=e._f),pi(e._l)||(i._l=e._l),pi(e._strict)||(i._strict=e._strict),pi(e._tzm)||(i._tzm=e._tzm),pi(e._isUTC)||(i._isUTC=e._isUTC),pi(e._offset)||(i._offset=e._offset),pi(e._pf)||(i._pf=_e(e)),pi(e._locale)||(i._locale=e._locale),s>0)for(t=0;t<s;t++)n=lM[t],r=e[n],pi(r)||(i[n]=r);return i}function Gu(i){$x(this,i),this._d=new Date(i._d!=null?i._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),fb===!1&&(fb=!0,X.updateOffset(this),fb=!1)}function wn(i){return i instanceof Gu||i!=null&&i._isAMomentObject!=null}function rj(i){X.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+i)}function nn(i,e){var t=!0;return as(function(){if(X.deprecationHandler!=null&&X.deprecationHandler(null,i),t){var n=[],r,s,o,a=arguments.length;for(s=0;s<a;s++){if(r="",typeof arguments[s]=="object"){r+=`
[`+s+"] ";for(o in arguments[0])Ne(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[s];n.push(r)}rj(i+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),t=!1}return e.apply(this,arguments)},e)}var cM={};function sj(i,e){X.deprecationHandler!=null&&X.deprecationHandler(i,e),cM[i]||(rj(e),cM[i]=!0)}X.suppressDeprecationWarnings=!1;X.deprecationHandler=null;function Zn(i){return typeof Function<"u"&&i instanceof Function||Object.prototype.toString.call(i)==="[object Function]"}function Zte(i){var e,t;for(t in i)Ne(i,t)&&(e=i[t],Zn(e)?this[t]=e:this["_"+t]=e);this._config=i,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function T0(i,e){var t=as({},i),n;for(n in e)Ne(e,n)&&(oo(i[n])&&oo(e[n])?(t[n]={},as(t[n],i[n]),as(t[n],e[n])):e[n]!=null?t[n]=e[n]:delete t[n]);for(n in i)Ne(i,n)&&!Ne(e,n)&&oo(i[n])&&(t[n]=as({},t[n]));return t}function jx(i){i!=null&&this.set(i)}var R0;Object.keys?R0=Object.keys:R0=function(i){var e,t=[];for(e in i)Ne(i,e)&&t.push(e);return t};var Qte={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Jte(i,e,t){var n=this._calendar[i]||this._calendar.sameElse;return Zn(n)?n.call(e,t):n}function Bn(i,e,t){var n=""+Math.abs(i),r=e-n.length,s=i>=0;return(s?t?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var Wx=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ch=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,mb={},Wa={};function re(i,e,t,n){var r=n;typeof n=="string"&&(r=function(){return this[n]()}),i&&(Wa[i]=r),e&&(Wa[e[0]]=function(){return Bn(r.apply(this,arguments),e[1],e[2])}),t&&(Wa[t]=function(){return this.localeData().ordinal(r.apply(this,arguments),i)})}function eie(i){return i.match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"")}function tie(i){var e=i.match(Wx),t,n;for(t=0,n=e.length;t<n;t++)Wa[e[t]]?e[t]=Wa[e[t]]:e[t]=eie(e[t]);return function(r){var s="",o;for(o=0;o<n;o++)s+=Zn(e[o])?e[o].call(r,i):e[o];return s}}function Gh(i,e){return i.isValid()?(e=oj(e,i.localeData()),mb[e]=mb[e]||tie(e),mb[e](i)):i.localeData().invalidDate()}function oj(i,e){var t=5;function n(r){return e.longDateFormat(r)||r}for(Ch.lastIndex=0;t>=0&&Ch.test(i);)i=i.replace(Ch,n),Ch.lastIndex=0,t-=1;return i}var iie={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function nie(i){var e=this._longDateFormat[i],t=this._longDateFormat[i.toUpperCase()];return e||!t?e:(this._longDateFormat[i]=t.match(Wx).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[i])}var rie="Invalid date";function sie(){return this._invalidDate}var oie="%d",aie=/\d{1,2}/;function lie(i){return this._ordinal.replace("%d",i)}var cie={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function uie(i,e,t,n){var r=this._relativeTime[t];return Zn(r)?r(i,e,t,n):r.replace(/%d/i,i)}function hie(i,e){var t=this._relativeTime[i>0?"future":"past"];return Zn(t)?t(e):t.replace(/%s/i,e)}var uM={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function rn(i){return typeof i=="string"?uM[i]||uM[i.toLowerCase()]:void 0}function zx(i){var e={},t,n;for(n in i)Ne(i,n)&&(t=rn(n),t&&(e[t]=i[n]));return e}var die={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function fie(i){var e=[],t;for(t in i)Ne(i,t)&&e.push({unit:t,priority:die[t]});return e.sort(function(n,r){return n.priority-r.priority}),e}var aj=/\d/,Wi=/\d\d/,lj=/\d{3}/,qx=/\d{4}/,Lf=/[+-]?\d{6}/,at=/\d\d?/,cj=/\d\d\d\d?/,uj=/\d\d\d\d\d\d?/,Ff=/\d{1,3}/,Gx=/\d{1,4}/,$f=/[+-]?\d{1,6}/,Nl=/\d+/,jf=/[+-]?\d+/,mie=/Z|[+-]\d\d:?\d\d/gi,Wf=/Z|[+-]\d\d(?::?\d\d)?/gi,pie=/[+-]?\d+(\.\d{1,3})?/,Yu=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ll=/^[1-9]\d?/,Yx=/^([1-9]\d|\d)/,yd;yd={};function ee(i,e,t){yd[i]=Zn(e)?e:function(n,r){return n&&t?t:e}}function gie(i,e){return Ne(yd,i)?yd[i](e._strict,e._locale):new RegExp(vie(i))}function vie(i){return Cr(i.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,s){return t||n||r||s}))}function Cr(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Hi(i){return i<0?Math.ceil(i)||0:Math.floor(i)}function Te(i){var e=+i,t=0;return e!==0&&isFinite(e)&&(t=Hi(e)),t}var O0={};function Qe(i,e){var t,n=e,r;for(typeof i=="string"&&(i=[i]),Nr(e)&&(n=function(s,o){o[e]=Te(s)}),r=i.length,t=0;t<r;t++)O0[i[t]]=n}function Bu(i,e){Qe(i,function(t,n,r,s){r._w=r._w||{},e(t,r._w,r,s)})}function yie(i,e,t){e!=null&&Ne(O0,i)&&O0[i](e,t._a,t,i)}function zf(i){return i%4===0&&i%100!==0||i%400===0}var ii=0,gr=1,Mn=2,At=3,dn=4,vr=5,eo=6,_ie=7,bie=8;re("Y",0,0,function(){var i=this.year();return i<=9999?Bn(i,4):"+"+i});re(0,["YY",2],0,function(){return this.year()%100});re(0,["YYYY",4],0,"year");re(0,["YYYYY",5],0,"year");re(0,["YYYYYY",6,!0],0,"year");ee("Y",jf);ee("YY",at,Wi);ee("YYYY",Gx,qx);ee("YYYYY",$f,Lf);ee("YYYYYY",$f,Lf);Qe(["YYYYY","YYYYYY"],ii);Qe("YYYY",function(i,e){e[ii]=i.length===2?X.parseTwoDigitYear(i):Te(i)});Qe("YY",function(i,e){e[ii]=X.parseTwoDigitYear(i)});Qe("Y",function(i,e){e[ii]=parseInt(i,10)});function yc(i){return zf(i)?366:365}X.parseTwoDigitYear=function(i){return Te(i)+(Te(i)>68?1900:2e3)};var hj=Fl("FullYear",!0);function wie(){return zf(this.year())}function Fl(i,e){return function(t){return t!=null?(dj(this,i,t),X.updateOffset(this,e),this):Uc(this,i)}}function Uc(i,e){if(!i.isValid())return NaN;var t=i._d,n=i._isUTC;switch(e){case"Milliseconds":return n?t.getUTCMilliseconds():t.getMilliseconds();case"Seconds":return n?t.getUTCSeconds():t.getSeconds();case"Minutes":return n?t.getUTCMinutes():t.getMinutes();case"Hours":return n?t.getUTCHours():t.getHours();case"Date":return n?t.getUTCDate():t.getDate();case"Day":return n?t.getUTCDay():t.getDay();case"Month":return n?t.getUTCMonth():t.getMonth();case"FullYear":return n?t.getUTCFullYear():t.getFullYear();default:return NaN}}function dj(i,e,t){var n,r,s,o,a;if(!(!i.isValid()||isNaN(t))){switch(n=i._d,r=i._isUTC,e){case"Milliseconds":return void(r?n.setUTCMilliseconds(t):n.setMilliseconds(t));case"Seconds":return void(r?n.setUTCSeconds(t):n.setSeconds(t));case"Minutes":return void(r?n.setUTCMinutes(t):n.setMinutes(t));case"Hours":return void(r?n.setUTCHours(t):n.setHours(t));case"Date":return void(r?n.setUTCDate(t):n.setDate(t));case"FullYear":break;default:return}s=t,o=i.month(),a=i.date(),a=a===29&&o===1&&!zf(s)?28:a,r?n.setUTCFullYear(s,o,a):n.setFullYear(s,o,a)}}function xie(i){return i=rn(i),Zn(this[i])?this[i]():this}function Sie(i,e){if(typeof i=="object"){i=zx(i);var t=fie(i),n,r=t.length;for(n=0;n<r;n++)this[t[n].unit](i[t[n].unit])}else if(i=rn(i),Zn(this[i]))return this[i](e);return this}function Eie(i,e){return(i%e+e)%e}var St;Array.prototype.indexOf?St=Array.prototype.indexOf:St=function(i){var e;for(e=0;e<this.length;++e)if(this[e]===i)return e;return-1};function Bx(i,e){if(isNaN(i)||isNaN(e))return NaN;var t=Eie(e,12);return i+=(e-t)/12,t===1?zf(i)?29:28:31-t%7%2}re("M",["MM",2],"Mo",function(){return this.month()+1});re("MMM",0,0,function(i){return this.localeData().monthsShort(this,i)});re("MMMM",0,0,function(i){return this.localeData().months(this,i)});ee("M",at,Ll);ee("MM",at,Wi);ee("MMM",function(i,e){return e.monthsShortRegex(i)});ee("MMMM",function(i,e){return e.monthsRegex(i)});Qe(["M","MM"],function(i,e){e[gr]=Te(i)-1});Qe(["MMM","MMMM"],function(i,e,t,n){var r=t._locale.monthsParse(i,n,t._strict);r!=null?e[gr]=r:_e(t).invalidMonth=i});var Cie="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fj="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mj=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Tie=Yu,Rie=Yu;function Oie(i,e){return i?bn(this._months)?this._months[i.month()]:this._months[(this._months.isFormat||mj).test(e)?"format":"standalone"][i.month()]:bn(this._months)?this._months:this._months.standalone}function Iie(i,e){return i?bn(this._monthsShort)?this._monthsShort[i.month()]:this._monthsShort[mj.test(e)?"format":"standalone"][i.month()]:bn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Die(i,e,t){var n,r,s,o=i.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=Kn([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return t?e==="MMM"?(r=St.call(this._shortMonthsParse,o),r!==-1?r:null):(r=St.call(this._longMonthsParse,o),r!==-1?r:null):e==="MMM"?(r=St.call(this._shortMonthsParse,o),r!==-1?r:(r=St.call(this._longMonthsParse,o),r!==-1?r:null)):(r=St.call(this._longMonthsParse,o),r!==-1?r:(r=St.call(this._shortMonthsParse,o),r!==-1?r:null))}function Pie(i,e,t){var n,r,s;if(this._monthsParseExact)return Die.call(this,i,e,t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=Kn([2e3,n]),t&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!t&&!this._monthsParse[n]&&(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),t&&e==="MMMM"&&this._longMonthsParse[n].test(i))return n;if(t&&e==="MMM"&&this._shortMonthsParse[n].test(i))return n;if(!t&&this._monthsParse[n].test(i))return n}}function pj(i,e){if(!i.isValid())return i;if(typeof e=="string"){if(/^\d+$/.test(e))e=Te(e);else if(e=i.localeData().monthsParse(e),!Nr(e))return i}var t=e,n=i.date();return n=n<29?n:Math.min(n,Bx(i.year(),t)),i._isUTC?i._d.setUTCMonth(t,n):i._d.setMonth(t,n),i}function gj(i){return i!=null?(pj(this,i),X.updateOffset(this,!0),this):Uc(this,"Month")}function kie(){return Bx(this.year(),this.month())}function Mie(i){return this._monthsParseExact?(Ne(this,"_monthsRegex")||vj.call(this),i?this._monthsShortStrictRegex:this._monthsShortRegex):(Ne(this,"_monthsShortRegex")||(this._monthsShortRegex=Tie),this._monthsShortStrictRegex&&i?this._monthsShortStrictRegex:this._monthsShortRegex)}function Aie(i){return this._monthsParseExact?(Ne(this,"_monthsRegex")||vj.call(this),i?this._monthsStrictRegex:this._monthsRegex):(Ne(this,"_monthsRegex")||(this._monthsRegex=Rie),this._monthsStrictRegex&&i?this._monthsStrictRegex:this._monthsRegex)}function vj(){function i(l,c){return c.length-l.length}var e=[],t=[],n=[],r,s,o,a;for(r=0;r<12;r++)s=Kn([2e3,r]),o=Cr(this.monthsShort(s,"")),a=Cr(this.months(s,"")),e.push(o),t.push(a),n.push(a),n.push(o);e.sort(i),t.sort(i),n.sort(i),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Nie(i,e,t,n,r,s,o){var a;return i<100&&i>=0?(a=new Date(i+400,e,t,n,r,s,o),isFinite(a.getFullYear())&&a.setFullYear(i)):a=new Date(i,e,t,n,r,s,o),a}function Vc(i){var e,t;return i<100&&i>=0?(t=Array.prototype.slice.call(arguments),t[0]=i+400,e=new Date(Date.UTC.apply(null,t)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(i)):e=new Date(Date.UTC.apply(null,arguments)),e}function _d(i,e,t){var n=7+e-t,r=(7+Vc(i,0,n).getUTCDay()-e)%7;return-r+n-1}function yj(i,e,t,n,r){var s=(7+t-n)%7,o=_d(i,n,r),a=1+7*(e-1)+s+o,l,c;return a<=0?(l=i-1,c=yc(l)+a):a>yc(i)?(l=i+1,c=a-yc(i)):(l=i,c=a),{year:l,dayOfYear:c}}function Xc(i,e,t){var n=_d(i.year(),e,t),r=Math.floor((i.dayOfYear()-n-1)/7)+1,s,o;return r<1?(o=i.year()-1,s=r+Tr(o,e,t)):r>Tr(i.year(),e,t)?(s=r-Tr(i.year(),e,t),o=i.year()+1):(o=i.year(),s=r),{week:s,year:o}}function Tr(i,e,t){var n=_d(i,e,t),r=_d(i+1,e,t);return(yc(i)-n+r)/7}re("w",["ww",2],"wo","week");re("W",["WW",2],"Wo","isoWeek");ee("w",at,Ll);ee("ww",at,Wi);ee("W",at,Ll);ee("WW",at,Wi);Bu(["w","ww","W","WW"],function(i,e,t,n){e[n.substr(0,1)]=Te(i)});function Lie(i){return Xc(i,this._week.dow,this._week.doy).week}var Fie={dow:0,doy:6};function $ie(){return this._week.dow}function jie(){return this._week.doy}function Wie(i){var e=this.localeData().week(this);return i==null?e:this.add((i-e)*7,"d")}function zie(i){var e=Xc(this,1,4).week;return i==null?e:this.add((i-e)*7,"d")}re("d",0,"do","day");re("dd",0,0,function(i){return this.localeData().weekdaysMin(this,i)});re("ddd",0,0,function(i){return this.localeData().weekdaysShort(this,i)});re("dddd",0,0,function(i){return this.localeData().weekdays(this,i)});re("e",0,0,"weekday");re("E",0,0,"isoWeekday");ee("d",at);ee("e",at);ee("E",at);ee("dd",function(i,e){return e.weekdaysMinRegex(i)});ee("ddd",function(i,e){return e.weekdaysShortRegex(i)});ee("dddd",function(i,e){return e.weekdaysRegex(i)});Bu(["dd","ddd","dddd"],function(i,e,t,n){var r=t._locale.weekdaysParse(i,n,t._strict);r!=null?e.d=r:_e(t).invalidWeekday=i});Bu(["d","e","E"],function(i,e,t,n){e[n]=Te(i)});function qie(i,e){return typeof i!="string"?i:isNaN(i)?(i=e.weekdaysParse(i),typeof i=="number"?i:null):parseInt(i,10)}function Gie(i,e){return typeof i=="string"?e.weekdaysParse(i)%7||7:isNaN(i)?null:i}function Hx(i,e){return i.slice(e,7).concat(i.slice(0,e))}var Yie="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),_j="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Bie="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Hie=Yu,Uie=Yu,Vie=Yu;function Xie(i,e){var t=bn(this._weekdays)?this._weekdays:this._weekdays[i&&i!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return i===!0?Hx(t,this._week.dow):i?t[i.day()]:t}function Kie(i){return i===!0?Hx(this._weekdaysShort,this._week.dow):i?this._weekdaysShort[i.day()]:this._weekdaysShort}function Zie(i){return i===!0?Hx(this._weekdaysMin,this._week.dow):i?this._weekdaysMin[i.day()]:this._weekdaysMin}function Qie(i,e,t){var n,r,s,o=i.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=Kn([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return t?e==="dddd"?(r=St.call(this._weekdaysParse,o),r!==-1?r:null):e==="ddd"?(r=St.call(this._shortWeekdaysParse,o),r!==-1?r:null):(r=St.call(this._minWeekdaysParse,o),r!==-1?r:null):e==="dddd"?(r=St.call(this._weekdaysParse,o),r!==-1||(r=St.call(this._shortWeekdaysParse,o),r!==-1)?r:(r=St.call(this._minWeekdaysParse,o),r!==-1?r:null)):e==="ddd"?(r=St.call(this._shortWeekdaysParse,o),r!==-1||(r=St.call(this._weekdaysParse,o),r!==-1)?r:(r=St.call(this._minWeekdaysParse,o),r!==-1?r:null)):(r=St.call(this._minWeekdaysParse,o),r!==-1||(r=St.call(this._weekdaysParse,o),r!==-1)?r:(r=St.call(this._shortWeekdaysParse,o),r!==-1?r:null))}function Jie(i,e,t){var n,r,s;if(this._weekdaysParseExact)return Qie.call(this,i,e,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=Kn([2e3,1]).day(n),t&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),t&&e==="dddd"&&this._fullWeekdaysParse[n].test(i))return n;if(t&&e==="ddd"&&this._shortWeekdaysParse[n].test(i))return n;if(t&&e==="dd"&&this._minWeekdaysParse[n].test(i))return n;if(!t&&this._weekdaysParse[n].test(i))return n}}function ene(i){if(!this.isValid())return i!=null?this:NaN;var e=Uc(this,"Day");return i!=null?(i=qie(i,this.localeData()),this.add(i-e,"d")):e}function tne(i){if(!this.isValid())return i!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return i==null?e:this.add(i-e,"d")}function ine(i){if(!this.isValid())return i!=null?this:NaN;if(i!=null){var e=Gie(i,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function nne(i){return this._weekdaysParseExact?(Ne(this,"_weekdaysRegex")||Ux.call(this),i?this._weekdaysStrictRegex:this._weekdaysRegex):(Ne(this,"_weekdaysRegex")||(this._weekdaysRegex=Hie),this._weekdaysStrictRegex&&i?this._weekdaysStrictRegex:this._weekdaysRegex)}function rne(i){return this._weekdaysParseExact?(Ne(this,"_weekdaysRegex")||Ux.call(this),i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ne(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Uie),this._weekdaysShortStrictRegex&&i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function sne(i){return this._weekdaysParseExact?(Ne(this,"_weekdaysRegex")||Ux.call(this),i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ne(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Vie),this._weekdaysMinStrictRegex&&i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ux(){function i(u,h){return h.length-u.length}var e=[],t=[],n=[],r=[],s,o,a,l,c;for(s=0;s<7;s++)o=Kn([2e3,1]).day(s),a=Cr(this.weekdaysMin(o,"")),l=Cr(this.weekdaysShort(o,"")),c=Cr(this.weekdays(o,"")),e.push(a),t.push(l),n.push(c),r.push(a),r.push(l),r.push(c);e.sort(i),t.sort(i),n.sort(i),r.sort(i),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Vx(){return this.hours()%12||12}function one(){return this.hours()||24}re("H",["HH",2],0,"hour");re("h",["hh",2],0,Vx);re("k",["kk",2],0,one);re("hmm",0,0,function(){return""+Vx.apply(this)+Bn(this.minutes(),2)});re("hmmss",0,0,function(){return""+Vx.apply(this)+Bn(this.minutes(),2)+Bn(this.seconds(),2)});re("Hmm",0,0,function(){return""+this.hours()+Bn(this.minutes(),2)});re("Hmmss",0,0,function(){return""+this.hours()+Bn(this.minutes(),2)+Bn(this.seconds(),2)});function bj(i,e){re(i,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}bj("a",!0);bj("A",!1);function wj(i,e){return e._meridiemParse}ee("a",wj);ee("A",wj);ee("H",at,Yx);ee("h",at,Ll);ee("k",at,Ll);ee("HH",at,Wi);ee("hh",at,Wi);ee("kk",at,Wi);ee("hmm",cj);ee("hmmss",uj);ee("Hmm",cj);ee("Hmmss",uj);Qe(["H","HH"],At);Qe(["k","kk"],function(i,e,t){var n=Te(i);e[At]=n===24?0:n});Qe(["a","A"],function(i,e,t){t._isPm=t._locale.isPM(i),t._meridiem=i});Qe(["h","hh"],function(i,e,t){e[At]=Te(i),_e(t).bigHour=!0});Qe("hmm",function(i,e,t){var n=i.length-2;e[At]=Te(i.substr(0,n)),e[dn]=Te(i.substr(n)),_e(t).bigHour=!0});Qe("hmmss",function(i,e,t){var n=i.length-4,r=i.length-2;e[At]=Te(i.substr(0,n)),e[dn]=Te(i.substr(n,2)),e[vr]=Te(i.substr(r)),_e(t).bigHour=!0});Qe("Hmm",function(i,e,t){var n=i.length-2;e[At]=Te(i.substr(0,n)),e[dn]=Te(i.substr(n))});Qe("Hmmss",function(i,e,t){var n=i.length-4,r=i.length-2;e[At]=Te(i.substr(0,n)),e[dn]=Te(i.substr(n,2)),e[vr]=Te(i.substr(r))});function ane(i){return(i+"").toLowerCase().charAt(0)==="p"}var lne=/[ap]\.?m?\.?/i,cne=Fl("Hours",!0);function une(i,e,t){return i>11?t?"pm":"PM":t?"am":"AM"}var xj={calendar:Qte,longDateFormat:iie,invalidDate:rie,ordinal:oie,dayOfMonthOrdinalParse:aie,relativeTime:cie,months:Cie,monthsShort:fj,week:Fie,weekdays:Yie,weekdaysMin:Bie,weekdaysShort:_j,meridiemParse:lne},ht={},Kl={},Kc;function hne(i,e){var t,n=Math.min(i.length,e.length);for(t=0;t<n;t+=1)if(i[t]!==e[t])return t;return n}function hM(i){return i&&i.toLowerCase().replace("_","-")}function dne(i){for(var e=0,t,n,r,s;e<i.length;){for(s=hM(i[e]).split("-"),t=s.length,n=hM(i[e+1]),n=n?n.split("-"):null;t>0;){if(r=qf(s.slice(0,t).join("-")),r)return r;if(n&&n.length>=t&&hne(s,n)>=t-1)break;t--}e++}return Kc}function fne(i){return!!(i&&i.match("^[^/\\\\]*$"))}function qf(i){var e=null,t;if(ht[i]===void 0&&typeof module<"u"&&module&&module.exports&&fne(i))try{e=Kc._abbr,t=require,t("./locale/"+i),fs(e)}catch{ht[i]=null}return ht[i]}function fs(i,e){var t;return i&&(pi(e)?t=zr(i):t=Xx(i,e),t?Kc=t:typeof console<"u"&&console.warn&&console.warn("Locale "+i+" not found. Did you forget to load it?")),Kc._abbr}function Xx(i,e){if(e!==null){var t,n=xj;if(e.abbr=i,ht[i]!=null)sj("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ht[i]._config;else if(e.parentLocale!=null)if(ht[e.parentLocale]!=null)n=ht[e.parentLocale]._config;else if(t=qf(e.parentLocale),t!=null)n=t._config;else return Kl[e.parentLocale]||(Kl[e.parentLocale]=[]),Kl[e.parentLocale].push({name:i,config:e}),null;return ht[i]=new jx(T0(n,e)),Kl[i]&&Kl[i].forEach(function(r){Xx(r.name,r.config)}),fs(i),ht[i]}else return delete ht[i],null}function mne(i,e){if(e!=null){var t,n,r=xj;ht[i]!=null&&ht[i].parentLocale!=null?ht[i].set(T0(ht[i]._config,e)):(n=qf(i),n!=null&&(r=n._config),e=T0(r,e),n==null&&(e.abbr=i),t=new jx(e),t.parentLocale=ht[i],ht[i]=t),fs(i)}else ht[i]!=null&&(ht[i].parentLocale!=null?(ht[i]=ht[i].parentLocale,i===fs()&&fs(i)):ht[i]!=null&&delete ht[i]);return ht[i]}function zr(i){var e;if(i&&i._locale&&i._locale._abbr&&(i=i._locale._abbr),!i)return Kc;if(!bn(i)){if(e=qf(i),e)return e;i=[i]}return dne(i)}function pne(){return R0(ht)}function Kx(i){var e,t=i._a;return t&&_e(i).overflow===-2&&(e=t[gr]<0||t[gr]>11?gr:t[Mn]<1||t[Mn]>Bx(t[ii],t[gr])?Mn:t[At]<0||t[At]>24||t[At]===24&&(t[dn]!==0||t[vr]!==0||t[eo]!==0)?At:t[dn]<0||t[dn]>59?dn:t[vr]<0||t[vr]>59?vr:t[eo]<0||t[eo]>999?eo:-1,_e(i)._overflowDayOfYear&&(e<ii||e>Mn)&&(e=Mn),_e(i)._overflowWeeks&&e===-1&&(e=_ie),_e(i)._overflowWeekday&&e===-1&&(e=bie),_e(i).overflow=e),i}var gne=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vne=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yne=/Z|[+-]\d\d(?::?\d\d)?/,Th=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pb=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],_ne=/^\/?Date\((-?\d+)/i,bne=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,wne={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Sj(i){var e,t,n=i._i,r=gne.exec(n)||vne.exec(n),s,o,a,l,c=Th.length,u=pb.length;if(r){for(_e(i).iso=!0,e=0,t=c;e<t;e++)if(Th[e][1].exec(r[1])){o=Th[e][0],s=Th[e][2]!==!1;break}if(o==null){i._isValid=!1;return}if(r[3]){for(e=0,t=u;e<t;e++)if(pb[e][1].exec(r[3])){a=(r[2]||" ")+pb[e][0];break}if(a==null){i._isValid=!1;return}}if(!s&&a!=null){i._isValid=!1;return}if(r[4])if(yne.exec(r[4]))l="Z";else{i._isValid=!1;return}i._f=o+(a||"")+(l||""),Qx(i)}else i._isValid=!1}function xne(i,e,t,n,r,s){var o=[Sne(i),fj.indexOf(e),parseInt(t,10),parseInt(n,10),parseInt(r,10)];return s&&o.push(parseInt(s,10)),o}function Sne(i){var e=parseInt(i,10);return e<=49?2e3+e:e<=999?1900+e:e}function Ene(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Cne(i,e,t){if(i){var n=_j.indexOf(i),r=new Date(e[0],e[1],e[2]).getDay();if(n!==r)return _e(t).weekdayMismatch=!0,t._isValid=!1,!1}return!0}function Tne(i,e,t){if(i)return wne[i];if(e)return 0;var n=parseInt(t,10),r=n%100,s=(n-r)/100;return s*60+r}function Ej(i){var e=bne.exec(Ene(i._i)),t;if(e){if(t=xne(e[4],e[3],e[2],e[5],e[6],e[7]),!Cne(e[1],t,i))return;i._a=t,i._tzm=Tne(e[8],e[9],e[10]),i._d=Vc.apply(null,i._a),i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),_e(i).rfc2822=!0}else i._isValid=!1}function Rne(i){var e=_ne.exec(i._i);if(e!==null){i._d=new Date(+e[1]);return}if(Sj(i),i._isValid===!1)delete i._isValid;else return;if(Ej(i),i._isValid===!1)delete i._isValid;else return;i._strict?i._isValid=!1:X.createFromInputFallback(i)}X.createFromInputFallback=nn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(i){i._d=new Date(i._i+(i._useUTC?" UTC":""))});function _a(i,e,t){return i??e??t}function One(i){var e=new Date(X.now());return i._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Zx(i){var e,t,n=[],r,s,o;if(!i._d){for(r=One(i),i._w&&i._a[Mn]==null&&i._a[gr]==null&&Ine(i),i._dayOfYear!=null&&(o=_a(i._a[ii],r[ii]),(i._dayOfYear>yc(o)||i._dayOfYear===0)&&(_e(i)._overflowDayOfYear=!0),t=Vc(o,0,i._dayOfYear),i._a[gr]=t.getUTCMonth(),i._a[Mn]=t.getUTCDate()),e=0;e<3&&i._a[e]==null;++e)i._a[e]=n[e]=r[e];for(;e<7;e++)i._a[e]=n[e]=i._a[e]==null?e===2?1:0:i._a[e];i._a[At]===24&&i._a[dn]===0&&i._a[vr]===0&&i._a[eo]===0&&(i._nextDay=!0,i._a[At]=0),i._d=(i._useUTC?Vc:Nie).apply(null,n),s=i._useUTC?i._d.getUTCDay():i._d.getDay(),i._tzm!=null&&i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),i._nextDay&&(i._a[At]=24),i._w&&typeof i._w.d<"u"&&i._w.d!==s&&(_e(i).weekdayMismatch=!0)}}function Ine(i){var e,t,n,r,s,o,a,l,c;e=i._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,t=_a(e.GG,i._a[ii],Xc(ot(),1,4).year),n=_a(e.W,1),r=_a(e.E,1),(r<1||r>7)&&(l=!0)):(s=i._locale._week.dow,o=i._locale._week.doy,c=Xc(ot(),s,o),t=_a(e.gg,i._a[ii],c.year),n=_a(e.w,c.week),e.d!=null?(r=e.d,(r<0||r>6)&&(l=!0)):e.e!=null?(r=e.e+s,(e.e<0||e.e>6)&&(l=!0)):r=s),n<1||n>Tr(t,s,o)?_e(i)._overflowWeeks=!0:l!=null?_e(i)._overflowWeekday=!0:(a=yj(t,n,r,s,o),i._a[ii]=a.year,i._dayOfYear=a.dayOfYear)}X.ISO_8601=function(){};X.RFC_2822=function(){};function Qx(i){if(i._f===X.ISO_8601){Sj(i);return}if(i._f===X.RFC_2822){Ej(i);return}i._a=[],_e(i).empty=!0;var e=""+i._i,t,n,r,s,o,a=e.length,l=0,c,u;for(r=oj(i._f,i._locale).match(Wx)||[],u=r.length,t=0;t<u;t++)s=r[t],n=(e.match(gie(s,i))||[])[0],n&&(o=e.substr(0,e.indexOf(n)),o.length>0&&_e(i).unusedInput.push(o),e=e.slice(e.indexOf(n)+n.length),l+=n.length),Wa[s]?(n?_e(i).empty=!1:_e(i).unusedTokens.push(s),yie(s,n,i)):i._strict&&!n&&_e(i).unusedTokens.push(s);_e(i).charsLeftOver=a-l,e.length>0&&_e(i).unusedInput.push(e),i._a[At]<=12&&_e(i).bigHour===!0&&i._a[At]>0&&(_e(i).bigHour=void 0),_e(i).parsedDateParts=i._a.slice(0),_e(i).meridiem=i._meridiem,i._a[At]=Dne(i._locale,i._a[At],i._meridiem),c=_e(i).era,c!==null&&(i._a[ii]=i._locale.erasConvertYear(c,i._a[ii])),Zx(i),Kx(i)}function Dne(i,e,t){var n;return t==null?e:i.meridiemHour!=null?i.meridiemHour(e,t):(i.isPM!=null&&(n=i.isPM(t),n&&e<12&&(e+=12),!n&&e===12&&(e=0)),e)}function Pne(i){var e,t,n,r,s,o,a=!1,l=i._f.length;if(l===0){_e(i).invalidFormat=!0,i._d=new Date(NaN);return}for(r=0;r<l;r++)s=0,o=!1,e=$x({},i),i._useUTC!=null&&(e._useUTC=i._useUTC),e._f=i._f[r],Qx(e),Fx(e)&&(o=!0),s+=_e(e).charsLeftOver,s+=_e(e).unusedTokens.length*10,_e(e).score=s,a?s<n&&(n=s,t=e):(n==null||s<n||o)&&(n=s,t=e,o&&(a=!0));as(i,t||e)}function kne(i){if(!i._d){var e=zx(i._i),t=e.day===void 0?e.date:e.day;i._a=nj([e.year,e.month,t,e.hour,e.minute,e.second,e.millisecond],function(n){return n&&parseInt(n,10)}),Zx(i)}}function Mne(i){var e=new Gu(Kx(Cj(i)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Cj(i){var e=i._i,t=i._f;return i._locale=i._locale||zr(i._l),e===null||t===void 0&&e===""?Nf({nullInput:!0}):(typeof e=="string"&&(i._i=e=i._locale.preparse(e)),wn(e)?new Gu(Kx(e)):(qu(e)?i._d=e:bn(t)?Pne(i):t?Qx(i):Ane(i),Fx(i)||(i._d=null),i))}function Ane(i){var e=i._i;pi(e)?i._d=new Date(X.now()):qu(e)?i._d=new Date(e.valueOf()):typeof e=="string"?Rne(i):bn(e)?(i._a=nj(e.slice(0),function(t){return parseInt(t,10)}),Zx(i)):oo(e)?kne(i):Nr(e)?i._d=new Date(e):X.createFromInputFallback(i)}function Tj(i,e,t,n,r){var s={};return(e===!0||e===!1)&&(n=e,e=void 0),(t===!0||t===!1)&&(n=t,t=void 0),(oo(i)&&Lx(i)||bn(i)&&i.length===0)&&(i=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=t,s._i=i,s._f=e,s._strict=n,Mne(s)}function ot(i,e,t,n){return Tj(i,e,t,n,!1)}var Nne=nn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=ot.apply(null,arguments);return this.isValid()&&i.isValid()?i<this?this:i:Nf()}),Lne=nn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=ot.apply(null,arguments);return this.isValid()&&i.isValid()?i>this?this:i:Nf()});function Rj(i,e){var t,n;if(e.length===1&&bn(e[0])&&(e=e[0]),!e.length)return ot();for(t=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][i](t))&&(t=e[n]);return t}function Fne(){var i=[].slice.call(arguments,0);return Rj("isBefore",i)}function $ne(){var i=[].slice.call(arguments,0);return Rj("isAfter",i)}var jne=function(){return Date.now?Date.now():+new Date},Zl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Wne(i){var e,t=!1,n,r=Zl.length;for(e in i)if(Ne(i,e)&&!(St.call(Zl,e)!==-1&&(i[e]==null||!isNaN(i[e]))))return!1;for(n=0;n<r;++n)if(i[Zl[n]]){if(t)return!1;parseFloat(i[Zl[n]])!==Te(i[Zl[n]])&&(t=!0)}return!0}function zne(){return this._isValid}function qne(){return Tn(NaN)}function Gf(i){var e=zx(i),t=e.year||0,n=e.quarter||0,r=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=Wne(e),this._milliseconds=+u+c*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+r+n*3+t*12,this._data={},this._locale=zr(),this._bubble()}function Yh(i){return i instanceof Gf}function I0(i){return i<0?Math.round(-1*i)*-1:Math.round(i)}function Gne(i,e,t){var n=Math.min(i.length,e.length),r=Math.abs(i.length-e.length),s=0,o;for(o=0;o<n;o++)Te(i[o])!==Te(e[o])&&s++;return s+r}function Oj(i,e){re(i,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+Bn(~~(t/60),2)+e+Bn(~~t%60,2)})}Oj("Z",":");Oj("ZZ","");ee("Z",Wf);ee("ZZ",Wf);Qe(["Z","ZZ"],function(i,e,t){t._useUTC=!0,t._tzm=Jx(Wf,i)});var Yne=/([\+\-]|\d\d)/gi;function Jx(i,e){var t=(e||"").match(i),n,r,s;return t===null?null:(n=t[t.length-1]||[],r=(n+"").match(Yne)||["-",0,0],s=+(r[1]*60)+Te(r[2]),s===0?0:r[0]==="+"?s:-s)}function eS(i,e){var t,n;return e._isUTC?(t=e.clone(),n=(wn(i)||qu(i)?i.valueOf():ot(i).valueOf())-t.valueOf(),t._d.setTime(t._d.valueOf()+n),X.updateOffset(t,!1),t):ot(i).local()}function D0(i){return-Math.round(i._d.getTimezoneOffset())}X.updateOffset=function(){};function Bne(i,e,t){var n=this._offset||0,r;if(!this.isValid())return i!=null?this:NaN;if(i!=null){if(typeof i=="string"){if(i=Jx(Wf,i),i===null)return this}else Math.abs(i)<16&&!t&&(i=i*60);return!this._isUTC&&e&&(r=D0(this)),this._offset=i,this._isUTC=!0,r!=null&&this.add(r,"m"),n!==i&&(!e||this._changeInProgress?Pj(this,Tn(i-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,X.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:D0(this)}function Hne(i,e){return i!=null?(typeof i!="string"&&(i=-i),this.utcOffset(i,e),this):-this.utcOffset()}function Une(i){return this.utcOffset(0,i)}function Vne(i){return this._isUTC&&(this.utcOffset(0,i),this._isUTC=!1,i&&this.subtract(D0(this),"m")),this}function Xne(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var i=Jx(mie,this._i);i!=null?this.utcOffset(i):this.utcOffset(0,!0)}return this}function Kne(i){return this.isValid()?(i=i?ot(i).utcOffset():0,(this.utcOffset()-i)%60===0):!1}function Zne(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Qne(){if(!pi(this._isDSTShifted))return this._isDSTShifted;var i={},e;return $x(i,this),i=Cj(i),i._a?(e=i._isUTC?Kn(i._a):ot(i._a),this._isDSTShifted=this.isValid()&&Gne(i._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Jne(){return this.isValid()?!this._isUTC:!1}function ere(){return this.isValid()?this._isUTC:!1}function Ij(){return this.isValid()?this._isUTC&&this._offset===0:!1}var tre=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ire=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Tn(i,e){var t=i,n=null,r,s,o;return Yh(i)?t={ms:i._milliseconds,d:i._days,M:i._months}:Nr(i)||!isNaN(+i)?(t={},e?t[e]=+i:t.milliseconds=+i):(n=tre.exec(i))?(r=n[1]==="-"?-1:1,t={y:0,d:Te(n[Mn])*r,h:Te(n[At])*r,m:Te(n[dn])*r,s:Te(n[vr])*r,ms:Te(I0(n[eo]*1e3))*r}):(n=ire.exec(i))?(r=n[1]==="-"?-1:1,t={y:$s(n[2],r),M:$s(n[3],r),w:$s(n[4],r),d:$s(n[5],r),h:$s(n[6],r),m:$s(n[7],r),s:$s(n[8],r)}):t==null?t={}:typeof t=="object"&&("from"in t||"to"in t)&&(o=nre(ot(t.from),ot(t.to)),t={},t.ms=o.milliseconds,t.M=o.months),s=new Gf(t),Yh(i)&&Ne(i,"_locale")&&(s._locale=i._locale),Yh(i)&&Ne(i,"_isValid")&&(s._isValid=i._isValid),s}Tn.fn=Gf.prototype;Tn.invalid=qne;function $s(i,e){var t=i&&parseFloat(i.replace(",","."));return(isNaN(t)?0:t)*e}function dM(i,e){var t={};return t.months=e.month()-i.month()+(e.year()-i.year())*12,i.clone().add(t.months,"M").isAfter(e)&&--t.months,t.milliseconds=+e-+i.clone().add(t.months,"M"),t}function nre(i,e){var t;return i.isValid()&&e.isValid()?(e=eS(e,i),i.isBefore(e)?t=dM(i,e):(t=dM(e,i),t.milliseconds=-t.milliseconds,t.months=-t.months),t):{milliseconds:0,months:0}}function Dj(i,e){return function(t,n){var r,s;return n!==null&&!isNaN(+n)&&(sj(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=t,t=n,n=s),r=Tn(t,n),Pj(this,r,i),this}}function Pj(i,e,t,n){var r=e._milliseconds,s=I0(e._days),o=I0(e._months);i.isValid()&&(n=n??!0,o&&pj(i,Uc(i,"Month")+o*t),s&&dj(i,"Date",Uc(i,"Date")+s*t),r&&i._d.setTime(i._d.valueOf()+r*t),n&&X.updateOffset(i,s||o))}var rre=Dj(1,"add"),sre=Dj(-1,"subtract");function kj(i){return typeof i=="string"||i instanceof String}function ore(i){return wn(i)||qu(i)||kj(i)||Nr(i)||lre(i)||are(i)||i===null||i===void 0}function are(i){var e=oo(i)&&!Lx(i),t=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,s,o=n.length;for(r=0;r<o;r+=1)s=n[r],t=t||Ne(i,s);return e&&t}function lre(i){var e=bn(i),t=!1;return e&&(t=i.filter(function(n){return!Nr(n)&&kj(i)}).length===0),e&&t}function cre(i){var e=oo(i)&&!Lx(i),t=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,s;for(r=0;r<n.length;r+=1)s=n[r],t=t||Ne(i,s);return e&&t}function ure(i,e){var t=i.diff(e,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"}function hre(i,e){arguments.length===1&&(arguments[0]?ore(arguments[0])?(i=arguments[0],e=void 0):cre(arguments[0])&&(e=arguments[0],i=void 0):(i=void 0,e=void 0));var t=i||ot(),n=eS(t,this).startOf("day"),r=X.calendarFormat(this,n)||"sameElse",s=e&&(Zn(e[r])?e[r].call(this,t):e[r]);return this.format(s||this.localeData().calendar(r,this,ot(t)))}function dre(){return new Gu(this)}function fre(i,e){var t=wn(i)?i:ot(i);return this.isValid()&&t.isValid()?(e=rn(e)||"millisecond",e==="millisecond"?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf()):!1}function mre(i,e){var t=wn(i)?i:ot(i);return this.isValid()&&t.isValid()?(e=rn(e)||"millisecond",e==="millisecond"?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf()):!1}function pre(i,e,t,n){var r=wn(i)?i:ot(i),s=wn(e)?e:ot(e);return this.isValid()&&r.isValid()&&s.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(r,t):!this.isBefore(r,t))&&(n[1]===")"?this.isBefore(s,t):!this.isAfter(s,t))):!1}function gre(i,e){var t=wn(i)?i:ot(i),n;return this.isValid()&&t.isValid()?(e=rn(e)||"millisecond",e==="millisecond"?this.valueOf()===t.valueOf():(n=t.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function vre(i,e){return this.isSame(i,e)||this.isAfter(i,e)}function yre(i,e){return this.isSame(i,e)||this.isBefore(i,e)}function _re(i,e,t){var n,r,s;if(!this.isValid())return NaN;if(n=eS(i,this),!n.isValid())return NaN;switch(r=(n.utcOffset()-this.utcOffset())*6e4,e=rn(e),e){case"year":s=Bh(this,n)/12;break;case"month":s=Bh(this,n);break;case"quarter":s=Bh(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-r)/864e5;break;case"week":s=(this-n-r)/6048e5;break;default:s=this-n}return t?s:Hi(s)}function Bh(i,e){if(i.date()<e.date())return-Bh(e,i);var t=(e.year()-i.year())*12+(e.month()-i.month()),n=i.clone().add(t,"months"),r,s;return e-n<0?(r=i.clone().add(t-1,"months"),s=(e-n)/(n-r)):(r=i.clone().add(t+1,"months"),s=(e-n)/(r-n)),-(t+s)||0}X.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";X.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function bre(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function wre(i){if(!this.isValid())return null;var e=i!==!0,t=e?this.clone().utc():this;return t.year()<0||t.year()>9999?Gh(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Zn(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Gh(t,"Z")):Gh(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function xre(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var i="moment",e="",t,n,r,s;return this.isLocal()||(i=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),t="["+i+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(t+n+r+s)}function Sre(i){i||(i=this.isUtc()?X.defaultFormatUtc:X.defaultFormat);var e=Gh(this,i);return this.localeData().postformat(e)}function Ere(i,e){return this.isValid()&&(wn(i)&&i.isValid()||ot(i).isValid())?Tn({to:this,from:i}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Cre(i){return this.from(ot(),i)}function Tre(i,e){return this.isValid()&&(wn(i)&&i.isValid()||ot(i).isValid())?Tn({from:this,to:i}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Rre(i){return this.to(ot(),i)}function Mj(i){var e;return i===void 0?this._locale._abbr:(e=zr(i),e!=null&&(this._locale=e),this)}var Aj=nn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(i){return i===void 0?this.localeData():this.locale(i)});function Nj(){return this._locale}var bd=1e3,za=60*bd,wd=60*za,Lj=(365*400+97)*24*wd;function qa(i,e){return(i%e+e)%e}function Fj(i,e,t){return i<100&&i>=0?new Date(i+400,e,t)-Lj:new Date(i,e,t).valueOf()}function $j(i,e,t){return i<100&&i>=0?Date.UTC(i+400,e,t)-Lj:Date.UTC(i,e,t)}function Ore(i){var e,t;if(i=rn(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?$j:Fj,i){case"year":e=t(this.year(),0,1);break;case"quarter":e=t(this.year(),this.month()-this.month()%3,1);break;case"month":e=t(this.year(),this.month(),1);break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=t(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=qa(e+(this._isUTC?0:this.utcOffset()*za),wd);break;case"minute":e=this._d.valueOf(),e-=qa(e,za);break;case"second":e=this._d.valueOf(),e-=qa(e,bd);break}return this._d.setTime(e),X.updateOffset(this,!0),this}function Ire(i){var e,t;if(i=rn(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?$j:Fj,i){case"year":e=t(this.year()+1,0,1)-1;break;case"quarter":e=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=t(this.year(),this.month()+1,1)-1;break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=wd-qa(e+(this._isUTC?0:this.utcOffset()*za),wd)-1;break;case"minute":e=this._d.valueOf(),e+=za-qa(e,za)-1;break;case"second":e=this._d.valueOf(),e+=bd-qa(e,bd)-1;break}return this._d.setTime(e),X.updateOffset(this,!0),this}function Dre(){return this._d.valueOf()-(this._offset||0)*6e4}function Pre(){return Math.floor(this.valueOf()/1e3)}function kre(){return new Date(this.valueOf())}function Mre(){var i=this;return[i.year(),i.month(),i.date(),i.hour(),i.minute(),i.second(),i.millisecond()]}function Are(){var i=this;return{years:i.year(),months:i.month(),date:i.date(),hours:i.hours(),minutes:i.minutes(),seconds:i.seconds(),milliseconds:i.milliseconds()}}function Nre(){return this.isValid()?this.toISOString():null}function Lre(){return Fx(this)}function Fre(){return as({},_e(this))}function $re(){return _e(this).overflow}function jre(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}re("N",0,0,"eraAbbr");re("NN",0,0,"eraAbbr");re("NNN",0,0,"eraAbbr");re("NNNN",0,0,"eraName");re("NNNNN",0,0,"eraNarrow");re("y",["y",1],"yo","eraYear");re("y",["yy",2],0,"eraYear");re("y",["yyy",3],0,"eraYear");re("y",["yyyy",4],0,"eraYear");ee("N",tS);ee("NN",tS);ee("NNN",tS);ee("NNNN",Kre);ee("NNNNN",Zre);Qe(["N","NN","NNN","NNNN","NNNNN"],function(i,e,t,n){var r=t._locale.erasParse(i,n,t._strict);r?_e(t).era=r:_e(t).invalidEra=i});ee("y",Nl);ee("yy",Nl);ee("yyy",Nl);ee("yyyy",Nl);ee("yo",Qre);Qe(["y","yy","yyy","yyyy"],ii);Qe(["yo"],function(i,e,t,n){var r;t._locale._eraYearOrdinalRegex&&(r=i.match(t._locale._eraYearOrdinalRegex)),t._locale.eraYearOrdinalParse?e[ii]=t._locale.eraYearOrdinalParse(i,r):e[ii]=parseInt(i,10)});function Wre(i,e){var t,n,r,s=this._eras||zr("en")._eras;for(t=0,n=s.length;t<n;++t){switch(typeof s[t].since){case"string":r=X(s[t].since).startOf("day"),s[t].since=r.valueOf();break}switch(typeof s[t].until){case"undefined":s[t].until=1/0;break;case"string":r=X(s[t].until).startOf("day").valueOf(),s[t].until=r.valueOf();break}}return s}function zre(i,e,t){var n,r,s=this.eras(),o,a,l;for(i=i.toUpperCase(),n=0,r=s.length;n<r;++n)if(o=s[n].name.toUpperCase(),a=s[n].abbr.toUpperCase(),l=s[n].narrow.toUpperCase(),t)switch(e){case"N":case"NN":case"NNN":if(a===i)return s[n];break;case"NNNN":if(o===i)return s[n];break;case"NNNNN":if(l===i)return s[n];break}else if([o,a,l].indexOf(i)>=0)return s[n]}function qre(i,e){var t=i.since<=i.until?1:-1;return e===void 0?X(i.since).year():X(i.since).year()+(e-i.offset)*t}function Gre(){var i,e,t,n=this.localeData().eras();for(i=0,e=n.length;i<e;++i)if(t=this.clone().startOf("day").valueOf(),n[i].since<=t&&t<=n[i].until||n[i].until<=t&&t<=n[i].since)return n[i].name;return""}function Yre(){var i,e,t,n=this.localeData().eras();for(i=0,e=n.length;i<e;++i)if(t=this.clone().startOf("day").valueOf(),n[i].since<=t&&t<=n[i].until||n[i].until<=t&&t<=n[i].since)return n[i].narrow;return""}function Bre(){var i,e,t,n=this.localeData().eras();for(i=0,e=n.length;i<e;++i)if(t=this.clone().startOf("day").valueOf(),n[i].since<=t&&t<=n[i].until||n[i].until<=t&&t<=n[i].since)return n[i].abbr;return""}function Hre(){var i,e,t,n,r=this.localeData().eras();for(i=0,e=r.length;i<e;++i)if(t=r[i].since<=r[i].until?1:-1,n=this.clone().startOf("day").valueOf(),r[i].since<=n&&n<=r[i].until||r[i].until<=n&&n<=r[i].since)return(this.year()-X(r[i].since).year())*t+r[i].offset;return this.year()}function Ure(i){return Ne(this,"_erasNameRegex")||iS.call(this),i?this._erasNameRegex:this._erasRegex}function Vre(i){return Ne(this,"_erasAbbrRegex")||iS.call(this),i?this._erasAbbrRegex:this._erasRegex}function Xre(i){return Ne(this,"_erasNarrowRegex")||iS.call(this),i?this._erasNarrowRegex:this._erasRegex}function tS(i,e){return e.erasAbbrRegex(i)}function Kre(i,e){return e.erasNameRegex(i)}function Zre(i,e){return e.erasNarrowRegex(i)}function Qre(i,e){return e._eraYearOrdinalRegex||Nl}function iS(){var i=[],e=[],t=[],n=[],r,s,o,a,l,c=this.eras();for(r=0,s=c.length;r<s;++r)o=Cr(c[r].name),a=Cr(c[r].abbr),l=Cr(c[r].narrow),e.push(o),i.push(a),t.push(l),n.push(o),n.push(a),n.push(l);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+t.join("|")+")","i")}re(0,["gg",2],0,function(){return this.weekYear()%100});re(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Yf(i,e){re(0,[i,i.length],0,e)}Yf("gggg","weekYear");Yf("ggggg","weekYear");Yf("GGGG","isoWeekYear");Yf("GGGGG","isoWeekYear");ee("G",jf);ee("g",jf);ee("GG",at,Wi);ee("gg",at,Wi);ee("GGGG",Gx,qx);ee("gggg",Gx,qx);ee("GGGGG",$f,Lf);ee("ggggg",$f,Lf);Bu(["gggg","ggggg","GGGG","GGGGG"],function(i,e,t,n){e[n.substr(0,2)]=Te(i)});Bu(["gg","GG"],function(i,e,t,n){e[n]=X.parseTwoDigitYear(i)});function Jre(i){return jj.call(this,i,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function ese(i){return jj.call(this,i,this.isoWeek(),this.isoWeekday(),1,4)}function tse(){return Tr(this.year(),1,4)}function ise(){return Tr(this.isoWeekYear(),1,4)}function nse(){var i=this.localeData()._week;return Tr(this.year(),i.dow,i.doy)}function rse(){var i=this.localeData()._week;return Tr(this.weekYear(),i.dow,i.doy)}function jj(i,e,t,n,r){var s;return i==null?Xc(this,n,r).year:(s=Tr(i,n,r),e>s&&(e=s),sse.call(this,i,e,t,n,r))}function sse(i,e,t,n,r){var s=yj(i,e,t,n,r),o=Vc(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}re("Q",0,"Qo","quarter");ee("Q",aj);Qe("Q",function(i,e){e[gr]=(Te(i)-1)*3});function ose(i){return i==null?Math.ceil((this.month()+1)/3):this.month((i-1)*3+this.month()%3)}re("D",["DD",2],"Do","date");ee("D",at,Ll);ee("DD",at,Wi);ee("Do",function(i,e){return i?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Qe(["D","DD"],Mn);Qe("Do",function(i,e){e[Mn]=Te(i.match(at)[0])});var Wj=Fl("Date",!0);re("DDD",["DDDD",3],"DDDo","dayOfYear");ee("DDD",Ff);ee("DDDD",lj);Qe(["DDD","DDDD"],function(i,e,t){t._dayOfYear=Te(i)});function ase(i){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return i==null?e:this.add(i-e,"d")}re("m",["mm",2],0,"minute");ee("m",at,Yx);ee("mm",at,Wi);Qe(["m","mm"],dn);var lse=Fl("Minutes",!1);re("s",["ss",2],0,"second");ee("s",at,Yx);ee("ss",at,Wi);Qe(["s","ss"],vr);var cse=Fl("Seconds",!1);re("S",0,0,function(){return~~(this.millisecond()/100)});re(0,["SS",2],0,function(){return~~(this.millisecond()/10)});re(0,["SSS",3],0,"millisecond");re(0,["SSSS",4],0,function(){return this.millisecond()*10});re(0,["SSSSS",5],0,function(){return this.millisecond()*100});re(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});re(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});re(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});re(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ee("S",Ff,aj);ee("SS",Ff,Wi);ee("SSS",Ff,lj);var ls,zj;for(ls="SSSS";ls.length<=9;ls+="S")ee(ls,Nl);function use(i,e){e[eo]=Te(("0."+i)*1e3)}for(ls="S";ls.length<=9;ls+="S")Qe(ls,use);zj=Fl("Milliseconds",!1);re("z",0,0,"zoneAbbr");re("zz",0,0,"zoneName");function hse(){return this._isUTC?"UTC":""}function dse(){return this._isUTC?"Coordinated Universal Time":""}var H=Gu.prototype;H.add=rre;H.calendar=hre;H.clone=dre;H.diff=_re;H.endOf=Ire;H.format=Sre;H.from=Ere;H.fromNow=Cre;H.to=Tre;H.toNow=Rre;H.get=xie;H.invalidAt=$re;H.isAfter=fre;H.isBefore=mre;H.isBetween=pre;H.isSame=gre;H.isSameOrAfter=vre;H.isSameOrBefore=yre;H.isValid=Lre;H.lang=Aj;H.locale=Mj;H.localeData=Nj;H.max=Lne;H.min=Nne;H.parsingFlags=Fre;H.set=Sie;H.startOf=Ore;H.subtract=sre;H.toArray=Mre;H.toObject=Are;H.toDate=kre;H.toISOString=wre;H.inspect=xre;typeof Symbol<"u"&&Symbol.for!=null&&(H[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});H.toJSON=Nre;H.toString=bre;H.unix=Pre;H.valueOf=Dre;H.creationData=jre;H.eraName=Gre;H.eraNarrow=Yre;H.eraAbbr=Bre;H.eraYear=Hre;H.year=hj;H.isLeapYear=wie;H.weekYear=Jre;H.isoWeekYear=ese;H.quarter=H.quarters=ose;H.month=gj;H.daysInMonth=kie;H.week=H.weeks=Wie;H.isoWeek=H.isoWeeks=zie;H.weeksInYear=nse;H.weeksInWeekYear=rse;H.isoWeeksInYear=tse;H.isoWeeksInISOWeekYear=ise;H.date=Wj;H.day=H.days=ene;H.weekday=tne;H.isoWeekday=ine;H.dayOfYear=ase;H.hour=H.hours=cne;H.minute=H.minutes=lse;H.second=H.seconds=cse;H.millisecond=H.milliseconds=zj;H.utcOffset=Bne;H.utc=Une;H.local=Vne;H.parseZone=Xne;H.hasAlignedHourOffset=Kne;H.isDST=Zne;H.isLocal=Jne;H.isUtcOffset=ere;H.isUtc=Ij;H.isUTC=Ij;H.zoneAbbr=hse;H.zoneName=dse;H.dates=nn("dates accessor is deprecated. Use date instead.",Wj);H.months=nn("months accessor is deprecated. Use month instead",gj);H.years=nn("years accessor is deprecated. Use year instead",hj);H.zone=nn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Hne);H.isDSTShifted=nn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Qne);function fse(i){return ot(i*1e3)}function mse(){return ot.apply(null,arguments).parseZone()}function qj(i){return i}var Le=jx.prototype;Le.calendar=Jte;Le.longDateFormat=nie;Le.invalidDate=sie;Le.ordinal=lie;Le.preparse=qj;Le.postformat=qj;Le.relativeTime=uie;Le.pastFuture=hie;Le.set=Zte;Le.eras=Wre;Le.erasParse=zre;Le.erasConvertYear=qre;Le.erasAbbrRegex=Vre;Le.erasNameRegex=Ure;Le.erasNarrowRegex=Xre;Le.months=Oie;Le.monthsShort=Iie;Le.monthsParse=Pie;Le.monthsRegex=Aie;Le.monthsShortRegex=Mie;Le.week=Lie;Le.firstDayOfYear=jie;Le.firstDayOfWeek=$ie;Le.weekdays=Xie;Le.weekdaysMin=Zie;Le.weekdaysShort=Kie;Le.weekdaysParse=Jie;Le.weekdaysRegex=nne;Le.weekdaysShortRegex=rne;Le.weekdaysMinRegex=sne;Le.isPM=ane;Le.meridiem=une;function xd(i,e,t,n){var r=zr(),s=Kn().set(n,e);return r[t](s,i)}function Gj(i,e,t){if(Nr(i)&&(e=i,i=void 0),i=i||"",e!=null)return xd(i,e,t,"month");var n,r=[];for(n=0;n<12;n++)r[n]=xd(i,n,t,"month");return r}function nS(i,e,t,n){typeof i=="boolean"?(Nr(e)&&(t=e,e=void 0),e=e||""):(e=i,t=e,i=!1,Nr(e)&&(t=e,e=void 0),e=e||"");var r=zr(),s=i?r._week.dow:0,o,a=[];if(t!=null)return xd(e,(t+s)%7,n,"day");for(o=0;o<7;o++)a[o]=xd(e,(o+s)%7,n,"day");return a}function pse(i,e){return Gj(i,e,"months")}function gse(i,e){return Gj(i,e,"monthsShort")}function vse(i,e,t){return nS(i,e,t,"weekdays")}function yse(i,e,t){return nS(i,e,t,"weekdaysShort")}function _se(i,e,t){return nS(i,e,t,"weekdaysMin")}fs("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(i){var e=i%10,t=Te(i%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return i+t}});X.lang=nn("moment.lang is deprecated. Use moment.locale instead.",fs);X.langData=nn("moment.langData is deprecated. Use moment.localeData instead.",zr);var or=Math.abs;function bse(){var i=this._data;return this._milliseconds=or(this._milliseconds),this._days=or(this._days),this._months=or(this._months),i.milliseconds=or(i.milliseconds),i.seconds=or(i.seconds),i.minutes=or(i.minutes),i.hours=or(i.hours),i.months=or(i.months),i.years=or(i.years),this}function Yj(i,e,t,n){var r=Tn(e,t);return i._milliseconds+=n*r._milliseconds,i._days+=n*r._days,i._months+=n*r._months,i._bubble()}function wse(i,e){return Yj(this,i,e,1)}function xse(i,e){return Yj(this,i,e,-1)}function fM(i){return i<0?Math.floor(i):Math.ceil(i)}function Sse(){var i=this._milliseconds,e=this._days,t=this._months,n=this._data,r,s,o,a,l;return i>=0&&e>=0&&t>=0||i<=0&&e<=0&&t<=0||(i+=fM(P0(t)+e)*864e5,e=0,t=0),n.milliseconds=i%1e3,r=Hi(i/1e3),n.seconds=r%60,s=Hi(r/60),n.minutes=s%60,o=Hi(s/60),n.hours=o%24,e+=Hi(o/24),l=Hi(Bj(e)),t+=l,e-=fM(P0(l)),a=Hi(t/12),t%=12,n.days=e,n.months=t,n.years=a,this}function Bj(i){return i*4800/146097}function P0(i){return i*146097/4800}function Ese(i){if(!this.isValid())return NaN;var e,t,n=this._milliseconds;if(i=rn(i),i==="month"||i==="quarter"||i==="year")switch(e=this._days+n/864e5,t=this._months+Bj(e),i){case"month":return t;case"quarter":return t/3;case"year":return t/12}else switch(e=this._days+Math.round(P0(this._months)),i){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+i)}}function qr(i){return function(){return this.as(i)}}var Hj=qr("ms"),Cse=qr("s"),Tse=qr("m"),Rse=qr("h"),Ose=qr("d"),Ise=qr("w"),Dse=qr("M"),Pse=qr("Q"),kse=qr("y"),Mse=Hj;function Ase(){return Tn(this)}function Nse(i){return i=rn(i),this.isValid()?this[i+"s"]():NaN}function Go(i){return function(){return this.isValid()?this._data[i]:NaN}}var Lse=Go("milliseconds"),Fse=Go("seconds"),$se=Go("minutes"),jse=Go("hours"),Wse=Go("days"),zse=Go("months"),qse=Go("years");function Gse(){return Hi(this.days()/7)}var cr=Math.round,Ra={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Yse(i,e,t,n,r){return r.relativeTime(e||1,!!t,i,n)}function Bse(i,e,t,n){var r=Tn(i).abs(),s=cr(r.as("s")),o=cr(r.as("m")),a=cr(r.as("h")),l=cr(r.as("d")),c=cr(r.as("M")),u=cr(r.as("w")),h=cr(r.as("y")),d=s<=t.ss&&["s",s]||s<t.s&&["ss",s]||o<=1&&["m"]||o<t.m&&["mm",o]||a<=1&&["h"]||a<t.h&&["hh",a]||l<=1&&["d"]||l<t.d&&["dd",l];return t.w!=null&&(d=d||u<=1&&["w"]||u<t.w&&["ww",u]),d=d||c<=1&&["M"]||c<t.M&&["MM",c]||h<=1&&["y"]||["yy",h],d[2]=e,d[3]=+i>0,d[4]=n,Yse.apply(null,d)}function Hse(i){return i===void 0?cr:typeof i=="function"?(cr=i,!0):!1}function Use(i,e){return Ra[i]===void 0?!1:e===void 0?Ra[i]:(Ra[i]=e,i==="s"&&(Ra.ss=e-1),!0)}function Vse(i,e){if(!this.isValid())return this.localeData().invalidDate();var t=!1,n=Ra,r,s;return typeof i=="object"&&(e=i,i=!1),typeof i=="boolean"&&(t=i),typeof e=="object"&&(n=Object.assign({},Ra,e),e.s!=null&&e.ss==null&&(n.ss=e.s-1)),r=this.localeData(),s=Bse(this,!t,n,r),t&&(s=r.pastFuture(+this,s)),r.postformat(s)}var gb=Math.abs;function oa(i){return(i>0)-(i<0)||+i}function Bf(){if(!this.isValid())return this.localeData().invalidDate();var i=gb(this._milliseconds)/1e3,e=gb(this._days),t=gb(this._months),n,r,s,o,a=this.asSeconds(),l,c,u,h;return a?(n=Hi(i/60),r=Hi(n/60),i%=60,n%=60,s=Hi(t/12),t%=12,o=i?i.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=oa(this._months)!==oa(a)?"-":"",u=oa(this._days)!==oa(a)?"-":"",h=oa(this._milliseconds)!==oa(a)?"-":"",l+"P"+(s?c+s+"Y":"")+(t?c+t+"M":"")+(e?u+e+"D":"")+(r||n||i?"T":"")+(r?h+r+"H":"")+(n?h+n+"M":"")+(i?h+o+"S":"")):"P0D"}var De=Gf.prototype;De.isValid=zne;De.abs=bse;De.add=wse;De.subtract=xse;De.as=Ese;De.asMilliseconds=Hj;De.asSeconds=Cse;De.asMinutes=Tse;De.asHours=Rse;De.asDays=Ose;De.asWeeks=Ise;De.asMonths=Dse;De.asQuarters=Pse;De.asYears=kse;De.valueOf=Mse;De._bubble=Sse;De.clone=Ase;De.get=Nse;De.milliseconds=Lse;De.seconds=Fse;De.minutes=$se;De.hours=jse;De.days=Wse;De.weeks=Gse;De.months=zse;De.years=qse;De.humanize=Vse;De.toISOString=Bf;De.toString=Bf;De.toJSON=Bf;De.locale=Mj;De.localeData=Nj;De.toIsoString=nn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Bf);De.lang=Aj;re("X",0,0,"unix");re("x",0,0,"valueOf");ee("x",jf);ee("X",pie);Qe("X",function(i,e,t){t._d=new Date(parseFloat(i)*1e3)});Qe("x",function(i,e,t){t._d=new Date(Te(i))});//! moment.js
X.version="2.30.1";Xte(ot);X.fn=H;X.min=Fne;X.max=$ne;X.now=jne;X.utc=Kn;X.unix=fse;X.months=pse;X.isDate=qu;X.locale=fs;X.invalid=Nf;X.duration=Tn;X.isMoment=wn;X.weekdays=vse;X.parseZone=mse;X.localeData=zr;X.isDuration=Yh;X.monthsShort=gse;X.weekdaysMin=_se;X.defineLocale=Xx;X.updateLocale=mne;X.locales=pne;X.weekdaysShort=yse;X.normalizeUnits=rn;X.relativeTimeRounding=Hse;X.relativeTimeThreshold=Use;X.calendarFormat=ure;X.prototype=H;X.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var vb={exports:{}},mM;function Xse(){return mM||(mM=1,(function(i){i.exports=e;function e(n){if(n)return t(n)}function t(n){for(var r in e.prototype)n[r]=e.prototype[r];return n}e.prototype.on=e.prototype.addEventListener=function(n,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(r),this},e.prototype.once=function(n,r){function s(){this.off(n,s),r.apply(this,arguments)}return s.fn=r,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var o,a=0;a<s.length;a++)if(o=s[a],o===r||o.fn===r){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),s=this._callbacks["$"+n],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,a=s.length;o<a;++o)s[o].apply(this,r)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}})(vb)),vb.exports}var Kse=Xse();const rS=X0(Kse);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function xn(){return xn=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},xn.apply(this,arguments)}function sn(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}function Rh(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var k0;typeof Object.assign!="function"?k0=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!=null)for(var s in r)r.hasOwnProperty(s)&&(t[s]=r[s])}return t}:k0=Object.assign;var So=k0,pM=["","webkit","Moz","MS","ms","o"],Zse=typeof document>"u"?{style:{}}:document.createElement("div"),Qse="function",Oa=Math.round,Eo=Math.abs,sS=Date.now;function Hf(i,e){for(var t,n,r=e[0].toUpperCase()+e.slice(1),s=0;s<pM.length;){if(t=pM[s],n=t?t+r:e,n in i)return n;s++}}var Rr;typeof window>"u"?Rr={}:Rr=window;var Uj=Hf(Zse.style,"touchAction"),Vj=Uj!==void 0;function Jse(){if(!Vj)return!1;var i={},e=Rr.CSS&&Rr.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return i[t]=e?Rr.CSS.supports("touch-action",t):!0}),i}var Xj="compute",Kj="auto",M0="manipulation",ao="none",Zc="pan-x",Qc="pan-y",Oh=Jse(),eoe=/mobile|tablet|ip(ad|hone|od)|android/i,Zj="ontouchstart"in Rr,toe=Hf(Rr,"PointerEvent")!==void 0,ioe=Zj&&eoe.test(navigator.userAgent),Hu="touch",noe="pen",oS="mouse",roe="kinect",soe=25,hi=1,Yo=2,Tt=4,Ei=8,Sd=1,Uu=2,Vu=4,Xu=8,al=16,Gn=Uu|Vu,lo=Xu|al,Qj=Gn|lo,Jj=["x","y"],Ed=["clientX","clientY"];function Or(i,e,t){var n;if(i)if(i.forEach)i.forEach(e,t);else if(i.length!==void 0)for(n=0;n<i.length;)e.call(t,i[n],n,i),n++;else for(n in i)i.hasOwnProperty(n)&&e.call(t,i[n],n,i)}function Uf(i,e){return typeof i===Qse?i.apply(e&&e[0]||void 0,e):i}function to(i,e){return i.indexOf(e)>-1}function ooe(i){if(to(i,ao))return ao;var e=to(i,Zc),t=to(i,Qc);return e&&t?ao:e||t?e?Zc:Qc:to(i,M0)?M0:Kj}var eW=(function(){function i(t,n){this.manager=t,this.set(n)}var e=i.prototype;return e.set=function(n){n===Xj&&(n=this.compute()),Vj&&this.manager.element.style&&Oh[n]&&(this.manager.element.style[Uj]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Or(this.manager.recognizers,function(r){Uf(r.options.enable,[r])&&(n=n.concat(r.getTouchAction()))}),ooe(n.join(" "))},e.preventDefaults=function(n){var r=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){r.preventDefault();return}var o=this.actions,a=to(o,ao)&&!Oh[ao],l=to(o,Qc)&&!Oh[Qc],c=to(o,Zc)&&!Oh[Zc];if(a){var u=n.pointers.length===1,h=n.distance<2,d=n.deltaTime<250;if(u&&h&&d)return}if(!(c&&l)&&(a||l&&s&Gn||c&&s&lo))return this.preventSrc(r)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},i})();function aS(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function tW(i){var e=i.length;if(e===1)return{x:Oa(i[0].clientX),y:Oa(i[0].clientY)};for(var t=0,n=0,r=0;r<e;)t+=i[r].clientX,n+=i[r].clientY,r++;return{x:Oa(t/e),y:Oa(n/e)}}function gM(i){for(var e=[],t=0;t<i.pointers.length;)e[t]={clientX:Oa(i.pointers[t].clientX),clientY:Oa(i.pointers[t].clientY)},t++;return{timeStamp:sS(),pointers:e,center:tW(e),deltaX:i.deltaX,deltaY:i.deltaY}}function Cd(i,e,t){t||(t=Jj);var n=e[t[0]]-i[t[0]],r=e[t[1]]-i[t[1]];return Math.sqrt(n*n+r*r)}function A0(i,e,t){t||(t=Jj);var n=e[t[0]]-i[t[0]],r=e[t[1]]-i[t[1]];return Math.atan2(r,n)*180/Math.PI}function iW(i,e){return i===e?Sd:Eo(i)>=Eo(e)?i<0?Uu:Vu:e<0?Xu:al}function aoe(i,e){var t=e.center,n=i.offsetDelta||{},r=i.prevDelta||{},s=i.prevInput||{};(e.eventType===hi||s.eventType===Tt)&&(r=i.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=i.offsetDelta={x:t.x,y:t.y}),e.deltaX=r.x+(t.x-n.x),e.deltaY=r.y+(t.y-n.y)}function nW(i,e,t){return{x:e/i||0,y:t/i||0}}function loe(i,e){return Cd(e[0],e[1],Ed)/Cd(i[0],i[1],Ed)}function coe(i,e){return A0(e[1],e[0],Ed)+A0(i[1],i[0],Ed)}function uoe(i,e){var t=i.lastInterval||e,n=e.timeStamp-t.timeStamp,r,s,o,a;if(e.eventType!==Ei&&(n>soe||t.velocity===void 0)){var l=e.deltaX-t.deltaX,c=e.deltaY-t.deltaY,u=nW(n,l,c);s=u.x,o=u.y,r=Eo(u.x)>Eo(u.y)?u.x:u.y,a=iW(l,c),i.lastInterval=e}else r=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=r,e.velocityX=s,e.velocityY=o,e.direction=a}function hoe(i,e){var t=i.session,n=e.pointers,r=n.length;t.firstInput||(t.firstInput=gM(e)),r>1&&!t.firstMultiple?t.firstMultiple=gM(e):r===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,l=e.center=tW(n);e.timeStamp=sS(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=A0(a,l),e.distance=Cd(a,l),aoe(t,e),e.offsetDirection=iW(e.deltaX,e.deltaY);var c=nW(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=Eo(c.x)>Eo(c.y)?c.x:c.y,e.scale=o?loe(o.pointers,n):1,e.rotation=o?coe(o.pointers,n):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,uoe(t,e);var u=i.element,h=e.srcEvent,d;h.composedPath?d=h.composedPath()[0]:h.path?d=h.path[0]:d=h.target,aS(d,u)&&(u=d),e.target=u}function doe(i,e,t){var n=t.pointers.length,r=t.changedPointers.length,s=e&hi&&n-r===0,o=e&(Tt|Ei)&&n-r===0;t.isFirst=!!s,t.isFinal=!!o,s&&(i.session={}),t.eventType=e,hoe(i,t),i.emit("hammer.input",t),i.recognize(t),i.session.prevInput=t}function Jc(i){return i.trim().split(/\s+/g)}function _c(i,e,t){Or(Jc(e),function(n){i.addEventListener(n,t,!1)})}function bc(i,e,t){Or(Jc(e),function(n){i.removeEventListener(n,t,!1)})}function vM(i){var e=i.ownerDocument||i;return e.defaultView||e.parentWindow||window}var $l=(function(){function i(t,n){var r=this;this.manager=t,this.callback=n,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){Uf(t.options.enable,[t])&&r.handler(s)},this.init()}var e=i.prototype;return e.handler=function(){},e.init=function(){this.evEl&&_c(this.element,this.evEl,this.domHandler),this.evTarget&&_c(this.target,this.evTarget,this.domHandler),this.evWin&&_c(vM(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&bc(this.element,this.evEl,this.domHandler),this.evTarget&&bc(this.target,this.evTarget,this.domHandler),this.evWin&&bc(vM(this.element),this.evWin,this.domHandler)},i})();function Co(i,e,t){if(i.indexOf&&!t)return i.indexOf(e);for(var n=0;n<i.length;){if(t&&i[n][t]==e||!t&&i[n]===e)return n;n++}return-1}var foe={pointerdown:hi,pointermove:Yo,pointerup:Tt,pointercancel:Ei,pointerout:Ei},moe={2:Hu,3:noe,4:oS,5:roe},rW="pointerdown",sW="pointermove pointerup pointercancel";Rr.MSPointerEvent&&!Rr.PointerEvent&&(rW="MSPointerDown",sW="MSPointerMove MSPointerUp MSPointerCancel");var oW=(function(i){sn(e,i);function e(){var n,r=e.prototype;return r.evEl=rW,r.evWin=sW,n=i.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var t=e.prototype;return t.handler=function(r){var s=this.store,o=!1,a=r.type.toLowerCase().replace("ms",""),l=foe[a],c=moe[r.pointerType]||r.pointerType,u=c===Hu,h=Co(s,r.pointerId,"pointerId");l&hi&&(r.button===0||u)?h<0&&(s.push(r),h=s.length-1):l&(Tt|Ei)&&(o=!0),!(h<0)&&(s[h]=r,this.callback(this.manager,l,{pointers:s,changedPointers:[r],pointerType:c,srcEvent:r}),o&&s.splice(h,1))},e})($l);function eu(i){return Array.prototype.slice.call(i,0)}function lS(i,e,t){for(var n=[],r=[],s=0;s<i.length;){var o=e?i[s][e]:i[s];Co(r,o)<0&&n.push(i[s]),r[s]=o,s++}return t&&(e?n=n.sort(function(a,l){return a[e]>l[e]}):n=n.sort()),n}var poe={touchstart:hi,touchmove:Yo,touchend:Tt,touchcancel:Ei},goe="touchstart touchmove touchend touchcancel",cS=(function(i){sn(e,i);function e(){var n;return e.prototype.evTarget=goe,n=i.apply(this,arguments)||this,n.targetIds={},n}var t=e.prototype;return t.handler=function(r){var s=poe[r.type],o=voe.call(this,r,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Hu,srcEvent:r})},e})($l);function voe(i,e){var t=eu(i.touches),n=this.targetIds;if(e&(hi|Yo)&&t.length===1)return n[t[0].identifier]=!0,[t,t];var r,s,o=eu(i.changedTouches),a=[],l=this.target;if(s=t.filter(function(c){return aS(c.target,l)}),e===hi)for(r=0;r<s.length;)n[s[r].identifier]=!0,r++;for(r=0;r<o.length;)n[o[r].identifier]&&a.push(o[r]),e&(Tt|Ei)&&delete n[o[r].identifier],r++;if(a.length)return[lS(s.concat(a),"identifier",!0),a]}var yoe={mousedown:hi,mousemove:Yo,mouseup:Tt},_oe="mousedown",boe="mousemove mouseup",uS=(function(i){sn(e,i);function e(){var n,r=e.prototype;return r.evEl=_oe,r.evWin=boe,n=i.apply(this,arguments)||this,n.pressed=!1,n}var t=e.prototype;return t.handler=function(r){var s=yoe[r.type];s&hi&&r.button===0&&(this.pressed=!0),s&Yo&&r.which!==1&&(s=Tt),this.pressed&&(s&Tt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[r],changedPointers:[r],pointerType:oS,srcEvent:r}))},e})($l),woe=2500,yM=25;function _M(i){var e=i.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY},r=this.lastTouches;this.lastTouches.push(n);var s=function(){var a=r.indexOf(n);a>-1&&r.splice(a,1)};setTimeout(s,woe)}}function xoe(i,e){i&hi?(this.primaryTouch=e.changedPointers[0].identifier,_M.call(this,e)):i&(Tt|Ei)&&_M.call(this,e)}function Soe(i){for(var e=i.srcEvent.clientX,t=i.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],s=Math.abs(e-r.x),o=Math.abs(t-r.y);if(s<=yM&&o<=yM)return!0}return!1}var aW=(function(){var i=(function(e){sn(t,e);function t(r,s){var o;return o=e.call(this,r,s)||this,o.handler=function(a,l,c){var u=c.pointerType===Hu,h=c.pointerType===oS;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(u)xoe.call(Rh(Rh(o)),l,c);else if(h&&Soe.call(Rh(Rh(o)),c))return;o.callback(a,l,c)}},o.touch=new cS(o.manager,o.handler),o.mouse=new uS(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var n=t.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t})($l);return i})();function Eoe(i){var e,t=i.options.inputClass;return t?e=t:toe?e=oW:ioe?e=cS:Zj?e=aW:e=uS,new e(i,doe)}function Ia(i,e,t){return Array.isArray(i)?(Or(i,t[e],t),!0):!1}var Hh=1,Ji=2,ll=4,ms=8,Ir=ms,tu=16,$n=32,Coe=1;function Toe(){return Coe++}function Ih(i,e){var t=e.manager;return t?t.get(i):i}function bM(i){return i&tu?"cancel":i&ms?"end":i&ll?"move":i&Ji?"start":""}var Ku=(function(){function i(t){t===void 0&&(t={}),this.options=xn({enable:!0},t),this.id=Toe(),this.manager=null,this.state=Hh,this.simultaneous={},this.requireFail=[]}var e=i.prototype;return e.set=function(n){return So(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(Ia(n,"recognizeWith",this))return this;var r=this.simultaneous;return n=Ih(n,this),r[n.id]||(r[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return Ia(n,"dropRecognizeWith",this)?this:(n=Ih(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(Ia(n,"requireFailure",this))return this;var r=this.requireFail;return n=Ih(n,this),Co(r,n)===-1&&(r.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(Ia(n,"dropRequireFailure",this))return this;n=Ih(n,this);var r=Co(this.requireFail,n);return r>-1&&this.requireFail.splice(r,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var r=this,s=this.state;function o(a){r.manager.emit(a,n)}s<ms&&o(r.options.event+bM(s)),o(r.options.event),n.additionalEvent&&o(n.additionalEvent),s>=ms&&o(r.options.event+bM(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=$n},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&($n|Hh)))return!1;n++}return!0},e.recognize=function(n){var r=So({},n);if(!Uf(this.options.enable,[this,r])){this.reset(),this.state=$n;return}this.state&(Ir|tu|$n)&&(this.state=Hh),this.state=this.process(r),this.state&(Ji|ll|ms|tu)&&this.tryEmit(r)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},i})(),N0=(function(i){sn(e,i);function e(n){var r;return n===void 0&&(n={}),r=i.call(this,xn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,r.pTime=!1,r.pCenter=!1,r._timer=null,r._input=null,r.count=0,r}var t=e.prototype;return t.getTouchAction=function(){return[M0]},t.process=function(r){var s=this,o=this.options,a=r.pointers.length===o.pointers,l=r.distance<o.threshold,c=r.deltaTime<o.time;if(this.reset(),r.eventType&hi&&this.count===0)return this.failTimeout();if(l&&c&&a){if(r.eventType!==Tt)return this.failTimeout();var u=this.pTime?r.timeStamp-this.pTime<o.interval:!0,h=!this.pCenter||Cd(this.pCenter,r.center)<o.posThreshold;this.pTime=r.timeStamp,this.pCenter=r.center,!h||!u?this.count=1:this.count+=1,this._input=r;var d=this.count%o.taps;if(d===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Ir,s.tryEmit()},o.interval),Ji):Ir}return $n},t.failTimeout=function(){var r=this;return this._timer=setTimeout(function(){r.state=$n},this.options.interval),$n},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===Ir&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e})(Ku),cl=(function(i){sn(e,i);function e(n){return n===void 0&&(n={}),i.call(this,xn({pointers:1},n))||this}var t=e.prototype;return t.attrTest=function(r){var s=this.options.pointers;return s===0||r.pointers.length===s},t.process=function(r){var s=this.state,o=r.eventType,a=s&(Ji|ll),l=this.attrTest(r);return a&&(o&Ei||!l)?s|tu:a||l?o&Tt?s|ms:s&Ji?s|ll:Ji:$n},e})(Ku);function lW(i){return i===al?"down":i===Xu?"up":i===Uu?"left":i===Vu?"right":""}var hS=(function(i){sn(e,i);function e(n){var r;return n===void 0&&(n={}),r=i.call(this,xn({event:"pan",threshold:10,pointers:1,direction:Qj},n))||this,r.pX=null,r.pY=null,r}var t=e.prototype;return t.getTouchAction=function(){var r=this.options.direction,s=[];return r&Gn&&s.push(Qc),r&lo&&s.push(Zc),s},t.directionTest=function(r){var s=this.options,o=!0,a=r.distance,l=r.direction,c=r.deltaX,u=r.deltaY;return l&s.direction||(s.direction&Gn?(l=c===0?Sd:c<0?Uu:Vu,o=c!==this.pX,a=Math.abs(r.deltaX)):(l=u===0?Sd:u<0?Xu:al,o=u!==this.pY,a=Math.abs(r.deltaY))),r.direction=l,o&&a>s.threshold&&l&s.direction},t.attrTest=function(r){return cl.prototype.attrTest.call(this,r)&&(this.state&Ji||!(this.state&Ji)&&this.directionTest(r))},t.emit=function(r){this.pX=r.deltaX,this.pY=r.deltaY;var s=lW(r.direction);s&&(r.additionalEvent=this.options.event+s),i.prototype.emit.call(this,r)},e})(cl),cW=(function(i){sn(e,i);function e(n){return n===void 0&&(n={}),i.call(this,xn({event:"swipe",threshold:10,velocity:.3,direction:Gn|lo,pointers:1},n))||this}var t=e.prototype;return t.getTouchAction=function(){return hS.prototype.getTouchAction.call(this)},t.attrTest=function(r){var s=this.options.direction,o;return s&(Gn|lo)?o=r.overallVelocity:s&Gn?o=r.overallVelocityX:s&lo&&(o=r.overallVelocityY),i.prototype.attrTest.call(this,r)&&s&r.offsetDirection&&r.distance>this.options.threshold&&r.maxPointers===this.options.pointers&&Eo(o)>this.options.velocity&&r.eventType&Tt},t.emit=function(r){var s=lW(r.offsetDirection);s&&this.manager.emit(this.options.event+s,r),this.manager.emit(this.options.event,r)},e})(cl),uW=(function(i){sn(e,i);function e(n){return n===void 0&&(n={}),i.call(this,xn({event:"pinch",threshold:0,pointers:2},n))||this}var t=e.prototype;return t.getTouchAction=function(){return[ao]},t.attrTest=function(r){return i.prototype.attrTest.call(this,r)&&(Math.abs(r.scale-1)>this.options.threshold||this.state&Ji)},t.emit=function(r){if(r.scale!==1){var s=r.scale<1?"in":"out";r.additionalEvent=this.options.event+s}i.prototype.emit.call(this,r)},e})(cl),hW=(function(i){sn(e,i);function e(n){return n===void 0&&(n={}),i.call(this,xn({event:"rotate",threshold:0,pointers:2},n))||this}var t=e.prototype;return t.getTouchAction=function(){return[ao]},t.attrTest=function(r){return i.prototype.attrTest.call(this,r)&&(Math.abs(r.rotation)>this.options.threshold||this.state&Ji)},e})(cl),dW=(function(i){sn(e,i);function e(n){var r;return n===void 0&&(n={}),r=i.call(this,xn({event:"press",pointers:1,time:251,threshold:9},n))||this,r._timer=null,r._input=null,r}var t=e.prototype;return t.getTouchAction=function(){return[Kj]},t.process=function(r){var s=this,o=this.options,a=r.pointers.length===o.pointers,l=r.distance<o.threshold,c=r.deltaTime>o.time;if(this._input=r,!l||!a||r.eventType&(Tt|Ei)&&!c)this.reset();else if(r.eventType&hi)this.reset(),this._timer=setTimeout(function(){s.state=Ir,s.tryEmit()},o.time);else if(r.eventType&Tt)return Ir;return $n},t.reset=function(){clearTimeout(this._timer)},t.emit=function(r){this.state===Ir&&(r&&r.eventType&Tt?this.manager.emit(this.options.event+"up",r):(this._input.timeStamp=sS(),this.manager.emit(this.options.event,this._input)))},e})(Ku),fW={domEvents:!1,touchAction:Xj,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},wM=[[hW,{enable:!1}],[uW,{enable:!1},["rotate"]],[cW,{direction:Gn}],[hS,{direction:Gn},["swipe"]],[N0],[N0,{event:"doubletap",taps:2},["tap"]],[dW]],Roe=1,xM=2;function SM(i,e){var t=i.element;if(t.style){var n;Or(i.options.cssProps,function(r,s){n=Hf(t.style,s),e?(i.oldCssProps[n]=t.style[n],t.style[n]=r):t.style[n]=i.oldCssProps[n]||""}),e||(i.oldCssProps={})}}function Ooe(i,e){var t=document.createEvent("Event");t.initEvent(i,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var EM=(function(){function i(t,n){var r=this;this.options=So({},fW,n||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=Eoe(this),this.touchAction=new eW(this,this.options.touchAction),SM(this,!0),Or(this.options.recognizers,function(s){var o=r.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=i.prototype;return e.set=function(n){return So(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?xM:Roe},e.recognize=function(n){var r=this.session;if(!r.stopped){this.touchAction.preventDefaults(n);var s,o=this.recognizers,a=r.curRecognizer;(!a||a&&a.state&Ir)&&(r.curRecognizer=null,a=null);for(var l=0;l<o.length;)s=o[l],r.stopped!==xM&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(n):s.reset(),!a&&s.state&(Ji|ll|ms)&&(r.curRecognizer=s,a=s),l++}},e.get=function(n){if(n instanceof Ku)return n;for(var r=this.recognizers,s=0;s<r.length;s++)if(r[s].options.event===n)return r[s];return null},e.add=function(n){if(Ia(n,"add",this))return this;var r=this.get(n.options.event);return r&&this.remove(r),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(Ia(n,"remove",this))return this;var r=this.get(n);if(n){var s=this.recognizers,o=Co(s,r);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(n,r){if(n===void 0||r===void 0)return this;var s=this.handlers;return Or(Jc(n),function(o){s[o]=s[o]||[],s[o].push(r)}),this},e.off=function(n,r){if(n===void 0)return this;var s=this.handlers;return Or(Jc(n),function(o){r?s[o]&&s[o].splice(Co(s[o],r),1):delete s[o]}),this},e.emit=function(n,r){this.options.domEvents&&Ooe(n,r);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){r.type=n,r.preventDefault=function(){r.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](r),o++}},e.destroy=function(){this.element&&SM(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},i})(),Ioe={touchstart:hi,touchmove:Yo,touchend:Tt,touchcancel:Ei},Doe="touchstart",Poe="touchstart touchmove touchend touchcancel",koe=(function(i){sn(e,i);function e(){var n,r=e.prototype;return r.evTarget=Doe,r.evWin=Poe,n=i.apply(this,arguments)||this,n.started=!1,n}var t=e.prototype;return t.handler=function(r){var s=Ioe[r.type];if(s===hi&&(this.started=!0),!!this.started){var o=Moe.call(this,r,s);s&(Tt|Ei)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Hu,srcEvent:r})}},e})($l);function Moe(i,e){var t=eu(i.touches),n=eu(i.changedTouches);return e&(Tt|Ei)&&(t=lS(t.concat(n),"identifier",!0)),[t,n]}function mW(i,e,t){var n="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var r=new Error("get-stack-trace"),s=r&&r.stack?r.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,n,s),i.apply(this,arguments)}}var pW=mW(function(i,e,t){for(var n=Object.keys(e),r=0;r<n.length;)(!t||t&&i[n[r]]===void 0)&&(i[n[r]]=e[n[r]]),r++;return i},"extend","Use `assign`."),Aoe=mW(function(i,e){return pW(i,e,!0)},"merge","Use `assign`.");function Noe(i,e,t){var n=e.prototype,r;r=i.prototype=Object.create(n),r.constructor=i,r._super=n,t&&So(r,t)}function CM(i,e){return function(){return i.apply(e,arguments)}}var dS=(function(){var i=function(t,n){return n===void 0&&(n={}),new EM(t,xn({recognizers:wM.concat()},n))};return i.VERSION="2.0.17-rc",i.DIRECTION_ALL=Qj,i.DIRECTION_DOWN=al,i.DIRECTION_LEFT=Uu,i.DIRECTION_RIGHT=Vu,i.DIRECTION_UP=Xu,i.DIRECTION_HORIZONTAL=Gn,i.DIRECTION_VERTICAL=lo,i.DIRECTION_NONE=Sd,i.DIRECTION_DOWN=al,i.INPUT_START=hi,i.INPUT_MOVE=Yo,i.INPUT_END=Tt,i.INPUT_CANCEL=Ei,i.STATE_POSSIBLE=Hh,i.STATE_BEGAN=Ji,i.STATE_CHANGED=ll,i.STATE_ENDED=ms,i.STATE_RECOGNIZED=Ir,i.STATE_CANCELLED=tu,i.STATE_FAILED=$n,i.Manager=EM,i.Input=$l,i.TouchAction=eW,i.TouchInput=cS,i.MouseInput=uS,i.PointerEventInput=oW,i.TouchMouseInput=aW,i.SingleTouchInput=koe,i.Recognizer=Ku,i.AttrRecognizer=cl,i.Tap=N0,i.Pan=hS,i.Swipe=cW,i.Pinch=uW,i.Rotate=hW,i.Press=dW,i.on=_c,i.off=bc,i.each=Or,i.merge=Aoe,i.extend=pW,i.bindFn=CM,i.assign=So,i.inherit=Noe,i.bindFn=CM,i.prefixed=Hf,i.toArray=eu,i.inArray=Co,i.uniqueArray=lS,i.splitStr=Jc,i.boolOrFn=Uf,i.hasParent=aS,i.addEventListeners=_c,i.removeEventListeners=bc,i.defaults=So({},fW,{preset:wM}),i})();dS.defaults;/**
 * vis-util
 * https://github.com/visjs/vis-util
 *
 * utilitie collection for visjs
 *
 * @version 6.0.0
 * @date    2025-07-12T18:02:43.836Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */const fS=Symbol("DELETE");function gW(i,...e){return mS({},i,...e)}function mS(...i){const e=Td(...i);return yW(e),e}function Td(...i){if(i.length<2)return i[0];if(i.length>2)return Td(mS(i[0],i[1]),...i.slice(2));const e=i[0],t=i[1];if(e instanceof Date&&t instanceof Date)return e.setTime(t.getTime()),e;for(const n of Reflect.ownKeys(t))Object.prototype.propertyIsEnumerable.call(t,n)&&(t[n]===fS?delete e[n]:e[n]!==null&&t[n]!==null&&typeof e[n]=="object"&&typeof t[n]=="object"&&!Array.isArray(e[n])&&!Array.isArray(t[n])?e[n]=Td(e[n],t[n]):e[n]=vW(t[n]));return e}function vW(i){return Array.isArray(i)?i.map(e=>vW(e)):typeof i=="object"&&i!==null?i instanceof Date?new Date(i.getTime()):Td({},i):i}function yW(i){for(const e of Object.keys(i))i[e]===fS?delete i[e]:typeof i[e]=="object"&&i[e]!==null&&yW(i[e])}function Loe(...i){return Foe(i.length?i:[Date.now()])}function Foe(i){let[e,t,n]=$oe(i),r=1;const s=()=>{const o=2091639*e+r*23283064365386963e-26;return e=t,t=n,n=o-(r=o|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=i,s.version="0.9",s}function $oe(...i){const e=joe();let t=e(" "),n=e(" "),r=e(" ");for(let s=0;s<i.length;s++)t-=e(i[s]),t<0&&(t+=1),n-=e(i[s]),n<0&&(n+=1),r-=e(i[s]),r<0&&(r+=1);return[t,n,r]}function joe(){let i=4022871197;return function(e){const t=e.toString();for(let n=0;n<t.length;n++){i+=t.charCodeAt(n);let r=.02519603282416938*i;i=r>>>0,r-=i,r*=i,i=r>>>0,r-=i,i+=r*4294967296}return(i>>>0)*23283064365386963e-26}}function Woe(){const i=()=>{};return{on:i,off:i,destroy:i,emit:i,get(){return{set:i}}}}const pS=typeof window<"u"?window.Hammer||dS:function(){return Woe()};function jn(i){this._cleanupQueue=[],this.active=!1,this._dom={container:i,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const e=pS(this._dom.overlay);e.on("tap",this._onTapOverlay.bind(this)),this._cleanupQueue.push(()=>{e.destroy()}),["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(n=>{e.on(n,r=>{r.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=n=>{zoe(n.target,i)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=n=>{("key"in n?n.key==="Escape":n.keyCode===27)&&this.deactivate()}}rS(jn.prototype);jn.current=null;jn.prototype.destroy=function(){this.deactivate();for(const i of this._cleanupQueue.splice(0).reverse())i()};jn.prototype.activate=function(){jn.current&&jn.current.deactivate(),jn.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};jn.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};jn.prototype._onTapOverlay=function(i){this.activate(),i.srcEvent.stopPropagation()};function zoe(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}const qoe=/^\/?Date\((-?\d+)/i,Goe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Yoe=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Boe=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Hoe=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function wc(i){return i instanceof Number||typeof i=="number"}function _W(i){if(i)for(;i.hasChildNodes()===!0;){const e=i.firstChild;e&&(_W(e),i.removeChild(e))}}function Mi(i){return i instanceof String||typeof i=="string"}function L0(i){return typeof i=="object"&&i!==null}function Uoe(i){if(i instanceof Date)return!0;if(Mi(i)){if(qoe.exec(i))return!0;if(!isNaN(Date.parse(i)))return!0}return!1}function To(i,e,t,n){let r=!1;n===!0&&(r=e[t]===null&&i[t]!==void 0),r?delete i[t]:i[t]=e[t]}function bW(i,e,t=!1){for(const n in i)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")To(i,e,n,t);else{const r=i[n],s=e[n];L0(r)&&L0(s)&&bW(r,s,t)}}const Voe=Object.assign;function Xoe(i,e,...t){if(!Array.isArray(i))throw new Error("Array with property names expected as first argument");for(const n of t)for(let r=0;r<i.length;r++){const s=i[r];n&&Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}function Koe(i,e,t,n=!1){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(let r=0;r<i.length;r++){const s=i[r];if(Object.prototype.hasOwnProperty.call(t,s))if(t[s]&&t[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?iu(e[s],t[s],!1,n):To(e,t,s,n);else{if(Array.isArray(t[s]))throw new TypeError("Arrays are not supported by deepExtend");To(e,t,s,n)}}return e}function Zoe(i,e,t,n=!1){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&!i.includes(r))if(t[r]&&t[r].constructor===Object)e[r]===void 0&&(e[r]={}),e[r].constructor===Object?iu(e[r],t[r]):To(e,t,r,n);else if(Array.isArray(t[r])){e[r]=[];for(let s=0;s<t[r].length;s++)e[r].push(t[r][s])}else To(e,t,r,n);return e}function iu(i,e,t=!1,n=!1){for(const r in e)(Object.prototype.hasOwnProperty.call(e,r)||t===!0)&&(typeof e[r]=="object"&&e[r]!==null&&Object.getPrototypeOf(e[r])===Object.prototype?i[r]===void 0?i[r]=iu({},e[r],t):typeof i[r]=="object"&&i[r]!==null&&Object.getPrototypeOf(i[r])===Object.prototype?iu(i[r],e[r],t):To(i,e,r,n):Array.isArray(e[r])?i[r]=e[r].slice():To(i,e,r,n));return i}function Qoe(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!=e[t])return!1;return!0}function cc(i){const e=typeof i;return e==="object"?i===null?"null":i instanceof Boolean?"Boolean":i instanceof Number?"Number":i instanceof String?"String":Array.isArray(i)?"Array":i instanceof Date?"Date":"Object":e==="number"?"Number":e==="boolean"?"Boolean":e==="string"?"String":e===void 0?"undefined":e}function nu(i,e){return[...i,e]}function wW(i){return i.slice()}function Joe(i){return i.getBoundingClientRect().left}function eae(i){return i.getBoundingClientRect().right}function tae(i){return i.getBoundingClientRect().top}function iae(i,e){let t=i.className.split(" ");const n=e.split(" ");t=t.concat(n.filter(function(r){return!t.includes(r)})),i.className=t.join(" ")}function nae(i,e){let t=i.className.split(" ");const n=e.split(" ");t=t.filter(function(r){return!n.includes(r)}),i.className=t.join(" ")}function rae(i,e){if(Array.isArray(i)){const t=i.length;for(let n=0;n<t;n++)e(i[n],n,i)}else for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(i[t],t,i)}const sae=Object.values;function oae(i,e,t){return i[e]!==t?(i[e]=t,!0):!1}function aae(i){let e=!1;return()=>{e||(e=!0,requestAnimationFrame(()=>{e=!1,i()}))}}function lae(i){i||(i=window.event),i&&(i.preventDefault?i.preventDefault():i.returnValue=!1)}function cae(i=window.event){let e=null;return i&&(i.target?e=i.target:i.srcElement&&(e=i.srcElement)),!(e instanceof Element)||e.nodeType!=null&&e.nodeType==3&&(e=e.parentNode,!(e instanceof Element))?null:e}function uae(i,e){let t=i;for(;t;){if(t===e)return!0;if(t.parentNode)t=t.parentNode;else return!1}return!1}const hae={asBoolean(i,e){return typeof i=="function"&&(i=i()),i!=null?i!=!1:e||null},asNumber(i,e){return typeof i=="function"&&(i=i()),i!=null?Number(i)||e||null:e||null},asString(i,e){return typeof i=="function"&&(i=i()),i!=null?String(i):e||null},asSize(i,e){return typeof i=="function"&&(i=i()),Mi(i)?i:wc(i)?i+"px":e||null},asElement(i,e){return typeof i=="function"&&(i=i()),i||e||null}};function Vf(i){let e;switch(i.length){case 3:case 4:return e=Yoe.exec(i),e?{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16)}:null;case 6:case 7:return e=Goe.exec(i),e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null;default:return null}}function dae(i,e){if(i.includes("rgba"))return i;if(i.includes("rgb")){const t=i.substr(i.indexOf("(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}else{const t=Vf(i);return t==null?i:"rgba("+t.r+","+t.g+","+t.b+","+e+")"}}function gS(i,e,t){return"#"+((1<<24)+(i<<16)+(e<<8)+t).toString(16).slice(1)}function fae(i,e){if(Mi(i)){let t=i;if(yS(t)){const n=t.substr(4).substr(0,t.length-5).split(",").map(function(r){return parseInt(r)});t=gS(n[0],n[1],n[2])}if(vS(t)===!0){const n=SW(t),r={h:n.h,s:n.s*.8,v:Math.min(1,n.v*1.02)},s={h:n.h,s:Math.min(1,n.s*1.25),v:n.v*.8},o=F0(s.h,s.s,s.v),a=F0(r.h,r.s,r.v);return{background:t,border:o,highlight:{background:a,border:o},hover:{background:a,border:o}}}else return{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else return e?{background:i.background||e.background,border:i.border||e.border,highlight:Mi(i.highlight)?{border:i.highlight,background:i.highlight}:{background:i.highlight&&i.highlight.background||e.highlight.background,border:i.highlight&&i.highlight.border||e.highlight.border},hover:Mi(i.hover)?{border:i.hover,background:i.hover}:{border:i.hover&&i.hover.border||e.hover.border,background:i.hover&&i.hover.background||e.hover.background}}:{background:i.background||void 0,border:i.border||void 0,highlight:Mi(i.highlight)?{border:i.highlight,background:i.highlight}:{background:i.highlight&&i.highlight.background||void 0,border:i.highlight&&i.highlight.border||void 0},hover:Mi(i.hover)?{border:i.hover,background:i.hover}:{border:i.hover&&i.hover.border||void 0,background:i.hover&&i.hover.background||void 0}}}function Da(i,e,t){i=i/255,e=e/255,t=t/255;const n=Math.min(i,Math.min(e,t)),r=Math.max(i,Math.max(e,t));if(n===r)return{h:0,s:0,v:n};const s=i===n?e-t:t===n?i-e:t-i,a=60*((i===n?3:t===n?1:5)-s/(r-n))/360,l=(r-n)/r;return{h:a,s:l,v:r}}function xW(i){const e=document.createElement("div"),t={};e.style.cssText=i;for(let n=0;n<e.style.length;++n)t[e.style[n]]=e.style.getPropertyValue(e.style[n]);return t}function mae(i,e){const t=xW(e);for(const[n,r]of Object.entries(t))i.style.setProperty(n,r)}function pae(i,e){const t=xW(e);for(const n of Object.keys(t))i.style.removeProperty(n)}function xc(i,e,t){let n,r,s;const o=Math.floor(i*6),a=i*6-o,l=t*(1-e),c=t*(1-a*e),u=t*(1-(1-a)*e);switch(o%6){case 0:n=t,r=u,s=l;break;case 1:n=c,r=t,s=l;break;case 2:n=l,r=t,s=u;break;case 3:n=l,r=c,s=t;break;case 4:n=u,r=l,s=t;break;case 5:n=t,r=l,s=c;break}return{r:Math.floor(n*255),g:Math.floor(r*255),b:Math.floor(s*255)}}function F0(i,e,t){const n=xc(i,e,t);return gS(n.r,n.g,n.b)}function SW(i){const e=Vf(i);if(!e)throw new TypeError(`'${i}' is not a valid color.`);return Da(e.r,e.g,e.b)}function vS(i){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(i)}function yS(i){return Boe.test(i)}function EW(i){return Hoe.test(i)}function gae(i,e){if(e!==null&&typeof e=="object"){const t=Object.create(e);for(let n=0;n<i.length;n++)Object.prototype.hasOwnProperty.call(e,i[n])&&typeof e[i[n]]=="object"&&(t[i[n]]=_S(e[i[n]]));return t}else return null}function _S(i){if(i===null||typeof i!="object")return null;if(i instanceof Element)return i;const e=Object.create(i);for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&typeof i[t]=="object"&&(e[t]=_S(i[t]));return e}function vae(i,e){for(let t=0;t<i.length;t++){const n=i[t];let r;for(r=t;r>0&&e(n,i[r-1])<0;r--)i[r]=i[r-1];i[r]=n}return i}function yae(i,e,t,n={}){const r=function(f){return f!=null},s=function(f){return f!==null&&typeof f=="object"},o=function(f){for(const m in f)if(Object.prototype.hasOwnProperty.call(f,m))return!1;return!0};if(!s(i))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!r(t))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const a=function(f,m,p){s(f[p])||(f[p]={});const g=m[p],v=f[p];for(const y in g)Object.prototype.hasOwnProperty.call(g,y)&&(v[y]=g[y])},l=e[t],u=s(n)&&!o(n)?n[t]:void 0,h=u?u.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(i[t])||(i[t]={}),i[t].enabled=l;return}if(l===null&&!s(i[t]))if(r(u))i[t]=Object.create(u);else return;if(!s(l))return;let d=!0;l.enabled!==void 0?d=l.enabled:h!==void 0&&(d=u.enabled),a(i,e,t),i[t].enabled=d}function _ae(i,e,t,n){let s=0,o=0,a=i.length-1;for(;o<=a&&s<1e4;){const l=Math.floor((o+a)/2),c=i[l],u=n===void 0?c[t]:c[t][n],h=e(u);if(h==0)return l;h==-1?o=l+1:a=l-1,s++}return-1}function bae(i,e,t,n,r){let o=0,a=0,l=i.length-1,c,u,h,d;for(r=r??function(f,m){return f==m?0:f<m?-1:1};a<=l&&o<1e4;){if(d=Math.floor(.5*(l+a)),c=i[Math.max(0,d-1)][t],u=i[d][t],h=i[Math.min(i.length-1,d+1)][t],r(u,e)==0)return d;if(r(c,e)<0&&r(u,e)>0)return n=="before"?Math.max(0,d-1):d;if(r(u,e)<0&&r(h,e)>0)return n=="before"?d:Math.min(i.length-1,d+1);r(u,e)<0?a=d+1:l=d-1,o++}return-1}const wae={linear(i){return i},easeInQuad(i){return i*i},easeOutQuad(i){return i*(2-i)},easeInOutQuad(i){return i<.5?2*i*i:-1+(4-2*i)*i},easeInCubic(i){return i*i*i},easeOutCubic(i){return--i*i*i+1},easeInOutCubic(i){return i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1},easeInQuart(i){return i*i*i*i},easeOutQuart(i){return 1- --i*i*i*i},easeInOutQuart(i){return i<.5?8*i*i*i*i:1-8*--i*i*i*i},easeInQuint(i){return i*i*i*i*i},easeOutQuint(i){return 1+--i*i*i*i*i},easeInOutQuint(i){return i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i}};function xae(){const i=document.createElement("p");i.style.width="100%",i.style.height="200px";const e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(i),document.body.appendChild(e);const t=i.offsetWidth;e.style.overflow="scroll";let n=i.offsetWidth;return t==n&&(n=e.clientWidth),document.body.removeChild(e),t-n}function Sae(i,e){let t;Array.isArray(e)||(e=[e]);for(const n of i)if(n){t=n[e[0]];for(let r=1;r<e.length;r++)t&&(t=t[e[r]]);if(typeof t<"u")break}return t}const Eae={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let CW=class{constructor(e=1){this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return Eae[e]}setColor(e,t=!0){if(e==="none")return;let n;const r=this._isColorString(e);if(r!==void 0&&(e=r),Mi(e)===!0){if(yS(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(EW(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(vS(e)===!0){const s=Vf(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(e));this._setColor(n,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(e=!0){e===!0&&(this.previousColor=Object.assign({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e,t=!0){t===!0&&(this.initialColor=Object.assign({},e)),this.color=e;const n=Da(e.r,e.g,e.b),r=2*Math.PI,s=this.r*n.s,o=this.centerCoordinates.x+s*Math.sin(r*n.h),a=this.centerCoordinates.y+s*Math.cos(r*n.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const t=Da(this.color.r,this.color.g,this.color.b);t.v=e/100;const n=xc(t.h,t.s,t.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(e=this.color){const t=Da(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,r,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-t.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),n.fill(),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const e=this;this.opacityRange.onchange=function(){e._setOpacity(this.value)},this.opacityRange.oninput=function(){e._setOpacity(this.value)},this.brightnessRange.onchange=function(){e._setBrightness(this.value)},this.brightnessRange.oninput=function(){e._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new pS(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const t=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,n);let r,s,o,a;this.centerCoordinates={x:t*.5,y:n*.5},this.r=.49*t;const l=2*Math.PI/360,c=1/360,u=1/this.r;let h;for(o=0;o<360;o++)for(a=0;a<this.r;a++)r=this.centerCoordinates.x+a*Math.sin(l*o),s=this.centerCoordinates.y+a*Math.cos(l*o),h=xc(o*c,a*u,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(r-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,n)}this.generated=!0}_moveSelector(e){const t=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-t.left,r=e.center.y-t.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=n-o,l=r-s,c=Math.atan2(a,l),u=.98*Math.min(Math.sqrt(a*a+l*l),o),h=Math.cos(c)*u+s,d=Math.sin(c)*u+o;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=d-.5*this.colorPickerSelector.clientWidth+"px";let f=c/(2*Math.PI);f=f<0?f+1:f;const m=u/this.r,p=Da(this.color.r,this.color.g,this.color.b);p.h=f,p.s=m;const g=xc(p.h,p.s,p.v);g.a=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function $0(...i){if(i.length<1)throw new TypeError("Invalid arguments.");if(i.length===1)return document.createTextNode(i[0]);{const e=document.createElement(i[0]);return e.appendChild($0(...i.slice(1))),e}}let Cae=class{constructor(e,t,n,r=1,s=()=>!1){this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Object.assign(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new CW(r),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(Array.isArray(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),e.filter!==void 0&&(this.options.filter=e.filter),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);this.options.filter===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=this.options.filter;let t=0,n=!1;for(const r in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,r)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(r,[]),n=n||this._handleObject(this.configureOptions[r],[r],!0)):(e===!0||e.indexOf(r)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(r),this._handleObject(this.configureOptions[r],[r])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let n=0;n<e.length;n++)if(t[e[n]]!==void 0)t=t[e[n]];else{t=void 0;break}return t}_makeItem(e,...t){if(this.allowCreation===!0){const n=document.createElement("div");return n.className="vis-configuration vis-config-item vis-config-s"+e.length,t.forEach(r=>{n.appendChild(r)}),this.domElements.push(n),this.domElements.length}return 0}_makeHeader(e){const t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}_makeLabel(e,t,n=!1){const r=document.createElement("div");if(r.className="vis-configuration vis-config-label vis-config-s"+t.length,n===!0){for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild($0("i","b",e))}else r.innerText=e+":";return r}_makeDropdown(e,t,n){const r=document.createElement("select");r.className="vis-configuration vis-config-select";let s=0;t!==void 0&&e.indexOf(t)!==-1&&(s=e.indexOf(t));for(let l=0;l<e.length;l++){const c=document.createElement("option");c.value=e[l],l===s&&(c.selected="selected"),c.innerText=e[l],r.appendChild(c)}const o=this;r.onchange=function(){o._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,r)}_makeRange(e,t,n){const r=e[0],s=e[1],o=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=o}catch{}l.step=a;let c="",u=0;t!==void 0?(t<0&&t*1.2<s?(l.min=Math.ceil(t*1.2),u=l.min,c="range increased"):t/1.2<s&&(l.min=Math.ceil(t/1.2),u=l.min,c="range increased"),t*1.2>o&&o!==1&&(l.max=Math.ceil(t*1.2),u=l.max,c="range increased"),l.value=t):l.value=r;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=l.value;const d=this;l.onchange=function(){h.value=this.value,d._update(Number(this.value),n)},l.oninput=function(){h.value=this.value};const f=this._makeLabel(n[n.length-1],n),m=this._makeItem(n,f,l,h);c!==""&&this.popupHistory[m]!==u&&(this.popupHistory[m]=u,this._setupPopup(c,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,n){const r=document.createElement("input");r.type="checkbox",r.className="vis-configuration vis-config-checkbox",r.checked=e,t!==void 0&&(r.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:n,value:t}):this.changedOptions.push({path:n,value:t})));const s=this;r.onchange=function(){s._update(this.checked,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,r)}_makeTextInput(e,t,n){const r=document.createElement("input");r.type="text",r.className="vis-configuration vis-config-text",r.value=t,t!==e&&this.changedOptions.push({path:n,value:t});const s=this;r.onchange=function(){s._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,r)}_makeColorField(e,t,n){const r=e[1],s=document.createElement("div");t=t===void 0?r:t,t!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?r:t,s.onclick=()=>{this._showColorPicker(t,s,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,s)}_showColorPicker(e,t,n){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(r=>{const s="rgba("+r.r+","+r.g+","+r.b+","+r.a+")";t.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,n)}})}_handleObject(e,t=[],n=!1){let r=!1;const s=this.options.filter;let o=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){r=!0;const l=e[a],c=nu(t,a);if(typeof s=="function"&&(r=s(a,t),r===!1&&!Array.isArray(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,r=this._handleObject(l,c,!0),this.allowCreation=n===!1)),r!==!1){o=!0;const u=this._getValue(c);if(Array.isArray(l))this._handleArray(l,u,c);else if(typeof l=="string")this._makeTextInput(l,u,c);else if(typeof l=="boolean")this._makeCheckbox(l,u,c);else if(l instanceof Object){if(!this.hideOption(t,a,this.moduleOptions))if(l.enabled!==void 0){const h=nu(c,"enabled"),d=this._getValue(h);if(d===!0){const f=this._makeLabel(a,c,!0);this._makeItem(c,f),o=this._handleObject(l,c)||o}else this._makeCheckbox(l,d,c)}else{const h=this._makeLabel(a,c,!0);this._makeItem(c,h),o=this._handleObject(l,c)||o}}else console.error("dont know how to handle",l,a,c)}}return o}_handleArray(e,t,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,n),e[1]!==t&&this.changedOptions.push({path:n,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:Number(t)}))}_update(e,t){const n=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,t,n={}){let r=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<t.length;s++)t[s]!=="global"&&(r[t[s]]===void 0&&(r[t[s]]={}),s!==t.length-1?r=r[t[s]]:r[t[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild($0("pre","const options = "+JSON.stringify(e,null,2)))}getOptions(){const e={};for(let t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}},Tae=class{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=parseInt(e),this.y=parseInt(t)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const t=this.frame.clientHeight,n=this.frame.clientWidth,r=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let o=0,a=0;if(this.overflowMethod=="flip"){let l=!1,c=!0;this.y-t<this.padding&&(c=!1),this.x+n>s-this.padding&&(l=!0),l?o=this.x-n:o=this.x,c?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>r&&(a=r-t-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+n+this.padding>s&&(o=s-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Ql=!1,TM;const j0="background: #FFeeee; color: #dd0000";let Rae=class _t{static validate(e,t,n){Ql=!1,TM=t;let r=t;return n!==void 0&&(r=t[n]),_t.parse(e,r,[]),Ql}static parse(e,t,n){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&_t.check(r,e,t,n)}static check(e,t,n,r){if(n[e]===void 0&&n.__any__===void 0){_t.getSuggestion(e,n,r);return}let s=e,o=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",o=_t.getType(t[e])==="object");let a=n[s];o&&a.__type__!==void 0&&(a=a.__type__),_t.checkFields(e,t,n,s,a,r)}static checkFields(e,t,n,r,s,o){const a=function(u){console.error("%c"+u+_t.printLocation(o,e),j0)},l=_t.getType(t[e]),c=s[l];c!==void 0?_t.getType(c)==="array"&&c.indexOf(t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+_t.print(c)+' not "'+t[e]+'". '),Ql=!0):l==="object"&&r!=="__any__"&&(o=nu(o,e),_t.parse(t[e],n[r],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+_t.print(Object.keys(s))+". Received ["+l+'] "'+t[e]+'"'),Ql=!0)}static getType(e){const t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Array.isArray(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,n){const r=_t.findInOptions(e,t,n,!1),s=_t.findInOptions(e,TM,[],!0),o=8,a=4;let l;r.indexMatch!==void 0?l=" in "+_t.printLocation(r.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+r.indexMatch+`"?

`:s.distance<=a&&r.distance>s.distance?l=" in "+_t.printLocation(r.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+_t.printLocation(s.path,s.closestMatch,""):r.distance<=o?l='. Did you mean "'+r.closestMatch+'"?'+_t.printLocation(r.path,e):l=". Did you mean one of these: "+_t.print(Object.keys(t))+_t.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+l,j0),Ql=!0}static findInOptions(e,t,n,r=!1){let s=1e9,o="",a=[];const l=e.toLowerCase();let c;for(const u in t){let h;if(t[u].__type__!==void 0&&r===!0){const d=_t.findInOptions(e,t[u],nu(n,u));s>d.distance&&(o=d.closestMatch,a=d.path,s=d.distance,c=d.indexMatch)}else u.toLowerCase().indexOf(l)!==-1&&(c=u),h=_t.levenshteinDistance(e,u),s>h&&(o=u,a=wW(n),s=h)}return{closestMatch:o,path:a,distance:s,indexMatch:c}}static printLocation(e,t,n=`Problem value found at: 
`){let r=`

`+n+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)r+="  ";r+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)r+="  ";r+=t+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)r+="  ";r+=`}
`}return r+`

`}static print(e){return JSON.stringify(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;const n=[];let r;for(r=0;r<=t.length;r++)n[r]=[r];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(r=1;r<=t.length;r++)for(s=1;s<=e.length;s++)t.charAt(r-1)==e.charAt(s-1)?n[r][s]=n[r-1][s-1]:n[r][s]=Math.min(n[r-1][s-1]+1,Math.min(n[r][s-1]+1,n[r-1][s]+1));return n[t.length][e.length]}};const Oae=jn,Iae=CW,Dae=Cae,Pae=pS,kae=Tae,Mae=j0,Aae=Rae,Nae=Object.freeze(Object.defineProperty({__proto__:null,Activator:Oae,Alea:Loe,ColorPicker:Iae,Configurator:Dae,DELETE:fS,HSVToHex:F0,HSVToRGB:xc,Hammer:Pae,Popup:kae,RGBToHSV:Da,RGBToHex:gS,VALIDATOR_PRINT_STYLE:Mae,Validator:Aae,addClassName:iae,addCssText:mae,binarySearchCustom:_ae,binarySearchValue:bae,bridgeObject:_S,copyAndExtendArray:nu,copyArray:wW,deepExtend:iu,deepObjectAssign:mS,easingFunctions:wae,equalArray:Qoe,extend:Voe,fillIfDefined:bW,forEach:rae,getAbsoluteLeft:Joe,getAbsoluteRight:eae,getAbsoluteTop:tae,getScrollBarWidth:xae,getTarget:cae,getType:cc,hasParent:uae,hexToHSV:SW,hexToRGB:Vf,insertSort:vae,isDate:Uoe,isNumber:wc,isObject:L0,isString:Mi,isValidHex:vS,isValidRGB:yS,isValidRGBA:EW,mergeOptions:yae,option:hae,overrideOpacity:dae,parseColor:fae,preventDefault:lae,pureDeepObjectAssign:gW,recursiveDOMDelete:_W,removeClassName:nae,removeCssText:pae,selectiveBridgeObject:gae,selectiveDeepExtend:Koe,selectiveExtend:Xoe,selectiveNotDeepExtend:Zoe,throttle:aae,toArray:sae,topMost:Sae,updateProperty:oae},Symbol.toStringTag,{value:"Module"})),Ht=[];for(let i=0;i<256;++i)Ht.push((i+256).toString(16).slice(1));function Lae(i,e=0){return(Ht[i[e+0]]+Ht[i[e+1]]+Ht[i[e+2]]+Ht[i[e+3]]+"-"+Ht[i[e+4]]+Ht[i[e+5]]+"-"+Ht[i[e+6]]+Ht[i[e+7]]+"-"+Ht[i[e+8]]+Ht[i[e+9]]+"-"+Ht[i[e+10]]+Ht[i[e+11]]+Ht[i[e+12]]+Ht[i[e+13]]+Ht[i[e+14]]+Ht[i[e+15]]).toLowerCase()}let yb;const Fae=new Uint8Array(16);function $ae(){if(!yb){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");yb=crypto.getRandomValues.bind(crypto)}return yb(Fae)}const jae=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),RM={randomUUID:jae};function Wae(i,e,t){i=i||{};const n=i.random??i.rng?.()??$ae();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Lae(n)}function co(i,e,t){return RM.randomUUID&&!i?RM.randomUUID():Wae(i)}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function zae(i){return new Gae(i)}class qae{_source;_transformers;_target;_listeners={add:this._add.bind(this),remove:this._remove.bind(this),update:this._update.bind(this)};constructor(e,t,n){this._source=e,this._transformers=t,this._target=n}all(){return this._target.update(this._transformItems(this._source.get())),this}start(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}stop(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}_transformItems(e){return this._transformers.reduce((t,n)=>n(t),e)}_add(e,t){t!=null&&this._target.add(this._transformItems(this._source.get(t.items)))}_update(e,t){t!=null&&this._target.update(this._transformItems(this._source.get(t.items)))}_remove(e,t){t!=null&&this._target.remove(this._transformItems(t.oldData))}}class Gae{_source;_transformers=[];constructor(e){this._source=e}filter(e){return this._transformers.push(t=>t.filter(e)),this}map(e){return this._transformers.push(t=>t.map(e)),this}flatMap(e){return this._transformers.push(t=>t.flatMap(e)),this}to(e){return new qae(this._source,this._transformers,e)}}function W0(i){return typeof i=="string"||typeof i=="number"}class bS{delay;max;_queue=[];_timeout=null;_extended=null;constructor(e){this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,t){const n=new bS(t);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const r=[{name:"flush",original:void 0}];if(t&&t.replace)for(let s=0;s<t.replace.length;s++){const o=t.replace[s];r.push({name:o,original:e[o]}),n.replace(e,o)}return n._extended={object:e,methods:r},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,t=this._extended.methods;for(let n=0;n<t.length;n++){const r=t[n];r.original?e[r.name]=r.original:delete e[r.name]}this._extended=null}}replace(e,t){const n=this,r=e[t];if(!r)throw new Error("Method "+t+" undefined");e[t]=function(...s){n.queue({args:s,fn:r,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=setTimeout(()=>{this.flush()},this.delay))}flush(){this._queue.splice(0).forEach(e=>{e.fn.apply(e.context||e.fn,e.args||[])})}}class ru{_subscribers={"*":[],add:[],remove:[],update:[]};_trigger(e,t,n){if(e==="*")throw new Error("Cannot trigger event *");[...this._subscribers[e],...this._subscribers["*"]].forEach(r=>{r(e,t,n??null)})}on(e,t){typeof t=="function"&&this._subscribers[e].push(t)}off(e,t){this._subscribers[e]=this._subscribers[e].filter(n=>n!==t)}subscribe=ru.prototype.on;unsubscribe=ru.prototype.off}class io{_pairs;constructor(e){this._pairs=e}*[Symbol.iterator](){for(const[e,t]of this._pairs)yield[e,t]}*entries(){for(const[e,t]of this._pairs)yield[e,t]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){return[...this._pairs].map(e=>e[0])}toItemArray(){return[...this._pairs].map(e=>e[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=Object.create(null);for(const[t,n]of this._pairs)e[t]=n;return e}toMap(){return new Map(this._pairs)}toIdSet(){return new Set(this.toIdArray())}toItemSet(){return new Set(this.toItemArray())}cache(){return new io([...this._pairs])}distinct(e){const t=new Set;for(const[n,r]of this._pairs)t.add(e(r,n));return t}filter(e){const t=this._pairs;return new io({*[Symbol.iterator](){for(const[n,r]of t)e(r,n)&&(yield[n,r])}})}forEach(e){for(const[t,n]of this._pairs)e(n,t)}map(e){const t=this._pairs;return new io({*[Symbol.iterator](){for(const[n,r]of t)yield[n,e(r,n)]}})}max(e){const t=this._pairs[Symbol.iterator]();let n=t.next();if(n.done)return null;let r=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=t.next()).done;){const[o,a]=n.value,l=e(a,o);l>s&&(s=l,r=a)}return r}min(e){const t=this._pairs[Symbol.iterator]();let n=t.next();if(n.done)return null;let r=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=t.next()).done;){const[o,a]=n.value,l=e(a,o);l<s&&(s=l,r=a)}return r}reduce(e,t){for(const[n,r]of this._pairs)t=e(t,r,n);return t}sort(e){return new io({[Symbol.iterator]:()=>[...this._pairs].sort(([t,n],[r,s])=>e(n,s,t,r))[Symbol.iterator]()})}}function Yae(i,e){return i[e]==null&&(i[e]=co()),i}class ul extends ru{flush;length;get idProp(){return this._idProp}_options;_data;_idProp;_queue=null;constructor(e,t){super(),e&&!Array.isArray(e)&&(t=e,e=[]),this._options=t||{},this._data=new Map,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(t)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=bS.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,t){const n=[];let r;if(Array.isArray(e)){if(e.map(o=>o[this._idProp]).some(o=>this._data.has(o)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,a=e.length;o<a;o++)r=this._addItem(e[o]),n.push(r)}else if(e&&typeof e=="object")r=this._addItem(e),n.push(r);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},t),n}update(e,t){const n=[],r=[],s=[],o=[],a=this._idProp,l=c=>{const u=c[a];if(u!=null&&this._data.has(u)){const h=c,d=Object.assign({},this._data.get(u)),f=this._updateItem(h);r.push(f),o.push(h),s.push(d)}else{const h=this._addItem(c);n.push(h)}};if(Array.isArray(e))for(let c=0,u=e.length;c<u;c++)e[c]&&typeof e[c]=="object"?l(e[c]):console.warn("Ignoring input item, which is not an object at index "+c);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},t),r.length){const c={items:r,oldData:s,data:o};this._trigger("update",c,t)}return n.concat(r)}updateOnly(e,t){Array.isArray(e)||(e=[e]);const n=e.map(r=>{const s=this._data.get(r[this._idProp]);if(s==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:s,update:r}}).map(({oldData:r,update:s})=>{const o=r[this._idProp],a=gW(r,s);return this._data.set(o,a),{id:o,oldData:r,updatedData:a}});if(n.length){const r={items:n.map(s=>s.id),oldData:n.map(s=>s.oldData),data:n.map(s=>s.updatedData)};return this._trigger("update",r,t),r.items}else return[]}get(e,t){let n,r,s;W0(e)?(n=e,s=t):Array.isArray(e)?(r=e,s=t):s=e;const o=s&&s.returnType==="Object"?"Object":"Array",a=s&&s.filter,l=[];let c,u,h;if(n!=null)c=this._data.get(n),c&&a&&!a(c)&&(c=void 0);else if(r!=null)for(let d=0,f=r.length;d<f;d++)c=this._data.get(r[d]),c!=null&&(!a||a(c))&&l.push(c);else{u=[...this._data.keys()];for(let d=0,f=u.length;d<f;d++)h=u[d],c=this._data.get(h),c!=null&&(!a||a(c))&&l.push(c)}if(s&&s.order&&n==null&&this._sort(l,s.order),s&&s.fields){const d=s.fields;if(n!=null&&c!=null)c=this._filterFields(c,d);else for(let f=0,m=l.length;f<m;f++)l[f]=this._filterFields(l[f],d)}if(o=="Object"){const d={};for(let f=0,m=l.length;f<m;f++){const p=l[f],g=p[this._idProp];d[g]=p}return d}else return n!=null?c??null:l}getIds(e){const t=this._data,n=e&&e.filter,r=e&&e.order,s=[...t.keys()],o=[];if(n)if(r){const a=[];for(let l=0,c=s.length;l<c;l++){const u=s[l],h=this._data.get(u);h!=null&&n(h)&&a.push(h)}this._sort(a,r);for(let l=0,c=a.length;l<c;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const c=s[a],u=this._data.get(c);u!=null&&n(u)&&o.push(u[this._idProp])}else if(r){const a=[];for(let l=0,c=s.length;l<c;l++){const u=s[l];a.push(t.get(u))}this._sort(a,r);for(let l=0,c=a.length;l<c;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const c=s[a],u=t.get(c);u!=null&&o.push(u[this._idProp])}return o}getDataSet(){return this}forEach(e,t){const n=t&&t.filter,s=[...this._data.keys()];if(t&&t.order){const o=this.get(t);for(let a=0,l=o.length;a<l;a++){const c=o[a],u=c[this._idProp];e(c,u)}}else for(let o=0,a=s.length;o<a;o++){const l=s[o],c=this._data.get(l);c!=null&&(!n||n(c))&&e(c,l)}}map(e,t){const n=t&&t.filter,r=[],o=[...this._data.keys()];for(let a=0,l=o.length;a<l;a++){const c=o[a],u=this._data.get(c);u!=null&&(!n||n(u))&&r.push(e(u,c))}return t&&t.order&&this._sort(r,t.order),r}_filterFields(e,t){return e&&(Array.isArray(t)?t:Object.keys(t)).reduce((n,r)=>(n[r]=e[r],n),{})}_sort(e,t){if(typeof t=="string"){const n=t;e.sort((r,s)=>{const o=r[n],a=s[n];return o>a?1:o<a?-1:0})}else if(typeof t=="function")e.sort(t);else throw new TypeError("Order must be a function or a string")}remove(e,t){const n=[],r=[],s=Array.isArray(e)?e:[e];for(let o=0,a=s.length;o<a;o++){const l=this._remove(s[o]);if(l){const c=l[this._idProp];c!=null&&(n.push(c),r.push(l))}}return n.length&&this._trigger("remove",{items:n,oldData:r},t),n}_remove(e){let t;if(W0(e)?t=e:e&&typeof e=="object"&&(t=e[this._idProp]),t!=null&&this._data.has(t)){const n=this._data.get(t)||null;return this._data.delete(t),--this.length,n}return null}clear(e){const t=[...this._data.keys()],n=[];for(let r=0,s=t.length;r<s;r++)n.push(this._data.get(t[r]));return this._data.clear(),this.length=0,this._trigger("remove",{items:t,oldData:n},e),t}max(e){let t=null,n=null;for(const r of this._data.values()){const s=r[e];typeof s=="number"&&(n==null||s>n)&&(t=r,n=s)}return t||null}min(e){let t=null,n=null;for(const r of this._data.values()){const s=r[e];typeof s=="number"&&(n==null||s<n)&&(t=r,n=s)}return t||null}distinct(e){const t=this._data,n=[...t.keys()],r=[];let s=0;for(let o=0,a=n.length;o<a;o++){const l=n[o],u=t.get(l)[e];let h=!1;for(let d=0;d<s;d++)if(r[d]==u){h=!0;break}!h&&u!==void 0&&(r[s]=u,s++)}return r}_addItem(e){const t=Yae(e,this._idProp),n=t[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,t),++this.length,n}_updateItem(e){const t=e[this._idProp];if(t==null)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(e)+")");const n=this._data.get(t);if(!n)throw new Error("Cannot update item: no item with id "+t+" found");return this._data.set(t,{...n,...e}),t}stream(e){if(e){const t=this._data;return new io({*[Symbol.iterator](){for(const n of e){const r=t.get(n);r!=null&&(yield[n,r])}}})}else return new io({[Symbol.iterator]:this._data.entries.bind(this._data)})}}class wS extends ru{length=0;get idProp(){return this.getDataSet().idProp}_listener;_data;_ids=new Set;_options;constructor(e,t){super(),this._options=t||{},this._listener=this._onEvent.bind(this),this.setData(e)}setData(e){if(this._data){this._data.off&&this._data.off("*",this._listener);const t=this._data.getIds({filter:this._options.filter}),n=this._data.get(t);this._ids.clear(),this.length=0,this._trigger("remove",{items:t,oldData:n})}if(e!=null){this._data=e;const t=this._data.getIds({filter:this._options.filter});for(let n=0,r=t.length;n<r;n++){const s=t[n];this._ids.add(s)}this.length=t.length,this._trigger("add",{items:t})}else this._data=new ul;this._data.on&&this._data.on("*",this._listener)}refresh(){const e=this._data.getIds({filter:this._options.filter}),t=[...this._ids],n={},r=[],s=[],o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];n[c]=!0,this._ids.has(c)||(r.push(c),this._ids.add(c))}for(let a=0,l=t.length;a<l;a++){const c=t[a],u=this._data.get(c);u==null?console.error("If you see this, report it please."):n[c]||(s.push(c),o.push(u),this._ids.delete(c))}this.length+=r.length-s.length,r.length&&this._trigger("add",{items:r}),s.length&&this._trigger("remove",{items:s,oldData:o})}get(e,t){if(this._data==null)return null;let n=null,r;W0(e)||Array.isArray(e)?(n=e,r=t):r=e;const s=Object.assign({},this._options,r),o=this._options.filter,a=r&&r.filter;return o&&a&&(s.filter=l=>o(l)&&a(l)),n==null?this._data.get(s):this._data.get(n,s)}getIds(e){if(this._data.length){const t=this._options.filter,n=e!=null?e.filter:null;let r;return n?t?r=s=>t(s)&&n(s):r=n:r=t,this._data.getIds({filter:r,order:e&&e.order})}else return[]}forEach(e,t){if(this._data){const n=this._options.filter,r=t&&t.filter;let s;r?n?s=function(o){return n(o)&&r(o)}:s=r:s=n,this._data.forEach(e,{filter:s,order:t&&t.order})}}map(e,t){if(this._data){const n=this._options.filter,r=t&&t.filter;let s;return r?n?s=o=>n(o)&&r(o):s=r:s=n,this._data.map(e,{filter:s,order:t&&t.order})}else return[]}getDataSet(){return this._data.getDataSet()}stream(e){return this._data.stream(e||{[Symbol.iterator]:this._ids.keys.bind(this._ids)})}dispose(){this._data?.off&&this._data.off("*",this._listener);const e="This data view has already been disposed of.",t={get:()=>{throw new Error(e)},set:()=>{throw new Error(e)},configurable:!1};for(const n of Reflect.ownKeys(wS.prototype))Object.defineProperty(this,n,t)}_onEvent(e,t,n){if(!t||!t.items||!this._data)return;const r=t.items,s=[],o=[],a=[],l=[],c=[],u=[];switch(e){case"add":for(let h=0,d=r.length;h<d;h++){const f=r[h];this.get(f)&&(this._ids.add(f),s.push(f))}break;case"update":for(let h=0,d=r.length;h<d;h++){const f=r[h];this.get(f)?this._ids.has(f)?(o.push(f),c.push(t.data[h]),l.push(t.oldData[h])):(this._ids.add(f),s.push(f)):this._ids.has(f)&&(this._ids.delete(f),a.push(f),u.push(t.oldData[h]))}break;case"remove":for(let h=0,d=r.length;h<d;h++){const f=r[h];this._ids.has(f)&&(this._ids.delete(f),a.push(f),u.push(t.oldData[h]))}break}this.length+=s.length-a.length,s.length&&this._trigger("add",{items:s},n),o.length&&this._trigger("update",{items:o,oldData:l,data:c},n),a.length&&this._trigger("remove",{items:a,oldData:u},n)}}function Bae(i,e){return typeof e=="object"&&e!==null&&i===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof e.forEach=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof e.map=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function Hae(i,e){return typeof e=="object"&&e!==null&&i===e.idProp&&typeof e.forEach=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof e.map=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&Bae(i,e.getDataSet())}var Dh={exports:{}},lt={},Ph={exports:{}},js={},OM;function TW(){if(OM)return js;OM=1;function i(){var s={};return s["align-content"]=!1,s["align-items"]=!1,s["align-self"]=!1,s["alignment-adjust"]=!1,s["alignment-baseline"]=!1,s.all=!1,s["anchor-point"]=!1,s.animation=!1,s["animation-delay"]=!1,s["animation-direction"]=!1,s["animation-duration"]=!1,s["animation-fill-mode"]=!1,s["animation-iteration-count"]=!1,s["animation-name"]=!1,s["animation-play-state"]=!1,s["animation-timing-function"]=!1,s.azimuth=!1,s["backface-visibility"]=!1,s.background=!0,s["background-attachment"]=!0,s["background-clip"]=!0,s["background-color"]=!0,s["background-image"]=!0,s["background-origin"]=!0,s["background-position"]=!0,s["background-repeat"]=!0,s["background-size"]=!0,s["baseline-shift"]=!1,s.binding=!1,s.bleed=!1,s["bookmark-label"]=!1,s["bookmark-level"]=!1,s["bookmark-state"]=!1,s.border=!0,s["border-bottom"]=!0,s["border-bottom-color"]=!0,s["border-bottom-left-radius"]=!0,s["border-bottom-right-radius"]=!0,s["border-bottom-style"]=!0,s["border-bottom-width"]=!0,s["border-collapse"]=!0,s["border-color"]=!0,s["border-image"]=!0,s["border-image-outset"]=!0,s["border-image-repeat"]=!0,s["border-image-slice"]=!0,s["border-image-source"]=!0,s["border-image-width"]=!0,s["border-left"]=!0,s["border-left-color"]=!0,s["border-left-style"]=!0,s["border-left-width"]=!0,s["border-radius"]=!0,s["border-right"]=!0,s["border-right-color"]=!0,s["border-right-style"]=!0,s["border-right-width"]=!0,s["border-spacing"]=!0,s["border-style"]=!0,s["border-top"]=!0,s["border-top-color"]=!0,s["border-top-left-radius"]=!0,s["border-top-right-radius"]=!0,s["border-top-style"]=!0,s["border-top-width"]=!0,s["border-width"]=!0,s.bottom=!1,s["box-decoration-break"]=!0,s["box-shadow"]=!0,s["box-sizing"]=!0,s["box-snap"]=!0,s["box-suppress"]=!0,s["break-after"]=!0,s["break-before"]=!0,s["break-inside"]=!0,s["caption-side"]=!1,s.chains=!1,s.clear=!0,s.clip=!1,s["clip-path"]=!1,s["clip-rule"]=!1,s.color=!0,s["color-interpolation-filters"]=!0,s["column-count"]=!1,s["column-fill"]=!1,s["column-gap"]=!1,s["column-rule"]=!1,s["column-rule-color"]=!1,s["column-rule-style"]=!1,s["column-rule-width"]=!1,s["column-span"]=!1,s["column-width"]=!1,s.columns=!1,s.contain=!1,s.content=!1,s["counter-increment"]=!1,s["counter-reset"]=!1,s["counter-set"]=!1,s.crop=!1,s.cue=!1,s["cue-after"]=!1,s["cue-before"]=!1,s.cursor=!1,s.direction=!1,s.display=!0,s["display-inside"]=!0,s["display-list"]=!0,s["display-outside"]=!0,s["dominant-baseline"]=!1,s.elevation=!1,s["empty-cells"]=!1,s.filter=!1,s.flex=!1,s["flex-basis"]=!1,s["flex-direction"]=!1,s["flex-flow"]=!1,s["flex-grow"]=!1,s["flex-shrink"]=!1,s["flex-wrap"]=!1,s.float=!1,s["float-offset"]=!1,s["flood-color"]=!1,s["flood-opacity"]=!1,s["flow-from"]=!1,s["flow-into"]=!1,s.font=!0,s["font-family"]=!0,s["font-feature-settings"]=!0,s["font-kerning"]=!0,s["font-language-override"]=!0,s["font-size"]=!0,s["font-size-adjust"]=!0,s["font-stretch"]=!0,s["font-style"]=!0,s["font-synthesis"]=!0,s["font-variant"]=!0,s["font-variant-alternates"]=!0,s["font-variant-caps"]=!0,s["font-variant-east-asian"]=!0,s["font-variant-ligatures"]=!0,s["font-variant-numeric"]=!0,s["font-variant-position"]=!0,s["font-weight"]=!0,s.grid=!1,s["grid-area"]=!1,s["grid-auto-columns"]=!1,s["grid-auto-flow"]=!1,s["grid-auto-rows"]=!1,s["grid-column"]=!1,s["grid-column-end"]=!1,s["grid-column-start"]=!1,s["grid-row"]=!1,s["grid-row-end"]=!1,s["grid-row-start"]=!1,s["grid-template"]=!1,s["grid-template-areas"]=!1,s["grid-template-columns"]=!1,s["grid-template-rows"]=!1,s["hanging-punctuation"]=!1,s.height=!0,s.hyphens=!1,s.icon=!1,s["image-orientation"]=!1,s["image-resolution"]=!1,s["ime-mode"]=!1,s["initial-letters"]=!1,s["inline-box-align"]=!1,s["justify-content"]=!1,s["justify-items"]=!1,s["justify-self"]=!1,s.left=!1,s["letter-spacing"]=!0,s["lighting-color"]=!0,s["line-box-contain"]=!1,s["line-break"]=!1,s["line-grid"]=!1,s["line-height"]=!1,s["line-snap"]=!1,s["line-stacking"]=!1,s["line-stacking-ruby"]=!1,s["line-stacking-shift"]=!1,s["line-stacking-strategy"]=!1,s["list-style"]=!0,s["list-style-image"]=!0,s["list-style-position"]=!0,s["list-style-type"]=!0,s.margin=!0,s["margin-bottom"]=!0,s["margin-left"]=!0,s["margin-right"]=!0,s["margin-top"]=!0,s["marker-offset"]=!1,s["marker-side"]=!1,s.marks=!1,s.mask=!1,s["mask-box"]=!1,s["mask-box-outset"]=!1,s["mask-box-repeat"]=!1,s["mask-box-slice"]=!1,s["mask-box-source"]=!1,s["mask-box-width"]=!1,s["mask-clip"]=!1,s["mask-image"]=!1,s["mask-origin"]=!1,s["mask-position"]=!1,s["mask-repeat"]=!1,s["mask-size"]=!1,s["mask-source-type"]=!1,s["mask-type"]=!1,s["max-height"]=!0,s["max-lines"]=!1,s["max-width"]=!0,s["min-height"]=!0,s["min-width"]=!0,s["move-to"]=!1,s["nav-down"]=!1,s["nav-index"]=!1,s["nav-left"]=!1,s["nav-right"]=!1,s["nav-up"]=!1,s["object-fit"]=!1,s["object-position"]=!1,s.opacity=!1,s.order=!1,s.orphans=!1,s.outline=!1,s["outline-color"]=!1,s["outline-offset"]=!1,s["outline-style"]=!1,s["outline-width"]=!1,s.overflow=!1,s["overflow-wrap"]=!1,s["overflow-x"]=!1,s["overflow-y"]=!1,s.padding=!0,s["padding-bottom"]=!0,s["padding-left"]=!0,s["padding-right"]=!0,s["padding-top"]=!0,s.page=!1,s["page-break-after"]=!1,s["page-break-before"]=!1,s["page-break-inside"]=!1,s["page-policy"]=!1,s.pause=!1,s["pause-after"]=!1,s["pause-before"]=!1,s.perspective=!1,s["perspective-origin"]=!1,s.pitch=!1,s["pitch-range"]=!1,s["play-during"]=!1,s.position=!1,s["presentation-level"]=!1,s.quotes=!1,s["region-fragment"]=!1,s.resize=!1,s.rest=!1,s["rest-after"]=!1,s["rest-before"]=!1,s.richness=!1,s.right=!1,s.rotation=!1,s["rotation-point"]=!1,s["ruby-align"]=!1,s["ruby-merge"]=!1,s["ruby-position"]=!1,s["shape-image-threshold"]=!1,s["shape-outside"]=!1,s["shape-margin"]=!1,s.size=!1,s.speak=!1,s["speak-as"]=!1,s["speak-header"]=!1,s["speak-numeral"]=!1,s["speak-punctuation"]=!1,s["speech-rate"]=!1,s.stress=!1,s["string-set"]=!1,s["tab-size"]=!1,s["table-layout"]=!1,s["text-align"]=!0,s["text-align-last"]=!0,s["text-combine-upright"]=!0,s["text-decoration"]=!0,s["text-decoration-color"]=!0,s["text-decoration-line"]=!0,s["text-decoration-skip"]=!0,s["text-decoration-style"]=!0,s["text-emphasis"]=!0,s["text-emphasis-color"]=!0,s["text-emphasis-position"]=!0,s["text-emphasis-style"]=!0,s["text-height"]=!0,s["text-indent"]=!0,s["text-justify"]=!0,s["text-orientation"]=!0,s["text-overflow"]=!0,s["text-shadow"]=!0,s["text-space-collapse"]=!0,s["text-transform"]=!0,s["text-underline-position"]=!0,s["text-wrap"]=!0,s.top=!1,s.transform=!1,s["transform-origin"]=!1,s["transform-style"]=!1,s.transition=!1,s["transition-delay"]=!1,s["transition-duration"]=!1,s["transition-property"]=!1,s["transition-timing-function"]=!1,s["unicode-bidi"]=!1,s["vertical-align"]=!1,s.visibility=!1,s["voice-balance"]=!1,s["voice-duration"]=!1,s["voice-family"]=!1,s["voice-pitch"]=!1,s["voice-range"]=!1,s["voice-rate"]=!1,s["voice-stress"]=!1,s["voice-volume"]=!1,s.volume=!1,s["white-space"]=!1,s.widows=!1,s.width=!0,s["will-change"]=!1,s["word-break"]=!0,s["word-spacing"]=!0,s["word-wrap"]=!0,s["wrap-flow"]=!1,s["wrap-through"]=!1,s["writing-mode"]=!1,s["z-index"]=!1,s}function e(s,o,a){}function t(s,o,a){}var n=/javascript\s*\:/img;function r(s,o){return n.test(o)?"":o}return js.whiteList=i(),js.getDefaultWhiteList=i,js.onAttr=e,js.onIgnoreAttr=t,js.safeAttrValue=r,js}var _b,IM;function RW(){return IM||(IM=1,_b={indexOf:function(i,e){var t,n;if(Array.prototype.indexOf)return i.indexOf(e);for(t=0,n=i.length;t<n;t++)if(i[t]===e)return t;return-1},forEach:function(i,e,t){var n,r;if(Array.prototype.forEach)return i.forEach(e,t);for(n=0,r=i.length;n<r;n++)e.call(t,i[n],n,i)},trim:function(i){return String.prototype.trim?i.trim():i.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(i){return String.prototype.trimRight?i.trimRight():i.replace(/(\s*$)/g,"")}}),_b}var bb,DM;function Uae(){if(DM)return bb;DM=1;var i=RW();function e(t,n){t=i.trimRight(t),t[t.length-1]!==";"&&(t+=";");var r=t.length,s=!1,o=0,a=0,l="";function c(){if(!s){var d=i.trim(t.slice(o,a)),f=d.indexOf(":");if(f!==-1){var m=i.trim(d.slice(0,f)),p=i.trim(d.slice(f+1));if(m){var g=n(o,l.length,m,p,d);g&&(l+=g+"; ")}}}o=a+1}for(;a<r;a++){var u=t[a];if(u==="/"&&t[a+1]==="*"){var h=t.indexOf("*/",a+2);if(h===-1)break;a=h+1,o=a+1,s=!1}else u==="("?s=!0:u===")"?s=!1:u===";"?s||c():u===`
`&&c()}return i.trim(l)}return bb=e,bb}var wb,PM;function Vae(){if(PM)return wb;PM=1;var i=TW(),e=Uae();RW();function t(s){return s==null}function n(s){var o={};for(var a in s)o[a]=s[a];return o}function r(s){s=n(s||{}),s.whiteList=s.whiteList||i.whiteList,s.onAttr=s.onAttr||i.onAttr,s.onIgnoreAttr=s.onIgnoreAttr||i.onIgnoreAttr,s.safeAttrValue=s.safeAttrValue||i.safeAttrValue,this.options=s}return r.prototype.process=function(s){if(s=s||"",s=s.toString(),!s)return"";var o=this,a=o.options,l=a.whiteList,c=a.onAttr,u=a.onIgnoreAttr,h=a.safeAttrValue,d=e(s,function(f,m,p,g,v){var y=l[p],w=!1;if(y===!0?w=y:typeof y=="function"?w=y(g):y instanceof RegExp&&(w=y.test(g)),w!==!0&&(w=!1),g=h(p,g),!!g){var b={position:m,sourcePosition:f,source:v,isWhite:w};if(w){var x=c(p,g,b);return t(x)?p+":"+g:x}else{var x=u(p,g,b);if(!t(x))return x}}});return d},wb=r,wb}var kM;function z0(){return kM||(kM=1,(function(i,e){var t=TW(),n=Vae();function r(o,a){var l=new n(a);return l.process(o)}e=i.exports=r,e.FilterCSS=n;for(var s in t)e[s]=t[s];typeof window<"u"&&(window.filterCSS=i.exports)})(Ph,Ph.exports)),Ph.exports}var xb,MM;function xS(){return MM||(MM=1,xb={indexOf:function(i,e){var t,n;if(Array.prototype.indexOf)return i.indexOf(e);for(t=0,n=i.length;t<n;t++)if(i[t]===e)return t;return-1},forEach:function(i,e,t){var n,r;if(Array.prototype.forEach)return i.forEach(e,t);for(n=0,r=i.length;n<r;n++)e.call(t,i[n],n,i)},trim:function(i){return String.prototype.trim?i.trim():i.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(i){var e=/\s|\n|\t/,t=e.exec(i);return t?t.index:-1}}),xb}var AM;function OW(){if(AM)return lt;AM=1;var i=z0().FilterCSS,e=z0().getDefaultWhiteList,t=xS();function n(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var r=new i;function s(A,z,P){}function o(A,z,P){}function a(A,z,P){}function l(A,z,P){}function c(A){return A.replace(h,"&lt;").replace(d,"&gt;")}function u(A,z,P,G){if(P=I(P),z==="href"||z==="src"){if(P=t.trim(P),P==="#")return"#";if(!(P.substr(0,7)==="http://"||P.substr(0,8)==="https://"||P.substr(0,7)==="mailto:"||P.substr(0,4)==="tel:"||P.substr(0,11)==="data:image/"||P.substr(0,6)==="ftp://"||P.substr(0,2)==="./"||P.substr(0,3)==="../"||P[0]==="#"||P[0]==="/"))return""}else if(z==="background"){if(y.lastIndex=0,y.test(P))return""}else if(z==="style"){if(w.lastIndex=0,w.test(P)||(b.lastIndex=0,b.test(P)&&(y.lastIndex=0,y.test(P))))return"";G!==!1&&(G=G||r,P=G.process(P))}return P=k(P),P}var h=/</g,d=/>/g,f=/"/g,m=/&quot;/g,p=/&#([a-zA-Z0-9]*);?/gim,g=/&colon;?/gim,v=/&newline;?/gim,y=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,w=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,b=/u\s*r\s*l\s*\(.*/gi;function x(A){return A.replace(f,"&quot;")}function C(A){return A.replace(m,'"')}function E(A){return A.replace(p,function(P,G){return G[0]==="x"||G[0]==="X"?String.fromCharCode(parseInt(G.substr(1),16)):String.fromCharCode(parseInt(G,10))})}function S(A){return A.replace(g,":").replace(v," ")}function R(A){for(var z="",P=0,G=A.length;P<G;P++)z+=A.charCodeAt(P)<32?" ":A.charAt(P);return t.trim(z)}function I(A){return A=C(A),A=E(A),A=S(A),A=R(A),A}function k(A){return A=x(A),A=c(A),A}function M(){return""}function N(A,z){typeof z!="function"&&(z=function(){});var P=!Array.isArray(A);function G(D){return P?!0:t.indexOf(A,D)!==-1}var U=[],K=!1;return{onIgnoreTag:function(D,L,$){if(G(D))if($.isClosing){var j="[/removed]",B=$.position+j.length;return U.push([K!==!1?K:$.position,B]),K=!1,j}else return K||(K=$.position),"[removed]";else return z(D,L,$)},remove:function(D){var L="",$=0;return t.forEach(U,function(j){L+=D.slice($,j[0]),$=j[1]}),L+=D.slice($),L}}}function F(A){for(var z="",P=0;P<A.length;){var G=A.indexOf("<!--",P);if(G===-1){z+=A.slice(P);break}z+=A.slice(P,G);var U=A.indexOf("-->",G);if(U===-1)break;P=U+3}return z}function q(A){var z=A.split("");return z=z.filter(function(P){var G=P.charCodeAt(0);return G===127?!1:G<=31?G===10||G===13:!0}),z.join("")}return lt.whiteList=n(),lt.getDefaultWhiteList=n,lt.onTag=s,lt.onIgnoreTag=o,lt.onTagAttr=a,lt.onIgnoreTagAttr=l,lt.safeAttrValue=u,lt.escapeHtml=c,lt.escapeQuote=x,lt.unescapeQuote=C,lt.escapeHtmlEntities=E,lt.escapeDangerHtml5Entities=S,lt.clearNonPrintableCharacter=R,lt.friendlyAttrValue=I,lt.escapeAttrValue=k,lt.onIgnoreTagStripAll=M,lt.StripTagBody=N,lt.stripCommentTag=F,lt.stripBlankChar=q,lt.attributeWrapSign='"',lt.cssFilter=r,lt.getDefaultCSSWhiteList=e,lt}var kh={},NM;function IW(){if(NM)return kh;NM=1;var i=xS();function e(h){var d=i.spaceIndex(h),f;return d===-1?f=h.slice(1,-1):f=h.slice(1,d+1),f=i.trim(f).toLowerCase(),f.slice(0,1)==="/"&&(f=f.slice(1)),f.slice(-1)==="/"&&(f=f.slice(0,-1)),f}function t(h){return h.slice(0,2)==="</"}function n(h,d,f){var m="",p=0,g=!1,v=!1,y=0,w=h.length,b="",x="";e:for(y=0;y<w;y++){var C=h.charAt(y);if(g===!1){if(C==="<"){g=y;continue}}else if(v===!1){if(C==="<"){m+=f(h.slice(p,y)),g=y,p=y;continue}if(C===">"||y===w-1){m+=f(h.slice(p,g)),x=h.slice(g,y+1),b=e(x),m+=d(g,m.length,b,x,t(x)),p=y+1,g=!1;continue}if(C==='"'||C==="'")for(var E=1,S=h.charAt(y-E);S.trim()===""||S==="=";){if(S==="="){v=C;continue e}S=h.charAt(y-++E)}}else if(C===v){v=!1;continue}}return p<w&&(m+=f(h.substr(p))),m}var r=/[^a-zA-Z0-9\\_:.-]/gim;function s(h,d){var f=0,m=0,p=[],g=!1,v=h.length;function y(E,S){if(E=i.trim(E),E=E.replace(r,"").toLowerCase(),!(E.length<1)){var R=d(E,S||"");R&&p.push(R)}}for(var w=0;w<v;w++){var b=h.charAt(w),x,C;if(g===!1&&b==="="){g=h.slice(f,w),f=w+1,m=h.charAt(f)==='"'||h.charAt(f)==="'"?f:a(h,w+1);continue}if(g!==!1&&w===m){if(C=h.indexOf(b,w+1),C===-1)break;x=i.trim(h.slice(m+1,C)),y(g,x),g=!1,w=C,f=w+1;continue}if(/\s|\n|\t/.test(b))if(h=h.replace(/\s|\n|\t/g," "),g===!1)if(C=o(h,w),C===-1){x=i.trim(h.slice(f,w)),y(x),g=!1,f=w+1;continue}else{w=C-1;continue}else if(C=l(h,w-1),C===-1){x=i.trim(h.slice(f,w)),x=u(x),y(g,x),g=!1,f=w+1;continue}else continue}return f<h.length&&(g===!1?y(h.slice(f)):y(g,u(i.trim(h.slice(f))))),i.trim(p.join(" "))}function o(h,d){for(;d<h.length;d++){var f=h[d];if(f!==" ")return f==="="?d:-1}}function a(h,d){for(;d<h.length;d++){var f=h[d];if(f!==" ")return f==="'"||f==='"'?d:-1}}function l(h,d){for(;d>0;d--){var f=h[d];if(f!==" ")return f==="="?d:-1}}function c(h){return h[0]==='"'&&h[h.length-1]==='"'||h[0]==="'"&&h[h.length-1]==="'"}function u(h){return c(h)?h.substr(1,h.length-2):h}return kh.parseTag=n,kh.parseAttr=s,kh}var Sb,LM;function Xae(){if(LM)return Sb;LM=1;var i=z0().FilterCSS,e=OW(),t=IW(),n=t.parseTag,r=t.parseAttr,s=xS();function o(h){return h==null}function a(h){var d=s.spaceIndex(h);if(d===-1)return{html:"",closing:h[h.length-2]==="/"};h=s.trim(h.slice(d+1,-1));var f=h[h.length-1]==="/";return f&&(h=s.trim(h.slice(0,-1))),{html:h,closing:f}}function l(h){var d={};for(var f in h)d[f]=h[f];return d}function c(h){var d={};for(var f in h)Array.isArray(h[f])?d[f.toLowerCase()]=h[f].map(function(m){return m.toLowerCase()}):d[f.toLowerCase()]=h[f];return d}function u(h){h=l(h||{}),h.stripIgnoreTag&&(h.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),h.onIgnoreTag=e.onIgnoreTagStripAll),h.whiteList||h.allowList?h.whiteList=c(h.whiteList||h.allowList):h.whiteList=e.whiteList,this.attributeWrapSign=h.singleQuotedAttributeValue===!0?"'":e.attributeWrapSign,h.onTag=h.onTag||e.onTag,h.onTagAttr=h.onTagAttr||e.onTagAttr,h.onIgnoreTag=h.onIgnoreTag||e.onIgnoreTag,h.onIgnoreTagAttr=h.onIgnoreTagAttr||e.onIgnoreTagAttr,h.safeAttrValue=h.safeAttrValue||e.safeAttrValue,h.escapeHtml=h.escapeHtml||e.escapeHtml,this.options=h,h.css===!1?this.cssFilter=!1:(h.css=h.css||{},this.cssFilter=new i(h.css))}return u.prototype.process=function(h){if(h=h||"",h=h.toString(),!h)return"";var d=this,f=d.options,m=f.whiteList,p=f.onTag,g=f.onIgnoreTag,v=f.onTagAttr,y=f.onIgnoreTagAttr,w=f.safeAttrValue,b=f.escapeHtml,x=d.attributeWrapSign,C=d.cssFilter;f.stripBlankChar&&(h=e.stripBlankChar(h)),f.allowCommentTag||(h=e.stripCommentTag(h));var E=!1;f.stripIgnoreTagBody&&(E=e.StripTagBody(f.stripIgnoreTagBody,g),g=E.onIgnoreTag);var S=n(h,function(R,I,k,M,N){var F={sourcePosition:R,position:I,isClosing:N,isWhite:Object.prototype.hasOwnProperty.call(m,k)},q=p(k,M,F);if(!o(q))return q;if(F.isWhite){if(F.isClosing)return"</"+k+">";var A=a(M),z=m[k],P=r(A.html,function(G,U){var K=s.indexOf(z,G)!==-1,D=v(k,G,U,K);return o(D)?K?(U=w(k,G,U,C),U?G+"="+x+U+x:G):(D=y(k,G,U,K),o(D)?void 0:D):D});return M="<"+k,P&&(M+=" "+P),A.closing&&(M+=" /"),M+=">",M}else return q=g(k,M,F),o(q)?b(M):q},b);return E&&(S=E.remove(S)),S},Sb=u,Sb}var FM;function Kae(){return FM||(FM=1,(function(i,e){var t=OW(),n=IW(),r=Xae();function s(a,l){var c=new r(l);return c.process(a)}e=i.exports=s,e.filterXSS=s,e.FilterXSS=r,(function(){for(var a in t)e[a]=t[a];for(var l in n)e[l]=n[l]})(),typeof window<"u"&&(window.filterXSS=i.exports);function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=i.exports)})(Dh,Dh.exports)),Dh.exports}var Zae=Kae();const Qae=X0(Zae);var Jl=null;function q0(i,e){var t=e||{preventDefault:!1};if(i.Manager){var n=i,r=function(c,u){var h=Object.create(t);return u&&n.assign(h,u),q0(new n(c,h),h)};return n.assign(r,n),r.Manager=function(c,u){var h=Object.create(t);return u&&n.assign(h,u),q0(new n.Manager(c,h),h)},r}var s=Object.create(i),o=i.element;o.hammer||(o.hammer=[]),o.hammer.push(s),i.on("hammer.input",function(c){(t.preventDefault===!0||t.preventDefault===c.pointerType)&&c.preventDefault(),c.isFirst&&(Jl=c.target)}),s._handlers={},s.on=function(c,u){return a(c).forEach(function(h){var d=s._handlers[h];d||(s._handlers[h]=d=[],i.on(h,l)),d.push(u)}),s},s.off=function(c,u){return a(c).forEach(function(h){var d=s._handlers[h];d&&(d=u?d.filter(function(f){return f!==u}):[],d.length>0?s._handlers[h]=d:(i.off(h,l),delete s._handlers[h]))}),s},s.emit=function(c,u){Jl=u.target,i.emit(c,u)},s.destroy=function(){var c=i.element.hammer,u=c.indexOf(s);u!==-1&&c.splice(u,1),c.length||delete i.element.hammer,s._handlers={},i.destroy()};function a(c){return c.match(/[^ ]+/g)}function l(c){if(c.type!=="hammer.input"){if(c.srcEvent._handled||(c.srcEvent._handled={}),c.srcEvent._handled[c.type])return;c.srcEvent._handled[c.type]=!0}var u=!1;c.stopPropagation=function(){u=!0};var h=c.srcEvent.stopPropagation.bind(c.srcEvent);typeof h=="function"&&(c.srcEvent.stopPropagation=function(){h(),c.stopPropagation()}),c.firstTarget=Jl;for(var d=Jl.isConnected?Jl:c.target;d&&!u;){var f=d.hammer;if(f){for(var m,p=0;p<f.length;p++)if(m=f[p]._handlers[c.type],m)for(var g=0;g<m.length&&!u;g++)m[g](c)}d=d.parentNode}}return s}function Jae(i){var e=window,t={},n={keydown:{},keyup:{}},r={},s;for(s=97;s<=122;s++)r[String.fromCharCode(s)]={code:65+(s-97),shift:!1};for(s=65;s<=90;s++)r[String.fromCharCode(s)]={code:s,shift:!0};for(s=0;s<=9;s++)r[""+s]={code:48+s,shift:!1};for(s=1;s<=12;s++)r["F"+s]={code:111+s,shift:!1};for(s=0;s<=9;s++)r["num"+s]={code:96+s,shift:!1};r["num*"]={code:106,shift:!1},r["num+"]={code:107,shift:!1},r["num-"]={code:109,shift:!1},r["num/"]={code:111,shift:!1},r["num."]={code:110,shift:!1},r.left={code:37,shift:!1},r.up={code:38,shift:!1},r.right={code:39,shift:!1},r.down={code:40,shift:!1},r.space={code:32,shift:!1},r.enter={code:13,shift:!1},r.shift={code:16,shift:void 0},r.esc={code:27,shift:!1},r.backspace={code:8,shift:!1},r.tab={code:9,shift:!1},r.ctrl={code:17,shift:!1},r.alt={code:18,shift:!1},r.delete={code:46,shift:!1},r.pageup={code:33,shift:!1},r.pagedown={code:34,shift:!1},r["="]={code:187,shift:!1},r["-"]={code:189,shift:!1},r["]"]={code:221,shift:!1},r["["]={code:219,shift:!1};var o=function(c){l(c,"keydown")},a=function(c){l(c,"keyup")},l=function(c,u){if(n[u][c.keyCode]!==void 0)for(var h=n[u][c.keyCode],d=0;d<h.length;d++)(h[d].shift===void 0||h[d].shift==!0&&c.shiftKey==!0||h[d].shift==!1&&c.shiftKey==!1)&&h[d].fn(c)};return t.bind=function(c,u,h){if(h===void 0&&(h="keydown"),r[c]===void 0)throw new Error("unsupported key: "+c);n[h][r[c].code]===void 0&&(n[h][r[c].code]=[]),n[h][r[c].code].push({fn:u,shift:r[c].shift})},t.bindAll=function(c,u){u===void 0&&(u="keydown");for(var h in r)r.hasOwnProperty(h)&&t.bind(h,c,u)},t.getKey=function(c){for(var u in r)if(r.hasOwnProperty(u)){if(c.shiftKey==!0&&r[u].shift==!0&&c.keyCode==r[u].code)return u;if(c.shiftKey==!1&&r[u].shift==!1&&c.keyCode==r[u].code)return u;if(c.keyCode==r[u].code&&u=="shift")return u}return"unknown key, currently not supported"},t.unbind=function(c,u,h){if(h===void 0&&(h="keydown"),r[c]===void 0)throw new Error("unsupported key: "+c);if(u!==void 0){var d=[],f=n[h][r[c].code];if(f!==void 0)for(var m=0;m<f.length;m++)f[m].fn==u&&f[m].shift==r[c].shift||d.push(n[h][r[c].code][m]);n[h][r[c].code]=d}else n[h][r[c].code]=[]},t.reset=function(){n={keydown:{},keyup:{}}},t.destroy=function(){n={keydown:{},keyup:{}},e.removeEventListener("keydown",o,!0),e.removeEventListener("keyup",a,!0)},e.addEventListener("keydown",o,!0),e.addEventListener("keyup",a,!0),t}/**
 * vis-timeline and vis-graph2d
 * https://visjs.github.io/vis-timeline/
 *
 * Create a fully customizable, interactive timeline with items and ranges.
 *
 * @version 8.3.1
 * @date    2025-09-15T17:43:30.491Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */const wi=typeof window<"u"&&window.moment||X;function Lr(i){if(!i)return!1;let e=i.idProp??i._idProp;return e?Hae(e,i):!1}const Eb=/^\/?Date\((-?\d+)/i,ele=/^\d+$/;function SS(i,e){let t;if(i!==void 0){if(i===null)return null;if(!e)return i;if(typeof e!="string"&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return!!i;case"number":case"Number":return Mi(i)&&!isNaN(Date.parse(i))?X(i).valueOf():Number(i.valueOf());case"string":case"String":return String(i);case"Date":try{return SS(i,"Moment").toDate()}catch(n){throw n instanceof TypeError?new TypeError("Cannot convert object of type "+cc(i)+" to type "+e):n}case"Moment":if(wc(i))return X(i);if(i instanceof Date)return X(i.valueOf());if(X.isMoment(i))return X(i);if(Mi(i))return t=Eb.exec(i),t?X(Number(t[1])):(t=ele.exec(i),X(t?Number(i):i));throw new TypeError("Cannot convert object of type "+cc(i)+" to type "+e);case"ISODate":if(wc(i))return new Date(i);if(i instanceof Date)return i.toISOString();if(X.isMoment(i))return i.toDate().toISOString();if(Mi(i))return t=Eb.exec(i),t?new Date(Number(t[1])).toISOString():X(i).format();throw new Error("Cannot convert object of type "+cc(i)+" to type ISODate");case"ASPDate":if(wc(i))return"/Date("+i+")/";if(i instanceof Date||X.isMoment(i))return"/Date("+i.valueOf()+")/";if(Mi(i)){t=Eb.exec(i);let n;return t?n=new Date(Number(t[1])).valueOf():n=new Date(i).valueOf(),"/Date("+n+")/"}else throw new Error("Cannot convert object of type "+cc(i)+" to type ASPDate");default:throw new Error(`Unknown type ${e}`)}}}function hl(i,e={start:"Date",end:"Date"}){const t=i._idProp,n=new ul({fieldId:t}),r=zae(i).map(s=>Object.keys(s).reduce((o,a)=>(o[a]=SS(s[a],e[a]),o),{})).to(n);return r.all().start(),{add:(...s)=>i.getDataSet().add(...s),remove:(...s)=>i.getDataSet().remove(...s),update:(...s)=>i.getDataSet().update(...s),updateOnly:(...s)=>i.getDataSet().updateOnly(...s),clear:(...s)=>i.getDataSet().clear(...s),forEach:n.forEach.bind(n),get:n.get.bind(n),getIds:n.getIds.bind(n),off:n.off.bind(n),on:n.on.bind(n),get length(){return n.length},idProp:t,type:e,rawDS:i,coercedDS:n,dispose:()=>r.stop()}}const DW=i=>{const e=new Qae.FilterXSS(i);return t=>typeof t=="string"?e.process(t):t},tle=i=>i;let G0=DW();const ile=i=>{i&&(i.disabled===!0?(G0=tle,console.warn("You disabled XSS protection for vis-Timeline. I sure hope you know what you're doing!")):i.filterOptions&&(G0=DW(i.filterOptions)))},O={...Nae,convert:SS,setupXSSProtection:ile};Object.defineProperty(O,"xss",{get:function(){return G0}});class Ds{constructor(){this.options=null,this.props=null}setOptions(e){e&&O.extend(this.options,e)}redraw(){return!1}destroy(){}_isResized(){const e=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,e}}function ES(i,e,t){if(t&&!Array.isArray(t))return ES(i,e,[t]);if(e.hiddenDates=[],t&&Array.isArray(t)==!0){for(let n=0;n<t.length;n++)if(t[n].repeat===void 0){const r={};r.start=i(t[n].start).toDate().valueOf(),r.end=i(t[n].end).toDate().valueOf(),e.hiddenDates.push(r)}e.hiddenDates.sort((n,r)=>n.start-r.start)}}function Rd(i,e,t){if(t&&!Array.isArray(t))return Rd(i,e,[t]);if(t&&e.domProps.centerContainer.width!==void 0){ES(i,e,t);const n=i(e.range.start),r=i(e.range.end),o=(e.range.end-e.range.start)/e.domProps.centerContainer.width;for(let h=0;h<t.length;h++)if(t[h].repeat!==void 0){let d=i(t[h].start),f=i(t[h].end);if(d._d=="Invalid Date")throw new Error(`Supplied start date is not valid: ${t[h].start}`);if(f._d=="Invalid Date")throw new Error(`Supplied end date is not valid: ${t[h].end}`);if(f-d>=4*o){let p=0,g=r.clone();switch(t[h].repeat){case"daily":d.day()!=f.day()&&(p=1),d=d.dayOfYear(n.dayOfYear()).year(n.year()).subtract(7,"days"),f=f.dayOfYear(n.dayOfYear()).year(n.year()).subtract(7-p,"days"),g.add(1,"weeks");break;case"weekly":{const v=f.diff(d,"days"),y=d.day();d=d.date(n.date()).month(n.month()).year(n.year()),f=d.clone(),d=d.day(y).subtract(1,"weeks"),f=f.day(y).add(v,"days").subtract(1,"weeks"),g.add(1,"weeks");break}case"monthly":d.month()!=f.month()&&(p=1),d=d.month(n.month()).year(n.year()).subtract(1,"months"),f=f.month(n.month()).year(n.year()).subtract(1,"months").add(p,"months"),g.add(1,"months");break;case"yearly":d.year()!=f.year()&&(p=1),d=d.year(n.year()).subtract(1,"years"),f=f.year(n.year()).subtract(1,"years").add(p,"years"),g.add(1,"years");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",t[h].repeat);return}for(;d<g;)switch(e.hiddenDates.push({start:d.valueOf(),end:f.valueOf()}),t[h].repeat){case"daily":d=d.add(1,"days"),f=f.add(1,"days");break;case"weekly":d=d.add(1,"weeks"),f=f.add(1,"weeks");break;case"monthly":d=d.add(1,"months"),f=f.add(1,"months");break;case"yearly":d=d.add(1,"y"),f=f.add(1,"y");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",t[h].repeat);return}e.hiddenDates.push({start:d.valueOf(),end:f.valueOf()})}}nle(e);const a=Id(e.range.start,e.hiddenDates),l=Id(e.range.end,e.hiddenDates);let c=e.range.start,u=e.range.end;a.hidden==!0&&(c=e.range.startToFront==!0?a.startDate-1:a.endDate+1),l.hidden==!0&&(u=e.range.endToFront==!0?l.startDate-1:l.endDate+1),(a.hidden==!0||l.hidden==!0)&&e.range._applyRange(c,u)}}function nle(i){const e=i.hiddenDates,t=[];for(var n=0;n<e.length;n++)for(let r=0;r<e.length;r++)n!=r&&e[r].remove!=!0&&e[n].remove!=!0&&(e[r].start>=e[n].start&&e[r].end<=e[n].end?e[r].remove=!0:e[r].start>=e[n].start&&e[r].start<=e[n].end?(e[n].end=e[r].end,e[r].remove=!0):e[r].end>=e[n].start&&e[r].end<=e[n].end&&(e[n].start=e[r].start,e[r].remove=!0));for(n=0;n<e.length;n++)e[n].remove!==!0&&t.push(e[n]);i.hiddenDates=t,i.hiddenDates.sort((r,s)=>r.start-s.start)}function rle(i,e,t){let n=!1;const r=e.current.valueOf();for(let o=0;o<e.hiddenDates.length;o++){const a=e.hiddenDates[o].start;var s=e.hiddenDates[o].end;if(r>=a&&r<s){n=!0;break}}if(n==!0&&r<e._end.valueOf()&&r!=t){const o=i(t),a=i(s);o.year()!=a.year()?e.switchedYear=!0:o.month()!=a.month()?e.switchedMonth=!0:o.dayOfYear()!=a.dayOfYear()&&(e.switchedDay=!0),e.current=a}}function $M(i,e,t){let n;if(i.body.hiddenDates.length==0)return n=i.range.conversion(t),(e.valueOf()-n.offset)*n.scale;{const r=Id(e,i.body.hiddenDates);r.hidden==!0&&(e=r.startDate);const s=Sc(i.body.hiddenDates,i.range.start,i.range.end);if(e<i.range.start){n=i.range.conversion(t,s);const o=sle(i.body.hiddenDates,e,n.offset);return e=i.options.moment(e).toDate().valueOf(),e=e+o,-(n.offset-e.valueOf())*n.scale}else if(e>i.range.end){const o={start:i.range.start,end:e};return e=WM(i.options.moment,i.body.hiddenDates,o,e),n=i.range.conversion(t,s),(e.valueOf()-n.offset)*n.scale}else return e=WM(i.options.moment,i.body.hiddenDates,i.range,e),n=i.range.conversion(t,s),(e.valueOf()-n.offset)*n.scale}}function jM(i,e,t){if(i.body.hiddenDates.length==0){const n=i.range.conversion(t);return new Date(e/n.scale+n.offset)}else{const n=Sc(i.body.hiddenDates,i.range.start,i.range.end),s=(i.range.end-i.range.start-n)*e/t,o=ole(i.body.hiddenDates,i.range,s);return new Date(o+s+i.range.start)}}function Sc(i,e,t){let n=0;for(let r=0;r<i.length;r++){const s=i[r].start,o=i[r].end;s>=e&&o<t&&(n+=o-s)}return n}function sle(i,e,t){let n=0;for(let r=0;r<i.length;r++){const s=i[r].start,o=i[r].end;s>=e&&o<=t&&(n+=o-s)}return n}function WM(i,e,t,n){return n=i(n).toDate().valueOf(),n-=Od(i,e,t,n),n}function Od(i,e,t,n){let r=0;n=i(n).toDate().valueOf();for(let s=0;s<e.length;s++){const o=e[s].start,a=e[s].end;o>=t.start&&a<t.end&&n>=a&&(r+=a-o)}return r}function ole(i,e,t){let n=0,r=0,s=e.start;for(let o=0;o<i.length;o++){const a=i[o].start,l=i[o].end;if(a>=e.start&&l<e.end){if(r+=a-s,s=l,r>=t)break;n+=l-a}}return n}function Ys(i,e,t,n){const r=Id(e,i);return r.hidden==!0?t<0?n==!0?r.startDate-(r.endDate-e)-1:r.startDate-1:n==!0?r.endDate+(e-r.startDate)+1:r.endDate+1:e}function Id(i,e){for(let r=0;r<e.length;r++){var t=e[r].start,n=e[r].end;if(i>=t&&i<n)return{hidden:!0,startDate:t,endDate:n}}return{hidden:!1,startDate:t,endDate:n}}class Xf extends Ds{constructor(e,t){super();const n=wi().hours(0).minutes(0).seconds(0).milliseconds(0),r=n.clone().add(-3,"days").valueOf(),s=n.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,t===void 0?(this.start=r,this.end=s):(this.start=t.start||r,this.end=t.end||s),this.rolling=!1,this.body=e,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:wi,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:1e3*60*60*24*365*1e4,rollingMode:{follow:!1,offset:.5}},this.options=O.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(t)}setOptions(e){if(e){const t=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","zoomFriction","rtl","showCurrentTime","rollingMode","horizontalScroll","horizontalScrollKey","horizontalScrollInvert","verticalScroll"];O.selectiveExtend(t,this.options,e),e.rollingMode&&e.rollingMode.follow&&this.startRolling(),("start"in e||"end"in e)&&this.setRange(e.start,e.end)}}startRolling(){const e=this;function t(){e.stopRolling(),e.rolling=!0;let n=e.end-e.start;const r=O.convert(new Date,"Date").valueOf(),s=e.options.rollingMode&&e.options.rollingMode.offset||.5,o=r-n*s,a=r+n*(1-s),l={animation:!1};e.setRange(o,a,l),n=1/e.conversion(e.body.domProps.center.width).scale/10,n<30&&(n=30),n>1e3&&(n=1e3),e.body.dom.rollingModeBtn.style.visibility="hidden",e.currentTimeTimer=setTimeout(t,n)}t()}stopRolling(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")}setRange(e,t,n,r,s){n||(n={}),n.byUser!==!0&&(n.byUser=!1);const o=this,a=e!=null?O.convert(e,"Date").valueOf():null,l=t!=null?O.convert(t,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,n.animation){const u=this.start,h=this.end,d=typeof n.animation=="object"&&"duration"in n.animation?n.animation.duration:500,f=typeof n.animation=="object"&&"easingFunction"in n.animation?n.animation.easingFunction:"easeInOutQuad",m=O.easingFunctions[f];if(!m)throw new Error(`Unknown easing function ${JSON.stringify(f)}. Choose from: ${Object.keys(O.easingFunctions).join(", ")}`);const p=Date.now();let g=!1;const v=()=>{if(!o.props.touch.dragging){const w=Date.now()-p,b=m(w/d),x=w>d,C=x||a===null?a:u+(a-u)*b,E=x||l===null?l:h+(l-h)*b;c=o._applyRange(C,E),Rd(o.options.moment,o.body,o.options.hiddenDates),g=g||c;const S={start:new Date(o.start),end:new Date(o.end),byUser:n.byUser,event:n.event};if(s&&s(b,c,x),c&&o.body.emitter.emit("rangechange",S),x){if(g&&(o.body.emitter.emit("rangechanged",S),r))return r()}else o.animationTimer=setTimeout(v,20)}};return v()}else{var c=this._applyRange(a,l);if(Rd(this.options.moment,this.body,this.options.hiddenDates),c){const u={start:new Date(this.start),end:new Date(this.end),byUser:n.byUser,event:n.event};if(this.body.emitter.emit("rangechange",u),clearTimeout(o.timeoutID),o.timeoutID=setTimeout(()=>{o.body.emitter.emit("rangechanged",u)},200),r)return r()}}}getMillisecondsPerPixel(){return this.millisecondsPerPixelCache===void 0&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache}_cancelAnimation(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)}_applyRange(e,t){let n=e!=null?O.convert(e,"Date").valueOf():this.start,r=t!=null?O.convert(t,"Date").valueOf():this.end;const s=this.options.max!=null?O.convert(this.options.max,"Date").valueOf():null,o=this.options.min!=null?O.convert(this.options.min,"Date").valueOf():null;let a;if(isNaN(n)||n===null)throw new Error(`Invalid start "${e}"`);if(isNaN(r)||r===null)throw new Error(`Invalid end "${t}"`);if(r<n&&(r=n),o!==null&&n<o&&(a=o-n,n+=a,r+=a,s!=null&&r>s&&(r=s)),s!==null&&r>s&&(a=r-s,n-=a,r-=a,o!=null&&n<o&&(n=o)),this.options.zoomMin!==null){let c=parseFloat(this.options.zoomMin);c<0&&(c=0),r-n<c&&(this.end-this.start===c&&n>=this.start-.5&&r<=this.end?(n=this.start,r=this.end):(a=c-(r-n),n-=a/2,r+=a/2))}if(this.options.zoomMax!==null){let c=parseFloat(this.options.zoomMax);c<0&&(c=0),r-n>c&&(this.end-this.start===c&&n<this.start&&r>this.end?(n=this.start,r=this.end):(a=r-n-c,n+=a/2,r-=a/2))}const l=this.start!=n||this.end!=r;return!(n>=this.start&&n<=this.end||r>=this.start&&r<=this.end)&&!(this.start>=n&&this.start<=r||this.end>=n&&this.end<=r)&&this.body.emitter.emit("checkRangedItems"),this.start=n,this.end=r,l}getRange(){return{start:this.start,end:this.end}}conversion(e,t){return Xf.conversion(this.start,this.end,e,t)}static conversion(e,t,n,r){return r===void 0&&(r=0),n!=0&&t-e!=0?{offset:e,scale:n/(t-e-r)}:{offset:0,scale:1}}_onDragStart(e){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(e)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))}_onDrag(e){if(!e||!this.props.touch.dragging||!this.options.moveable||!this.props.touch.allowDragging)return;const t=this.options.direction;zM(t);let n=t=="horizontal"?e.deltaX:e.deltaY;n-=this.deltaDifference;let r=this.props.touch.end-this.props.touch.start;const s=Sc(this.body.hiddenDates,this.start,this.end);r-=s;const o=t=="horizontal"?this.body.domProps.center.width:this.body.domProps.center.height;let a;this.options.rtl?a=n/o*r:a=-n/o*r;const l=this.props.touch.start+a,c=this.props.touch.end+a,u=Ys(this.body.hiddenDates,l,this.previousDelta-n,!0),h=Ys(this.body.hiddenDates,c,this.previousDelta-n,!0);if(u!=l||h!=c){this.deltaDifference+=n,this.props.touch.start=u,this.props.touch.end=h,this._onDrag(e);return}this.previousDelta=n,this._applyRange(l,c);const d=new Date(this.start),f=new Date(this.end);this.body.emitter.emit("rangechange",{start:d,end:f,byUser:!0,event:e}),this.body.emitter.emit("panmove")}_onDragEnd(e){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:e}))}_onMouseWheel(e){let t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail?t=-e.detail/3:e.deltaY&&(t=-e.deltaY/3),!(this.options.zoomKey&&!e[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(e)&&t){const n=this.options.zoomFriction||5;let r;t<0?r=1-t/n:r=1/(1+t/n);let s;if(this.rolling){const o=this.options.rollingMode&&this.options.rollingMode.offset||.5;s=this.start+(this.end-this.start)*o}else{const o=this.getPointer({x:e.clientX,y:e.clientY},this.body.dom.center);s=this._pointerToDate(o)}this.zoom(r,s,t,e),e.preventDefault()}}_onTouch(e){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.props.touch.centerDate=null,this.scaleOffset=0,this.deltaDifference=0,O.preventDefault(e)}_onPinch(e){if(!(this.options.zoomable&&this.options.moveable))return;O.preventDefault(e),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(e.center,this.body.dom.center),this.props.touch.centerDate=this._pointerToDate(this.props.touch.center)),this.stopRolling();const t=1/(e.scale+this.scaleOffset),n=this.props.touch.centerDate,r=Sc(this.body.hiddenDates,this.start,this.end),s=Od(this.options.moment,this.body.hiddenDates,this,n),o=r-s;let a=n-s+(this.props.touch.start-(n-s))*t,l=n+o+(this.props.touch.end-(n+o))*t;this.startToFront=1-t<=0,this.endToFront=t-1<=0;const c=Ys(this.body.hiddenDates,a,1-t,!0),u=Ys(this.body.hiddenDates,l,t-1,!0);(c!=a||u!=l)&&(this.props.touch.start=c,this.props.touch.end=u,this.scaleOffset=1-e.scale,a=c,l=u);const h={animation:!1,byUser:!0,event:e};this.setRange(a,l,h),this.startToFront=!1,this.endToFront=!0}_isInsideRange(e){const t=e.center?e.center.x:e.clientX,n=this.body.dom.centerContainer.getBoundingClientRect(),r=this.options.rtl?t-n.left:n.right-t,s=this.body.util.toTime(r);return s>=this.start&&s<=this.end}_pointerToDate(e){let t;const n=this.options.direction;if(zM(n),n=="horizontal")return this.body.util.toTime(e.x).valueOf();{const r=this.body.domProps.center.height;return t=this.conversion(r),e.y/t.scale+t.offset}}getPointer(e,t){const n=t.getBoundingClientRect();return this.options.rtl?{x:n.right-e.x,y:e.y-n.top}:{x:e.x-n.left,y:e.y-n.top}}zoom(e,t,n,r){t==null&&(t=(this.start+this.end)/2);const s=Sc(this.body.hiddenDates,this.start,this.end),o=Od(this.options.moment,this.body.hiddenDates,this,t),a=s-o;let l=t-o+(this.start-(t-o))*e,c=t+a+(this.end-(t+a))*e;this.startToFront=!(n>0),this.endToFront=!(-n>0);const u=Ys(this.body.hiddenDates,l,n,!0),h=Ys(this.body.hiddenDates,c,-n,!0);(u!=l||h!=c)&&(l=u,c=h);const d={animation:!1,byUser:!0,event:r};this.setRange(l,c,d),this.startToFront=!1,this.endToFront=!0}move(e){const t=this.end-this.start,n=this.start+t*e,r=this.end+t*e;this.start=n,this.end=r}moveTo(e){const n=(this.start+this.end)/2-e,r=this.start-n,s=this.end-n,o={animation:!1,byUser:!0,event:null};this.setRange(r,s,o)}destroy(){this.stopRolling()}}function zM(i){if(i!="horizontal"&&i!="vertical")throw new TypeError(`Unknown direction "${i}". Choose "horizontal" or "vertical".`)}function ale(){const i=()=>{};return{on:i,off:i,destroy:i,emit:i,get(){return{set:i}}}}let Y0;if(typeof window<"u"){const i=window.Hammer||dS;Y0=q0(i,{preventDefault:"mouse"})}else Y0=function(){return ale()};var ai=Y0;function PW(i,e){e.inputHandler=function(t){t.isFirst&&e(t)},i.on("hammer.input",e.inputHandler)}function lle(i,e){return e.inputHandler=function(t){t.isFinal&&e(t)},i.on("hammer.input",e.inputHandler)}function cle(i){const e="pan-y";return i.getTouchAction=function(){return[e]},i}class Ro{constructor(e,t,n,r,s){this.moment=s&&s.moment||wi,this.options=s||{},this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(e,t,n),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(r)?this.hiddenDates=r:r!=null?this.hiddenDates=[r]:this.hiddenDates=[],this.format=Ro.FORMAT}setMoment(e){this.moment=e,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())}setFormat(e){const t=O.deepExtend({},Ro.FORMAT);this.format=O.deepExtend(t,e)}setRange(e,t,n){if(!(e instanceof Date)||!(t instanceof Date))throw"No legal start or end date in method setRange";this._start=e!=null?this.moment(e.valueOf()):Date.now(),this._end=t!=null?this.moment(t.valueOf()):Date.now(),this.autoScale&&this.setMinimumStep(n)}start(){this.current=this._start.clone(),this.roundToMinor()}roundToMinor(){switch(this.scale=="week"&&this.current.weekday(0),this.scale){case"year":this.current=this.current.year(this.step*Math.floor(this.current.year()/this.step)).month(0);case"month":this.current=this.current.date(1);case"week":case"day":case"weekday":this.current=this.current.hours(0);case"hour":this.current=this.current.minutes(0);case"minute":this.current=this.current.seconds(0);case"second":this.current=this.current.milliseconds(0)}if(this.step!=1){let e=this.current.clone();switch(this.scale){case"millisecond":this.current=this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current=this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current=this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current=this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current=this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current=this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current=this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current=this.current.subtract(this.current.year()%this.step,"year");break}e.isSame(this.current)||(this.current=this.moment(Ys(this.hiddenDates,this.current.valueOf(),-1,!0)))}}hasNext(){return this.current.valueOf()<=this._end.valueOf()}next(){const e=this.current.valueOf();switch(this.scale){case"millisecond":this.current=this.current.add(this.step,"millisecond");break;case"second":this.current=this.current.add(this.step,"second");break;case"minute":this.current=this.current.add(this.step,"minute");break;case"hour":this.current=this.current.add(this.step,"hour"),this.current.month()<6?this.current=this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!==0&&(this.current=this.current.add(this.step-this.current.hours()%this.step,"hour"));break;case"weekday":case"day":this.current=this.current.add(this.step,"day");break;case"week":if(this.current.weekday()!==0)this.current=this.current.weekday(0).add(this.step,"week");else if(this.options.showMajorLabels===!1)this.current=this.current.add(this.step,"week");else{const t=this.current.clone();t.add(1,"week"),t.isSame(this.current,"month")?this.current=this.current.add(this.step,"week"):this.current=this.current.add(this.step,"week").date(1)}break;case"month":this.current=this.current.add(this.step,"month");break;case"year":this.current=this.current.add(this.step,"year");break}if(this.step!=1)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&(this.current=this.current.milliseconds(0));break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&(this.current=this.current.seconds(0));break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&(this.current=this.current.minutes(0));break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&(this.current=this.current.hours(0));break;case"weekday":case"day":this.current.date()<this.step+1&&(this.current=this.current.date(1));break;case"week":this.current.week()<this.step&&(this.current=this.current.week(1));break;case"month":this.current.month()<this.step&&(this.current=this.current.month(0));break}this.current.valueOf()==e&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,rle(this.moment,this,e)}getCurrent(){return this.current.clone()}setScale(e){e&&typeof e.scale=="string"&&(this.scale=e.scale,this.step=e.step>0?e.step:1,this.autoScale=!1)}setAutoScale(e){this.autoScale=e}setMinimumStep(e){if(e==null)return;const t=1e3*60*60*24*30*12,n=1e3*60*60*24*30,r=1e3*60*60*24,s=1e3*60*60,o=1e3*60,a=1e3,l=1;t*1e3>e&&(this.scale="year",this.step=1e3),t*500>e&&(this.scale="year",this.step=500),t*100>e&&(this.scale="year",this.step=100),t*50>e&&(this.scale="year",this.step=50),t*10>e&&(this.scale="year",this.step=10),t*5>e&&(this.scale="year",this.step=5),t>e&&(this.scale="year",this.step=1),n*3>e&&(this.scale="month",this.step=3),n>e&&(this.scale="month",this.step=1),r*7>e&&this.options.showWeekScale&&(this.scale="week",this.step=1),r*2>e&&(this.scale="day",this.step=2),r>e&&(this.scale="day",this.step=1),r/2>e&&(this.scale="weekday",this.step=1),s*4>e&&(this.scale="hour",this.step=4),s>e&&(this.scale="hour",this.step=1),o*15>e&&(this.scale="minute",this.step=15),o*10>e&&(this.scale="minute",this.step=10),o*5>e&&(this.scale="minute",this.step=5),o>e&&(this.scale="minute",this.step=1),a*15>e&&(this.scale="second",this.step=15),a*10>e&&(this.scale="second",this.step=10),a*5>e&&(this.scale="second",this.step=5),a>e&&(this.scale="second",this.step=1),l*200>e&&(this.scale="millisecond",this.step=200),l*100>e&&(this.scale="millisecond",this.step=100),l*50>e&&(this.scale="millisecond",this.step=50),l*10>e&&(this.scale="millisecond",this.step=10),l*5>e&&(this.scale="millisecond",this.step=5),l>e&&(this.scale="millisecond",this.step=1)}static snap(e,t,n){let r=wi(e);if(t=="year"){const s=r.year()+Math.round(r.month()/12);r=r.year(Math.round(s/n)*n).month(0).date(0).hours(0).minutes(0).seconds(0).milliseconds(0)}else if(t=="month")r.date()>15?r=r.date(1).add(1,"month"):r=r.date(1),r=r.hours(0).minutes(0).seconds(0).milliseconds(0);else if(t=="week")r.weekday()>2?r=r.weekday(0).add(1,"week"):r=r.weekday(0),r=r.hours(0).minutes(0).seconds(0).milliseconds(0);else if(t=="day"){switch(n){case 5:case 2:r=r.hours(Math.round(r.hours()/24)*24);break;default:r=r.hours(Math.round(r.hours()/12)*12);break}r=r.minutes(0).seconds(0).milliseconds(0)}else if(t=="weekday"){switch(n){case 5:case 2:r=r.hours(Math.round(r.hours()/12)*12);break;default:r=r.hours(Math.round(r.hours()/6)*6);break}r=r.minutes(0).seconds(0).milliseconds(0)}else if(t=="hour"){switch(n){case 4:r=r.minutes(Math.round(r.minutes()/60)*60);break;default:r=r.minutes(Math.round(r.minutes()/30)*30);break}r=r.seconds(0).milliseconds(0)}else if(t=="minute"){switch(n){case 15:case 10:r=r.minutes(Math.round(r.minutes()/5)*5).seconds(0);break;case 5:r=r.seconds(Math.round(r.seconds()/60)*60);break;default:r=r.seconds(Math.round(r.seconds()/30)*30);break}r=r.milliseconds(0)}else if(t=="second")switch(n){case 15:case 10:r=r.seconds(Math.round(r.seconds()/5)*5).milliseconds(0);break;case 5:r=r.milliseconds(Math.round(r.milliseconds()/1e3)*1e3);break;default:r=r.milliseconds(Math.round(r.milliseconds()/500)*500);break}else if(t=="millisecond"){const s=n>5?n/2:1;r=r.milliseconds(Math.round(r.milliseconds()/s)*s)}return r}isMajor(){if(this.switchedYear==!0)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedMonth==!0)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedDay==!0)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}const e=this.moment(this.current);switch(this.scale){case"millisecond":return e.milliseconds()==0;case"second":return e.seconds()==0;case"minute":return e.hours()==0&&e.minutes()==0;case"hour":return e.hours()==0;case"weekday":case"day":return this.options.showWeekScale?e.isoWeekday()==1:e.date()==1;case"week":return e.date()==1;case"month":return e.month()==0;case"year":return!1;default:return!1}}getLabelMinor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.minorLabels=="function")return this.format.minorLabels(e,this.scale,this.step);const t=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(e.date()===1&&e.weekday()!==0)return"";default:return t&&t.length>0?this.moment(e).format(t):""}}getLabelMajor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.majorLabels=="function")return this.format.majorLabels(e,this.scale,this.step);const t=this.format.majorLabels[this.scale];return t&&t.length>0?this.moment(e).format(t):""}getClassName(){const e=this.moment,t=this.moment(this.current),n=t.locale?t.locale("en"):t.lang("en"),r=this.step,s=[];function o(h){return h/r%2==0?" vis-even":" vis-odd"}function a(h){return h.isSame(Date.now(),"day")?" vis-today":h.isSame(e().add(1,"day"),"day")?" vis-tomorrow":h.isSame(e().add(-1,"day"),"day")?" vis-yesterday":""}function l(h){return h.isSame(Date.now(),"week")?" vis-current-week":""}function c(h){return h.isSame(Date.now(),"month")?" vis-current-month":""}function u(h){return h.isSame(Date.now(),"year")?" vis-current-year":""}switch(this.scale){case"millisecond":s.push(a(n)),s.push(o(n.milliseconds()));break;case"second":s.push(a(n)),s.push(o(n.seconds()));break;case"minute":s.push(a(n)),s.push(o(n.minutes()));break;case"hour":s.push(`vis-h${n.hours()}${this.step==4?"-h"+(n.hours()+4):""}`),s.push(a(n)),s.push(o(n.hours()));break;case"weekday":s.push(`vis-${n.format("dddd").toLowerCase()}`),s.push(a(n)),s.push(l(n)),s.push(o(n.date()));break;case"day":s.push(`vis-day${n.date()}`),s.push(`vis-${n.format("MMMM").toLowerCase()}`),s.push(a(n)),s.push(c(n)),s.push(this.step<=2?a(n):""),s.push(this.step<=2?`vis-${n.format("dddd").toLowerCase()}`:""),s.push(o(n.date()-1));break;case"week":s.push(`vis-week${n.format("w")}`),s.push(l(n)),s.push(o(n.week()));break;case"month":s.push(`vis-${n.format("MMMM").toLowerCase()}`),s.push(c(n)),s.push(o(n.month()));break;case"year":s.push(`vis-year${n.year()}`),s.push(u(n)),s.push(o(n.year()));break}return s.filter(String).join(" ")}}Ro.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}};class Dd extends Ds{constructor(e,t){super(),this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,maxMinorChars:7,format:O.extend({},Ro.FORMAT),moment:wi,timeAxis:null},this.options=O.extend({},this.defaultOptions),this.body=e,this._create(),this.setOptions(t)}setOptions(e){e&&(O.selectiveExtend(["showMinorLabels","showMajorLabels","showWeekScale","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,e),O.selectiveDeepExtend(["format"],this.options,e),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.axis=e.orientation:typeof e.orientation=="object"&&"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis)),"locale"in e&&(typeof wi.locale=="function"?wi.locale(e.locale):wi.lang(e.locale)))}_create(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"}destroy(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null}redraw(){const e=this.props,t=this.dom.foreground,n=this.dom.background,r=this.options.orientation.axis=="top"?this.body.dom.top:this.body.dom.bottom,s=t.parentNode!==r;this._calculateCharSize();const o=this.options.showMinorLabels&&this.options.orientation.axis!=="none",a=this.options.showMajorLabels&&this.options.orientation.axis!=="none";e.minorLabelHeight=o?e.minorCharHeight:0,e.majorLabelHeight=a?e.majorCharHeight:0,e.height=e.minorLabelHeight+e.majorLabelHeight,e.width=t.offsetWidth,e.minorLineHeight=this.body.domProps.root.height-e.majorLabelHeight-(this.options.orientation.axis=="top"?this.body.domProps.bottom.height:this.body.domProps.top.height),e.minorLineWidth=1,e.majorLineHeight=e.minorLineHeight+e.majorLabelHeight,e.majorLineWidth=1;const l=t.nextSibling,c=n.nextSibling;return t.parentNode&&t.parentNode.removeChild(t),n.parentNode&&n.parentNode.removeChild(n),t.style.height=`${this.props.height}px`,this._repaintLabels(),l?r.insertBefore(t,l):r.appendChild(t),c?this.body.dom.backgroundVertical.insertBefore(n,c):this.body.dom.backgroundVertical.appendChild(n),this._isResized()||s}_repaintLabels(){const e=this.options.orientation.axis,t=O.convert(this.body.range.start,"Number"),n=O.convert(this.body.range.end,"Number"),r=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf();let s=r-Od(this.options.moment,this.body.hiddenDates,this.body.range,r);s-=this.body.util.toTime(0).valueOf();const o=new Ro(new Date(t),new Date(n),s,this.body.hiddenDates,this.options);o.setMoment(this.options.moment),this.options.format&&o.setFormat(this.options.format),this.options.timeAxis&&o.setScale(this.options.timeAxis),this.step=o;const a=this.dom;a.redundant.lines=a.lines,a.redundant.majorTexts=a.majorTexts,a.redundant.minorTexts=a.minorTexts,a.lines=[],a.majorTexts=[],a.minorTexts=[];let l,c,u,h,d,f,m=0,p,g,v,y=0;const w=1e3;let b;for(o.start(),c=o.getCurrent(),h=this.body.util.toScreen(c);o.hasNext()&&y<w;){switch(y++,d=o.isMajor(),b=o.getClassName(),l=c,u=h,o.next(),c=o.getCurrent(),h=this.body.util.toScreen(c),p=m,m=h-u,o.scale){case"week":f=!0;break;default:f=m>=p*.4;break}if(this.options.showMinorLabels&&f){var x=this._repaintMinorText(u,o.getLabelMinor(l),e,b);x.style.width=`${m}px`}d&&this.options.showMajorLabels?(u>0&&(v==null&&(v=u),x=this._repaintMajorText(u,o.getLabelMajor(l),e,b)),g=this._repaintMajorLine(u,m,e,b)):f?g=this._repaintMinorLine(u,m,e,b):g&&(g.style.width=`${parseInt(g.style.width)+m}px`)}if(y===w&&!qM&&(console.warn(`Something is wrong with the Timeline scale. Limited drawing of grid lines to ${w} lines.`),qM=!0),this.options.showMajorLabels){const C=this.body.util.toTime(0),E=o.getLabelMajor(C),S=E.length*(this.props.majorCharWidth||10)+10;(v==null||S<v)&&this._repaintMajorText(0,E,e,b)}O.forEach(this.dom.redundant,C=>{for(;C.length;){const E=C.pop();E&&E.parentNode&&E.parentNode.removeChild(E)}})}_repaintMinorText(e,t,n,r){let s=this.dom.redundant.minorTexts.shift();if(!s){const a=document.createTextNode("");s=document.createElement("div"),s.appendChild(a),this.dom.foreground.appendChild(s)}this.dom.minorTexts.push(s),s.innerHTML=O.xss(t);let o=n=="top"?this.props.majorLabelHeight:0;return this._setXY(s,e,o),s.className=`vis-text vis-minor ${r}`,s}_repaintMajorText(e,t,n,r){let s=this.dom.redundant.majorTexts.shift();if(!s){const a=document.createElement("div");s=document.createElement("div"),s.appendChild(a),this.dom.foreground.appendChild(s)}s.childNodes[0].innerHTML=O.xss(t),s.className=`vis-text vis-major ${r}`;let o=n=="top"?0:this.props.minorLabelHeight;return this._setXY(s,e,o),this.dom.majorTexts.push(s),s}_setXY(e,t,n){const r=this.options.rtl?t*-1:t;e.style.transform=`translate(${r}px, ${n}px)`}_repaintMinorLine(e,t,n,r){let s=this.dom.redundant.lines.shift();s||(s=document.createElement("div"),this.dom.background.appendChild(s)),this.dom.lines.push(s);const o=this.props;s.style.width=`${t}px`,s.style.height=`${o.minorLineHeight}px`;let a=n=="top"?o.majorLabelHeight:this.body.domProps.top.height,l=e-o.minorLineWidth/2;return this._setXY(s,l,a),s.className=`vis-grid ${this.options.rtl?"vis-vertical-rtl":"vis-vertical"} vis-minor ${r}`,s}_repaintMajorLine(e,t,n,r){let s=this.dom.redundant.lines.shift();s||(s=document.createElement("div"),this.dom.background.appendChild(s)),this.dom.lines.push(s);const o=this.props;s.style.width=`${t}px`,s.style.height=`${o.majorLineHeight}px`;let a=n=="top"?0:this.body.domProps.top.height,l=e-o.majorLineWidth/2;return this._setXY(s,l,a),s.className=`vis-grid ${this.options.rtl?"vis-vertical-rtl":"vis-vertical"} vis-major ${r}`,s}_calculateCharSize(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth}}var qM=!1;function Xi(i){this.active=!1,this.dom={container:i},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=ai(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this,t=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];t.forEach(function(n){e.hammer.on(n,function(r){r.stopPropagation()})}),document&&document.body&&(this.onClick=function(n){ule(n.target,i)||e.deactivate()},document.body.addEventListener("click",this.onClick)),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=Jae(),this.escListener=this.deactivate.bind(this)}rS(Xi.prototype);Xi.current=null;Xi.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null};Xi.prototype.activate=function(){Xi.current&&Xi.current.deactivate(),Xi.current=this,this.active=!0,this.dom.overlay.style.display="none",O.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)};Xi.prototype.deactivate=function(){Xi.current===this&&(Xi.current=null),this.active=!1,this.dom.overlay.style.display="",O.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")};Xi.prototype._onTapOverlay=function(i){this.activate(),i.stopPropagation()};function ule(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}const CS={current:"current",time:"time",deleteSelected:"Delete selected"},hle=CS,dle=CS,TS={current:"attuale",time:"tempo",deleteSelected:"Cancella la selezione"},fle=TS,mle=TS,RS={current:"huidige",time:"tijd",deleteSelected:"Selectie verwijderen"},ple=RS,gle=RS,kW={current:"Aktuelle",time:"Zeit",deleteSelected:"Lsche Auswahl"},vle=kW,Kf={current:"actuel",time:"heure",deleteSelected:"Effacer la selection"},yle=Kf,_le=Kf,ble=Kf,MW={current:"corriente",time:"hora",deleteSelected:"Eliminar seleccin"},wle=MW,AW={current:"",time:"",deleteSelected:" "},xle=AW,NW={current:"",time:"",deleteSelected:" "},Sle=NW,LW={current:"aktualny",time:"czas",deleteSelected:"Usu wybrane"},Ele=LW,OS={current:"atual",time:"data",deleteSelected:"Apagar selecionado"},Cle=OS,Tle=OS,FW={current:"",time:"",deleteSelected:""},Rle=FW,$W={current:"nuvarande",time:"tid",deleteSelected:"Radera valda"},Ole=$W,Zf={current:"nvrende",time:"tid",deleteSelected:"Slett valgte"},Ile=Zf,Dle=Zf,Ple=Zf,jW={current:"einamas",time:"laikas",deleteSelected:"Paalinti pasirinkt"},kle=jW,dl={en:CS,en_EN:hle,en_US:dle,it:TS,it_IT:fle,it_CH:mle,nl:RS,nl_NL:ple,nl_BE:gle,de:kW,de_DE:vle,fr:Kf,fr_FR:yle,fr_CA:_le,fr_BE:ble,es:MW,es_ES:wle,uk:AW,uk_UA:xle,ru:NW,ru_RU:Sle,pl:LW,pl_PL:Ele,pt:OS,pt_BR:Cle,pt_PT:Tle,ja:FW,ja_JP:Rle,lt:jW,lt_LT:kle,sv:$W,sv_SE:Ole,nb:Zf,nn:Dle,nb_NO:Ile,nn_NO:Ple};class IS extends Ds{constructor(e,t){super(),this.body=e,this.defaultOptions={moment:wi,locales:dl,locale:"en",id:void 0,title:void 0},this.options=O.extend({},this.defaultOptions),this.setOptions(t),this.options.locales=O.extend({},dl,this.options.locales);const n=this.defaultOptions.locales[this.defaultOptions.locale];Object.keys(this.options.locales).forEach(r=>{this.options.locales[r]=O.extend({},n,this.options.locales[r])}),t&&t.time!=null?this.customTime=t.time:this.customTime=new Date,this.eventParams={},this._create()}setOptions(e){e&&O.selectiveExtend(["moment","locale","locales","id","title","rtl","snap"],this.options,e)}_create(){const e=document.createElement("div");e["custom-time"]=this,e.className=`vis-custom-time ${this.options.id||""}`,e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e;const t=document.createElement("div");t.style.position="relative",t.style.top="0px",this.options.rtl?t.style.right="-10px":t.style.left="-10px",t.style.height="100%",t.style.width="20px";function n(r){this.body.range._onMouseWheel(r)}t.addEventListener?(t.addEventListener("mousewheel",n.bind(this),!1),t.addEventListener("DOMMouseScroll",n.bind(this),!1)):t.attachEvent("onmousewheel",n.bind(this)),e.appendChild(t),this.hammer=new ai(t),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:ai.DIRECTION_ALL}),this.hammer.get("press").set({time:1e4})}destroy(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null}redraw(){const e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar));const t=this.body.util.toScreen(this.customTime);let n=this.options.locales[this.options.locale];n||(this.warned||(console.warn(`WARNING: options.locales['${this.options.locale}'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization`),this.warned=!0),n=this.options.locales.en);let r=this.options.title;return r===void 0?(r=`${n.time}: ${this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")}`,r=r.charAt(0).toUpperCase()+r.substring(1)):typeof r=="function"&&(r=r.call(this,this.customTime)),this.options.rtl?this.bar.style.right=`${t}px`:this.bar.style.left=`${t}px`,this.bar.title=r,!1}hide(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)}setCustomTime(e){this.customTime=O.convert(e,"Date"),this.redraw()}getCustomTime(){return new Date(this.customTime.valueOf())}setCustomMarker(e,t){this.marker&&this.bar.removeChild(this.marker),this.marker=document.createElement("div"),this.marker.className="vis-custom-time-marker",this.marker.innerHTML=O.xss(e),this.marker.style.position="absolute",t&&(this.marker.setAttribute("contenteditable","true"),this.marker.addEventListener("pointerdown",()=>{this.marker.focus()}),this.marker.addEventListener("input",this._onMarkerChange.bind(this)),this.marker.title=e,this.marker.addEventListener("blur",n=>{this.title!=n.target.innerHTML&&(this._onMarkerChanged(n),this.title=n.target.innerHTML)})),this.bar.appendChild(this.marker)}setCustomTitle(e){this.options.title=e}_onDragStart(e){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,e.stopPropagation()}_onDrag(e){if(!this.eventParams.dragging)return;let t=this.options.rtl?-1*e.deltaX:e.deltaX;const n=this.body.util.toScreen(this.eventParams.customTime)+t,r=this.body.util.toTime(n),s=this.body.util.getScale(),o=this.body.util.getStep(),a=this.options.snap,l=a?a(r,s,o):r;this.setCustomTime(l),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation()}_onDragEnd(e){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation())}_onMarkerChange(e){this.body.emitter.emit("markerchange",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}_onMarkerChanged(e){this.body.emitter.emit("markerchanged",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}static customTimeFromTarget(e){let t=e.target;for(;t;){if(Object.prototype.hasOwnProperty.call(t,"custom-time"))return t["custom-time"];t=t.parentNode}return null}}class Ga{_create(e){this.dom={},this.dom.container=e,this.dom.container.style.position="relative",this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.loadingScreen=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.loadingScreen.className="vis-loading-screen",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",()=>{this.initialDrawDone===!0&&this._redraw()}),this.on("rangechanged",()=>{this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));const t=this;this._origRedraw=this._redraw.bind(this),this._redraw=O.throttle(this._origRedraw),this.on("_change",h=>{t.itemSet&&t.itemSet.initialItemSetDrawn&&h&&h.queue==!0?t._redraw():t._origRedraw()}),this.hammer=new ai(this.dom.root);const n=this.hammer.get("pinch").set({enable:!0});n&&cle(n),this.hammer.get("pan").set({threshold:5,direction:ai.DIRECTION_ALL}),this.timelineListeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(h=>{const d=f=>{t.isActive()&&t.emit(h,f)};t.hammer.on(h,d),t.timelineListeners[h]=d}),PW(this.hammer,h=>{t.emit("touch",h)}),lle(this.hammer,h=>{t.emit("release",h)});function s(h){if(!this.isActive())return;if(this.emit("mousewheel",h),this.options.preferZoom){if(!this.options.zoomKey||h[this.options.zoomKey])return}else if(this.options.zoomKey&&h[this.options.zoomKey])return;if(!this.options.verticalScroll&&!this.options.horizontalScroll)return;let d=0,f=0;"detail"in h&&(f=h.detail*-1),"wheelDelta"in h&&(f=h.wheelDelta),"wheelDeltaY"in h&&(f=h.wheelDeltaY),"wheelDeltaX"in h&&(d=h.wheelDeltaX*-1),"axis"in h&&h.axis===h.HORIZONTAL_AXIS&&(d=f*-1,f=0),"deltaY"in h&&(f=h.deltaY*-1),"deltaX"in h&&(d=h.deltaX);var m=40,p=800;h.deltaMode&&(h.deltaMode===1?(d*=m,f*=m):(d*=m,f*=p));const g=this.options.verticalScroll,v=Math.abs(f)>=Math.abs(d),y=this.options.horizontalScroll&&this.options.horizontalScrollKey&&h[this.options.horizontalScrollKey];if(g&&v&&!y){const w=this.props.scrollTop,b=w+f;this._setScrollTop(b)!==w&&(this._redraw(),this.emit("scroll",h),h.preventDefault());return}if(this.options.horizontalScroll){this.range.stopRolling();let b=(v?f:d)/120*(this.range.end-this.range.start)/20;this.options.horizontalScrollInvert&&v&&(b=-b);const x=this.range.start+b,C=this.range.end+b,E={animation:!1,byUser:!0,event:h};this.range.setRange(x,C,E),h.preventDefault();return}}const o="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":this.dom.centerContainer.addEventListener?"DOMMouseScroll":"onmousewheel";this.dom.top.addEventListener,this.dom.bottom.addEventListener,this.dom.centerContainer.addEventListener(o,s.bind(this),!1),this.dom.top.addEventListener(o,s.bind(this),!1),this.dom.bottom.addEventListener(o,s.bind(this),!1);function a(h){if(t.options.verticalScroll&&(h.preventDefault(),t.isActive())){const d=-h.target.scrollTop;t._setScrollTop(d),t._redraw(),t.emit("scrollSide",h)}}this.dom.left.parentNode.addEventListener("scroll",a.bind(this)),this.dom.right.parentNode.addEventListener("scroll",a.bind(this));let l=!1;function c(h){if(h.preventDefault&&(t.emit("dragover",t.getEventProperties(h)),h.preventDefault()),h.target.className.indexOf("timeline")>-1&&!l)return h.dataTransfer.dropEffect="move",l=!0,!1}function u(h){h.preventDefault&&h.preventDefault(),h.stopPropagation&&h.stopPropagation();try{var d=JSON.parse(h.dataTransfer.getData("text"));if(!d||!d.content)return}catch{return!1}return l=!1,h.center={x:h.clientX,y:h.clientY},d.target!=="item"?t.itemSet._onAddItem(h):t.itemSet._onDropObjectOnItem(h),t.emit("drop",t.getEventProperties(h)),!1}if(this.dom.center.addEventListener("dragover",c.bind(this),!1),this.dom.center.addEventListener("drop",u.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!e)throw new Error("No container provided");e.appendChild(this.dom.root),e.appendChild(this.dom.loadingScreen)}setOptions(e){if(e){const t=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","preferZoom","rtl","zoomKey","horizontalScroll","horizontalScrollKey","horizontalScrollInvert","verticalScroll","longSelectPressTime","snap"];if(O.selectiveExtend(t,this.options,e),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),typeof this.options.orientation!="object"&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation={item:e.orientation,axis:e.orientation}:typeof e.orientation=="object"&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),this.options.orientation.axis==="both"){if(!this.timeAxis2){const n=this.timeAxis2=new Dd(this.body,this.options);n.setOptions=r=>{const s=r?O.extend({},r):{};s.orientation="top",Dd.prototype.setOptions.call(n,s)},this.components.push(n)}}else if(this.timeAxis2){const n=this.components.indexOf(this.timeAxis2);n!==-1&&this.components.splice(n,1),this.timeAxis2.destroy(),this.timeAxis2=null}typeof e.drawPoints=="function"&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&ES(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new Xi(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize()}if(this.components.forEach(t=>t.setOptions(e)),"configure"in e){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure);const t=O.deepExtend({},this.options);this.components.forEach(n=>{O.deepExtend(t,n.options)}),this.configurator.setModuleOptions({global:t})}this._redraw()}isActive(){return!this.activator||this.activator.active}destroy(){this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(const e in this.timelineListeners)Object.prototype.hasOwnProperty.call(this.timelineListeners,e)&&delete this.timelineListeners[e];this.timelineListeners=null,this.hammer&&this.hammer.destroy(),this.hammer=null,this.components.forEach(e=>e.destroy()),this.body=null}setCustomTime(e,t){const n=this.customTimes.filter(r=>t===r.options.id);if(n.length===0)throw new Error(`No custom time bar found with id ${JSON.stringify(t)}`);n.length>0&&n[0].setCustomTime(e)}getCustomTime(e){const t=this.customTimes.filter(n=>n.options.id===e);if(t.length===0)throw new Error(`No custom time bar found with id ${JSON.stringify(e)}`);return t[0].getCustomTime()}setCustomTimeMarker(e,t,n){const r=this.customTimes.filter(s=>s.options.id===t);if(r.length===0)throw new Error(`No custom time bar found with id ${JSON.stringify(t)}`);r.length>0&&r[0].setCustomMarker(e,n)}setCustomTimeTitle(e,t){const n=this.customTimes.filter(r=>r.options.id===t);if(n.length===0)throw new Error(`No custom time bar found with id ${JSON.stringify(t)}`);if(n.length>0)return n[0].setCustomTitle(e)}getEventProperties(e){return{event:e}}addCustomTime(e,t){const n=e!==void 0?O.convert(e,"Date"):new Date;if(this.customTimes.some(o=>o.options.id===t))throw new Error(`A custom time with id ${JSON.stringify(t)} already exists`);const s=new IS(this.body,O.extend({},this.options,{time:n,id:t,snap:this.itemSet?this.itemSet.options.snap:this.options.snap}));return this.customTimes.push(s),this.components.push(s),this._redraw(),t}removeCustomTime(e){const t=this.customTimes.filter(n=>n.options.id===e);if(t.length===0)throw new Error(`No custom time bar found with id ${JSON.stringify(e)}`);t.forEach(n=>{this.customTimes.splice(this.customTimes.indexOf(n),1),this.components.splice(this.components.indexOf(n),1),n.destroy()})}getVisibleItems(){return this.itemSet&&this.itemSet.getVisibleItems()||[]}getItemsAtCurrentTime(e){return this.time=e,this.itemSet&&this.itemSet.getItemsAtCurrentTime(this.time)||[]}getVisibleGroups(){return this.itemSet&&this.itemSet.getVisibleGroups()||[]}fit(e,t){const n=this.getDataRange();if(n.min===null&&n.max===null)return;const r=n.max-n.min,s=new Date(n.min.valueOf()-r*.01),o=new Date(n.max.valueOf()+r*.01),a=e&&e.animation!==void 0?e.animation:!0;this.range.setRange(s,o,{animation:a},t)}getDataRange(){throw new Error("Cannot invoke abstract method getDataRange")}setWindow(e,t,n,r){typeof arguments[2]=="function"&&(r=arguments[2],n={});let s,o;arguments.length==1?(o=arguments[0],s=o.animation!==void 0?o.animation:!0,this.range.setRange(o.start,o.end,{animation:s})):arguments.length==2&&typeof arguments[1]=="function"?(o=arguments[0],r=arguments[1],s=o.animation!==void 0?o.animation:!0,this.range.setRange(o.start,o.end,{animation:s},r)):(s=n&&n.animation!==void 0?n.animation:!0,this.range.setRange(e,t,{animation:s},r))}moveTo(e,t,n){typeof arguments[1]=="function"&&(n=arguments[1],t={});const r=this.range.end-this.range.start,s=O.convert(e,"Date").valueOf(),o=s-r/2,a=s+r/2,l=t&&t.animation!==void 0?t.animation:!0;this.range.setRange(o,a,{animation:l},n)}getWindow(){const e=this.range.getRange();return{start:new Date(e.start),end:new Date(e.end)}}zoomIn(e,t,n){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(n=arguments[1],t={});const r=this.getWindow(),s=r.start.valueOf(),o=r.end.valueOf(),a=o-s,l=a/(1+e),c=(a-l)/2,u=s+c,h=o-c;this.setWindow(u,h,t,n)}zoomOut(e,t,n){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(n=arguments[1],t={});const r=this.getWindow(),s=r.start.valueOf(),o=r.end.valueOf(),a=o-s,l=s-a*e/2,c=o+a*e/2;this.setWindow(l,c,t,n)}redraw(){this._redraw()}_redraw(){this.redrawCount++;const e=this.dom;if(!e||!e.container||e.root.offsetWidth==0)return;let t=!1;const n=this.options,r=this.props;Rd(this.options.moment,this.body,this.options.hiddenDates),n.orientation=="top"?(O.addClassName(e.root,"vis-top"),O.removeClassName(e.root,"vis-bottom")):(O.removeClassName(e.root,"vis-top"),O.addClassName(e.root,"vis-bottom")),n.rtl?(O.addClassName(e.root,"vis-rtl"),O.removeClassName(e.root,"vis-ltr")):(O.addClassName(e.root,"vis-ltr"),O.removeClassName(e.root,"vis-rtl")),e.root.style.maxHeight=O.option.asSize(n.maxHeight,""),e.root.style.minHeight=O.option.asSize(n.minHeight,""),e.root.style.width=O.option.asSize(n.width,"");const s=e.root.offsetWidth;r.border.left=1,r.border.right=1,r.border.top=1,r.border.bottom=1,r.center.height=e.center.offsetHeight,r.left.height=e.left.offsetHeight,r.right.height=e.right.offsetHeight,r.top.height=e.top.clientHeight||-r.border.top,r.bottom.height=Math.round(e.bottom.getBoundingClientRect().height)||e.bottom.clientHeight||-r.border.bottom;const o=Math.max(r.left.height,r.center.height,r.right.height),a=r.top.height+o+r.bottom.height+r.border.top+r.border.bottom;e.root.style.height=O.option.asSize(n.height,`${a}px`),r.root.height=e.root.offsetHeight,r.background.height=r.root.height;const l=r.root.height-r.top.height-r.bottom.height;r.centerContainer.height=l,r.leftContainer.height=l,r.rightContainer.height=r.leftContainer.height,r.root.width=s,r.background.width=r.root.width,this.initialDrawDone||(r.scrollbarWidth=O.getScrollBarWidth());const c=e.leftContainer.clientWidth,u=e.rightContainer.clientWidth;n.verticalScroll?n.rtl?(r.left.width=c||-r.border.left,r.right.width=u+r.scrollbarWidth||-r.border.right):(r.left.width=c+r.scrollbarWidth||-r.border.left,r.right.width=u||-r.border.right):(r.left.width=c||-r.border.left,r.right.width=u||-r.border.right),this._setDOM();let h=this._updateScrollTop();n.orientation.item!="top"&&(h+=Math.max(r.centerContainer.height-r.center.height-r.border.top-r.border.bottom,0)),e.center.style.transform=`translateY(${h}px)`;const d=r.scrollTop==0?"hidden":"",f=r.scrollTop==r.scrollTopMin?"hidden":"";e.shadowTop.style.visibility=d,e.shadowBottom.style.visibility=f,e.shadowTopLeft.style.visibility=d,e.shadowBottomLeft.style.visibility=f,e.shadowTopRight.style.visibility=d,e.shadowBottomRight.style.visibility=f,n.verticalScroll&&(e.rightContainer.className="vis-panel vis-right vis-vertical-scroll",e.leftContainer.className="vis-panel vis-left vis-vertical-scroll",e.shadowTopRight.style.visibility="hidden",e.shadowBottomRight.style.visibility="hidden",e.shadowTopLeft.style.visibility="hidden",e.shadowBottomLeft.style.visibility="hidden",e.left.style.top="0px",e.right.style.top="0px"),(!n.verticalScroll||r.center.height<r.centerContainer.height)&&(e.left.style.top=`${h}px`,e.right.style.top=`${h}px`,e.rightContainer.className=e.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),e.leftContainer.className=e.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),r.left.width=c||-r.border.left,r.right.width=u||-r.border.right,this._setDOM());const m=r.center.height>r.centerContainer.height;this.hammer.get("pan").set({direction:m?ai.DIRECTION_ALL:ai.DIRECTION_HORIZONTAL}),this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.components.forEach(g=>{t=g.redraw()||t});const p=5;if(t)if(this.redrawCount<p){this.body.emitter.emit("_change");return}else console.log("WARNING: infinite loop in redraw?");else this.redrawCount=0;this.body.emitter.emit("changed")}_setDOM(){const e=this.props,t=this.dom;e.leftContainer.width=e.left.width,e.rightContainer.width=e.right.width;const n=e.root.width-e.left.width-e.right.width;e.center.width=n,e.centerContainer.width=n,e.top.width=n,e.bottom.width=n,t.background.style.height=`${e.background.height}px`,t.backgroundVertical.style.height=`${e.background.height}px`,t.backgroundHorizontal.style.height=`${e.centerContainer.height}px`,t.centerContainer.style.height=`${e.centerContainer.height}px`,t.leftContainer.style.height=`${e.leftContainer.height}px`,t.rightContainer.style.height=`${e.rightContainer.height}px`,t.background.style.width=`${e.background.width}px`,t.backgroundVertical.style.width=`${e.centerContainer.width}px`,t.backgroundHorizontal.style.width=`${e.background.width}px`,t.centerContainer.style.width=`${e.center.width}px`,t.top.style.width=`${e.top.width}px`,t.bottom.style.width=`${e.bottom.width}px`,t.background.style.left="0",t.background.style.top="0",t.backgroundVertical.style.left=`${e.left.width+e.border.left}px`,t.backgroundVertical.style.top="0",t.backgroundHorizontal.style.left="0",t.backgroundHorizontal.style.top=`${e.top.height}px`,t.centerContainer.style.left=`${e.left.width}px`,t.centerContainer.style.top=`${e.top.height}px`,t.leftContainer.style.left="0",t.leftContainer.style.top=`${e.top.height}px`,t.rightContainer.style.left=`${e.left.width+e.center.width}px`,t.rightContainer.style.top=`${e.top.height}px`,t.top.style.left=`${e.left.width}px`,t.top.style.top="0",t.bottom.style.left=`${e.left.width}px`,t.bottom.style.top=`${e.top.height+e.centerContainer.height}px`,t.center.style.left="0",t.left.style.left="0",t.right.style.left="0"}setCurrentTime(e){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(e)}getCurrentTime(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()}_toTime(e){return jM(this,e,this.props.center.width)}_toGlobalTime(e){return jM(this,e,this.props.root.width)}_toScreen(e){return $M(this,e,this.props.center.width)}_toGlobalScreen(e){return $M(this,e,this.props.root.width)}_initAutoResize(){this.options.autoResize==!0?this._startAutoResize():this._stopAutoResize()}_startAutoResize(){const e=this;this._stopAutoResize(),this._onResize=()=>{if(e.options.autoResize!=!0){e._stopAutoResize();return}if(e.dom.root){const t=e.dom.root.offsetHeight,n=e.dom.root.offsetWidth;(n!=e.props.lastWidth||t!=e.props.lastHeight)&&(e.props.lastWidth=n,e.props.lastHeight=t,e.props.scrollbarWidth=O.getScrollBarWidth(),e.body.emitter.emit("_change"))}},window.addEventListener("resize",this._onResize),e.dom.root&&(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)}_stopAutoResize(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(window.removeEventListener("resize",this._onResize),this._onResize=null)}_onTouch(){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop}_onPinch(){this.touch.allowDragging=!1}_onDrag(e){if(!e||!this.touch.allowDragging)return;const t=e.deltaY,n=this._getScrollTop(),r=this._setScrollTop(this.touch.initialScrollTop+t);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),r!=n&&this.emit("verticalDrag")}_setScrollTop(e){return this.props.scrollTop=e,this._updateScrollTop(),this.props.scrollTop}_updateScrollTop(){const e=Math.min(this.props.centerContainer.height-this.props.border.top-this.props.border.bottom-this.props.center.height,0);return e!=this.props.scrollTopMin&&(this.options.orientation.item!="top"&&(this.props.scrollTop+=e-this.props.scrollTopMin),this.props.scrollTopMin=e),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<e&&(this.props.scrollTop=e),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop}_getScrollTop(){return this.props.scrollTop}_createConfigurator(){throw new Error("Cannot invoke abstract method _createConfigurator")}}rS(Ga.prototype);class WW extends Ds{constructor(e,t){super(),this.body=e,this.defaultOptions={rtl:!1,showCurrentTime:!0,alignCurrentTime:void 0,moment:wi,locales:dl,locale:"en"},this.options=O.extend({},this.defaultOptions),this.setOptions(t),this.options.locales=O.extend({},dl,this.options.locales);const n=this.defaultOptions.locales[this.defaultOptions.locale];Object.keys(this.options.locales).forEach(r=>{this.options.locales[r]=O.extend({},n,this.options.locales[r])}),this.offset=0,this._create()}_create(){const e=document.createElement("div");e.className="vis-current-time",e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e}destroy(){this.options.showCurrentTime=!1,this.redraw(),this.body=null}setOptions(e){e&&O.selectiveExtend(["rtl","showCurrentTime","alignCurrentTime","moment","locale","locales"],this.options,e)}redraw(){if(this.options.showCurrentTime){const e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar),this.start());let t=this.options.moment(Date.now()+this.offset);this.options.alignCurrentTime&&(t=t.startOf(this.options.alignCurrentTime));const n=this.body.util.toScreen(t);let r=this.options.locales[this.options.locale];r||(this.warned||(console.warn(`WARNING: options.locales['${this.options.locale}'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization`),this.warned=!0),r=this.options.locales.en);let s=`${r.current} ${r.time}: ${t.format("dddd, MMMM Do YYYY, H:mm:ss")}`;s=s.charAt(0).toUpperCase()+s.substring(1),this.options.rtl?this.bar.style.transform=`translateX(${n*-1}px)`:this.bar.style.transform=`translateX(${n}px)`,this.bar.title=s}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1}start(){const e=this;function t(){e.stop();let r=1/e.body.range.conversion(e.body.domProps.center.width).scale/10;r<30&&(r=30),r>1e3&&(r=1e3),e.redraw(),e.body.emitter.emit("currentTimeTick"),e.currentTimeTimer=setTimeout(t,r)}t()}stop(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)}setCurrentTime(e){const t=O.convert(e,"Date").valueOf(),n=Date.now();this.offset=t-n,this.redraw()}getCurrentTime(){return new Date(Date.now()+this.offset)}}const Oi=.001;function Mle(i){i.sort((e,t)=>e.data.start-t.data.start)}function Ale(i){i.sort((e,t)=>{const n="end"in e.data?e.data.end:e.data.start,r="end"in t.data?t.data.end:t.data.start;return n-r})}function GM(i,e,t,n){return DS(i,e.item,!1,s=>s.stack&&(t||s.top===null),s=>s.stack,()=>e.axis,n)===null}function Nle(i,e,t){const n=DS(i,e.item,!1,r=>r.stack,()=>!0,r=>r.baseTop);t.height=n-t.top+.5*e.item.vertical}function Lle(i,e,t,n){for(let r=0;r<i.length;r++){if(i[r].data.subgroup==null){i[r].top=e.item.vertical;continue}if(i[r].data.subgroup===void 0||!n)continue;let s=0;for(const o in t)!Object.prototype.hasOwnProperty.call(t,o)||t[o].visible!==!0||t[o].index>=t[i[r].data.subgroup].index||(s+=t[o].height,t[i[r].data.subgroup].top=s);i[r].top=s+.5*e.item.vertical}n||Fle(i,e,t)}function Fle(i,e,t){DS(Object.values(t).sort((n,r)=>n.index>r.index?1:n.index<r.index?-1:0),{vertical:0},!0,()=>!0,()=>!0,()=>0);for(let n=0;n<i.length;n++)i[n].data.subgroup!==void 0&&(i[n].top=t[i[n].data.subgroup].top+.5*e.item.vertical)}function YM(i,e,t){let n=!1;const r=[];for(let s in t)Object.prototype.hasOwnProperty.call(t[s],"index")?r[t[s].index]=s:r.push(s);for(let s=0;s<r.length;s++){let o=r[s];if(!Object.prototype.hasOwnProperty.call(t,o))continue;n=n||t[o].stack,t[o].top=0;for(const l in t)t[l].visible&&t[o].index>t[l].index&&(t[o].top+=t[l].height);const a=i[o];for(let l=0;l<a.length;l++)a[l].data.subgroup!==void 0&&(a[l].top=t[a[l].data.subgroup].top+.5*e.item.vertical,t[o].stack&&(a[l].baseTop=a[l].top));n&&t[o].stack&&Nle(i[o],e,t[o])}}function DS(i,e,t,n,r,s,o){let a=v=>v.start,l=v=>v.end;t||(!!(i[0]&&i[0].options.rtl)?a=y=>y.right:a=y=>y.left,l=y=>a(y)+y.width+e.horizontal);const c=[],u=[];let h=null,d=0;for(const v of i)if(n(v))c.push(v);else if(r(v)){const y=a(v);h!==null&&y<h-Oi&&(d=0),h=y,d=Mh(u,w=>a(w)-Oi>y,d),u.splice(d,0,v),d++}h=null;let f=null;d=0;let m=0,p=0,g=0;for(;c.length>0;){const v=c.shift();v.top=s(v);const y=a(v),w=l(v);h!==null&&y<h-Oi&&(m=0,p=0,d=0,f=null),(h===null||y>h+Oi)&&(m=Mh(u,C=>y<l(C)-Oi,m)),h=y,(f===null||f<w-Oi)&&(p=Mh(u,C=>w<a(C)-Oi,Math.max(m,p))),f!==null&&f-Oi>w&&(p=jle(u,C=>w+Oi>=a(C),m,p)+1),f=w;const b=Wle(u,C=>y<l(C)-Oi,m,p).sort((C,E)=>C.top-E.top);for(let C=0;C<b.length;C++){const E=b[C];$le(v,E,e)&&(v.top=E.top+E.height+e.vertical)}r(v)&&(d=Mh(u,C=>a(C)-Oi>y,d),u.splice(d,0,v),d<m&&m++,d<=p&&p++,d++);const x=v.top+v.height;if(x>g&&(g=x),o&&o())return null}return g}function $le(i,e,t){return i.top-t.vertical+Oi<e.top+e.height&&i.top+i.height+t.vertical-Oi>e.top}function Mh(i,e,t){t||(t=0);for(let n=t;n<i.length;n++)if(e(i[n]))return n;return i.length}function jle(i,e,t,n){t||(t=0),n||(n=i.length);for(let r=n-1;r>=t;r--)if(e(i[r]))return r;return t-1}function Wle(i,e,t,n){t||(t=0),n?n=Math.min(n,i.length):n=i.length;const r=[];for(let s=t;s<n;s++)e(i[s])&&r.push(i[s]);return r}const zle="__background__",BM={BACKGROUND:zle};class B0{constructor(e,t,n){if(this.groupId=e,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.subgroupVisibility={},this.doInnerStack=!1,this.shouldBailStackItems=!1,this.subgroupIndex=0,this.subgroupOrderer=t&&t.subgroupOrder,this.itemSet=n,this.isVisible=null,this.height=0,this.stackDirty=!0,this._disposeCallbacks=[],t&&t.nestedGroups&&(this.nestedGroups=t.nestedGroups,t.showNested==!1?this.showNested=!1:this.showNested=!0),t&&t.subgroupStack)if(typeof t.subgroupStack=="boolean")this.doInnerStack=t.subgroupStack,this.subgroupStackAll=t.subgroupStack;else for(const s in t.subgroupStack)Object.prototype.hasOwnProperty.call(t.subgroupStack,s)&&(this.subgroupStack[s]=t.subgroupStack[s],this.doInnerStack=this.doInnerStack||t.subgroupStack[s]);t&&t.heightMode?this.heightMode=t.heightMode:this.heightMode=n.options.groupHeightMode,this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;const r=()=>{this.checkRangedItems=!0};this.itemSet.body.emitter.on("checkRangedItems",r),this._disposeCallbacks.push(()=>{this.itemSet.body.emitter.off("checkRangedItems",r)}),this._create(),this.setData(t)}_create(){const e=document.createElement("div");this.itemSet.options.groupEditable.order?e.className="vis-label draggable":e.className="vis-label",this.dom.label=e;const t=document.createElement("div");t.className="vis-inner",e.appendChild(t),this.dom.inner=t;const n=document.createElement("div");n.className="vis-group",n["vis-group"]=this,this.dom.foreground=n,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)}setData(e){if(this.itemSet.groupTouchParams.isDragging)return;let t,n;if(e&&e.subgroupVisibility)for(const s in e.subgroupVisibility)Object.prototype.hasOwnProperty.call(e.subgroupVisibility,s)&&(this.subgroupVisibility[s]=e.subgroupVisibility[s]);if(this.itemSet.options&&this.itemSet.options.groupTemplate?(n=this.itemSet.options.groupTemplate.bind(this),t=n(e,this.dom.inner)):t=e&&e.content,t instanceof Element){for(;this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(t)}else t instanceof Object&&t.isReactComponent||(t instanceof Object?n(e,this.dom.inner):t!=null?this.dom.inner.innerHTML=O.xss(t):this.dom.inner.innerHTML=O.xss(this.groupId||""));this.dom.label.title=e&&e.title||"",this.dom.inner.firstChild?O.removeClassName(this.dom.inner,"vis-hidden"):O.addClassName(this.dom.inner,"vis-hidden"),e&&e.nestedGroups?((!this.nestedGroups||this.nestedGroups!=e.nestedGroups)&&(this.nestedGroups=e.nestedGroups),(e.showNested!==void 0||this.showNested===void 0)&&(e.showNested==!1?this.showNested=!1:this.showNested=!0),O.addClassName(this.dom.label,"vis-nesting-group"),this.showNested?(O.removeClassName(this.dom.label,"collapsed"),O.addClassName(this.dom.label,"expanded")):(O.removeClassName(this.dom.label,"expanded"),O.addClassName(this.dom.label,"collapsed"))):this.nestedGroups&&(this.nestedGroups=null,O.removeClassName(this.dom.label,"collapsed"),O.removeClassName(this.dom.label,"expanded"),O.removeClassName(this.dom.label,"vis-nesting-group")),e&&(e.treeLevel||e.nestedInGroup)?(O.addClassName(this.dom.label,"vis-nested-group"),e.treeLevel?O.addClassName(this.dom.label,"vis-group-level-"+e.treeLevel):O.addClassName(this.dom.label,"vis-group-level-unknown-but-gte1")):O.addClassName(this.dom.label,"vis-group-level-0");const r=e&&e.className||null;r!=this.className&&(this.className&&(O.removeClassName(this.dom.label,this.className),O.removeClassName(this.dom.foreground,this.className),O.removeClassName(this.dom.background,this.className),O.removeClassName(this.dom.axis,this.className)),O.addClassName(this.dom.label,r),O.addClassName(this.dom.foreground,r),O.addClassName(this.dom.background,r),O.addClassName(this.dom.axis,r),this.className=r),this.style&&(O.removeCssText(this.dom.label,this.style),this.style=null),e&&e.style&&(O.addCssText(this.dom.label,e.style),this.style=e.style)}getLabelWidth(){return this.props.label.width}_didMarkerHeightChange(){const e=this.dom.marker.clientHeight;if(e!=this.lastMarkerHeight){this.lastMarkerHeight=e;const t={};let n=0;if(O.forEach(this.items,(s,o)=>{s.dirty=!0,s.displayed&&(t[o]=s.redraw(!0),n=t[o].length)}),n>0)for(let s=0;s<n;s++)O.forEach(t,o=>{o[s]()});return!0}else return!1}_calculateGroupSizeAndPosition(){const{offsetTop:e,offsetLeft:t,offsetWidth:n}=this.dom.foreground;this.top=e,this.right=t,this.width=n}_shouldBailItemsRedraw(){const e=this,t=this.itemSet.options.onTimeout,n={relativeBailingTime:this.itemSet.itemsSettingTime,bailTimeMs:t&&t.timeoutMs,userBailFunction:t&&t.callback,shouldBailStackItems:this.shouldBailStackItems};let r=null;if(!this.itemSet.initialDrawDone){if(n.shouldBailStackItems)return!0;Math.abs(Date.now()-new Date(n.relativeBailingTime))>n.bailTimeMs&&(n.userBailFunction&&this.itemSet.userContinueNotBail==null?n.userBailFunction(s=>{e.itemSet.userContinueNotBail=s,r=!s}):e.itemSet.userContinueNotBail==!1?r=!0:r=!1)}return r}_redrawItems(e,t,n,r){if(e||this.stackDirty||this.isVisible&&!t){const o={byEnd:this.orderedItems.byEnd.filter(u=>!u.isCluster),byStart:this.orderedItems.byStart.filter(u=>!u.isCluster)},a={byEnd:[...new Set(this.orderedItems.byEnd.map(u=>u.cluster).filter(u=>!!u))],byStart:[...new Set(this.orderedItems.byStart.map(u=>u.cluster).filter(u=>!!u))]},l=()=>{const u=this._updateItemsInRange(o,this.visibleItems.filter(d=>!d.isCluster),r),h=this._updateClustersInRange(a,this.visibleItems.filter(d=>d.isCluster),r);return[...u,...h]},c=u=>{let h={};for(const d in this.subgroups){if(!Object.prototype.hasOwnProperty.call(this.subgroups,d))continue;const f=this.visibleItems.filter(m=>m.data.subgroup===d);h[d]=u?f.sort((m,p)=>u(m.data,p.data)):f}return h};if(typeof this.itemSet.options.order=="function"){const u=this;if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const h=c(this.itemSet.options.order);YM(h,n,this.subgroups),this.visibleItems=l(),this._updateSubGroupHeights(n)}else{this.visibleItems=l(),this._updateSubGroupHeights(n);const h=this.visibleItems.slice().filter(d=>d.isCluster||!d.isCluster&&!d.cluster).sort((d,f)=>u.itemSet.options.order(d.data,f.data));this.shouldBailStackItems=GM(h,n,!0,this._shouldBailItemsRedraw.bind(this))}}else if(this.visibleItems=l(),this._updateSubGroupHeights(n),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const u=c();YM(u,n,this.subgroups)}else this.shouldBailStackItems=GM(this.visibleItems,n,!0,this._shouldBailItemsRedraw.bind(this));else Lle(this.visibleItems,n,this.subgroups,this.itemSet.options.stackSubgroups);for(let u=0;u<this.visibleItems.length;u++)this.visibleItems[u].repositionX(),this.subgroupVisibility[this.visibleItems[u].data.subgroup]!==void 0&&(this.subgroupVisibility[this.visibleItems[u].data.subgroup]||this.visibleItems[u].hide());this.itemSet.options.cluster&&O.forEach(this.items,u=>{u.cluster&&u.displayed&&u.hide()}),this.shouldBailStackItems&&this.itemSet.body.emitter.emit("destroyTimeline"),this.stackDirty=!1}}_didResize(e,t){e=O.updateProperty(this,"height",t)||e;const n=this.dom.inner.clientWidth,r=this.dom.inner.clientHeight;return e=O.updateProperty(this.props.label,"width",n)||e,e=O.updateProperty(this.props.label,"height",r)||e,e}_applyGroupHeight(e){this.dom.background.style.height=`${e}px`,this.dom.foreground.style.height=`${e}px`,this.dom.label.style.height=`${e}px`}_updateItemsVerticalPosition(e){for(let t=0,n=this.visibleItems.length;t<n;t++){const r=this.visibleItems[t];r.repositionY(e),!this.isVisible&&this.groupId!=BM.BACKGROUND&&r.displayed&&r.hide()}}redraw(e,t,n,r){let s=!1;const o=this.isVisible;let a;const l=[()=>{n=this._didMarkerHeightChange.call(this)||n},this._updateSubGroupHeights.bind(this,t),this._calculateGroupSizeAndPosition.bind(this),()=>{this.isVisible=this._isGroupVisible.bind(this)(e,t)},()=>{this._redrawItems.bind(this)(n,o,t,e)},this._updateSubgroupsSizes.bind(this),()=>{a=this.height=this._calculateHeight.bind(this)(t)},this._calculateGroupSizeAndPosition.bind(this),()=>{s=this._didResize.bind(this)(s,a)},()=>{this._applyGroupHeight.bind(this)(a)},()=>{this._updateItemsVerticalPosition.bind(this)(t)},(()=>(!this.isVisible&&this.height&&(s=!1),s)).bind(this)];if(r)return l;{let c;return l.forEach(u=>{c=u()}),c}}_updateSubGroupHeights(e){if(Object.keys(this.subgroups).length>0){const t=this;this._resetSubgroups(),O.forEach(this.visibleItems,n=>{n.data.subgroup!==void 0&&(t.subgroups[n.data.subgroup].height=Math.max(t.subgroups[n.data.subgroup].height,n.height+e.item.vertical),t.subgroups[n.data.subgroup].visible=typeof this.subgroupVisibility[n.data.subgroup]>"u"?!0:!!this.subgroupVisibility[n.data.subgroup])})}}_isGroupVisible(e,t){return this.top<=e.body.domProps.centerContainer.height-e.body.domProps.scrollTop+t.axis&&this.top+this.height+t.axis>=-e.body.domProps.scrollTop}_calculateHeight(e){let t,n;if(this.heightMode==="fixed"?n=O.toArray(this.items):n=this.visibleItems,!this.isVisible&&this.height)t=Math.max(this.height,this.props.label.height);else if(n.length>0){let r=n[0].top,s=n[0].top+n[0].height;if(O.forEach(n,o=>{r=Math.min(r,o.top),s=Math.max(s,o.top+o.height)}),r>e.axis){const o=r-e.axis;s-=o,O.forEach(n,a=>{a.top-=o})}t=Math.ceil(s+e.item.vertical/2),this.heightMode!=="fitItems"&&(t=Math.max(t,this.props.label.height))}else t=this.props.label.height;return t}show(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)}hide(){const e=this.dom.label;e.parentNode&&e.parentNode.removeChild(e);const t=this.dom.foreground;t.parentNode&&t.parentNode.removeChild(t);const n=this.dom.background;n.parentNode&&n.parentNode.removeChild(n);const r=this.dom.axis;r.parentNode&&r.parentNode.removeChild(r)}add(e){if(this.items[e.id]=e,e.setParent(this),this.stackDirty=!0,e.data.subgroup!==void 0&&(this._addToSubgroup(e),this.orderSubgroups()),!this.visibleItems.includes(e)){const t=this.itemSet.body.range;this._checkIfVisible(e,this.visibleItems,t)}}_addToSubgroup(e,t=e.data.subgroup){t!=null&&this.subgroups[t]===void 0&&(this.subgroups[t]={height:0,top:0,start:e.data.start,end:e.data.end||e.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[t]||!1},this.subgroupIndex++),new Date(e.data.start)<new Date(this.subgroups[t].start)&&(this.subgroups[t].start=e.data.start);const n=e.data.end||e.data.start;new Date(n)>new Date(this.subgroups[t].end)&&(this.subgroups[t].end=n),this.subgroups[t].items.push(e)}_updateSubgroupsSizes(){const e=this;if(e.subgroups)for(const t in e.subgroups){if(!Object.prototype.hasOwnProperty.call(e.subgroups,t))continue;const n=e.subgroups[t].items[0].data.end||e.subgroups[t].items[0].data.start;let r=e.subgroups[t].items[0].data.start,s=n-1;e.subgroups[t].items.forEach(o=>{new Date(o.data.start)<new Date(r)&&(r=o.data.start);const a=o.data.end||o.data.start;new Date(a)>new Date(s)&&(s=a)}),e.subgroups[t].start=r,e.subgroups[t].end=new Date(s-1)}}orderSubgroups(){if(this.subgroupOrderer!==void 0){const e=[];if(typeof this.subgroupOrderer=="string"){for(const t in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,t)&&e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});e.sort((t,n)=>t.sortField-n.sortField)}else if(typeof this.subgroupOrderer=="function"){for(const t in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,t)&&e.push(this.subgroups[t].items[0].data);e.sort(this.subgroupOrderer)}if(e.length>0)for(let t=0;t<e.length;t++)this.subgroups[e[t].subgroup].index=t}}_resetSubgroups(){for(const e in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,e)&&(this.subgroups[e].visible=!1,this.subgroups[e].height=0)}remove(e){delete this.items[e.id],e.setParent(null),this.stackDirty=!0;const t=this.visibleItems.indexOf(e);t!=-1&&this.visibleItems.splice(t,1),e.data.subgroup!==void 0&&(this._removeFromSubgroup(e),this.orderSubgroups())}_removeFromSubgroup(e,t=e.data.subgroup){if(t!=null){const n=this.subgroups[t];if(n){const r=n.items.indexOf(e);r>=0&&(n.items.splice(r,1),n.items.length?this._updateSubgroupsSizes():delete this.subgroups[t])}}}removeFromDataSet(e){this.itemSet.removeItem(e.id)}order(){const e=O.toArray(this.items),t=[],n=[];for(let r=0;r<e.length;r++)e[r].data.end!==void 0&&n.push(e[r]),t.push(e[r]);this.orderedItems={byStart:t,byEnd:n},Mle(this.orderedItems.byStart),Ale(this.orderedItems.byEnd)}_updateItemsInRange(e,t,n){const r=[],s={};if(!this.isVisible&&this.height!==void 0&&this.groupId!=BM.BACKGROUND){for(let g=0;g<t.length;g++){var o=t[g];o.displayed&&o.hide()}return r}const a=(n.end-n.start)/4,l=n.start-a,c=n.end+a,u=g=>g<l?-1:g<=c?0:1,h=g=>{const{start:v,end:y}=g;return y<l?-1:v<=c?0:1};if(t.length>0)for(let g=0;g<t.length;g++)this._checkIfVisibleWithReference(t[g],r,s,n);const d=O.binarySearchCustom(e.byStart,u,"data","start");if(this._traceVisible(d,e.byStart,r,s,g=>g.data.start<l||g.data.start>c),this.checkRangedItems==!0){this.checkRangedItems=!1;for(let g=0;g<e.byEnd.length;g++)this._checkIfVisibleWithReference(e.byEnd[g],r,s,n)}else{const g=O.binarySearchCustom(e.byEnd,h,"data");this._traceVisible(g,e.byEnd,r,s,v=>v.data.end<l||v.data.start>c)}this._sortVisibleItems(e.byStart,r,s);const f={};let m=0;for(let g=0;g<r.length;g++){const v=r[g];v.displayed||(f[g]=v.redraw(!0),m=f[g].length)}if(m>0)for(let g=0;g<m;g++)O.forEach(f,v=>{v[g]()});for(let g=0;g<r.length;g++)r[g].repositionX();return r}_traceVisible(e,t,n,r,s){if(e!=-1){for(let o=e;o>=0;o--){let a=t[o];if(s(a))break;!(a.isCluster&&!a.hasItems())&&!a.cluster&&r[a.id]===void 0&&(r[a.id]=!0,n.unshift(a))}for(let o=e+1;o<t.length;o++){let a=t[o];if(s(a))break;!(a.isCluster&&!a.hasItems())&&!a.cluster&&r[a.id]===void 0&&(r[a.id]=!0,n.push(a))}}}_sortVisibleItems(e,t,n){t.length=0;for(let r=0;r<e.length;r++){let s=e[r];n[s.id]&&t.push(s)}}_checkIfVisible(e,t,n){e.isVisible(n)?(e.displayed||e.show(),e.repositionX(),t.push(e)):e.displayed&&e.hide()}_checkIfVisibleWithReference(e,t,n,r){e.isVisible(r)?n[e.id]===void 0&&(n[e.id]=!0,t.push(e)):e.displayed&&e.hide()}_updateClustersInRange(e,t,n){const r=[],s={};if(t.length>0)for(let u=0;u<t.length;u++)this._checkIfVisibleWithReference(t[u],r,s,n);for(let u=0;u<e.byStart.length;u++)this._checkIfVisibleWithReference(e.byStart[u],r,s,n);for(let u=0;u<e.byEnd.length;u++)this._checkIfVisibleWithReference(e.byEnd[u],r,s,n);const o={};let a=0;for(let u=0;u<r.length;u++){const h=r[u];h.displayed||(o[u]=h.redraw(!0),a=o[u].length)}if(a>0)for(var c=0;c<a;c++)O.forEach(o,function(u){u[c]()});for(let u=0;u<r.length;u++)r[u].repositionX();return r}changeSubgroup(e,t,n){this._removeFromSubgroup(e,t),this._addToSubgroup(e,n),this.orderSubgroups()}dispose(){this.hide();let e;for(;e=this._disposeCallbacks.pop();)e()}}class zW extends B0{constructor(e,t,n){super(e,t,n),this.width=0,this.height=0,this.top=0,this.left=0}redraw(e,t){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,e),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(let r=0,s=this.visibleItems.length;r<s;r++)this.visibleItems[r].repositionY(t);return!1}show(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)}}class jl{constructor(e,t,n){this.id=null,this.parent=null,this.data=e,this.dom=null,this.conversion=t||{},this.defaultOptions={locales:dl,locale:"en"},this.options=O.extend({},this.defaultOptions,n),this.options.locales=O.extend({},dl,this.options.locales);const r=this.defaultOptions.locales[this.defaultOptions.locale];Object.keys(this.options.locales).forEach(s=>{this.options.locales[s]=O.extend({},r,this.options.locales[s])}),this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.selectable=n&&n.selectable||!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.setSelectability(e),this.editable=null,this._updateEditStatus()}select(){this.selectable&&(this.selected=!0,this.dirty=!0,this.displayed&&this.redraw())}unselect(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()}setData(e){e.group!=null&&this.data.group!=e.group&&this.parent!=null&&this.parent.itemSet._moveToGroup(this,e.group),this.setSelectability(e),this.parent&&(this.parent.stackDirty=!0),e.subgroup!=null&&this.data.subgroup!=e.subgroup&&this.parent!=null&&this.parent.changeSubgroup(this,this.data.subgroup,e.subgroup),this.data=e,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()}setSelectability(e){e&&(this.selectable=typeof e.selectable>"u"?!0:!!e.selectable)}setParent(e){this.displayed?(this.hide(),this.parent=e,this.parent&&this.show()):this.parent=e}isVisible(){return!1}show(){return!1}hide(){return!1}redraw(){}repositionX(){}repositionY(){}_repaintDragCenter(){if(this.selected&&this.editable.updateTime&&!this.dom.dragCenter){const e=this,t=document.createElement("div");t.className="vis-drag-center",t.dragCenterItem=this,this.hammerDragCenter=new ai(t),this.hammerDragCenter.on("tap",n=>{e.parent.itemSet.body.emitter.emit("click",{event:n,item:e.id})}),this.hammerDragCenter.on("doubletap",n=>{n.stopPropagation(),e.parent.itemSet._onUpdateItem(e),e.parent.itemSet.body.emitter.emit("doubleClick",{event:n,item:e.id})}),this.hammerDragCenter.on("panstart",n=>{n.stopPropagation(),e.parent.itemSet._onDragStart(n)}),this.hammerDragCenter.on("panmove",e.parent.itemSet._onDrag.bind(e.parent.itemSet)),this.hammerDragCenter.on("panend",e.parent.itemSet._onDragEnd.bind(e.parent.itemSet)),this.hammerDragCenter.get("press").set({time:1e4}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(t,this.dom.dragLeft):this.dom.box.appendChild(t):this.dom.point&&this.dom.point.appendChild(t),this.dom.dragCenter=t}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null,this.hammerDragCenter&&(this.hammerDragCenter.destroy(),this.hammerDragCenter=null))}_repaintDeleteButton(e){const t=(this.options.editable.overrideItems||this.editable==null)&&this.options.editable.remove||!this.options.editable.overrideItems&&this.editable!=null&&this.editable.remove;if(this.selected&&t&&!this.dom.deleteButton){const n=this,r=document.createElement("div");this.options.rtl?r.className="vis-delete-rtl":r.className="vis-delete";let s=this.options.locales[this.options.locale];s||(this.warned||(console.warn(`WARNING: options.locales['${this.options.locale}'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization`),this.warned=!0),s=this.options.locales.en),r.title=s.deleteSelected,this.hammerDeleteButton=new ai(r).on("tap",o=>{o.stopPropagation(),n.parent.removeFromDataSet(n)}),e.appendChild(r),this.dom.deleteButton=r}else(!this.selected||!t)&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null,this.hammerDeleteButton&&(this.hammerDeleteButton.destroy(),this.hammerDeleteButton=null))}_repaintOnItemUpdateTimeTooltip(e){if(!this.options.tooltipOnItemUpdateTime)return;const t=(this.options.editable.updateTime||this.data.editable===!0)&&this.data.editable!==!1;if(this.selected&&t&&!this.dom.onItemUpdateTimeTooltip){const n=document.createElement("div");n.className="vis-onUpdateTime-tooltip",e.appendChild(n),this.dom.onItemUpdateTimeTooltip=n}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.dom.onItemUpdateTimeTooltip.style.transform="translateX(-50%)",this.dom.onItemUpdateTimeTooltip.style.left="50%";const n=50,r=this.parent.itemSet.body.domProps.scrollTop;let s;this.options.orientation.item=="top"?s=this.top:s=this.parent.height-this.top-this.height,s+this.parent.top-n<-r?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=`${this.height+2}px`):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=`${this.height+2}px`);let a,l;this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?(l=this.options.tooltipOnItemUpdateTime.template.bind(this),a=l(this.data)):(a=`start: ${wi(this.data.start).format("MM/DD/YYYY hh:mm")}`,this.data.end&&(a+=`<br> end: ${wi(this.data.end).format("MM/DD/YYYY hh:mm")}`)),this.dom.onItemUpdateTimeTooltip.innerHTML=O.xss(a)}}_getItemData(){return this.parent.itemSet.itemsData.get(this.id)}_updateContents(e){let t,n,r,s,o;const a=this._getItemData(),c=(this.dom.box||this.dom.point).getElementsByClassName("vis-item-visible-frame")[0];if(this.options.visibleFrameTemplate?(o=this.options.visibleFrameTemplate.bind(this),s=O.xss(o(a,c))):s="",c){if(s instanceof Object&&!(s instanceof Element))o(a,c);else if(n=this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(s),n){if(s instanceof Element)c.innerHTML="",c.appendChild(s);else if(s!=null)c.innerHTML=O.xss(s);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error(`Property "content" missing in item ${this.id}`);this.itemVisibleFrameContent=s}}if(this.options.template?(r=this.options.template.bind(this),t=r(a,e,this.data)):t=this.data.content,t instanceof Object&&!(t instanceof Element))r(a,e);else if(n=this._contentToString(this.content)!==this._contentToString(t),n){if(t instanceof Element)e.innerHTML="",e.appendChild(t);else if(t!=null)e.innerHTML=O.xss(t);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error(`Property "content" missing in item ${this.id}`);this.content=t}}_updateDataAttributes(e){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){let t=[];if(Array.isArray(this.options.dataAttributes))t=this.options.dataAttributes;else if(this.options.dataAttributes=="all")t=Object.keys(this.data);else return;for(const n of t){const r=this.data[n];r!=null?e.setAttribute(`data-${n}`,r):e.removeAttribute(`data-${n}`)}}}_updateStyle(e){this.style&&(O.removeCssText(e,this.style),this.style=null),this.data.style&&(O.addCssText(e,this.data.style),this.style=this.data.style)}_contentToString(e){return typeof e=="string"?e:e&&"outerHTML"in e?e.outerHTML:e}_updateEditStatus(){this.options&&(typeof this.options.editable=="boolean"?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:typeof this.options.editable=="object"&&(this.editable={},O.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),(!this.options||!this.options.editable||this.options.editable.overrideItems!==!0)&&this.data&&(typeof this.data.editable=="boolean"?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:typeof this.data.editable=="object"&&(this.editable={},O.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))}getWidthLeft(){return 0}getWidthRight(){return 0}getTitle(){return this.options.tooltip&&this.options.tooltip.template?this.options.tooltip.template.bind(this)(this._getItemData(),this.data):this.data.title}}jl.prototype.stack=!0;class qle extends jl{constructor(e,t,n){if(super(e,t,n),this.props={dot:{width:0,height:0},line:{width:0,height:0}},e&&e.start==null)throw new Error(`Property "start" missing in item ${e}`)}isVisible(e){if(this.cluster)return!1;let t;const n=this.data.align||this.options.align,r=this.width*e.getMillisecondsPerPixel();return n=="right"?t=this.data.start.getTime()>e.start&&this.data.start.getTime()-r<e.end:n=="left"?t=this.data.start.getTime()+r>e.start&&this.data.start.getTime()<e.end:t=this.data.start.getTime()+r/2>e.start&&this.data.start.getTime()-r/2<e.end,t}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){const t=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");t.appendChild(this.dom.dot)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className=`vis-item vis-box${t}`,this.dom.line.className=`vis-item vis-line${t}`,this.dom.dot.className=`vis-item vis-dot${t}`}}_getDomComponentsSizes(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=e.dot.height,this.props.dot.width=e.dot.width,this.props.line.width=e.line.width,this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)}redraw(e){let t;const n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),()=>{this.dirty&&(t=this._getDomComponentsSizes())},()=>{this.dirty&&this._updateDomComponentsSizes.bind(this)(t)},this._repaintDomAdditionals.bind(this)];if(e)return n;{let r;return n.forEach(s=>{r=s()}),r}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom;e.box.remove?e.box.remove():e.box.parentNode&&e.box.parentNode.removeChild(e.box),e.line.remove?e.line.remove():e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.remove?e.dot.remove():e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot),this.displayed=!1}}repositionXY(){const e=this.options.rtl,t=(n,r,s,o=!1)=>{if(r===void 0&&s===void 0)return;const a=o?r*-1:r;if(s===void 0){n.style.transform=`translateX(${a}px)`;return}if(r===void 0){n.style.transform=`translateY(${s}px)`;return}n.style.transform=`translate(${a}px, ${s}px)`};t(this.dom.box,this.boxX,this.boxY,e),t(this.dom.dot,this.dotX,this.dotY,e),t(this.dom.line,this.lineX,this.lineY,e)}repositionX(){const e=this.conversion.toScreen(this.data.start),t=this.data.align===void 0?this.options.align:this.data.align,n=this.props.line.width,r=this.props.dot.width;t=="right"?(this.boxX=e-this.width,this.lineX=e-n,this.dotX=e-n/2-r/2):t=="left"?(this.boxX=e,this.lineX=e,this.dotX=e+n/2-r/2):(this.boxX=e-this.width/2,this.lineX=this.options.rtl?e-n:e-n/2,this.dotX=e-r/2),this.options.rtl?this.right=this.boxX:this.left=this.boxX,this.repositionXY()}repositionY(){const e=this.options.orientation.item,t=this.dom.line.style;if(e=="top"){const n=this.parent.top+this.top+1;this.boxY=this.top||0,t.height=`${n}px`,t.bottom="",t.top="0"}else{const r=this.parent.itemSet.props.height-this.parent.top-this.parent.height+this.top;this.boxY=this.parent.height-this.top-(this.height||0),t.height=`${r}px`,t.top="",t.bottom="0"}this.dotY=-this.props.dot.height/2,this.repositionXY()}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}}class Gle extends jl{constructor(e,t,n){if(super(e,t,n),this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},e&&e.start==null)throw new Error(`Property "start" missing in item ${e}`)}isVisible(e){if(this.cluster)return!1;const t=this.width*e.getMillisecondsPerPixel();return this.data.start.getTime()+t>e.start&&this.data.start<e.end}_createDomElement(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.point)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.point.className=`vis-item vis-point${t}`,this.dom.dot.className=`vis-item vis-dot${t}`}}_getDomComponentsSizes(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}}_updateDomComponentsSizes(e){this.props.dot.width=e.dot.width,this.props.dot.height=e.dot.height,this.props.content.height=e.content.height,this.options.rtl?this.dom.content.style.marginRight=`${this.props.dot.width/2}px`:this.dom.content.style.marginLeft=`${this.props.dot.width/2}px`,this.width=e.point.width,this.height=e.point.height,this.dom.dot.style.top=`${(this.height-this.props.dot.height)/2}px`;const t=this.props.dot.width,n=this.options.rtl?t/2:t/2*-1;this.dom.dot.style.transform=`translateX(${n}px`,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)}redraw(e){let t;const n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),()=>{this.dirty&&(t=this._getDomComponentsSizes())},()=>{this.dirty&&this._updateDomComponentsSizes.bind(this)(t)},this._repaintDomAdditionals.bind(this)];if(e)return n;{let r;return n.forEach(s=>{r=s()}),r}}repositionXY(){const e=this.options.rtl;((n,r,s,o=!1)=>{if(r===void 0&&s===void 0)return;const a=o?r*-1:r;if(s===void 0){n.style.transform=`translateX(${a}px)`;return}if(r===void 0){n.style.transform=`translateY(${s}px)`;return}n.style.transform=`translate(${a}px, ${s}px)`})(this.dom.point,this.pointX,this.pointY,e)}show(e){if(!this.displayed)return this.redraw(e)}hide(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)}repositionX(){const e=this.conversion.toScreen(this.data.start);this.pointX=e,this.options.rtl?this.right=e-this.props.dot.width:this.left=e-this.props.dot.width,this.repositionXY()}repositionY(){this.options.orientation.item=="top"?this.pointY=this.top:this.pointY=this.parent.height-this.top-this.height,this.repositionXY()}getWidthLeft(){return this.props.dot.width}getWidthRight(){return this.props.dot.width}}class Oo extends jl{constructor(e,t,n){if(super(e,t,n),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error(`Property "start" missing in item ${e.id}`);if(e.end==null)throw new Error(`Property "end" missing in item ${e.id}`)}}isVisible(e){return this.cluster?!1:this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+t,this.dom.content.style.maxWidth="none"}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.frame).overflow!=="hidden",this.whiteSpace=window.getComputedStyle(this.dom.content).whiteSpace!=="nowrap",{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=e.box.height,this.dom.content.style.maxWidth="",this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()}redraw(e){let t;const n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),()=>{this.dirty&&(t=this._getDomComponentsSizes.bind(this)())},()=>{this.dirty&&this._updateDomComponentsSizes.bind(this)(t)},this._repaintDomAdditionals.bind(this)];if(e)return n;{let r;return n.forEach(s=>{r=s()}),r}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom.box;e.parentNode&&e.parentNode.removeChild(e),this.displayed=!1}}repositionX(e){const t=this.parent.width;let n=this.conversion.toScreen(this.data.start),r=this.conversion.toScreen(this.data.end);const s=this.data.align===void 0?this.options.align:this.data.align;let o,a;this.data.limitSize!==!1&&(e===void 0||e===!0)&&(n<-t&&(n=-t),r>2*t&&(r=2*t));const l=Math.max(Math.round((r-n)*1e3)/1e3,1);switch(this.overflow?(this.options.rtl?this.right=n:this.left=n,this.width=l+this.props.content.width,a=this.props.content.width):(this.options.rtl?this.right=n:this.left=n,this.width=l,a=Math.min(r-n,this.props.content.width)),this.options.rtl?this.dom.box.style.transform=`translateX(${this.right*-1}px)`:this.dom.box.style.transform=`translateX(${this.left}px)`,this.dom.box.style.width=`${l}px`,this.whiteSpace&&(this.height=this.dom.box.offsetHeight),s){case"left":this.dom.content.style.transform="translateX(0)";break;case"right":if(this.options.rtl){const c=Math.max(l-a,0)*-1;this.dom.content.style.transform=`translateX(${c}px)`}else this.dom.content.style.transform=`translateX(${Math.max(l-a,0)}px)`;break;case"center":if(this.options.rtl){const c=Math.max((l-a)/2,0)*-1;this.dom.content.style.transform=`translateX(${c}px)`}else this.dom.content.style.transform=`translateX(${Math.max((l-a)/2,0)}px)`;break;default:if(this.overflow?r>0?o=Math.max(-n,0):o=-a:n<0?o=-n:o=0,this.options.rtl){const c=o*-1;this.dom.content.style.transform=`translateX(${c}px)`}else this.dom.content.style.transform=`translateX(${o}px)`}}repositionY(){const e=this.options.orientation.item,t=this.dom.box;e=="top"?t.style.top=`${this.top}px`:t.style.top=`${this.parent.height-this.top-this.height}px`}_repaintDragLeft(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragLeft){const e=document.createElement("div");e.className="vis-drag-left",e.dragLeftItem=this,this.dom.box.appendChild(e),this.dom.dragLeft=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)}_repaintDragRight(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragRight){const e=document.createElement("div");e.className="vis-drag-right",e.dragRightItem=this,this.dom.box.appendChild(e),this.dom.dragRight=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)}}Oo.prototype.baseClassName="vis-item vis-range";class Bo extends jl{constructor(e,t,n){if(super(e,t,n),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error(`Property "start" missing in item ${e.id}`);if(e.end==null)throw new Error(`Property "end" missing in item ${e.id}`)}}isVisible(e){return this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);const e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+e}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.content).overflow!=="hidden",{content:{width:this.dom.content.offsetWidth}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=0,this.dirty=!1}_repaintDomAdditionals(){}redraw(e){let t;const n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),()=>{this.dirty&&(t=this._getDomComponentsSizes.bind(this)())},()=>{this.dirty&&this._updateDomComponentsSizes.bind(this)(t)},this._repaintDomAdditionals.bind(this)];if(e)return n;{let r;return n.forEach(s=>{r=s()}),r}}repositionY(){let e;const t=this.options.orientation.item;if(this.data.subgroup!==void 0){const n=this.data.subgroup;this.dom.box.style.height=`${this.parent.subgroups[n].height}px`,t=="top"?this.dom.box.style.top=`${this.parent.top+this.parent.subgroups[n].top}px`:this.dom.box.style.top=`${this.parent.top+this.parent.height-this.parent.subgroups[n].top-this.parent.subgroups[n].height}px`,this.dom.box.style.bottom=""}else this.parent instanceof zW?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom=t=="bottom"?"0":"",this.dom.box.style.top=t=="top"?"0":""):(e=this.parent.height,this.dom.box.style.top=`${this.parent.top}px`,this.dom.box.style.bottom="");this.dom.box.style.height=`${e}px`}}Bo.prototype.baseClassName="vis-item vis-background";Bo.prototype.stack=!1;Bo.prototype.show=Oo.prototype.show;Bo.prototype.hide=Oo.prototype.hide;Bo.prototype.repositionX=Oo.prototype.repositionX;class Yle{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=parseInt(e),this.y=parseInt(t)}setText(e){e instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(e)):this.frame.innerHTML=O.xss(e)}show(e){if(e===void 0&&(e=!0),e===!0){var t=this.frame.clientHeight,n=this.frame.clientWidth,r=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth,o=0,a=0;if(this.overflowMethod=="flip"||this.overflowMethod=="none"){let l=!1,c=!0;this.overflowMethod=="flip"&&(this.y-t<this.padding&&(c=!1),this.x+n>s-this.padding&&(l=!0)),l?o=this.x-n:o=this.x,c?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>r&&(a=r-t-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+n+this.padding>s&&(o=s-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}}class Qf extends jl{constructor(e,t,n){const r=Object.assign({},{fitOnDoubleClick:!0},n,{editable:!1});if(super(e,t,r),this.props={content:{width:0,height:0}},!e||e.uiItems==null)throw new Error('Property "uiItems" missing in item '+e.id);this.id=co(),this.group=e.group,this._setupRange(),this.emitter=this.data.eventEmitter,this.range=this.data.range,this.attached=!1,this.isCluster=!0,this.data.isCluster=!0}hasItems(){return this.data.uiItems&&this.data.uiItems.length&&this.attached}setUiItems(e){this.detach(),this.data.uiItems=e,this._setupRange(),this.attach()}isVisible(e){const t=this.data.end?this.data.end-this.data.start:0,n=this.width*e.getMillisecondsPerPixel(),r=Math.max(this.data.start.getTime()+t,this.data.start.getTime()+n);return this.data.start<e.end&&r>e.start&&this.hasItems()}getData(){return{isCluster:!0,id:this.id,items:this.data.items||[],data:this.data}}redraw(e){var t,n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(t=this._getDomComponentsSizes())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(t)}).bind(this),this._repaintDomAdditionals.bind(this)];if(e)return n;var r;return n.forEach(function(s){r=s()}),r}show(){this.displayed||this.redraw()}hide(){if(this.displayed){var e=this.dom;e.box.parentNode&&e.box.parentNode.removeChild(e.box),this.options.showStipes&&(e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot)),this.displayed=!1}}repositionX(){let e=this.conversion.toScreen(this.data.start),t=this.data.end?this.conversion.toScreen(this.data.end):0;if(t)this.repositionXWithRanges(e,t);else{let n=this.data.align===void 0?this.options.align:this.data.align;this.repositionXWithoutRanges(e,n)}this.options.showStipes&&(this.dom.line.style.display=this._isStipeVisible()?"block":"none",this.dom.dot.style.display=this._isStipeVisible()?"block":"none",this._isStipeVisible()&&this.repositionStype(e,t))}repositionStype(e,t){this.dom.line.style.display="block",this.dom.dot.style.display="block";const n=this.dom.line.offsetWidth,r=this.dom.dot.offsetWidth;if(t){const s=n+e+(t-e)/2,o=s-r/2,a=this.options.rtl?s*-1:s,l=this.options.rtl?o*-1:o;this.dom.line.style.transform=`translateX(${a}px)`,this.dom.dot.style.transform=`translateX(${l}px)`}else{const s=this.options.rtl?e*-1:e,o=this.options.rtl?(e-r/2)*-1:e-r/2;this.dom.line.style.transform=`translateX(${s}px)`,this.dom.dot.style.transform=`translateX(${o}px)`}}repositionXWithoutRanges(e,t){t=="right"?this.options.rtl?(this.right=e-this.width,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width,this.dom.box.style.left=this.left+"px"):t=="left"?this.options.rtl?(this.right=e,this.dom.box.style.right=this.right+"px"):(this.left=e,this.dom.box.style.left=this.left+"px"):this.options.rtl?(this.right=e-this.width/2,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width/2,this.dom.box.style.left=this.left+"px")}repositionXWithRanges(e,t){let n=Math.round(Math.max(t-e+.5,1));this.options.rtl?this.right=e:this.left=e,this.width=Math.max(n,this.minWidth||0),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=n+"px"}repositionY(){var e=this.options.orientation.item,t=this.dom.box;if(e=="top"?t.style.top=(this.top||0)+"px":t.style.top=(this.parent.height-this.top-this.height||0)+"px",this.options.showStipes){if(e=="top")this.dom.line.style.top="0",this.dom.line.style.height=this.parent.top+this.top+1+"px",this.dom.line.style.bottom="";else{var n=this.parent.itemSet.props.height,r=n-this.parent.top-this.parent.height+this.top;this.dom.line.style.top=n-r+"px",this.dom.line.style.bottom="0"}this.dom.dot.style.top=-this.dom.dot.offsetHeight/2+"px"}}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}move(){this.repositionX(),this.repositionY()}attach(){for(let e of this.data.uiItems)e.cluster=this;this.data.items=this.data.uiItems.map(e=>e.data),this.attached=!0,this.dirty=!0}detach(e=!1){if(this.hasItems()){for(let t of this.data.uiItems)delete t.cluster;this.attached=!1,e&&this.group&&(this.group.remove(this),this.group=null),this.data.items=[],this.dirty=!0}}_onDoubleClick(){this._fit()}_setupRange(){const e=this.data.uiItems.map(r=>({start:r.data.start.valueOf(),end:r.data.end?r.data.end.valueOf():r.data.start.valueOf()}));this.data.min=Math.min(...e.map(r=>Math.min(r.start,r.end||r.start))),this.data.max=Math.max(...e.map(r=>Math.max(r.start,r.end||r.start)));const n=this.data.uiItems.map(r=>r.center).reduce((r,s)=>r+s,0)/this.data.uiItems.length;this.data.uiItems.some(r=>r.data.end)?(this.data.start=new Date(this.data.min),this.data.end=new Date(this.data.max)):(this.data.start=new Date(n),this.data.end=null)}_getUiItems(){return this.data.uiItems&&this.data.uiItems.length?this.data.uiItems.filter(e=>e.cluster===this):[]}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.options.showStipes&&(this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-cluster-line",this.dom.line.style.display="none",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-cluster-dot",this.dom.dot.style.display="none"),this.options.fitOnDoubleClick&&(this.dom.box.ondblclick=Qf.prototype._onDoubleClick.bind(this)),this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const n=this.parent.dom.foreground;if(!n)throw new Error("Cannot redraw item: parent has no foreground container element");n.appendChild(this.dom.box)}const e=this.parent.dom.background;if(this.options.showStipes){if(!this.dom.line.parentNode){if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var t=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");t.appendChild(this.dom.dot)}}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.baseClassName+" "+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+" vis-readonly";this.dom.box.className="vis-item "+e,this.options.showStipes&&(this.dom.line.className="vis-item vis-cluster-line "+(this.selected?" vis-selected":""),this.dom.dot.className="vis-item vis-cluster-dot "+(this.selected?" vis-selected":"")),this.data.end&&(this.dom.content.style.maxWidth="none")}}_getDomComponentsSizes(){const e={previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}};return this.options.showStipes&&(e.dot={height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},e.line={width:this.dom.line.offsetWidth}),e}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.data.end?this.minWidth=e.box.width:this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box)}_isStipeVisible(){return this.minWidth>=this.width||!this.data.end}_getFitRange(){const e=.05*(this.data.max-this.data.min)/2;return{fitStart:this.data.min-e,fitEnd:this.data.max+e}}_fit(){if(this.emitter){const{fitStart:e,fitEnd:t}=this._getFitRange(),n={start:new Date(e),end:new Date(t),animation:!0};this.emitter.emit("fit",n)}}_getItemData(){return this.data}}Qf.prototype.baseClassName="vis-item vis-range vis-cluster";const Ble="__ungrouped__",Hle={UNGROUPED:Ble};class Ule{constructor(e){this.itemSet=e,this.groups={},this.cache={},this.cache[-1]=[]}createClusterItem(e,t,n){return new Qf(e,t,n)}setItems(e,t){this.items=e||[],this.dataChanged=!0,this.applyOnChangedLevel=!1,t&&t.applyOnChangedLevel&&(this.applyOnChangedLevel=t.applyOnChangedLevel)}updateData(){this.dataChanged=!0,this.applyOnChangedLevel=!1}getClusters(e,t,n){let{maxItems:r,clusterCriteria:s}=typeof n=="boolean"?{}:n;s||(s=()=>!0),r=r||1;let o=-1,a=2,l=0;if(t>0){if(t>=1)return[];o=Math.abs(Math.round(Math.log(100/t)/Math.log(a))),l=Math.abs(Math.pow(a,o))}if(this.dataChanged){const u=o!=this.cacheLevel;(this.applyOnChangedLevel?u:!0)&&(this._dropLevelsCache(),this._filterData())}this.cacheLevel=o;let c=this.cache[o];if(!c){c=[];for(let u in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,u))continue;const h=this.groups[u],d=h.length;let f=0;for(;f<d;){let m=h[f],p=1,g=f-1;for(;g>=0&&m.center-h[g].center<l/2;)!h[g].cluster&&s(m.data,h[g].data)&&p++,g--;let v=f+1;for(;v<h.length&&h[v].center-m.center<l/2;)s(m.data,h[v].data)&&p++,v++;let y=c.length-1;for(;y>=0&&m.center-c[y].center<l;)m.group==c[y].group&&s(m.data,c[y].data)&&p++,y--;if(p>r){const w=p-r+1,b=[];let x=f;for(;b.length<w&&x<h.length;)s(h[f].data,h[x].data)&&b.push(h[x]),x++;const C=this.itemSet.getGroupId(m.data),E=this.itemSet.groups[C]||this.itemSet.groups[Hle.UNGROUPED];let S=this._getClusterForItems(b,E,e,n);c.push(S),f+=w}else delete m.cluster,f+=1}}this.cache[o]=c}return c}_filterData(){const e={};this.groups=e;for(const t of Object.values(this.items)){const n=t.parent?t.parent.groupId:"";let r=e[n];r||(r=[],e[n]=r),r.push(t),t.data.start&&(t.data.end?t.center=(t.data.start.valueOf()+t.data.end.valueOf())/2:t.center=t.data.start.valueOf())}for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&e[t].sort((n,r)=>n.center-r.center);this.dataChanged=!1}_getClusterForItems(e,t,n,r){const s=(n||[]).map(f=>({cluster:f,itemsIds:new Set(f.data.uiItems.map(m=>m.id))}));let o;if(s.length){for(let f of s)if(f.itemsIds.size===e.length&&e.every(m=>f.itemsIds.has(m.id))){o=f.cluster;break}}if(o)return o.setUiItems(e),o.group!==t&&(o.group&&o.group.remove(o),t&&(t.add(o),o.group=t)),o;let a=r.titleTemplate||"";const l={toScreen:this.itemSet.body.util.toScreen,toTime:this.itemSet.body.util.toTime},c=a.replace(/{count}/,e.length),u='<div title="'+c+'">'+e.length+"</div>",h=Object.assign({},r,this.itemSet.options),d={content:u,title:c,group:t,uiItems:e,eventEmitter:this.itemSet.body.emitter,range:this.itemSet.body.range};return o=this.createClusterItem(d,l,h),t&&(t.add(o),o.group=t),o.attach(),o}_dropLevelsCache(){this.cache={},this.cacheLevel=-1,this.cache[this.cacheLevel]=[]}}const aa="__ungrouped__",Qr="__background__";class Io extends Ds{constructor(e,t){super(),this.body=e,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap(r,s){const o=s.order;s.order=r.order,r.order=o},groupOrder:"order",selectable:!0,multiselect:!1,longSelectPressTime:251,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:Ro.snap,onDropObjectOnItem(r,s,o){o(s)},onAdd(r,s){s(r)},onUpdate(r,s){s(r)},onMove(r,s){s(r)},onRemove(r,s){s(r)},onMoving(r,s){s(r)},onAddGroup(r,s){s(r)},onMoveGroup(r,s){s(r)},onRemoveGroup(r,s){s(r)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:500},tooltipOnItemUpdateTime:!1},this.options=O.extend({},this.defaultOptions),this.options.rtl=t.rtl,this.options.onTimeout=t.onTimeout,this.conversion={toScreen:e.util.toScreen,toTime:e.util.toTime},this.dom={},this.props={},this.hammer=null;const n=this;this.itemsData=null,this.groupsData=null,this.itemsSettingTime=null,this.initialItemSetDrawn=!1,this.userContinueNotBail=null,this.sequentialSelection=!1,this.itemListeners={add(r,s){n._onAdd(s.items),n.options.cluster&&n.clusterGenerator.setItems(n.items,{applyOnChangedLevel:!1}),n.redraw()},update(r,s){n._onUpdate(s.items),n.options.cluster&&n.clusterGenerator.setItems(n.items,{applyOnChangedLevel:!1}),n.redraw()},remove(r,s){n._onRemove(s.items),n.options.cluster&&n.clusterGenerator.setItems(n.items,{applyOnChangedLevel:!1}),n.redraw()}},this.groupListeners={add(r,s,o){if(n._onAddGroups(s.items),n.groupsData&&n.groupsData.length>0){const a=n.groupsData.getDataSet();a.get().forEach(l=>{if(l.nestedGroups){l.showNested!=!1&&(l.showNested=!0);let c=[];l.nestedGroups.forEach(u=>{const h=a.get(u);h&&(h.nestedInGroup=l.id,l.showNested==!1&&(h.visible=!1),c=c.concat(h))}),a.update(c,o)}})}},update(r,s){n._onUpdateGroups(s.items)},remove(r,s){n._onRemoveGroups(s.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.popupTimer=null,this.touchParams={},this.groupTouchParams={group:null,isDragging:!1},this._create(),this.setOptions(t),this.clusters=[]}_create(){const e=document.createElement("div");e.className="vis-itemset",e["vis-itemset"]=this,this.dom.frame=e;const t=document.createElement("div");t.className="vis-background",e.appendChild(t),this.dom.background=t;const n=document.createElement("div");n.className="vis-foreground",e.appendChild(n),this.dom.foreground=n;const r=document.createElement("div");r.className="vis-axis",this.dom.axis=r;const s=document.createElement("div");s.className="vis-labelset",this.dom.labelSet=s,this._updateUngrouped();const o=new zW(Qr,null,this);o.show(),this.groups[Qr]=o,this.hammer=new ai(this.body.dom.centerContainer),this.hammer.on("hammer.input",a=>{a.isFirst&&this._onTouch(a)}),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:ai.ALL}),this.hammer.get("press").set({time:1e4}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.get("press").set({time:1e4}),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.options.rtl?this.groupHammer=new ai(this.body.dom.rightContainer):this.groupHammer=new ai(this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:ai.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()}setOptions(e){if(e){const t=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","sequentialSelection","multiselectPerGroup","longSelectPressTime","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime","groupHeightMode","onTimeout"];O.selectiveExtend(t,this.options,e),"itemsAlwaysDraggable"in e&&(typeof e.itemsAlwaysDraggable=="boolean"?(this.options.itemsAlwaysDraggable.item=e.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):typeof e.itemsAlwaysDraggable=="object"&&(O.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,e.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"sequentialSelection"in e&&typeof e.sequentialSelection=="boolean"&&(this.options.sequentialSelection=e.sequentialSelection),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.item=e.orientation==="top"?"top":"bottom":typeof e.orientation=="object"&&"item"in e.orientation&&(this.options.orientation.item=e.orientation.item)),"margin"in e&&(typeof e.margin=="number"?(this.options.margin.axis=e.margin,this.options.margin.item.horizontal=e.margin,this.options.margin.item.vertical=e.margin):typeof e.margin=="object"&&(O.selectiveExtend(["axis"],this.options.margin,e.margin),"item"in e.margin&&(typeof e.margin.item=="number"?(this.options.margin.item.horizontal=e.margin.item,this.options.margin.item.vertical=e.margin.item):typeof e.margin.item=="object"&&O.selectiveExtend(["horizontal","vertical"],this.options.margin.item,e.margin.item)))),["locale","locales"].forEach(r=>{r in e&&(this.options[r]=e[r])}),"editable"in e&&(typeof e.editable=="boolean"?(this.options.editable.updateTime=e.editable,this.options.editable.updateGroup=e.editable,this.options.editable.add=e.editable,this.options.editable.remove=e.editable,this.options.editable.overrideItems=!1):typeof e.editable=="object"&&O.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,e.editable)),"groupEditable"in e&&(typeof e.groupEditable=="boolean"?(this.options.groupEditable.order=e.groupEditable,this.options.groupEditable.add=e.groupEditable,this.options.groupEditable.remove=e.groupEditable):typeof e.groupEditable=="object"&&O.selectiveExtend(["order","add","remove"],this.options.groupEditable,e.groupEditable));const n=r=>{const s=e[r];if(s){if(typeof s!="function")throw new Error(`option ${r} must be a function ${r}(item, callback)`);this.options[r]=s}};["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(n),e.cluster?(Object.assign(this.options,{cluster:e.cluster}),this.clusterGenerator||(this.clusterGenerator=new Ule(this)),this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.clusterGenerator?(this._detachAllClusters(),this.clusters=[],this.clusterGenerator=null,this.options.cluster=void 0,this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.markDirty()}}markDirty(e){this.groupIds=[],e&&(e.refreshItems&&O.forEach(this.items,t=>{t.dirty=!0,t.displayed&&t.redraw()}),e.restackGroups&&O.forEach(this.groups,(t,n)=>{n!==Qr&&(t.stackDirty=!0)}))}destroy(){this.clearPopupTimer(),this.hide(),this.setItems(null),this.setGroups(null),this.hammer&&this.hammer.destroy(),this.groupHammer&&this.groupHammer.destroy(),this.hammer=null,this.body=null,this.conversion=null}hide(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)}show(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))}setPopupTimer(e){if(this.clearPopupTimer(),e){const t=this.options.tooltip.delay||typeof this.options.tooltip.delay=="number"?this.options.tooltip.delay:500;this.popupTimer=setTimeout(function(){e.show()},t)}}clearPopupTimer(){this.popupTimer!=null&&(clearTimeout(this.popupTimer),this.popupTimer=null)}setSelection(e){e==null&&(e=[]),Array.isArray(e)||(e=[e]);const t=this.selection.filter(n=>e.indexOf(n)===-1);for(let n of t){const r=this.getItemById(n);r&&r.unselect()}this.selection=[...e];for(let n of e){const r=this.getItemById(n);r&&r.select()}}getSelection(){return this.selection.concat([])}getVisibleItems(){const e=this.body.range.getRange();let t,n;this.options.rtl?(t=this.body.util.toScreen(e.start),n=this.body.util.toScreen(e.end)):(n=this.body.util.toScreen(e.start),t=this.body.util.toScreen(e.end));const r=[];for(const s in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,s))continue;const o=this.groups[s],a=o.isVisible?o.visibleItems:[];for(const l of a)this.options.rtl?l.right<n&&l.right+l.width>t&&r.push(l.id):l.left<t&&l.left+l.width>n&&r.push(l.id)}return r}getItemsAtCurrentTime(e){let t,n;this.options.rtl?(t=this.body.util.toScreen(e),n=this.body.util.toScreen(e)):(n=this.body.util.toScreen(e),t=this.body.util.toScreen(e));const r=[];for(const s in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,s))continue;const o=this.groups[s],a=o.isVisible?o.visibleItems:[];for(const l of a)this.options.rtl?l.right<n&&l.right+l.width>t&&r.push(l.id):l.left<t&&l.left+l.width>n&&r.push(l.id)}return r}getVisibleGroups(){const e=[];for(const t in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,t))continue;this.groups[t].isVisible&&e.push(t)}return e}getItemById(e){return this.items[e]||this.clusters.find(t=>t.id===e)}_deselect(e){const t=this.selection;for(let n=0,r=t.length;n<r;n++)if(t[n]==e){t.splice(n,1);break}}redraw(){const e=this.options.margin,t=this.body.range,n=O.option.asSize,r=this.options,s=r.orientation.item;let o=!1;const a=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,a.className="vis-itemset",this.options.cluster&&this._clusterItems(),o=this._orderGroups()||o;const l=t.end-t.start,c=l!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,u=t.start!=this.lastRangeStart,h=r.stack!=this.lastStack,d=r.stackSubgroups!=this.lastStackSubgroups,f=c||u||h||d;this.lastVisibleInterval=l,this.lastRangeStart=t.start,this.lastStack=r.stack,this.lastStackSubgroups=r.stackSubgroups,this.props.lastWidth=this.props.width;const m=this._firstGroup(),p={item:e.item,axis:e.axis},g={item:e.item,axis:e.item.vertical/2};let v=0;const y=e.axis+e.item.vertical;this.groups[Qr].redraw(t,g,f);const w={};let b=0;if(O.forEach(this.groups,(C,E)=>{if(E===Qr)return;const S=C==m?p:g,R=!0;w[E]=C.redraw(t,S,f,R),b=w[E].length}),b>0){const C={};for(let E=0;E<b;E++)O.forEach(w,(S,R)=>{C[R]=S[E]()});O.forEach(this.groups,(E,S)=>{if(S===Qr)return;o=C[S]||o,v+=E.height}),v=Math.max(v,y)}return v=Math.max(v,y),a.style.height=n(v),this.props.width=a.offsetWidth,this.props.height=v,this.dom.axis.style.top=n(s=="top"?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.initialItemSetDrawn=!0,o=this._isResized()||o,o}_firstGroup(){const e=this.options.orientation.item=="top"?0:this.groupIds.length-1,t=this.groupIds[e];return this.groups[t]||this.groups[aa]||null}_updateUngrouped(){let e=this.groups[aa],t,n;if(this.groupsData){if(e){e.dispose(),delete this.groups[aa];for(n in this.items){if(!Object.prototype.hasOwnProperty.call(this.items,n))continue;t=this.items[n],t.parent&&t.parent.remove(t);const r=this.getGroupId(t.data),s=this.groups[r];s&&s.add(t)||t.hide()}}}else if(!e){e=new B0(null,null,this),this.groups[aa]=e;for(n in this.items)Object.prototype.hasOwnProperty.call(this.items,n)&&(t=this.items[n],e.add(t));e.show()}}getLabelSet(){return this.dom.labelSet}setItems(e){this.itemsSettingTime=new Date;const t=this;let n;const r=this.itemsData;if(!e)this.itemsData=null;else if(Lr(e))this.itemsData=hl(e);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(r&&(O.forEach(this.itemListeners,(s,o)=>{r.off(o,s)}),r.dispose(),n=r.getIds(),this._onRemove(n)),this.itemsData){const s=this.id;O.forEach(this.itemListeners,(o,a)=>{t.itemsData.on(a,o,s)}),n=this.itemsData.getIds(),this._onAdd(n),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})}getItems(){return this.itemsData!=null?this.itemsData.rawDS:null}setGroups(e){const t=this;let n;if(this.groupsData&&(O.forEach(this.groupListeners,(r,s)=>{t.groupsData.off(s,r)}),n=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(n)),!e)this.groupsData=null;else if(Lr(e))this.groupsData=e;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){const r=this.groupsData.getDataSet();r.get().forEach(o=>{o.nestedGroups&&o.nestedGroups.forEach(a=>{const l=r.get(a);l.nestedInGroup=o.id,o.showNested==!1&&(l.visible=!1),r.update(l)})});const s=this.id;O.forEach(this.groupListeners,(o,a)=>{t.groupsData.on(a,o,s)}),n=this.groupsData.getIds(),this._onAddGroups(n)}this._updateUngrouped(),this._order(),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems(),this.markDirty({refreshItems:!0,restackGroups:!0})),this.body.emitter.emit("_change",{queue:!0})}getGroups(){return this.groupsData}removeItem(e){const t=this.itemsData.get(e);t&&this.options.onRemove(t,n=>{n&&this.itemsData.remove(e)})}_getType(e){return e.type||this.options.type||(e.end?"range":"box")}getGroupId(e){return this._getType(e)=="background"&&e.group==null?Qr:this.groupsData?e.group:aa}_onUpdate(e){const t=this;e.forEach(n=>{const r=t.itemsData.get(n);let s=t.items[n];const o=r?t._getType(r):null,a=Io.types[o];let l;if(s&&(!a||!(s instanceof a)?(l=s.selected,t._removeItem(s),s=null):t._updateItem(s,r)),!s&&r)if(a)s=new a(r,t.conversion,t.options),s.id=n,t._addItem(s),l&&(this.selection.push(n),s.select());else throw new TypeError(`Unknown item type "${o}"`)}),this._order(),this.options.cluster&&(this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this._clusterItems()),this.body.emitter.emit("_change",{queue:!0})}_onRemove(e){let t=0;const n=this;e.forEach(r=>{const s=n.items[r];s&&(t++,n._removeItem(s))}),t&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))}_order(){O.forEach(this.groups,e=>{e.order()})}_onUpdateGroups(e){this._onAddGroups(e)}_onAddGroups(e){const t=this;e.forEach(n=>{const r=t.groupsData.get(n);let s=t.groups[n];if(s)s.setData(r);else{if(n==aa||n==Qr)throw new Error(`Illegal group id. ${n} is a reserved id.`);const o=Object.create(t.options);O.extend(o,{height:null}),s=new B0(n,r,t),t.groups[n]=s;for(const a in t.items){if(!Object.prototype.hasOwnProperty.call(t.items,a))continue;const l=t.items[a];l.data.group==n&&s.add(l)}s.order(),s.show()}}),this.body.emitter.emit("_change",{queue:!0})}_onRemoveGroups(e){e.forEach(t=>{const n=this.groups[t];n&&(n.dispose(),delete this.groups[t])}),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems()),this.markDirty({restackGroups:!!this.options.cluster}),this.body.emitter.emit("_change",{queue:!0})}_orderGroups(){if(this.groupsData){let e=this.groupsData.getIds({order:this.options.groupOrder});e=this._orderNestedGroups(e);const t=!O.equalArray(e,this.groupIds);if(t){const n=this.groups;e.forEach(r=>{n[r].hide()}),e.forEach(r=>{n[r].show()}),this.groupIds=e}return t}else return!1}_orderNestedGroups(e){function t(r,s){let o=[];return s.forEach(a=>{if(o.push(a),r.groupsData.get(a).nestedGroups){const c=r.groupsData.get({filter(u){return u.nestedInGroup==a},order:r.options.groupOrder}).map(u=>u.id);o=o.concat(t(r,c))}}),o}const n=e.filter(r=>!this.groupsData.get(r).nestedInGroup);return t(this,n)}_addItem(e){this.items[e.id]=e;const t=this.getGroupId(e.data),n=this.groups[t];n?n&&n.data&&n.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1,n&&n.add(e)}_updateItem(e,t){e.setData(t);const n=this.getGroupId(e.data),r=this.groups[n];r?r&&r.data&&r.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1}_removeItem(e){e.hide(),delete this.items[e.id];const t=this.selection.indexOf(e.id);t!=-1&&this.selection.splice(t,1),e.parent&&e.parent.remove(e),this.popup!=null&&this.popup.hide()}_constructByEndArray(e){const t=[];for(let n=0;n<e.length;n++)e[n]instanceof Oo&&t.push(e[n]);return t}_onTouch(e){this.touchParams.item=this.itemFromTarget(e),this.touchParams.dragLeftItem=e.target.dragLeftItem||!1,this.touchParams.dragRightItem=e.target.dragRightItem||!1,this.touchParams.itemProps=null}_getGroupIndex(e){for(let t=0;t<this.groupIds.length;t++)if(e==this.groupIds[t])return t}_onDragStart(e){if(this.touchParams.itemIsDragging)return;const t=this.touchParams.item||null,n=this;let r;if(t&&(t.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup||t.editable!=null&&!t.editable.updateTime&&!t.editable.updateGroup&&!this.options.editable.overrideItems)return;const s=this.touchParams.dragLeftItem,o=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=t,s)r={item:s,initialX:e.center.x,dragLeft:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[r];else if(o)r={item:o,initialX:e.center.x,dragRight:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[r];else if(this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey))this._onDragStartAddItem(e);else{this.groupIds.length<1&&this.redraw();const a=this._getGroupIndex(t.data.group),l=this.options.itemsAlwaysDraggable.item&&!t.selected?[t.id]:this.getSelection();this.touchParams.itemProps=l.map(c=>{const u=n.items[c],h=n._getGroupIndex(u.data.group);return{item:u,initialX:e.center.x,groupOffset:a-h,data:this._cloneItemData(u.data)}})}e.stopPropagation()}else this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey)&&this._onDragStartAddItem(e)}_onDragStartAddItem(e){const t=this.options.snap||null,n=this.dom.frame.getBoundingClientRect(),r=this.options.rtl?n.right-e.center.x+10:e.center.x-n.left-10,s=this.body.util.toTime(r),o=this.body.util.getScale(),a=this.body.util.getStep(),l=t?t(s,o,a):s,u={type:"range",start:l,end:l,content:"new item"},h=co();u[this.itemsData.idProp]=h;const d=this.groupFromTarget(e);d&&(u.group=d.groupId);const f=new Oo(u,this.conversion,this.options);f.id=h,f.data=this._cloneItemData(u),this._addItem(f),this.touchParams.selectedItem=f;const m={item:f,initialX:e.center.x,data:f.data};this.options.rtl?m.dragLeft=!0:m.dragRight=!0,this.touchParams.itemProps=[m],e.stopPropagation()}_onDrag(e){if(this.popup!=null&&this.options.showTooltips&&!this.popup.hidden){const t=this.body.dom.centerContainer,n=t.getBoundingClientRect();this.popup.setPosition(e.center.x-n.left+t.offsetLeft,e.center.y-n.top+t.offsetTop),this.popup.show()}if(this.touchParams.itemProps){e.stopPropagation();const t=this,n=this.options.snap||null,r=this.body.dom.root.offsetLeft,s=this.options.rtl?r+this.body.domProps.right.width:r+this.body.domProps.left.width,o=this.body.util.getScale(),a=this.body.util.getStep(),l=this.touchParams.selectedItem,c=(this.options.editable.overrideItems||l.editable==null)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&l.editable!=null&&l.editable.updateGroup;let u=null;if(c&&l&&l.data.group!=null){const h=t.groupFromTarget(e);h&&(u=this._getGroupIndex(h.groupId))}this.touchParams.itemProps.forEach(h=>{const d=t.body.util.toTime(e.center.x-s),f=t.body.util.toTime(h.initialX-s);let m,p,g,v,y;this.options.rtl?m=-(d-f):m=d-f;let w=this._cloneItemData(h.item.data);if(h.item.editable!=null&&!h.item.editable.updateTime&&!h.item.editable.updateGroup&&!t.options.editable.overrideItems)return;if((this.options.editable.overrideItems||l.editable==null)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&l.editable!=null&&l.editable.updateTime){if(h.dragLeft)this.options.rtl?w.end!=null&&(g=O.convert(h.data.end,"Date"),y=new Date(g.valueOf()+m),w.end=n?n(y,o,a):y):w.start!=null&&(p=O.convert(h.data.start,"Date"),v=new Date(p.valueOf()+m),w.start=n?n(v,o,a):v);else if(h.dragRight)this.options.rtl?w.start!=null&&(p=O.convert(h.data.start,"Date"),v=new Date(p.valueOf()+m),w.start=n?n(v,o,a):v):w.end!=null&&(g=O.convert(h.data.end,"Date"),y=new Date(g.valueOf()+m),w.end=n?n(y,o,a):y);else if(w.start!=null)if(p=O.convert(h.data.start,"Date").valueOf(),v=new Date(p+m),w.end!=null){g=O.convert(h.data.end,"Date");const x=g.valueOf()-p.valueOf();w.start=n?n(v,o,a):v,w.end=new Date(w.start.valueOf()+x)}else w.start=n?n(v,o,a):v}if(c&&!h.dragLeft&&!h.dragRight&&u!=null&&w.group!=null){let x=u-h.groupOffset;x=Math.max(0,x),x=Math.min(t.groupIds.length-1,x),w.group=t.groupIds[x]}w=this._cloneItemData(w),t.options.onMoving(w,x=>{x&&h.item.setData(this._cloneItemData(x,"Date"))})}),this.body.emitter.emit("_change")}}_moveToGroup(e,t){const n=this.groups[t];if(n&&n.groupId!=e.data.group){const r=e.parent;r.remove(e),r.order(),e.data.group=n.groupId,n.add(e),n.order()}}_onDragEnd(e){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){e.stopPropagation();const t=this,n=this.touchParams.itemProps;this.touchParams.itemProps=null,n.forEach(r=>{const s=r.item.id;if(!(t.itemsData.get(s)!=null))t.options.onAdd(r.item.data,a=>{t._removeItem(r.item),a&&t.itemsData.add(a),t.body.emitter.emit("_change")});else{const a=this._cloneItemData(r.item.data);t.options.onMove(a,l=>{l?(l[this.itemsData.idProp]=s,this.itemsData.update(l)):(r.item.setData(r.data),t.body.emitter.emit("_change"))})}})}}_onGroupClick(e){const t=this.groupFromTarget(e);setTimeout(()=>{this.toggleGroupShowNested(t)},1)}toggleGroupShowNested(e,t=void 0){if(!e||!e.nestedGroups)return;const n=this.groupsData.getDataSet();t!=null?e.showNested=!!t:e.showNested=!e.showNested;let r=n.get(e.groupId);r.showNested=e.showNested;let s=e.nestedGroups,o=s;for(;o.length>0;){let c=o;o=[];for(let u=0;u<c.length;u++){let h=n.get(c[u]);h.nestedGroups&&(o=o.concat(h.nestedGroups))}o.length>0&&(s=s.concat(o))}var a;if(r.showNested){var l=n.get(r.nestedGroups);for(let c=0;c<l.length;c++){let u=l[c];u.nestedGroups&&u.nestedGroups.length>0&&(u.showNested==null||u.showNested==!0)&&l.push(...n.get(u.nestedGroups))}a=l.map(function(c){return c.visible==null&&(c.visible=!0),c.visible=!!r.showNested,c})}else a=n.get(s).map(function(c){return c.visible==null&&(c.visible=!0),c.visible=!!r.showNested,c});n.update(a.concat(r)),r.showNested?(O.removeClassName(e.dom.label,"collapsed"),O.addClassName(e.dom.label,"expanded")):(O.removeClassName(e.dom.label,"expanded"),O.addClassName(e.dom.label,"collapsed"))}toggleGroupDragClassName(e){e.dom.label.classList.toggle("vis-group-is-dragging"),e.dom.foreground.classList.toggle("vis-group-is-dragging")}_onGroupDragStart(e){this.groupTouchParams.isDragging||this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(e),this.groupTouchParams.group&&(e.stopPropagation(),this.groupTouchParams.isDragging=!0,this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))}_onGroupDrag(e){if(this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const t=this.groupsData.getDataSet(),n=this.groupFromTarget(e);if(n&&n.height!=this.groupTouchParams.group.height){const r=n.top<this.groupTouchParams.group.top,s=e.center?e.center.y:e.clientY,o=n.dom.foreground.getBoundingClientRect(),a=this.groupTouchParams.group.height;if(r){if(o.top+a<s)return}else{const l=n.height;if(o.top+l-a>s)return}}if(n&&n!=this.groupTouchParams.group){const r=t.get(n.groupId),s=t.get(this.groupTouchParams.group.groupId);s&&r&&(this.options.groupOrderSwap(s,r,t),t.update(s),t.update(r));const o=t.getIds({order:this.options.groupOrder});if(!O.equalArray(o,this.groupTouchParams.originalOrder)){const a=this.groupTouchParams.originalOrder,l=this.groupTouchParams.group.groupId,c=Math.min(a.length,o.length);let u=0,h=0,d=0;for(;u<c;){for(;u+h<c&&u+d<c&&o[u+h]==a[u+d];)u++;if(u+h>=c)break;if(o[u+h]==l)h=1;else if(a[u+d]==l)d=1;else{const f=o.indexOf(a[u+d]),m=t.get(o[u+h]),p=t.get(a[u+d]);this.options.groupOrderSwap(m,p,t),t.update(m),t.update(p);const g=o[u+h];o[u+h]=a[u+d],o[f]=g,u++}}}}}}_onGroupDragEnd(e){if(this.groupTouchParams.isDragging=!1,this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const t=this,n=t.groupTouchParams.group.groupId,r=t.groupsData.getDataSet(),s=O.extend({},r.get(n));t.options.onMoveGroup(s,o=>{if(o)o[r._idProp]=n,r.update(o);else{const a=r.getIds({order:t.options.groupOrder});if(!O.equalArray(a,t.groupTouchParams.originalOrder)){const l=t.groupTouchParams.originalOrder,c=Math.min(l.length,a.length);let u=0;for(;u<c;){for(;u<c&&a[u]==l[u];)u++;if(u>=c)break;const h=a.indexOf(l[u]),d=r.get(a[u]),f=r.get(l[u]);t.options.groupOrderSwap(d,f,r),r.update(d),r.update(f);const m=a[u];a[u]=l[u],a[h]=m,u++}}}}),t.body.emitter.emit("groupDragged",{groupId:n}),this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.group=null}}_onSelectItem(e){if(!this.options.selectable)return;const t=e.srcEvent&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey),n=e.srcEvent&&e.srcEvent.shiftKey;if(t||n){this._onMultiSelectItem(e);return}const r=this.getSelection(),s=this.itemFromTarget(e),o=s&&s.selectable?[s.id]:[];this.setSelection(o);const a=this.getSelection();(a.length>0||r.length>0)&&this.body.emitter.emit("select",{items:a,event:e})}_onMouseOver(e){const t=this.itemFromTarget(e);if(!t)return;const n=this.itemFromRelatedTarget(e);if(t===n)return;const r=t.getTitle();if(this.options.showTooltips&&r){this.popup==null&&(this.popup=new Yle(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(r);const s=this.body.dom.centerContainer,o=s.getBoundingClientRect();this.popup.setPosition(e.clientX-o.left+s.offsetLeft,e.clientY-o.top+s.offsetTop),this.setPopupTimer(this.popup)}else this.clearPopupTimer(),this.popup!=null&&this.popup.hide();this.body.emitter.emit("itemover",{item:t.id,event:e})}_onMouseOut(e){const t=this.itemFromTarget(e);if(!t)return;const n=this.itemFromRelatedTarget(e);t!==n&&(this.clearPopupTimer(),this.popup!=null&&this.popup.hide(),this.body.emitter.emit("itemout",{item:t.id,event:e}))}_onMouseMove(e){if(this.itemFromTarget(e)&&(this.popupTimer!=null&&this.setPopupTimer(this.popup),this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden)){const n=this.body.dom.centerContainer,r=n.getBoundingClientRect();this.popup.setPosition(e.clientX-r.left+n.offsetLeft,e.clientY-r.top+n.offsetTop),this.popup.show()}}_onMouseWheel(e){this.touchParams.itemIsDragging&&this._onDragEnd(e)}_onUpdateItem(e){if(!this.options.selectable||!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;const t=this;if(e){const n=t.itemsData.get(e.id);this.options.onUpdate(n,r=>{r&&t.itemsData.update(r)})}}_onDropObjectOnItem(e){const t=this.itemFromTarget(e),n=JSON.parse(e.dataTransfer.getData("text"));this.options.onDropObjectOnItem(n,t)}_onAddItem(e){if(!this.options.selectable||!this.options.editable.add)return;const t=this,n=this.options.snap||null,r=this.dom.frame.getBoundingClientRect(),s=this.options.rtl?r.right-e.center.x:e.center.x-r.left,o=this.body.util.toTime(s),a=this.body.util.getScale(),l=this.body.util.getStep();let c,u;e.type=="drop"?(u=JSON.parse(e.dataTransfer.getData("text")),u.content=u.content?u.content:"new item",u.start=u.start?u.start:n?n(o,a,l):o,u.type=u.type||"box",u[this.itemsData.idProp]=u.id||co(),u.type=="range"&&!u.end&&(c=this.body.util.toTime(s+this.props.width/5),u.end=n?n(c,a,l):c)):(u={start:n?n(o,a,l):o,content:"new item"},u[this.itemsData.idProp]=co(),this.options.type==="range"&&(c=this.body.util.toTime(s+this.props.width/5),u.end=n?n(c,a,l):c));const h=this.groupFromTarget(e);h&&(u.group=h.groupId),u=this._cloneItemData(u),this.options.onAdd(u,d=>{d&&(t.itemsData.add(d),e.type=="drop"&&t.setSelection([d.id]))})}_onMultiSelectItem(e){if(!this.options.selectable)return;const t=this.itemFromTarget(e);if(t){let n=this.options.multiselect?this.getSelection():[];if((e.srcEvent&&e.srcEvent.shiftKey||!1||this.options.sequentialSelection)&&this.options.multiselect){const o=this.itemsData.get(t.id).group;let a;this.options.multiselectPerGroup&&n.length>0&&(a=this.itemsData.get(n[0]).group),(!this.options.multiselectPerGroup||a==null||a==o)&&n.push(t.id);const l=Io._getItemRange(this.itemsData.get(n));if(!this.options.multiselectPerGroup||a==o){n=[];for(const c in this.items){if(!Object.prototype.hasOwnProperty.call(this.items,c))continue;const u=this.items[c],h=u.data.start,d=u.data.end!==void 0?u.data.end:h;h>=l.min&&d<=l.max&&(!this.options.multiselectPerGroup||a==this.itemsData.get(u.id).group)&&!(u instanceof Bo)&&n.push(u.id)}}}else{const o=n.indexOf(t.id);o==-1?n.push(t.id):n.splice(o,1)}const s=n.filter(o=>this.getItemById(o).selectable);this.setSelection(s),this.body.emitter.emit("select",{items:this.getSelection(),event:e})}}static _getItemRange(e){let t=null,n=null;return e.forEach(r=>{(n==null||r.start<n)&&(n=r.start),r.end!=null?(t==null||r.end>t)&&(t=r.end):(t==null||r.start>t)&&(t=r.start)}),{min:n,max:t}}itemFromElement(e){let t=e;for(;t;){if(Object.prototype.hasOwnProperty.call(t,"vis-item"))return t["vis-item"];t=t.parentNode}return null}itemFromTarget(e){return this.itemFromElement(e.target)}itemFromRelatedTarget(e){return this.itemFromElement(e.relatedTarget)}groupFromTarget(e){const t=e.center?e.center.y:e.clientY;let n=this.groupIds;n.length<=0&&this.groupsData&&(n=this.groupsData.getIds({order:this.options.groupOrder}));for(let r=0;r<n.length;r++){const s=n[r],o=this.groups[s],a=o.dom.foreground,l=a.getBoundingClientRect();if(t>=l.top&&t<l.top+a.offsetHeight)return o;if(this.options.orientation.item==="top"){if(r===this.groupIds.length-1&&t>l.top)return o}else if(r===0&&t<l.top+a.offset)return o}return null}static itemSetFromTarget(e){let t=e.target;for(;t;){if(Object.prototype.hasOwnProperty.call(t,"vis-itemset"))return t["vis-itemset"];t=t.parentNode}return null}_cloneItemData(e,t){const n=O.extend({},e);return t||(t=this.itemsData.type),n.start!=null&&(n.start=O.convert(n.start,t&&t.start||"Date")),n.end!=null&&(n.end=O.convert(n.end,t&&t.end||"Date")),n}_clusterItems(){if(!this.options.cluster)return;const{scale:e}=this.body.range.conversion(this.body.domProps.center.width),t=this.clusterGenerator.getClusters(this.clusters,e,this.options.cluster);if(this.clusters!=t){if(this._detachAllClusters(),t){for(let n of t)n.attach();this.clusters=t}this._updateClusters(t)}}_detachAllClusters(){if(this.options.cluster&&this.clusters&&this.clusters.length)for(let e of this.clusters)e.detach()}_updateClusters(e){if(this.clusters&&this.clusters.length){const t=new Set(e.map(s=>s.id)),n=this.clusters.filter(s=>!t.has(s.id));let r=!1;for(let s of n){const o=this.selection.indexOf(s.id);o!==-1&&(s.unselect(),this.selection.splice(o,1),r=!0)}if(r){const s=this.getSelection();this.body.emitter.emit("select",{items:s,event})}}this.clusters=e||[]}}Io.types={background:Bo,box:qle,range:Oo,point:Gle};Io.prototype._onAdd=Io.prototype._onUpdate;let ec=!1,HM,Pd="background: #FFeeee; color: #dd0000";class ut{constructor(){}static validate(e,t,n){ec=!1,HM=t;let r=t;return n!==void 0&&(r=t[n]),ut.parse(e,r,[]),ec}static parse(e,t,n){for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&ut.check(r,e,t,n)}static check(e,t,n,r){if(n[e]===void 0&&n.__any__===void 0){ut.getSuggestion(e,n,r);return}let s=e,o=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",o=ut.getType(t[e])==="object");let a=n[s];o&&a.__type__!==void 0&&(a=a.__type__),ut.checkFields(e,t,n,s,a,r)}static checkFields(e,t,n,r,s,o){let a=function(u){console.log("%c"+u+ut.printLocation(o,e),Pd)},l=ut.getType(t[e]),c=s[l];c!==void 0?ut.getType(c)==="array"&&c.indexOf(t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+ut.print(c)+' not "'+t[e]+'". '),ec=!0):l==="object"&&r!=="__any__"&&(o=O.copyAndExtendArray(o,e),ut.parse(t[e],n[r],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+ut.print(Object.keys(s))+". Received ["+l+'] "'+t[e]+'"'),ec=!0)}static getType(e){var t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Array.isArray(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,n){let r=ut.findInOptions(e,t,n,!1),s=ut.findInOptions(e,HM,[],!0),o=8,a=4,l;r.indexMatch!==void 0?l=" in "+ut.printLocation(r.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+r.indexMatch+`"?

`:s.distance<=a&&r.distance>s.distance?l=" in "+ut.printLocation(r.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+ut.printLocation(s.path,s.closestMatch,""):r.distance<=o?l='. Did you mean "'+r.closestMatch+'"?'+ut.printLocation(r.path,e):l=". Did you mean one of these: "+ut.print(Object.keys(t))+ut.printLocation(n,e),console.log('%cUnknown option detected: "'+e+'"'+l,Pd),ec=!0}static findInOptions(e,t,n,r=!1){let s=1e9,o="",a=[],l=e.toLowerCase(),c;for(let u in t){if(!Object.prototype.hasOwnProperty.call(t,u))continue;let h;if(t[u].__type__!==void 0&&r===!0){let d=ut.findInOptions(e,t[u],O.copyAndExtendArray(n,u));s>d.distance&&(o=d.closestMatch,a=d.path,s=d.distance,c=d.indexMatch)}else u.toLowerCase().indexOf(l)!==-1&&(c=u),h=ut.levenshteinDistance(e,u),s>h&&(o=u,a=O.copyArray(n),s=h)}return{closestMatch:o,path:a,distance:s,indexMatch:c}}static printLocation(e,t,n=`Problem value found at: 
`){let r=`

`+n+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)r+="  ";r+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)r+="  ";r+=t+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)r+="  ";r+=`}
`}return r+`

`}static print(e){return JSON.stringify(e).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;var n=[],r;for(r=0;r<=t.length;r++)n[r]=[r];var s;for(s=0;s<=e.length;s++)n[0][s]=s;for(r=1;r<=t.length;r++)for(s=1;s<=e.length;s++)t.charAt(r-1)==e.charAt(s-1)?n[r][s]=n[r-1][s-1]:n[r][s]=Math.min(n[r-1][s-1]+1,Math.min(n[r][s-1]+1,n[r-1][s]+1));return n[t.length][e.length]}}let de="string",ue="boolean",nt="number",UM="array",la="date",xt="object",Vle="dom",ca="moment",VM="any",Xle={configure:{enabled:{boolean:ue},filter:{boolean:ue,function:"function"},container:{dom:Vle},__type__:{object:xt,boolean:ue,function:"function"}},align:{string:de},alignCurrentTime:{string:de,undefined:"undefined"},rtl:{boolean:ue,undefined:"undefined"},rollingMode:{follow:{boolean:ue},offset:{number:nt,undefined:"undefined"},__type__:{object:xt}},onTimeout:{timeoutMs:{number:nt},callback:{function:"function"},__type__:{object:xt}},verticalScroll:{boolean:ue,undefined:"undefined"},horizontalScroll:{boolean:ue,undefined:"undefined"},horizontalScrollKey:{string:de,undefined:"undefined"},horizontalScrollInvert:{boolean:ue,undefined:"undefined"},autoResize:{boolean:ue},throttleRedraw:{number:nt},clickToUse:{boolean:ue},dataAttributes:{string:de,array:UM},editable:{add:{boolean:ue,undefined:"undefined"},remove:{boolean:ue,undefined:"undefined"},updateGroup:{boolean:ue,undefined:"undefined"},updateTime:{boolean:ue,undefined:"undefined"},overrideItems:{boolean:ue,undefined:"undefined"},__type__:{boolean:ue,object:xt}},end:{number:nt,date:la,string:de,moment:ca},format:{minorLabels:{millisecond:{string:de,undefined:"undefined"},second:{string:de,undefined:"undefined"},minute:{string:de,undefined:"undefined"},hour:{string:de,undefined:"undefined"},weekday:{string:de,undefined:"undefined"},day:{string:de,undefined:"undefined"},week:{string:de,undefined:"undefined"},month:{string:de,undefined:"undefined"},year:{string:de,undefined:"undefined"},__type__:{object:xt,function:"function"}},majorLabels:{millisecond:{string:de,undefined:"undefined"},second:{string:de,undefined:"undefined"},minute:{string:de,undefined:"undefined"},hour:{string:de,undefined:"undefined"},weekday:{string:de,undefined:"undefined"},day:{string:de,undefined:"undefined"},week:{string:de,undefined:"undefined"},month:{string:de,undefined:"undefined"},year:{string:de,undefined:"undefined"},__type__:{object:xt,function:"function"}},__type__:{object:xt}},moment:{function:"function"},groupHeightMode:{string:de},groupOrder:{string:de,function:"function"},groupEditable:{add:{boolean:ue,undefined:"undefined"},remove:{boolean:ue,undefined:"undefined"},order:{boolean:ue,undefined:"undefined"},__type__:{boolean:ue,object:xt}},groupOrderSwap:{function:"function"},height:{string:de,number:nt},hiddenDates:{start:{date:la,number:nt,string:de,moment:ca},end:{date:la,number:nt,string:de,moment:ca},repeat:{string:de},__type__:{object:xt,array:UM}},itemsAlwaysDraggable:{item:{boolean:ue,undefined:"undefined"},range:{boolean:ue,undefined:"undefined"},__type__:{boolean:ue,object:xt}},limitSize:{boolean:ue},locale:{string:de},locales:{__any__:{any:VM},__type__:{object:xt}},longSelectPressTime:{number:nt},margin:{axis:{number:nt},item:{horizontal:{number:nt,undefined:"undefined"},vertical:{number:nt,undefined:"undefined"},__type__:{object:xt,number:nt}},__type__:{object:xt,number:nt}},max:{date:la,number:nt,string:de,moment:ca},maxHeight:{number:nt,string:de},maxMinorChars:{number:nt},min:{date:la,number:nt,string:de,moment:ca},minHeight:{number:nt,string:de},moveable:{boolean:ue},multiselect:{boolean:ue},multiselectPerGroup:{boolean:ue},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:de,undefined:"undefined"},item:{string:de,undefined:"undefined"},__type__:{string:de,object:xt}},selectable:{boolean:ue},sequentialSelection:{boolean:ue},showCurrentTime:{boolean:ue},showMajorLabels:{boolean:ue},showMinorLabels:{boolean:ue},showWeekScale:{boolean:ue},stack:{boolean:ue},stackSubgroups:{boolean:ue},cluster:{maxItems:{number:nt,undefined:"undefined"},titleTemplate:{string:de,undefined:"undefined"},clusterCriteria:{function:"function",undefined:"undefined"},showStipes:{boolean:ue,undefined:"undefined"},fitOnDoubleClick:{boolean:ue,undefined:"undefined"},__type__:{boolean:ue,object:xt}},snap:{function:"function",null:"null"},start:{date:la,number:nt,string:de,moment:ca},template:{function:"function"},loadingScreenTemplate:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:de,function:"function"},showTooltips:{boolean:ue},tooltip:{followMouse:{boolean:ue},overflowMethod:{string:["cap","flip","none"]},delay:{number:nt},template:{function:"function"},__type__:{object:xt}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:ue,object:xt}},timeAxis:{scale:{string:de,undefined:"undefined"},step:{number:nt,undefined:"undefined"},__type__:{object:xt}},type:{string:de},width:{string:de,number:nt},preferZoom:{boolean:ue},zoomable:{boolean:ue},zoomKey:{string:["ctrlKey","altKey","shiftKey","metaKey",""]},zoomFriction:{number:nt},zoomMax:{number:nt},zoomMin:{number:nt},xss:{disabled:{boolean:ue},filterOptions:{__any__:{any:VM},__type__:{object:xt}},__type__:{object:xt}},__type__:{object:xt}},Kle={global:{align:["center","left","right"],alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupHeightMode:["auto","fixed","fitItems"],groupsDraggable:!1,height:"",locale:"",longSelectPressTime:251,margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},preferZoom:!1,selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,cluster:!1,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:[500,0,99999,100]},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","shiftKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],xss:{disabled:!1}}};var Zle={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};class Qle{constructor(e=1){this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return Zle[e]}setColor(e,t=!0){if(e==="none")return;let n;var r=this._isColorString(e);if(r!==void 0&&(e=r),O.isString(e)===!0){if(O.isValidRGB(e)===!0){let s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(O.isValidRGBA(e)===!0){let s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(O.isValidHex(e)===!0){let s=O.hexToRGB(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){let s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(e));this._setColor(n,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(e=!0){e===!0&&(this.previousColor=O.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e,t=!0){t===!0&&(this.initialColor=O.extend({},e)),this.color=e;let n=O.RGBToHSV(e.r,e.g,e.b),r=2*Math.PI,s=this.r*n.s,o=this.centerCoordinates.x+s*Math.sin(r*n.h),a=this.centerCoordinates.y+s*Math.cos(r*n.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){let t=O.RGBToHSV(this.color.r,this.color.g,this.color.b);t.v=e/100;let n=O.HSVToRGB(t.h,t.s,t.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(e=this.color){let t=O.RGBToHSV(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let r=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,r,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-t.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),n.fill(),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){let t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{let t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var e=this;this.opacityRange.onchange=function(){e._setOpacity(this.value)},this.opacityRange.oninput=function(){e._setOpacity(this.value)},this.brightnessRange.onchange=function(){e._setBrightness(this.value)},this.brightnessRange.oninput=function(){e._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new ai(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),PW(this.hammer,e=>{this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){let e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let t=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,n);let r,s,o,a;this.centerCoordinates={x:t*.5,y:n*.5},this.r=.49*t;let l=2*Math.PI/360,c=1/360,u=1/this.r,h;for(o=0;o<360;o++)for(a=0;a<this.r;a++)r=this.centerCoordinates.x+a*Math.sin(l*o),s=this.centerCoordinates.y+a*Math.cos(l*o),h=O.HSVToRGB(o*c,a*u,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(r-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,n)}this.generated=!0}_moveSelector(e){let t=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-t.left,r=e.center.y-t.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=n-o,l=r-s,c=Math.atan2(a,l),u=.98*Math.min(Math.sqrt(a*a+l*l),o),h=Math.cos(c)*u+s,d=Math.sin(c)*u+o;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=d-.5*this.colorPickerSelector.clientWidth+"px";let f=c/(2*Math.PI);f=f<0?f+1:f;let m=u/this.r,p=O.RGBToHSV(this.color.r,this.color.g,this.color.b);p.h=f,p.s=m;let g=O.HSVToRGB(p.h,p.s,p.v);g.a=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}class qW{constructor(e,t,n,r=1){this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},O.extend(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Qle(r),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(Array.isArray(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),e.filter!==void 0&&(this.options.filter=e.filter),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);this.options.filter===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];let e=this.options.filter,t=0,n=!1;for(let r in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,r)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(r,[]),n=n||this._handleObject(this.configureOptions[r],[r],!0)):(e===!0||e.indexOf(r)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(r),this._handleObject(this.configureOptions[r],[r])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let n=0;n<e.length;n++)if(t[e[n]]!==void 0)t=t[e[n]];else{t=void 0;break}return t}_makeItem(e,...t){if(this.allowCreation===!0){let n=document.createElement("div");return n.className="vis-configuration vis-config-item vis-config-s"+e.length,t.forEach(r=>{n.appendChild(r)}),this.domElements.push(n),this.domElements.length}return 0}_makeHeader(e){let t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerHTML=O.xss(e),this._makeItem([],t)}_makeLabel(e,t,n=!1){let r=document.createElement("div");return r.className="vis-configuration vis-config-label vis-config-s"+t.length,n===!0?r.innerHTML=O.xss("<i><b>"+e+":</b></i>"):r.innerHTML=O.xss(e+":"),r}_makeDropdown(e,t,n){let r=document.createElement("select");r.className="vis-configuration vis-config-select";let s=0;t!==void 0&&e.indexOf(t)!==-1&&(s=e.indexOf(t));for(let l=0;l<e.length;l++){let c=document.createElement("option");c.value=e[l],l===s&&(c.selected="selected"),c.innerHTML=e[l],r.appendChild(c)}let o=this;r.onchange=function(){o._update(this.value,n)};let a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,r)}_makeRange(e,t,n){let r=e[0],s=e[1],o=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=o}catch{}l.step=a;let c="",u=0;if(t!==void 0){let p=1.2;t<0&&t*p<s?(l.min=Math.ceil(t*p),u=l.min,c="range increased"):t/p<s&&(l.min=Math.ceil(t/p),u=l.min,c="range increased"),t*p>o&&o!==1&&(l.max=Math.ceil(t*p),u=l.max,c="range increased"),l.value=t}else l.value=r;let h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=Number(l.value);var d=this;l.onchange=function(){h.value=this.value,d._update(Number(this.value),n)},l.oninput=function(){h.value=this.value};let f=this._makeLabel(n[n.length-1],n),m=this._makeItem(n,f,l,h);c!==""&&this.popupHistory[m]!==u&&(this.popupHistory[m]=u,this._setupPopup(c,m))}_makeButton(){if(this.options.showButton===!0){let e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){let n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerHTML=O.xss(e),n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){let t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,n){var r=document.createElement("input");r.type="checkbox",r.className="vis-configuration vis-config-checkbox",r.checked=e,t!==void 0&&(r.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:n,value:t}):this.changedOptions.push({path:n,value:t})));let s=this;r.onchange=function(){s._update(this.checked,n)};let o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,r)}_makeTextInput(e,t,n){var r=document.createElement("input");r.type="text",r.className="vis-configuration vis-config-text",r.value=t,t!==e&&this.changedOptions.push({path:n,value:t});let s=this;r.onchange=function(){s._update(this.value,n)};let o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,r)}_makeColorField(e,t,n){let r=e[1],s=document.createElement("div");t=t===void 0?r:t,t!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?r:t,s.onclick=()=>{this._showColorPicker(t,s,n)};let o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,s)}_showColorPicker(e,t,n){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(r=>{let s="rgba("+r.r+","+r.g+","+r.b+","+r.a+")";t.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,n)}})}_handleObject(e,t=[],n=!1){let r=!1,s=this.options.filter,o=!1;for(let a in e){if(!Object.prototype.hasOwnProperty.call(e,a))continue;r=!0;let l=e[a],c=O.copyAndExtendArray(t,a);if(typeof s=="function"&&(r=s(a,t),r===!1&&!Array.isArray(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,r=this._handleObject(l,c,!0),this.allowCreation=n===!1)),r!==!1){o=!0;let u=this._getValue(c);if(Array.isArray(l))this._handleArray(l,u,c);else if(typeof l=="string")this._makeTextInput(l,u,c);else if(typeof l=="boolean")this._makeCheckbox(l,u,c);else if(l instanceof Object){let h=!0;if(t.indexOf("physics")!==-1&&this.moduleOptions.physics.solver!==a&&(h=!1),h===!0)if(l.enabled!==void 0){let d=O.copyAndExtendArray(c,"enabled"),f=this._getValue(d);if(f===!0){let m=this._makeLabel(a,c,!0);this._makeItem(c,m),o=this._handleObject(l,c)||o}else this._makeCheckbox(l,f,c)}else{let d=this._makeLabel(a,c,!0);this._makeItem(c,d),o=this._handleObject(l,c)||o}}else console.error("dont know how to handle",l,a,c)}}return o}_handleArray(e,t,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,n),e[1]!==t&&this.changedOptions.push({path:n,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:Number(t)}))}_update(e,t){let n=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,t,n={}){let r=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<t.length;s++)t[s]!=="global"&&(r[t[s]]===void 0&&(r[t[s]]={}),s!==t.length-1?r=r[t[s]]:r[t[s]]=e);return n}_printOptions(){let e=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+JSON.stringify(e,null,2)+"</pre>"}getOptions(){let e={};for(var t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}class PS extends Ga{constructor(e,t,n,r){if(super(),this.initTime=new Date,this.itemsDone=!1,!(this instanceof PS))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(n)||Lr(n))&&n instanceof Object){const l=r;r=n,n=l}r&&r.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');const s=this;if(this.defaultOptions={autoResize:!0,longSelectPressTime:251,orientation:{axis:"bottom",item:"bottom"},moment:wi},this.options=O.deepExtend({},this.defaultOptions),r&&O.setupXSSProtection(r.xss),this._create(e),!r||r&&typeof r.rtl>"u"){this.dom.root.style.visibility="hidden";let l,c=this.dom.root;for(;!l&&c;)l=window.getComputedStyle(c,null).direction,c=c.parentElement;this.options.rtl=l&&l.toLowerCase()=="rtl"}else this.options.rtl=r.rtl;r&&(r.rollingMode&&(this.options.rollingMode=r.rollingMode),r.onInitialDrawComplete&&(this.options.onInitialDrawComplete=r.onInitialDrawComplete),r.onTimeout&&(this.options.onTimeout=r.onTimeout),r.loadingScreenTemplate&&(this.options.loadingScreenTemplate=r.loadingScreenTemplate));const o=document.createElement("div");if(this.options.loadingScreenTemplate){const l=this.options.loadingScreenTemplate.bind(this),c=l(this.dom.loadingScreen);c instanceof Object&&!(c instanceof Element)?l(o):c instanceof Element?(o.innerHTML="",o.appendChild(c)):c!=null&&(o.innerHTML=O.xss(c))}this.dom.loadingScreen.appendChild(o),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale(){return s.timeAxis.step.scale},getStep(){return s.timeAxis.step.step},toScreen:s._toScreen.bind(s),toGlobalScreen:s._toGlobalScreen.bind(s),toTime:s._toTime.bind(s),toGlobalTime:s._toGlobalTime.bind(s)}},this.range=new Xf(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new Dd(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new WW(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new Io(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null;function a(l,c){s.hasListeners(l)&&s.emit(l,s.getEventProperties(c))}this.dom.root.onclick=l=>a("click",l),this.dom.root.ondblclick=l=>a("doubleClick",l),this.dom.root.oncontextmenu=l=>a("contextmenu",l),this.dom.root.onmouseover=l=>a("mouseOver",l),window.PointerEvent?(this.dom.root.onpointerdown=l=>a("mouseDown",l),this.dom.root.onpointermove=l=>a("mouseMove",l),this.dom.root.onpointerup=l=>a("mouseUp",l)):(this.dom.root.onmousemove=l=>a("mouseMove",l),this.dom.root.onmousedown=l=>a("mouseDown",l),this.dom.root.onmouseup=l=>a("mouseUp",l)),this.initialFitDone=!1,this.on("changed",()=>{if(s.itemsData!=null){if(!s.initialFitDone&&!s.options.rollingMode)if(s.initialFitDone=!0,s.options.start!=null||s.options.end!=null){if(s.options.start==null||s.options.end==null)var l=s.getItemRange();const c=s.options.start!=null?s.options.start:l.min,u=s.options.end!=null?s.options.end:l.max;s.setWindow(c,u,{animation:!1})}else s.fit({animation:!1});!s.initialDrawDone&&(s.initialRangeChangeDone||!s.options.start&&!s.options.end||s.options.rollingMode)&&(s.initialDrawDone=!0,s.itemSet.initialDrawDone=!0,s.dom.root.style.visibility="visible",s.dom.loadingScreen.parentNode.removeChild(s.dom.loadingScreen),s.options.onInitialDrawComplete&&setTimeout(()=>s.options.onInitialDrawComplete(),0))}}),this.on("destroyTimeline",()=>{s.destroy()}),r&&this.setOptions(r),this.body.emitter.on("fit",l=>{this._onFit(l),this.redraw()}),n&&this.setGroups(n),t&&this.setItems(t),this._redraw()}_createConfigurator(){return new qW(this,this.dom.container,Kle)}redraw(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()}setOptions(e){if(ut.validate(e,Xle)===!0&&console.log("%cErrors have been found in the supplied options object.",Pd),Ga.prototype.setOptions.call(this,e),"type"in e&&e.type!==this.options.type){this.options.type=e.type;const n=this.itemsData;if(n){const r=this.getSelection();this.setItems(null),this.setItems(n.rawDS),this.setSelection(r)}}}setItems(e){this.itemsDone=!1;let t;e?Lr(e)?t=hl(e):t=hl(new ul(e)):t=null,this.itemsData&&this.itemsData.dispose(),this.itemsData=t,this.itemSet&&this.itemSet.setItems(t!=null?t.rawDS:null)}setGroups(e){let t;const n=r=>r.visible!==!1;e?(Array.isArray(e)&&(e=new ul(e)),t=new wS(e,{filter:n})):t=null,this.groupsData!=null&&typeof this.groupsData.setData=="function"&&this.groupsData.setData(null),this.groupsData=t,this.itemSet.setGroups(t)}setData(e){e&&e.groups&&this.setGroups(e.groups),e&&e.items&&this.setItems(e.items)}setSelection(e,t){this.itemSet&&this.itemSet.setSelection(e),t&&t.focus&&this.focus(e,t)}getSelection(){return this.itemSet&&this.itemSet.getSelection()||[]}focus(e,t){if(!this.itemsData||e==null)return;const n=Array.isArray(e)?e:[e],r=this.itemsData.get(n);let s=null,o=null;if(r.forEach(a=>{const l=a.start.valueOf(),c="end"in a?a.end.valueOf():a.start.valueOf();(s===null||l<s)&&(s=l),(o===null||c>o)&&(o=c)}),s!==null&&o!==null){const a=this,l=this.itemSet.items[n[0]];let c=this._getScrollTop()*-1,u=null;const h=(y,w,b)=>{const x=XM(a,l);if(x===!1||(u||(u=x),u.itemTop==x.itemTop&&!u.shouldScroll))return;u.itemTop!=x.itemTop&&x.shouldScroll&&(u=x,c=a._getScrollTop()*-1);const C=c,E=u.scrollOffset,S=b?E:C+(E-C)*y;a._setScrollTop(-S),w||a._redraw()},d=()=>{const y=XM(a,l);y.shouldScroll&&y.itemTop!=u.itemTop&&(a._setScrollTop(-y.scrollOffset),a._redraw())},f=()=>{d(),setTimeout(d,100)},m=t&&t.zoom!==void 0?t.zoom:!0,p=(s+o)/2,g=m?(o-s)*1.1:Math.max(this.range.end-this.range.start,(o-s)*1.1),v=t&&t.animation!==void 0?t.animation:!0;v||(u={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.stopRolling(),this.range.setRange(p-g/2,p+g/2,{animation:v},f,h)}}fit(e,t){const n=e&&e.animation!==void 0?e.animation:!0;let r;this.itemsData.length===1&&this.itemsData.get()[0].end===void 0?(r=this.getDataRange(),this.moveTo(r.min.valueOf(),{animation:n},t)):(r=this.getItemRange(),this.range.setRange(r.min,r.max,{animation:n},t))}getItemRange(){const e=this.getDataRange();let t=e.min!==null?e.min.valueOf():null,n=e.max!==null?e.max.valueOf():null,r=null,s=null;if(t!=null&&n!=null){let o=n-t;o<=0&&(o=10);const a=o/this.props.center.width,l={};let c=0;if(O.forEach(this.itemSet.items,(h,d)=>{h.groupShowing&&(l[d]=h.redraw(!0),c=l[d].length)}),c>0)for(let h=0;h<c;h++)O.forEach(l,d=>{d[h]()});if(O.forEach(this.itemSet.items,h=>{const d=Cb(h),f=Tb(h);let m,p;this.options.rtl?(m=d-(h.getWidthRight()+10)*a,p=f+(h.getWidthLeft()+10)*a):(m=d-(h.getWidthLeft()+10)*a,p=f+(h.getWidthRight()+10)*a),m<t&&(t=m,r=h),p>n&&(n=p,s=h)}),r&&s){const h=r.getWidthLeft()+10,d=s.getWidthRight()+10,f=this.props.center.width-h-d;f>0&&(this.options.rtl?(t=Cb(r)-d*o/f,n=Tb(s)+h*o/f):(t=Cb(r)-h*o/f,n=Tb(s)+d*o/f))}}return{min:t!=null?new Date(t):null,max:n!=null?new Date(n):null}}getDataRange(){let e=null,t=null;return this.itemsData&&this.itemsData.forEach(n=>{const r=O.convert(n.start,"Date").valueOf(),s=O.convert(n.end!=null?n.end:n.start,"Date").valueOf();(e===null||r<e)&&(e=r),(t===null||s>t)&&(t=s)}),{min:e!=null?new Date(e):null,max:t!=null?new Date(t):null}}getEventProperties(e){const t=e.center?e.center.x:e.clientX,n=e.center?e.center.y:e.clientY,r=this.dom.centerContainer.getBoundingClientRect(),s=this.options.rtl?r.right-t:t-r.left,o=n-r.top,a=this.itemSet.itemFromTarget(e),l=this.itemSet.groupFromTarget(e),c=IS.customTimeFromTarget(e),u=this.itemSet.options.snap||null,h=this.body.util.getScale(),d=this.body.util.getStep(),f=this._toTime(s),m=u?u(f,h,d):f,p=O.getTarget(e);let g=null;return a!=null?g="item":c!=null?g="custom-time":O.hasParent(p,this.timeAxis.dom.foreground)||this.timeAxis2&&O.hasParent(p,this.timeAxis2.dom.foreground)?g="axis":O.hasParent(p,this.itemSet.dom.labelSet)?g="group-label":O.hasParent(p,this.currentTime.bar)?g="current-time":O.hasParent(p,this.dom.center)&&(g="background"),{event:e,item:a?a.id:null,isCluster:a?!!a.isCluster:!1,items:a?a.items||[]:null,group:l?l.groupId:null,customTime:c?c.options.id:null,what:g,pageX:e.srcEvent?e.srcEvent.pageX:e.pageX,pageY:e.srcEvent?e.srcEvent.pageY:e.pageY,x:s,y:o,time:f,snappedTime:m}}toggleRollingMode(){this.range.rolling?this.range.stopRolling():(this.options.rollingMode==null&&this.setOptions(this.options),this.range.startRolling())}_redraw(){Ga.prototype._redraw.call(this)}_onFit(e){const{start:t,end:n,animation:r}=e;n?this.range.setRange(t,n,{animation:r}):this.moveTo(t.valueOf(),{animation:r})}}function Cb(i){return O.convert(i.data.start,"Date").valueOf()}function Tb(i){const e=i.data.end!=null?i.data.end:i.data.start;return O.convert(e,"Date").valueOf()}function XM(i,e){if(!e.parent)return!1;const t=i.options.rtl?i.props.rightContainer.height:i.props.leftContainer.height,n=i.props.center.height,r=e.parent;let s=r.top,o=!0;const a=i.timeAxis.options.orientation.axis,l=()=>a=="bottom"?r.height-e.top-e.height:e.top,c=i._getScrollTop()*-1,u=s+l(),h=e.height;return u<c?s+t<=s+l()+h&&(s+=l()-i.itemSet.options.margin.item.vertical):u+h>c+t?s+=l()+h-t+i.itemSet.options.margin.item.vertical:o=!1,s=Math.min(s,n-t),{shouldScroll:o,scrollOffset:s,itemTop:u}}function is(i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e].redundant=i[e].used,i[e].used=[])}function Bi(i){for(var e in i){if(!Object.prototype.hasOwnProperty.call(i,e))continue;const n=i[e];for(var t=0;t<n.redundant.length;t++)n.redundant[t].parentNode.removeChild(n.redundant[t]);n.redundant=[]}}function Jle(i){is(i),Bi(i),is(i)}function mn(i,e,t){var n;return Object.prototype.hasOwnProperty.call(e,i)?e[i].redundant.length>0?(n=e[i].redundant[0],e[i].redundant.shift()):(n=document.createElementNS("http://www.w3.org/2000/svg",i),t.appendChild(n)):(n=document.createElementNS("http://www.w3.org/2000/svg",i),e[i]={used:[],redundant:[]},t.appendChild(n)),e[i].used.push(n),n}function Rb(i,e,t,n){var r;return Object.prototype.hasOwnProperty.call(e,i)?e[i].redundant.length>0?(r=e[i].redundant[0],e[i].redundant.shift()):(r=document.createElement(i),t.appendChild(r)):(r=document.createElement(i),e[i]={used:[],redundant:[]},t.appendChild(r)),e[i].used.push(r),r}function fl(i,e,t,n,r,s){var o;if(t.style=="circle"?(o=mn("circle",n,r),o.setAttributeNS(null,"cx",i),o.setAttributeNS(null,"cy",e),o.setAttributeNS(null,"r",.5*t.size)):(o=mn("rect",n,r),o.setAttributeNS(null,"x",i-.5*t.size),o.setAttributeNS(null,"y",e-.5*t.size),o.setAttributeNS(null,"width",t.size),o.setAttributeNS(null,"height",t.size)),t.styles!==void 0&&o.setAttributeNS(null,"style",t.styles),o.setAttributeNS(null,"class",t.className+" vis-point"),s){var a=mn("text",n,r);s.xOffset&&(i=i+s.xOffset),s.yOffset&&(e=e+s.yOffset),s.content&&(a.textContent=s.content),s.className&&a.setAttributeNS(null,"class",s.className+" vis-label"),a.setAttributeNS(null,"x",i),a.setAttributeNS(null,"y",e)}return o}function H0(i,e,t,n,r,s,o,a){if(n!=0){n<0&&(n*=-1,e-=n);var l=mn("rect",s,o);l.setAttributeNS(null,"x",i-.5*t),l.setAttributeNS(null,"y",e),l.setAttributeNS(null,"width",t),l.setAttributeNS(null,"height",n),l.setAttributeNS(null,"class",r),a&&l.setAttributeNS(null,"style",a)}}function ece(){try{return navigator?navigator.languages&&navigator.languages.length?navigator.languages:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en":"en"}catch{return"en"}}class tce{constructor(e,t,n,r,s,o,a=!1,l=!1){if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=s,this.majorCharHeight=o,this._start=e,this._end=t,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=a,this.autoScaleStart=n,this.autoScaleEnd=r,this.formattingFunction=l,n||r){const c=this,u=h=>{const d=h-h%(c.magnitudefactor*c.minorSteps[c.minorStepIdx]);return h%(c.magnitudefactor*c.minorSteps[c.minorStepIdx])>.5*(c.magnitudefactor*c.minorSteps[c.minorStepIdx])?d+c.magnitudefactor*c.minorSteps[c.minorStepIdx]:d};n&&(this._start-=this.magnitudefactor*2*this.minorSteps[this.minorStepIdx],this._start=u(this._start)),r&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=u(this._end)),this.determineScale()}}setCharHeight(e){this.majorCharHeight=e}setHeight(e){this.containerHeight=e}determineScale(){const e=this._end-this._start;this.scale=this.containerHeight/e;const t=this.majorCharHeight/this.scale,n=e>0?Math.round(Math.log(e)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,n);let r=0;n<0&&(r=n);let s=!1;for(let o=r;Math.abs(o)<=Math.abs(n);o++){this.magnitudefactor=Math.pow(10,o);for(let a=0;a<this.minorSteps.length;a++)if(this.magnitudefactor*this.minorSteps[a]>=t){s=!0,this.minorStepIdx=a;break}if(s===!0)break}}is_major(e){return e%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])===0}getStep(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]}getFirstMajor(){const e=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(e-this._start%e)%e)}formatValue(e){let t=e.toPrecision(5);return typeof this.formattingFunction=="function"&&(t=this.formattingFunction(e)),typeof t=="number"?`${t}`:typeof t=="string"?t:e.toPrecision(5)}getLines(){const e=[],t=this.getStep(),n=(t-this._start%t)%t;for(let r=this._start+n;this._end-r>1e-5;r+=t)r!=this._start&&e.push({major:this.is_major(r),y:this.convertValue(r),val:this.formatValue(r)});return e}followScale(e){const t=this.minorStepIdx,n=this._start,r=this._end,s=this,o=()=>{s.magnitudefactor*=2},a=()=>{s.magnitudefactor/=2};e.minorStepIdx<=1&&this.minorStepIdx<=1||e.minorStepIdx>1&&this.minorStepIdx>1||(e.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,t==2||o(),o()):(this.minorStepIdx=2,t==1||a(),a()));const l=e.convertValue(0),c=e.getStep()*e.scale;let u=!1,h=0;for(;!u&&h++<5;){this.scale=c/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);const d=this.containerHeight/this.scale;this._start=n,this._end=this._start+d;const f=this._end*this.scale,m=this.magnitudefactor*this.majorSteps[this.minorStepIdx],p=this.getFirstMajor()-e.getFirstMajor();if(this.zeroAlign){const g=l-f;this._end+=g/this.scale,this._start=this._end-d}else this.autoScaleStart?(this._start-=p/this.scale,this._end=this._start+d):(this._start+=m-p/this.scale,this._end=this._start+d);if(!this.autoScaleEnd&&this._end>r+1e-5){a(),u=!1;continue}if(!this.autoScaleStart&&this._start<n-1e-5)if(this.zeroAlign&&n>=0)console.warn("Can't adhere to given 'min' range, due to zeroalign");else{a(),u=!1;continue}if(this.autoScaleStart&&this.autoScaleEnd&&d<r-n){o(),u=!1;continue}u=!0}}convertValue(e){return this.containerHeight-(e-this._start)*this.scale}screenToValue(e){return(this.containerHeight-e)/this.scale+this._start}}class KM extends Ds{constructor(e,t,n,r){super(),this.id=co(),this.body=e,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format(o){return`${parseFloat(o.toPrecision(3))}`},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format(o){return`${parseFloat(o.toPrecision(3))}`},title:{text:void 0,style:void 0}}},this.linegraphOptions=r,this.linegraphSVG=n,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=O.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(t),this.width=Number(`${this.options.width}`.replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.scale==null&&this._redrawLabels(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};const s=this;this.body.emitter.on("verticalDrag",()=>{s.dom.lineContainer.style.top=`${s.body.domProps.scrollTop}px`})}addGroup(e,t){Object.prototype.hasOwnProperty.call(this.groups,e)||(this.groups[e]=t),this.amountOfGroups+=1}updateGroup(e,t){Object.prototype.hasOwnProperty.call(this.groups,e)||(this.amountOfGroups+=1),this.groups[e]=t}removeGroup(e){Object.prototype.hasOwnProperty.call(this.groups,e)&&(delete this.groups[e],this.amountOfGroups-=1)}setOptions(e){if(e){let t=!1;this.options.orientation!=e.orientation&&e.orientation!==void 0&&(t=!0);const n=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];O.selectiveDeepExtend(n,this.options,e),this.minWidth=Number(`${this.options.width}`.replace("px","")),t===!0&&this.dom.frame&&(this.hide(),this.show())}}_create(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.dom.lineContainer.style.visibility="visible",this.dom.lineContainer.style.display="block",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)}_redrawGroupIcons(){is(this.svgElements);let e;const t=this.options.iconWidth,n=15,r=4;let s=r+.5*n;this.options.orientation==="left"?e=r:e=this.width-t-r;const o=Object.keys(this.groups);o.sort((a,l)=>a<l?-1:1);for(const a of o)this.groups[a].visible===!0&&(this.linegraphOptions.visibility[a]===void 0||this.linegraphOptions.visibility[a]===!0)&&(this.groups[a].getLegend(t,n,this.framework,e,s),s+=n+r);Bi(this.svgElements),this.iconsRemoved=!1}_cleanupIcons(){this.iconsRemoved===!1&&(is(this.svgElements),Bi(this.svgElements),this.iconsRemoved=!0)}show(){this.hidden=!1,this.dom.frame.parentNode||(this.options.orientation==="left"?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer),this.dom.lineContainer.style.display="block"}hide(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.style.display="none"}setRange(e,t){this.range.start=e,this.range.end=t}redraw(){let e=!1,t=0;this.dom.lineContainer.style.top=`${this.body.domProps.scrollTop}px`;for(const n in this.groups)Object.prototype.hasOwnProperty.call(this.groups,n)&&this.groups[n].visible===!0&&(this.linegraphOptions.visibility[n]===void 0||this.linegraphOptions.visibility[n]===!0)&&t++;if(this.amountOfGroups===0||t===0)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=`${this.height}px`,this.width=this.options.visible===!0?Number(`${this.options.width}`.replace("px","")):0;const n=this.props,r=this.dom.frame;r.className="vis-data-axis",this._calculateCharSize();const s=this.options.orientation,o=this.options.showMinorLabels,a=this.options.showMajorLabels,l=this.body.dom.backgroundHorizontal.offsetWidth;n.minorLabelHeight=o?n.minorCharHeight:0,n.majorLabelHeight=a?n.majorCharHeight:0,n.minorLineWidth=l-this.lineOffset-this.width+2*this.options.minorLinesOffset,n.minorLineHeight=1,n.majorLineWidth=l-this.lineOffset-this.width+2*this.options.majorLinesOffset,n.majorLineHeight=1,s==="left"?(r.style.top="0",r.style.left="0",r.style.bottom="",r.style.width=`${this.width}px`,r.style.height=`${this.height}px`,this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(r.style.top="",r.style.bottom="0",r.style.left="0",r.style.width=`${this.width}px`,r.style.height=`${this.height}px`,this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),e=this._redrawLabels(),e=this._isResized()||e,this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(s)}return e}_redrawLabels(){let e=!1;is(this.DOMelements.lines),is(this.DOMelements.labels);const t=this.options.orientation,n=this.options[t].range!=null?this.options[t].range:{};let r=!0;n.max!=null&&(this.range.end=n.max,r=!1);let s=!0;n.min!=null&&(this.range.start=n.min,s=!1),this.scale=new tce(this.range.start,this.range.end,s,r,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[t].format),this.master===!1&&this.masterAxis!=null?(this.scale.followScale(this.masterAxis.scale),this.dom.lineContainer.style.display="none"):this.dom.lineContainer.style.display="block",this.maxLabelSize=0,this.scale.getLines().forEach(c=>{const u=c.y,h=c.major;this.options.showMinorLabels&&h===!1&&this._redrawLabel(u-2,c.val,t,"vis-y-axis vis-minor",this.props.minorCharHeight),h&&u>=0&&this._redrawLabel(u-2,c.val,t,"vis-y-axis vis-major",this.props.majorCharHeight),this.master===!0&&(h?this._redrawLine(u,t,"vis-grid vis-horizontal vis-major",this.options.majorLinesOffset,this.props.majorLineWidth):this._redrawLine(u,t,"vis-grid vis-horizontal vis-minor",this.options.minorLinesOffset,this.props.minorLineWidth))});let a=0;this.options[t].title!==void 0&&this.options[t].title.text!==void 0&&(a=this.props.titleCharHeight);const l=this.options.icons===!0?Math.max(this.options.iconWidth,a)+this.options.labelOffsetX+15:a+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-l&&this.options.visible===!0?(this.width=this.maxLabelSize+l,this.options.width=`${this.width}px`,Bi(this.DOMelements.lines),Bi(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-l&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+l),this.options.width=`${this.width}px`,Bi(this.DOMelements.lines),Bi(this.DOMelements.labels),this.redraw(),e=!0):(Bi(this.DOMelements.lines),Bi(this.DOMelements.labels),e=!1),e}convertValue(e){return this.scale.convertValue(e)}screenToValue(e){return this.scale.screenToValue(e)}_redrawLabel(e,t,n,r,s){const o=Rb("div",this.DOMelements.labels,this.dom.frame);o.className=r,o.innerHTML=O.xss(t),n==="left"?(o.style.left=`-${this.options.labelOffsetX}px`,o.style.textAlign="right"):(o.style.right=`-${this.options.labelOffsetX}px`,o.style.textAlign="left"),o.style.top=`${e-.5*s+this.options.labelOffsetY}px`,t+="";const a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<t.length*a&&(this.maxLabelSize=t.length*a)}_redrawLine(e,t,n,r,s){if(this.master===!0){const o=Rb("div",this.DOMelements.lines,this.dom.lineContainer);o.className=n,o.innerHTML="",t==="left"?o.style.left=`${this.width-r}px`:o.style.right=`${this.width-r}px`,o.style.width=`${s}px`,o.style.top=`${e}px`}}_redrawTitle(e){if(is(this.DOMelements.title),this.options[e].title!==void 0&&this.options[e].title.text!==void 0){const t=Rb("div",this.DOMelements.title,this.dom.frame);t.className=`vis-y-axis vis-title vis-${e}`,t.innerHTML=O.xss(this.options[e].title.text),this.options[e].title.style!==void 0&&O.addCssText(t,this.options[e].title.style),e==="left"?t.style.left=`${this.props.titleCharHeight}px`:t.style.right=`${this.props.titleCharHeight}px`,t.style.width=`${this.height}px`}Bi(this.DOMelements.title)}_calculateCharSize(){if(!("minorCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-minor vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.minorCharHeight=t.clientHeight,this.props.minorCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}if(!("majorCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-major vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.majorCharHeight=t.clientHeight,this.props.majorCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}if(!("titleCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-title vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.titleCharHeight=t.clientHeight,this.props.titleCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}}}function Zu(){}Zu.draw=function(i,e,t,n){n=n||0;for(var r=ice(t,e),s=0;s<i.length;s++)if(!r)fl(i[s].screen_x+n,i[s].screen_y,U0(e),t.svgElements,t.svg,i[s].label);else{var o=r(i[s],e);(o===!0||typeof o=="object")&&fl(i[s].screen_x+n,i[s].screen_y,U0(e,o),t.svgElements,t.svg,i[s].label)}};Zu.drawIcon=function(i,e,t,n,r,s){var o=r*.5,a=mn("rect",s.svgElements,s.svg);a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",t-o),a.setAttributeNS(null,"width",n),a.setAttributeNS(null,"height",2*o),a.setAttributeNS(null,"class","vis-outline"),fl(e+.5*n,t,U0(i),s.svgElements,s.svg)};function U0(i,e){return e=typeof e>"u"?{}:e,{style:e.style||i.options.drawPoints.style,styles:e.styles||i.options.drawPoints.styles,size:e.size||i.options.drawPoints.size,className:e.className||i.className}}function ice(i,e){var t=void 0;return i.options&&i.options.drawPoints&&i.options.drawPoints.onRender&&typeof i.options.drawPoints.onRender=="function"&&(t=i.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&typeof e.group.options.drawPoints.onRender=="function"&&(t=e.group.options.drawPoints.onRender),t}function ci(){}ci.drawIcon=function(i,e,t,n,r,s){var o=r*.5,a=mn("rect",s.svgElements,s.svg);a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",t-o),a.setAttributeNS(null,"width",n),a.setAttributeNS(null,"height",2*o),a.setAttributeNS(null,"class","vis-outline");var l=Math.round(.3*n),c=i.options.barChart.width,u=c/l,h=Math.round(.4*r),d=Math.round(.75*r),f=Math.round((n-2*l)/3);if(H0(e+.5*l+f,t+o-h-1,l,h,i.className+" vis-bar",s.svgElements,s.svg,i.style),H0(e+1.5*l+f+2,t+o-d-1,l,d,i.className+" vis-bar",s.svgElements,s.svg,i.style),i.options.drawPoints.enabled==!0){var m={style:i.options.drawPoints.style,styles:i.options.drawPoints.styles,size:i.options.drawPoints.size/u,className:i.className};fl(e+.5*l+f,t+o-h-1,m,s.svgElements,s.svg),fl(e+1.5*l+f+2,t+o-d-1,m,s.svgElements,s.svg)}};ci.draw=function(i,e,t){var n=[],r={},s,o,a,l,c,u,h=0;for(c=0;c<i.length;c++)if(l=t.groups[i[c]],l.options.style==="bar"&&l.visible===!0&&(t.options.groups.visibility[i[c]]===void 0||t.options.groups.visibility[i[c]]===!0))for(u=0;u<e[i[c]].length;u++)n.push({screen_x:e[i[c]][u].screen_x,screen_end:e[i[c]][u].screen_end,screen_y:e[i[c]][u].screen_y,x:e[i[c]][u].x,end:e[i[c]][u].end,y:e[i[c]][u].y,groupId:i[c],label:e[i[c]][u].label}),h+=1;if(h!==0)for(n.sort(function(p,g){return p.screen_x===g.screen_x?p.groupId<g.groupId?-1:1:p.screen_x-g.screen_x}),ci._getDataIntersections(r,n),c=0;c<n.length;c++){l=t.groups[n[c].groupId];var d=l.options.barChart.minWidth!=null?l.options.barChart.minWidth:.1*l.options.barChart.width;o=n[c].screen_x;var f=0;if(r[o]===void 0)c+1<n.length&&(s=Math.abs(n[c+1].screen_x-o)),a=ci._getSafeDrawData(s,l,d);else{var m=c+(r[o].amount-r[o].resolved);m<n.length&&(s=Math.abs(n[m].screen_x-o)),a=ci._getSafeDrawData(s,l,d),r[o].resolved+=1,l.options.stack===!0&&l.options.excludeFromStacking!==!0?n[c].screen_y<l.zeroPosition?(f=r[o].accumulatedNegative,r[o].accumulatedNegative+=l.zeroPosition-n[c].screen_y):(f=r[o].accumulatedPositive,r[o].accumulatedPositive+=l.zeroPosition-n[c].screen_y):l.options.barChart.sideBySide===!0&&(a.width=a.width/r[o].amount,a.offset+=r[o].resolved*a.width-.5*a.width*(r[o].amount+1))}let p=a.width,g=n[c].screen_x;if(n[c].screen_end!=null?(p=n[c].screen_end-n[c].screen_x,g+=p*.5):g+=a.offset,H0(g,n[c].screen_y-f,p,l.zeroPosition-n[c].screen_y,l.className+" vis-bar",t.svgElements,t.svg,l.style),l.options.drawPoints.enabled===!0){let v={screen_x:n[c].screen_x,screen_y:n[c].screen_y-f,x:n[c].x,y:n[c].y,groupId:n[c].groupId,label:n[c].label};Zu.draw([v],l,t,a.offset)}}};ci._getDataIntersections=function(i,e){for(var t,n=0;n<e.length;n++)n+1<e.length&&(t=Math.abs(e[n+1].screen_x-e[n].screen_x)),n>0&&(t=Math.min(t,Math.abs(e[n-1].screen_x-e[n].screen_x))),t===0&&(i[e[n].screen_x]===void 0&&(i[e[n].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),i[e[n].screen_x].amount+=1)};ci._getSafeDrawData=function(i,e,t){var n,r;return i<e.options.barChart.width&&i>0?(n=i<t?t:i,r=0,e.options.barChart.align==="left"?r-=.5*i:e.options.barChart.align==="right"&&(r+=.5*i)):(n=e.options.barChart.width,r=0,e.options.barChart.align==="left"?r-=.5*e.options.barChart.width:e.options.barChart.align==="right"&&(r+=.5*e.options.barChart.width)),{width:n,offset:r}};ci.getStackedYRange=function(i,e,t,n,r){if(i.length>0){i.sort(function(o,a){return o.screen_x===a.screen_x?o.groupId<a.groupId?-1:1:o.screen_x-a.screen_x});var s={};ci._getDataIntersections(s,i),e[n]=ci._getStackedYRange(s,i),e[n].yAxisOrientation=r,t.push(n)}};ci._getStackedYRange=function(i,e){for(var t,n=e[0].screen_y,r=e[0].screen_y,s=0;s<e.length;s++)t=e[s].screen_x,i[t]===void 0?(n=n>e[s].screen_y?e[s].screen_y:n,r=r<e[s].screen_y?e[s].screen_y:r):e[s].screen_y<0?i[t].accumulatedNegative+=e[s].screen_y:i[t].accumulatedPositive+=e[s].screen_y;for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n=n>i[o].accumulatedNegative?i[o].accumulatedNegative:n,n=n>i[o].accumulatedPositive?i[o].accumulatedPositive:n,r=r<i[o].accumulatedNegative?i[o].accumulatedNegative:r,r=r<i[o].accumulatedPositive?i[o].accumulatedPositive:r);return{min:n,max:r}};function Ut(){}Ut.calcPath=function(i,e){if(i!=null&&i.length>0){var t=[];return e.options.interpolation.enabled==!0?t=Ut._catmullRom(i,e):t=Ut._linear(i),t}};Ut.drawIcon=function(i,e,t,n,r,s){var o=r*.5,a,l,c=mn("rect",s.svgElements,s.svg);if(c.setAttributeNS(null,"x",e),c.setAttributeNS(null,"y",t-o),c.setAttributeNS(null,"width",n),c.setAttributeNS(null,"height",2*o),c.setAttributeNS(null,"class","vis-outline"),a=mn("path",s.svgElements,s.svg),a.setAttributeNS(null,"class",i.className),i.style!==void 0&&a.setAttributeNS(null,"style",i.style),a.setAttributeNS(null,"d","M"+e+","+t+" L"+(e+n)+","+t),i.options.shaded.enabled==!0&&(l=mn("path",s.svgElements,s.svg),i.options.shaded.orientation=="top"?l.setAttributeNS(null,"d","M"+e+", "+(t-o)+"L"+e+","+t+" L"+(e+n)+","+t+" L"+(e+n)+","+(t-o)):l.setAttributeNS(null,"d","M"+e+","+t+" L"+e+","+(t+o)+" L"+(e+n)+","+(t+o)+"L"+(e+n)+","+t),l.setAttributeNS(null,"class",i.className+" vis-icon-fill"),i.options.shaded.style!==void 0&&i.options.shaded.style!==""&&l.setAttributeNS(null,"style",i.options.shaded.style)),i.options.drawPoints.enabled==!0){var u={style:i.options.drawPoints.style,styles:i.options.drawPoints.styles,size:i.options.drawPoints.size,className:i.className};fl(e+.5*n,t,u,s.svgElements,s.svg)}};Ut.drawShading=function(i,e,t,n){if(e.options.shaded.enabled==!0){var r=Number(n.svg.style.height.replace("px","")),s=mn("path",n.svgElements,n.svg),o="L";e.options.interpolation.enabled==!0&&(o="C");var a,l=0;e.options.shaded.orientation=="top"?l=0:e.options.shaded.orientation=="bottom"?l=r:l=Math.min(Math.max(0,e.zeroPosition),r),e.options.shaded.orientation=="group"&&t!=null&&t!=null?a="M"+i[0][0]+","+i[0][1]+" "+this.serializePath(i,o,!1)+" L"+t[t.length-1][0]+","+t[t.length-1][1]+" "+this.serializePath(t,o,!0)+t[0][0]+","+t[0][1]+" Z":a="M"+i[0][0]+","+i[0][1]+" "+this.serializePath(i,o,!1)+" V"+l+" H"+i[0][0]+" Z",s.setAttributeNS(null,"class",e.className+" vis-fill"),e.options.shaded.style!==void 0&&s.setAttributeNS(null,"style",e.options.shaded.style),s.setAttributeNS(null,"d",a)}};Ut.draw=function(i,e,t){if(i!=null&&i!=null){var n=mn("path",t.svgElements,t.svg);n.setAttributeNS(null,"class",e.className),e.style!==void 0&&n.setAttributeNS(null,"style",e.style);var r="L";e.options.interpolation.enabled==!0&&(r="C"),n.setAttributeNS(null,"d","M"+i[0][0]+","+i[0][1]+" "+this.serializePath(i,r,!1))}};Ut.serializePath=function(i,e,t){if(i.length<2)return"";var n=e,r;if(t)for(r=i.length-2;r>0;r--)n+=i[r][0]+","+i[r][1]+" ";else for(r=1;r<i.length;r++)n+=i[r][0]+","+i[r][1]+" ";return n};Ut._catmullRomUniform=function(i){var e,t,n,r,s,o,a=[];a.push([Math.round(i[0].screen_x),Math.round(i[0].screen_y)]);for(var l=1/6,c=i.length,u=0;u<c-1;u++)e=u==0?i[0]:i[u-1],t=i[u],n=i[u+1],r=u+2<c?i[u+2]:n,s={screen_x:(-e.screen_x+6*t.screen_x+n.screen_x)*l,screen_y:(-e.screen_y+6*t.screen_y+n.screen_y)*l},o={screen_x:(t.screen_x+6*n.screen_x-r.screen_x)*l,screen_y:(t.screen_y+6*n.screen_y-r.screen_y)*l},a.push([s.screen_x,s.screen_y]),a.push([o.screen_x,o.screen_y]),a.push([n.screen_x,n.screen_y]);return a};Ut._catmullRom=function(i,e){var t=e.options.interpolation.alpha;if(t==0||t===void 0)return this._catmullRomUniform(i);var n,r,s,o,a,l,c,u,h,d,f,m,p,g,v,y,w,b,x,C=[];C.push([Math.round(i[0].screen_x),Math.round(i[0].screen_y)]);for(var E=i.length,S=0;S<E-1;S++)n=S==0?i[0]:i[S-1],r=i[S],s=i[S+1],o=S+2<E?i[S+2]:s,c=Math.sqrt(Math.pow(n.screen_x-r.screen_x,2)+Math.pow(n.screen_y-r.screen_y,2)),u=Math.sqrt(Math.pow(r.screen_x-s.screen_x,2)+Math.pow(r.screen_y-s.screen_y,2)),h=Math.sqrt(Math.pow(s.screen_x-o.screen_x,2)+Math.pow(s.screen_y-o.screen_y,2)),g=Math.pow(h,t),y=Math.pow(h,2*t),v=Math.pow(u,t),w=Math.pow(u,2*t),x=Math.pow(c,t),b=Math.pow(c,2*t),d=2*b+3*x*v+w,f=2*y+3*g*v+w,m=3*x*(x+v),m>0&&(m=1/m),p=3*g*(g+v),p>0&&(p=1/p),a={screen_x:(-w*n.screen_x+d*r.screen_x+b*s.screen_x)*m,screen_y:(-w*n.screen_y+d*r.screen_y+b*s.screen_y)*m},l={screen_x:(y*r.screen_x+f*s.screen_x-w*o.screen_x)*p,screen_y:(y*r.screen_y+f*s.screen_y-w*o.screen_y)*p},a.screen_x==0&&a.screen_y==0&&(a=r),l.screen_x==0&&l.screen_y==0&&(l=s),C.push([a.screen_x,a.screen_y]),C.push([l.screen_x,l.screen_y]),C.push([s.screen_x,s.screen_y]);return C};Ut._linear=function(i){for(var e=[],t=0;t<i.length;t++)e.push([i[t].screen_x,i[t].screen_y]);return e};function Ps(i,e,t,n){this.id=e;var r=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=O.selectiveBridgeObject(r,t),this.usingDefaultStyle=i.className===void 0,this.groupsUsingDefaultStyles=n,this.zeroPosition=0,this.update(i),this.usingDefaultStyle==!0&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=i.visible===void 0?!0:i.visible}Ps.prototype.setItems=function(i){i!=null?(this.itemsData=i,this.options.sort==!0&&O.insertSort(this.itemsData,function(e,t){return e.x>t.x?1:-1})):this.itemsData=[]};Ps.prototype.getItems=function(){return this.itemsData};Ps.prototype.setZeroPosition=function(i){this.zeroPosition=i};Ps.prototype.setOptions=function(i){if(i!==void 0){var e=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];O.selectiveDeepExtend(e,this.options,i),typeof i.drawPoints=="function"&&(i.drawPoints={onRender:i.drawPoints}),O.mergeOptions(this.options,i,"interpolation"),O.mergeOptions(this.options,i,"drawPoints"),O.mergeOptions(this.options,i,"shaded"),i.interpolation&&typeof i.interpolation=="object"&&i.interpolation.parametrization&&(i.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:i.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}};Ps.prototype.update=function(i){this.group=i,this.content=i.content||"graph",this.className=i.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=i.visible===void 0?!0:i.visible,this.style=i.style,this.setOptions(i.options)};Ps.prototype.getLegend=function(i,e,t,n,r){if(t==null||t==null){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");t={svg:s,svgElements:{},options:this.options,groups:[this]}}switch((n==null||n==null)&&(n=0),(r==null||r==null)&&(r=.5*e),this.options.style){case"line":Ut.drawIcon(this,n,r,i,e,t);break;case"points":case"point":Zu.drawIcon(this,n,r,i,e,t);break;case"bar":ci.drawIcon(this,n,r,i,e,t);break}return{icon:t.svg,label:this.content,orientation:this.options.yAxisOrientation}};Ps.prototype.getYRange=function(i){for(var e=i[0].y,t=i[0].y,n=0;n<i.length;n++)e=e>i[n].y?i[n].y:e,t=t<i[n].y?i[n].y:t;return{min:e,max:t,yAxisOrientation:this.options.yAxisOrientation}};function $i(i,e,t,n){this.body=i,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=t,this.options=O.extend({},this.defaultOptions),this.linegraphOptions=n,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}$i.prototype=new Ds;$i.prototype.clear=function(){this.groups={},this.amountOfGroups=0};$i.prototype.addGroup=function(i,e){e.options.excludeFromLegend!=!0&&(Object.prototype.hasOwnProperty.call(this.groups,i)||(this.groups[i]=e),this.amountOfGroups+=1)};$i.prototype.updateGroup=function(i,e){this.groups[i]=e};$i.prototype.removeGroup=function(i){Object.prototype.hasOwnProperty.call(this.groups,i)&&(delete this.groups[i],this.amountOfGroups-=1)};$i.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)};$i.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};$i.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};$i.prototype.setOptions=function(i){var e=["enabled","orientation","icons","left","right"];O.selectiveDeepExtend(e,this.options,i)};$i.prototype.redraw=function(){var i=0,e=Object.keys(this.groups);e.sort(function(o,a){return o<a?-1:1});for(var t=0;t<e.length;t++){var n=e[t];this.groups[n].visible==!0&&(this.linegraphOptions.visibility[n]===void 0||this.linegraphOptions.visibility[n]==!0)&&i++}if(this.options[this.side].visible==!1||this.amountOfGroups==0||this.options.enabled==!1||i==0)this.hide();else{if(this.show(),this.options[this.side].position=="top-left"||this.options[this.side].position=="bottom-left"?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),this.options[this.side].position=="top-left"||this.options[this.side].position=="top-right")this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var r=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+r+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}this.options.icons==!1?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var s="";for(t=0;t<e.length;t++)n=e[t],this.groups[n].visible==!0&&(this.linegraphOptions.visibility[n]===void 0||this.linegraphOptions.visibility[n]==!0)&&(s+=this.groups[n].content+"<br />");this.dom.textArea.innerHTML=O.xss(s),this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}};$i.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var i=Object.keys(this.groups);i.sort(function(c,u){return c<u?-1:1}),Jle(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,t=Number(e.replace("px","")),n=t,r=this.options.iconSize,s=.75*this.options.iconSize,o=t+.5*s+3;this.svg.style.width=r+5+t+"px";for(var a=0;a<i.length;a++){var l=i[a];this.groups[l].visible==!0&&(this.linegraphOptions.visibility[l]===void 0||this.linegraphOptions.visibility[l]==!0)&&(this.groups[l].getLegend(r,s,this.framework,n,o),o+=s+this.options.iconSpacing)}}};var kd="__ungrouped__";function Je(i,e){this.id=co(),this.body=i,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=O.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var t=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(n,r){t._onAdd(r.items)},update:function(n,r){t._onUpdate(r.items)},remove:function(n,r){t._onRemove(r.items)}},this.groupListeners={add:function(n,r){t._onAddGroups(r.items)},update:function(n,r){t._onUpdateGroups(r.items)},remove:function(n,r){t._onRemoveGroups(r.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){t.svg.style.left=O.option.asSize(-t.props.width),t.forceGraphUpdate=!0,t.redraw.call(t)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}Je.prototype=new Ds;Je.prototype._create=function(){var i=document.createElement("div");i.className="vis-line-graph",this.dom.frame=i,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",i.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new KM(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new KM(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new $i(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new $i(this.body,this.options.legend,"right",this.options.groups),this.show()};Je.prototype.setOptions=function(i){if(i){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];i.graphHeight===void 0&&i.height!==void 0?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):this.body.domProps.centerContainer.height!==void 0&&i.graphHeight!==void 0&&parseInt((i.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),O.selectiveDeepExtend(e,this.options,i),O.mergeOptions(this.options,i,"interpolation"),O.mergeOptions(this.options,i,"drawPoints"),O.mergeOptions(this.options,i,"shaded"),O.mergeOptions(this.options,i,"legend"),i.interpolation&&typeof i.interpolation=="object"&&i.interpolation.parametrization&&(i.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:i.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&i.dataAxis!==void 0&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&i.legend!==void 0&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),Object.prototype.hasOwnProperty.call(this.groups,kd)&&this.groups[kd].setOptions(i)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))};Je.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};Je.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};Je.prototype.setItems=function(i){var e=this,t,n=this.itemsData;if(!i)this.itemsData=null;else if(Lr(i))this.itemsData=hl(i);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(n&&(O.forEach(this.itemListeners,function(s,o){n.off(o,s)}),n.dispose(),t=n.getIds(),this._onRemove(t)),this.itemsData){var r=this.id;O.forEach(this.itemListeners,function(s,o){e.itemsData.on(o,s,r)}),t=this.itemsData.getIds(),this._onAdd(t)}};Je.prototype.setGroups=function(i){var e=this,t;if(this.groupsData){O.forEach(this.groupListeners,function(s,o){e.groupsData.off(o,s)}),t=this.groupsData.getIds(),this.groupsData=null;for(var n=0;n<t.length;n++)this._removeGroup(t[n])}if(!i)this.groupsData=null;else if(Lr(i))this.groupsData=i;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){var r=this.id;O.forEach(this.groupListeners,function(s,o){e.groupsData.on(o,s,r)}),t=this.groupsData.getIds(),this._onAddGroups(t)}};Je.prototype._onUpdate=function(i){this._updateAllGroupData(i)};Je.prototype._onAdd=function(i){this._onUpdate(i)};Je.prototype._onRemove=function(i){this._onUpdate(i)};Je.prototype._onUpdateGroups=function(i){this._updateAllGroupData(null,i)};Je.prototype._onAddGroups=function(i){this._onUpdateGroups(i)};Je.prototype._onRemoveGroups=function(i){for(var e=0;e<i.length;e++)this._removeGroup(i[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})};Je.prototype._removeGroup=function(i){Object.prototype.hasOwnProperty.call(this.groups,i)&&(this.groups[i].options.yAxisOrientation=="right"?(this.yAxisRight.removeGroup(i),this.legendRight.removeGroup(i),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(i),this.legendLeft.removeGroup(i),this.legendLeft.redraw()),delete this.groups[i])};Je.prototype._updateGroup=function(i,e){Object.prototype.hasOwnProperty.call(this.groups,e)?(this.groups[e].update(i),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new Ps(i,e,this.options,this.groupsUsingDefaultStyles),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()};Je.prototype._updateAllGroupData=function(i,e){if(this.itemsData!=null){var t={},n=this.itemsData.get(),r=this.itemsData.idProp,s={};i&&i.map(function(g){s[g]=g});for(var o={},a=0;a<n.length;a++){var l=n[a],c=l.group;c==null&&(c=kd),Object.prototype.hasOwnProperty.call(o,c)?o[c]++:o[c]=1}var u={};if(!e&&i){for(c in this.groups)if(Object.prototype.hasOwnProperty.call(this.groups,c)){p=this.groups[c];var h=p.getItems();t[c]=h.filter(function(g){return u[g[r]]=g[r],g[r]!==s[g[r]]});var d=o[c];o[c]-=t[c].length,t[c].length<d&&(t[c][d-1]={})}}for(a=0;a<n.length;a++)if(l=n[a],c=l.group,c==null&&(c=kd),!(!e&&i&&l[r]!==s[l[r]]&&Object.prototype.hasOwnProperty.call(u,l[r]))){Object.prototype.hasOwnProperty.call(t,c)||(t[c]=new Array(o[c]));var f=O.bridgeObject(l);f.x=O.convert(l.x,"Date"),f.end=O.convert(l.end,"Date"),f.orginalY=l.y,f.y=Number(l.y),f[r]=l[r];var m=t[c].length-o[c]--;t[c][m]=f}for(c in this.groups)!Object.prototype.hasOwnProperty.call(this.groups,c)||Object.prototype.hasOwnProperty.call(t,c)||(t[c]=new Array(0));for(c in t)if(Object.prototype.hasOwnProperty.call(t,c))if(t[c].length==0)Object.prototype.hasOwnProperty.call(this.groups,c)&&this._removeGroup(c);else{var p=void 0;this.groupsData!=null&&(p=this.groupsData.get(c)),p==null&&(p={id:c,content:this.options.defaultGroup+c}),this._updateGroup(p,c),this.groups[c].setItems(t[c])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}};Je.prototype.redraw=function(){var i=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,i=this._isResized()||i;var e=this.body.range.end-this.body.range.start,t=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,i==!0&&(this.svg.style.width=O.option.asSize(3*this.props.width),this.svg.style.left=O.option.asSize(-this.props.width),((this.options.height+"").indexOf("%")!=-1||this.updateSVGheightOnResize==!0)&&(this.updateSVGheight=!0)),this.updateSVGheight==!0?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",i==!0||t==!0||this.abortedGraphUpdate==!0||this.forceGraphUpdate==!0)i=this._updateGraph()||i,this.forceGraphUpdate=!1,this.lastStart=this.body.range.start,this.svg.style.left=-this.props.width+"px";else if(this.lastStart!=0){var n=this.body.range.start-this.lastStart,r=this.body.range.end-this.body.range.start;if(this.props.width!=0){var s=this.props.width/r,o=n*s;this.svg.style.left=-this.props.width-o+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),i};Je.prototype._getSortedGroupIds=function(){var i=[];for(var e in this.groups)if(Object.prototype.hasOwnProperty.call(this.groups,e)){var t=this.groups[e];t.visible==!0&&(this.options.groups.visibility[e]===void 0||this.options.groups.visibility[e]==!0)&&i.push({id:e,zIndex:t.options.zIndex})}O.insertSort(i,function(s,o){var a=s.zIndex,l=o.zIndex;return a===void 0&&(a=0),l===void 0&&(l=0),a==l?0:a<l?-1:1});for(var n=new Array(i.length),r=0;r<i.length;r++)n[r]=i[r].id;return n};Je.prototype._updateGraph=function(){if(is(this.svgElements),this.props.width!=0&&this.itemsData!=null){var i,e,t={},n=!1,r=this.body.util.toGlobalTime(-this.body.domProps.root.width),s=this.body.util.toGlobalTime(2*this.body.domProps.root.width),o=this._getSortedGroupIds();if(o.length>0){var a={};for(this._getRelevantData(o,a,r,s),this._applySampling(o,a),e=0;e<o.length;e++)this._convertXcoordinates(a[o[e]]);if(this._getYRanges(o,a,t),n=this._updateYAxis(o,t),n==!0)return Bi(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var l=void 0;for(e=0;e<o.length;e++)i=this.groups[o[e]],this.options.stack===!0&&this.options.style==="line"&&(i.options.excludeFromStacking==null||!i.options.excludeFromStacking)&&(l!=null&&(this._stack(a[i.id],a[l.id]),i.options.shaded.enabled==!0&&i.options.shaded.orientation!=="group"&&(i.options.shaded.orientation=="top"&&l.options.shaded.orientation!=="group"?(l.options.shaded.orientation="group",l.options.shaded.groupId=i.id):(i.options.shaded.orientation="group",i.options.shaded.groupId=l.id))),l=i),this._convertYcoordinates(a[o[e]],i);var c={};for(e=0;e<o.length;e++)if(i=this.groups[o[e]],i.options.style==="line"&&i.options.shaded.enabled==!0){var u=a[o[e]];if(u==null||u.length==0)continue;if(Object.prototype.hasOwnProperty.call(c,o[e])||(c[o[e]]=Ut.calcPath(u,i)),i.options.shaded.orientation==="group"){var h=i.options.shaded.groupId;if(o.indexOf(h)===-1){console.log(i.id+": Unknown shading group target given:"+h);continue}Object.prototype.hasOwnProperty.call(c,h)||(c[h]=Ut.calcPath(a[h],this.groups[h])),Ut.drawShading(c[o[e]],i,c[h],this.framework)}else Ut.drawShading(c[o[e]],i,void 0,this.framework)}for(ci.draw(o,a,this.framework),e=0;e<o.length;e++)if(i=this.groups[o[e]],a[o[e]].length>0)switch(i.options.style){case"line":Object.prototype.hasOwnProperty.call(c,o[e])||(c[o[e]]=Ut.calcPath(a[o[e]],i)),Ut.draw(c[o[e]],i,this.framework);case"point":case"points":(i.options.style=="point"||i.options.style=="points"||i.options.drawPoints.enabled==!0)&&Zu.draw(a[o[e]],i,this.framework);break}}}return Bi(this.svgElements),!1};Je.prototype._stack=function(i,e){var t,n,r,s,o;t=0;for(var a=0;a<i.length;a++){s=void 0,o=void 0;for(var l=t;l<e.length;l++)if(e[l].x===i[a].x){s=e[l],o=e[l],t=l;break}else if(e[l].x>i[a].x){o=e[l],l==0?s=o:s=e[l-1],t=l;break}o===void 0&&(s=e[e.length-1],o=e[e.length-1]),n=o.x-s.x,r=o.y-s.y,n==0?i[a].y=i[a].orginalY+o.y:i[a].y=i[a].orginalY+r/n*(i[a].x-s.x)+s.y}};Je.prototype._getRelevantData=function(i,e,t,n){var r,s,o,a;if(i.length>0)for(s=0;s<i.length;s++){r=this.groups[i[s]];var l=r.getItems();if(r.options.sort==!0){var c=function(f,m){return f.getTime()==m.getTime()?0:f<m?-1:1},u=Math.max(0,O.binarySearchValue(l,t,"x","before",c)),h=Math.min(l.length,O.binarySearchValue(l,n,"x","after",c)+1);h<=0&&(h=l.length);var d=new Array(h-u);for(o=u;o<h;o++)a=r.itemsData[o],d[o-u]=a;e[i[s]]=d}else e[i[s]]=r.itemsData}};Je.prototype._applySampling=function(i,e){var t;if(i.length>0){for(var n=0;n<i.length;n++)if(t=this.groups[i[n]],t.options.sampling==!0){var r=e[i[n]];if(r.length>0){var s=1,o=r.length,a=this.body.util.toGlobalScreen(r[r.length-1].x)-this.body.util.toGlobalScreen(r[0].x),l=o/a;s=Math.min(Math.ceil(.2*o),Math.max(1,Math.round(l)));for(var c=new Array(o),u=0;u<o;u+=s){var h=Math.round(u/s);c[h]=r[u]}e[i[n]]=c.splice(0,Math.round(o/s))}}}};Je.prototype._getYRanges=function(i,e,t){var n,r,s,o=[],a=[],l;if(i.length>0){for(s=0;s<i.length;s++)n=e[i[s]],l=this.groups[i[s]].options,n.length>0&&(r=this.groups[i[s]],l.stack===!0&&l.style==="bar"?l.yAxisOrientation==="left"?o=o.concat(n):a=a.concat(n):t[i[s]]=r.getYRange(n,i[s]));ci.getStackedYRange(o,t,i,"__barStackLeft","left"),ci.getStackedYRange(a,t,i,"__barStackRight","right")}};Je.prototype._updateYAxis=function(i,e){var t=!1,n=!1,r=!1,s=1e9,o=1e9,a=-1e9,l=-1e9,c,u;if(i.length>0){for(var h=0;h<i.length;h++){var d=this.groups[i[h]];d&&d.options.yAxisOrientation!="right"?(n=!0,s=1e9,a=-1e9):d&&d.options.yAxisOrientation&&(r=!0,o=1e9,l=-1e9)}for(h=0;h<i.length;h++)!Object.prototype.hasOwnProperty.call(e,i[h])||e[i[h]].ignore===!0||(c=e[i[h]].min,u=e[i[h]].max,e[i[h]].yAxisOrientation!="right"?(n=!0,s=s>c?c:s,a=a<u?u:a):(r=!0,o=o>c?c:o,l=l<u?u:l));n==!0&&this.yAxisLeft.setRange(s,a),r==!0&&this.yAxisRight.setRange(o,l)}t=this._toggleAxisVisiblity(n,this.yAxisLeft)||t,t=this._toggleAxisVisiblity(r,this.yAxisRight)||t,r==!0&&n==!0?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!n,this.yAxisRight.masterAxis=this.yAxisLeft,this.yAxisRight.master==!1?(r==!0?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0,t=this.yAxisLeft.redraw()||t,t=this.yAxisRight.redraw()||t):t=this.yAxisRight.redraw()||t;var f=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(h=0;h<f.length;h++)i.indexOf(f[h])!=-1&&i.splice(i.indexOf(f[h]),1);return t};Je.prototype._toggleAxisVisiblity=function(i,e){var t=!1;return i==!1?e.dom.frame.parentNode&&e.hidden==!1&&(e.hide(),t=!0):!e.dom.frame.parentNode&&e.hidden==!0&&(e.show(),t=!0),t};Je.prototype._convertXcoordinates=function(i){for(var e=this.body.util.toScreen,t=0;t<i.length;t++)i[t].screen_x=e(i[t].x)+this.props.width,i[t].screen_y=i[t].y,i[t].end!=null?i[t].screen_end=e(i[t].end)+this.props.width:i[t].screen_end=void 0};Je.prototype._convertYcoordinates=function(i,e){var t=this.yAxisLeft,n=Number(this.svg.style.height.replace("px",""));e.options.yAxisOrientation=="right"&&(t=this.yAxisRight);for(var r=0;r<i.length;r++)i[r].screen_y=Math.round(t.convertValue(i[r].y));e.setZeroPosition(Math.min(n,t.convertValue(0)))};let ge="string",Pe="boolean",Xe="number",nce="array",ua="date",ct="object",rce="dom",ha="moment",ZM="any",sce={configure:{enabled:{boolean:Pe},filter:{boolean:Pe,function:"function"},container:{dom:rce},__type__:{object:ct,boolean:Pe,function:"function"}},alignCurrentTime:{string:ge,undefined:"undefined"},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:ge},sort:{boolean:Pe},sampling:{boolean:Pe},stack:{boolean:Pe},graphHeight:{string:ge,number:Xe},shaded:{enabled:{boolean:Pe},orientation:{string:["bottom","top","zero","group"]},groupId:{object:ct},__type__:{boolean:Pe,object:ct}},style:{string:["line","bar","points"]},barChart:{width:{number:Xe},minWidth:{number:Xe},sideBySide:{boolean:Pe},align:{string:["left","center","right"]},__type__:{object:ct}},interpolation:{enabled:{boolean:Pe},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:Xe},__type__:{object:ct,boolean:Pe}},drawPoints:{enabled:{boolean:Pe},onRender:{function:"function"},size:{number:Xe},style:{string:["square","circle"]},__type__:{object:ct,boolean:Pe,function:"function"}},dataAxis:{showMinorLabels:{boolean:Pe},showMajorLabels:{boolean:Pe},showWeekScale:{boolean:Pe},icons:{boolean:Pe},width:{string:ge,number:Xe},visible:{boolean:Pe},alignZeros:{boolean:Pe},left:{range:{min:{number:Xe,undefined:"undefined"},max:{number:Xe,undefined:"undefined"},__type__:{object:ct}},format:{function:"function"},title:{text:{string:ge,number:Xe,undefined:"undefined"},style:{string:ge,undefined:"undefined"},__type__:{object:ct}},__type__:{object:ct}},right:{range:{min:{number:Xe,undefined:"undefined"},max:{number:Xe,undefined:"undefined"},__type__:{object:ct}},format:{function:"function"},title:{text:{string:ge,number:Xe,undefined:"undefined"},style:{string:ge,undefined:"undefined"},__type__:{object:ct}},__type__:{object:ct}},__type__:{object:ct}},legend:{enabled:{boolean:Pe},icons:{boolean:Pe},left:{visible:{boolean:Pe},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:ct}},right:{visible:{boolean:Pe},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:ct}},__type__:{object:ct,boolean:Pe}},groups:{visibility:{any:ZM},__type__:{object:ct}},autoResize:{boolean:Pe},throttleRedraw:{number:Xe},clickToUse:{boolean:Pe},end:{number:Xe,date:ua,string:ge,moment:ha},format:{minorLabels:{millisecond:{string:ge,undefined:"undefined"},second:{string:ge,undefined:"undefined"},minute:{string:ge,undefined:"undefined"},hour:{string:ge,undefined:"undefined"},weekday:{string:ge,undefined:"undefined"},day:{string:ge,undefined:"undefined"},week:{string:ge,undefined:"undefined"},month:{string:ge,undefined:"undefined"},quarter:{string:ge,undefined:"undefined"},year:{string:ge,undefined:"undefined"},__type__:{object:ct}},majorLabels:{millisecond:{string:ge,undefined:"undefined"},second:{string:ge,undefined:"undefined"},minute:{string:ge,undefined:"undefined"},hour:{string:ge,undefined:"undefined"},weekday:{string:ge,undefined:"undefined"},day:{string:ge,undefined:"undefined"},week:{string:ge,undefined:"undefined"},month:{string:ge,undefined:"undefined"},quarter:{string:ge,undefined:"undefined"},year:{string:ge,undefined:"undefined"},__type__:{object:ct}},__type__:{object:ct}},moment:{function:"function"},height:{string:ge,number:Xe},hiddenDates:{start:{date:ua,number:Xe,string:ge,moment:ha},end:{date:ua,number:Xe,string:ge,moment:ha},repeat:{string:ge},__type__:{object:ct,array:nce}},locale:{string:ge},locales:{__any__:{any:ZM},__type__:{object:ct}},max:{date:ua,number:Xe,string:ge,moment:ha},maxHeight:{number:Xe,string:ge},maxMinorChars:{number:Xe},min:{date:ua,number:Xe,string:ge,moment:ha},minHeight:{number:Xe,string:ge},moveable:{boolean:Pe},multiselect:{boolean:Pe},orientation:{string:ge},showCurrentTime:{boolean:Pe},showMajorLabels:{boolean:Pe},showMinorLabels:{boolean:Pe},showWeekScale:{boolean:Pe},snap:{function:"function",null:"null"},start:{date:ua,number:Xe,string:ge,moment:ha},timeAxis:{scale:{string:ge,undefined:"undefined"},step:{number:Xe,undefined:"undefined"},__type__:{object:ct}},width:{string:ge,number:Xe},zoomable:{boolean:Pe},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:Xe},zoomMin:{number:Xe},zIndex:{number:Xe},__type__:{object:ct}},oce={global:{alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",quarter:"[Q]Q",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",quarter:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,showWeekScale:!1,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};function Gr(i,e,t,n){if(!(Array.isArray(t)||Lr(t))&&t instanceof Object){var r=n;n=t,t=r}n&&n.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var s=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:wi,width:null,height:null,maxHeight:null,minHeight:null},this.options=O.deepExtend({},this.defaultOptions),this._create(i),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale(){return s.timeAxis.step.scale},getStep(){return s.timeAxis.step.step},toScreen:s._toScreen.bind(s),toGlobalScreen:s._toGlobalScreen.bind(s),toTime:s._toTime.bind(s),toGlobalTime:s._toGlobalTime.bind(s)}},this.range=new Xf(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new Dd(this.body),this.components.push(this.timeAxis),this.currentTime=new WW(this.body),this.components.push(this.currentTime),this.linegraph=new Je(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(o){s.emit("click",s.getEventProperties(o))}),this.on("doubletap",function(o){s.emit("doubleClick",s.getEventProperties(o))}),this.dom.root.oncontextmenu=function(o){s.emit("contextmenu",s.getEventProperties(o))},this.initialFitDone=!1,this.on("changed",function(){if(s.itemsData!=null){if(!s.initialFitDone&&!s.options.rollingMode)if(s.initialFitDone=!0,s.options.start!=null||s.options.end!=null){if(s.options.start==null||s.options.end==null)var o=s.getItemRange();var a=s.options.start!=null?s.options.start:o.min,l=s.options.end!=null?s.options.end:o.max;s.setWindow(a,l,{animation:!1})}else s.fit({animation:!1});!s.initialDrawDone&&(s.initialRangeChangeDone||!s.options.start&&!s.options.end||s.options.rollingMode)&&(s.initialDrawDone=!0,s.dom.root.style.visibility="visible",s.dom.loadingScreen.parentNode.removeChild(s.dom.loadingScreen),s.options.onInitialDrawComplete&&setTimeout(()=>s.options.onInitialDrawComplete(),0))}}),n&&this.setOptions(n),t&&this.setGroups(t),e&&this.setItems(e),this._redraw()}Gr.prototype=new Ga;Gr.prototype.setOptions=function(i){ut.validate(i,sce)===!0&&console.log("%cErrors have been found in the supplied options object.",Pd),Ga.prototype.setOptions.call(this,i)};Gr.prototype.setItems=function(i){var e=this.itemsData==null,t;if(i?Lr(i)?t=hl(i):t=hl(new ul(i)):t=null,this.itemsData&&this.itemsData.dispose(),this.itemsData=t,this.linegraph&&this.linegraph.setItems(t!=null?t.rawDS:null),e)if(this.options.start!=null||this.options.end!=null){var n=this.options.start!=null?this.options.start:null,r=this.options.end!=null?this.options.end:null;this.setWindow(n,r,{animation:!1})}else this.fit({animation:!1})};Gr.prototype.setGroups=function(i){var e;i?Lr(i)?e=i:e=new ul(i):e=null,this.groupsData=e,this.linegraph.setGroups(e)};Gr.prototype.getLegend=function(i,e,t){return e===void 0&&(e=15),t===void 0&&(t=15),this.linegraph.groups[i]!==void 0?this.linegraph.groups[i].getLegend(e,t):"cannot find group:'"+i+"'"};Gr.prototype.isGroupVisible=function(i){return this.linegraph.groups[i]!==void 0?this.linegraph.groups[i].visible&&(this.linegraph.options.groups.visibility[i]===void 0||this.linegraph.options.groups.visibility[i]==!0):!1};Gr.prototype.getDataRange=function(){var i=null,e=null;for(var t in this.linegraph.groups)if(!(!Object.prototype.hasOwnProperty.call(this.linegraph.groups,t)||this.linegraph.groups[t].visible!==!0))for(var n=0;n<this.linegraph.groups[t].itemsData.length;n++){var r=this.linegraph.groups[t].itemsData[n],s=O.convert(r.x,"Date").valueOf();i=i==null||i>s?s:i,e=e==null||e<s?s:e}return{min:i!=null?new Date(i):null,max:e!=null?new Date(e):null}};Gr.prototype.getEventProperties=function(i){var e=i.center?i.center.x:i.clientX,t=i.center?i.center.y:i.clientY,n=e-O.getAbsoluteLeft(this.dom.centerContainer),r=t-O.getAbsoluteTop(this.dom.centerContainer),s=this._toTime(n),o=IS.customTimeFromTarget(i),a=O.getTarget(i),l=null;O.hasParent(a,this.timeAxis.dom.foreground)||this.timeAxis2&&O.hasParent(a,this.timeAxis2.dom.foreground)?l="axis":O.hasParent(a,this.linegraph.yAxisLeft.dom.frame)||O.hasParent(a,this.linegraph.yAxisRight.dom.frame)?l="data-axis":O.hasParent(a,this.linegraph.legendLeft.dom.frame)||O.hasParent(a,this.linegraph.legendRight.dom.frame)?l="legend":o!=null?l="custom-time":O.hasParent(a,this.currentTime.bar)?l="current-time":O.hasParent(a,this.dom.center)&&(l="background");var c=[],u=this.linegraph.yAxisLeft,h=this.linegraph.yAxisRight;return!u.hidden&&this.itemsData.length>0&&c.push(u.screenToValue(r)),!h.hidden&&this.itemsData.length>0&&c.push(h.screenToValue(r)),{event:i,customTime:o?o.options.id:null,what:l,pageX:i.srcEvent?i.srcEvent.pageX:i.pageX,pageY:i.srcEvent?i.srcEvent.pageY:i.pageY,x:n,y:r,time:s,value:c}};Gr.prototype._createConfigurator=function(){return new qW(this,this.dom.container,oce)};const ace=ece();X.locale(ace);function lce({timelineRef:i,items:e,groups:t,onSelect:n,timelineOptions:r,onCurrentTimeChange:s}){const o=_.useRef(null);i??=_.useRef(null);const a=i.current;return _.useEffect(()=>{if(o.current&&!i.current){const l={width:"100%",height:"100%",stack:!1,zoomMin:36e5,zoomMax:26784e5,start:new Date("2024-01-01T00:00:00Z"),end:new Date("2024-01-02T00:00:00Z"),selectable:!0,multiselect:!0,moveable:!1,snap:(u,h,d)=>Math.round(u.valueOf()/6e4)*6e4,groupEditable:{order:!0},groupOrder:function(u,h){return u.order-h.order},groupOrderSwap:function(u,h,d){const f=u.order;u.order=h.order,h.order=f},rollingMode:{follow:!1},xss:{disabled:!0},...r};i.current=new PS(o.current,e,t,l);const c=i.current;c.on("doubleClick",function(u){const h=c.getEventProperties(u.event);if(h.what==="custom-time")c.removeCustomTime(h.customTime);else{const d=new Date().getTime();c.addCustomTime(h.time,d),c.setCustomTimeMarker("some text",d)}})}return()=>{i.current?.destroy(),i.current=null}},[t,e,i]),_.useEffect(()=>{a?.on("select",l=>{a.getEventProperties(l.event),n?.(l.items)})},[n,a,i]),T.jsx("div",{dir:"ltr",ref:o,className:"h-full w-[1000px]"})}function cce({mapStore:i,entities:e,select:t,onFocusEntity:n}){const{data:r}=Q0(N4),s=_.useRef(null);_.useEffect(function(){return i.subscribe((c,u)=>{if(c.selectedEntities!==u.selectedEntities){if(c.selectedEntities.length===0){s.current?.setSelection([]);return}const h=r?.filter(f=>f.entityIds.find(m=>c.selectedEntities.includes(m))).map(f=>f.id),d=s.current?.getSelection();h&&!tG(h,d)&&s.current?.setSelection(h)}})},[r,i]),_.useEffect(function(){s.current&&n&&s.current.on("click",c=>{const u=s.current?.getEventProperties(c.event);if(u&&u.what==="group-label"){const h=u.group;h&&n(h.toString())}})},[s,r,n]);const o=_.useMemo(()=>new aM,[]);if(r&&o.getIds().length===0){const l=r?.map(c=>({id:c.id,className:"w-9 h-9",content:`${sZ}`,start:c.timestamp,end:c.timestampEnd,group:c.entityIds[0]}));o.add(l)}const a=_.useMemo(()=>new aM,[]);if(r&&a.getIds().length===0)for(const l of r){const c=l.entityIds;for(const u of c){const h=u;a.get(h)||a.add({id:u,order:parseInt(u.split("-")[1]),content:`<div class="flex items-center gap-2 justify-center px-4">${u}
                              <button class="text-secondary hover:text-primary">${oZ}</button></div>`})}}return r?T.jsx(lce,{timelineRef:s,items:o,groups:a,onSelect:l=>{const c=o.get(l),u=new Set(c.map(h=>h.group));i4(t,e,u)},timelineOptions:{verticalScroll:!0}}):T.jsx("div",{children:"Loading..."})}function uce({map:i,store:e,entities:t,select:n,focusedEntityId:r,onFocusEntity:s}){YX(e,a=>a.selectedEntities);const o=()=>{r&&gF(i,t,r)};return T.jsxs(T.Fragment,{children:[T.jsx(_.Activity,{mode:r?"hidden":"visible",children:T.jsx("div",{className:"mr-24 flex h-full items-center justify-center p-4 py-6",children:T.jsx(cce,{mapStore:e,entities:t,select:n,onFocusEntity:s})})}),T.jsx(_.Activity,{mode:r?"visible":"hidden",children:T.jsxs(TZ,{className:"mx-auto flex h-full max-w-4xl flex-col items-center justify-start p-4",defaultValue:"other-details",dir:"rtl",children:[T.jsxs(F2,{className:"h-min w-min bg-secondary/50",children:[T.jsx(y0,{value:"details",children:""}),T.jsx(y0,{value:"other-details",children:""})]}),T.jsx(fd,{value:"details",className:"p-2",children:T.jsx($2,{focusedEntityId:r,onFocus:o})}),T.jsxs(fd,{value:"other-details",className:"p-2",children:[T.jsxs("div",{className:"flex gap-4",children:[T.jsx(fc,{className:"mt-4 h-12 w-28"}),T.jsx(fc,{className:"mt-4 h-12 w-64"})]}),T.jsx(fc,{className:"mt-4 h-12 w-96"})]})]})})]})}const Jf=_.createContext(null);Jf.displayName="PanelGroupContext";const bt={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},kS=10,uo=_.useLayoutEffect,QM=K0.useId,hce=typeof QM=="function"?QM:()=>null;let dce=0;function MS(i=null){const e=hce(),t=_.useRef(i||e||null);return t.current===null&&(t.current=""+dce++),i??t.current}function GW({children:i,className:e="",collapsedSize:t,collapsible:n,defaultSize:r,forwardedRef:s,id:o,maxSize:a,minSize:l,onCollapse:c,onExpand:u,onResize:h,order:d,style:f,tagName:m="div",...p}){const g=_.useContext(Jf);if(g===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:v,expandPanel:y,getPanelSize:w,getPanelStyle:b,groupId:x,isPanelCollapsed:C,reevaluatePanelConstraints:E,registerPanel:S,resizePanel:R,unregisterPanel:I}=g,k=MS(o),M=_.useRef({callbacks:{onCollapse:c,onExpand:u,onResize:h},constraints:{collapsedSize:t,collapsible:n,defaultSize:r,maxSize:a,minSize:l},id:k,idIsFromProps:o!==void 0,order:d});_.useRef({didLogMissingDefaultSizeWarning:!1}),uo(()=>{const{callbacks:F,constraints:q}=M.current,A={...q};M.current.id=k,M.current.idIsFromProps=o!==void 0,M.current.order=d,F.onCollapse=c,F.onExpand=u,F.onResize=h,q.collapsedSize=t,q.collapsible=n,q.defaultSize=r,q.maxSize=a,q.minSize=l,(A.collapsedSize!==q.collapsedSize||A.collapsible!==q.collapsible||A.maxSize!==q.maxSize||A.minSize!==q.minSize)&&E(M.current,A)}),uo(()=>{const F=M.current;return S(F),()=>{I(F)}},[d,k,S,I]),_.useImperativeHandle(s,()=>({collapse:()=>{v(M.current)},expand:F=>{y(M.current,F)},getId(){return k},getSize(){return w(M.current)},isCollapsed(){return C(M.current)},isExpanded(){return!C(M.current)},resize:F=>{R(M.current,F)}}),[v,y,w,C,k,R]);const N=b(M.current,r);return _.createElement(m,{...p,children:i,className:e,id:k,style:{...N,...f},[bt.groupId]:x,[bt.panel]:"",[bt.panelCollapsible]:n||void 0,[bt.panelId]:k,[bt.panelSize]:parseFloat(""+N.flexGrow).toFixed(1)})}const YW=_.forwardRef((i,e)=>_.createElement(GW,{...i,forwardedRef:e}));GW.displayName="Panel";YW.displayName="forwardRef(Panel)";let V0=null,Uh=-1,ns=null;function fce(i,e,t){const n=(e&XW)!==0,r=(e&KW)!==0,s=(e&ZW)!==0,o=(e&QW)!==0;if(e){if(n)return s?"se-resize":o?"ne-resize":"e-resize";if(r)return s?"sw-resize":o?"nw-resize":"w-resize";if(s)return"s-resize";if(o)return"n-resize"}switch(i){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function mce(){ns!==null&&(document.head.removeChild(ns),V0=null,ns=null,Uh=-1)}function Ob(i,e,t){var n,r;const s=fce(i,e);if(V0!==s){if(V0=s,ns===null&&(ns=document.createElement("style"),document.head.appendChild(ns)),Uh>=0){var o;(o=ns.sheet)===null||o===void 0||o.removeRule(Uh)}Uh=(n=(r=ns.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${s} !important;}`))!==null&&n!==void 0?n:-1}}function BW(i){return i.type==="keydown"}function HW(i){return i.type.startsWith("pointer")}function UW(i){return i.type.startsWith("mouse")}function em(i){if(HW(i)){if(i.isPrimary)return{x:i.clientX,y:i.clientY}}else if(UW(i))return{x:i.clientX,y:i.clientY};return{x:1/0,y:1/0}}function pce(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function gce(i,e,t){return i.x<e.x+e.width&&i.x+i.width>e.x&&i.y<e.y+e.height&&i.y+i.height>e.y}function vce(i,e){if(i===e)throw new Error("Cannot compare node with itself");const t={a:tA(i),b:tA(e)};let n;for(;t.a.at(-1)===t.b.at(-1);)i=t.a.pop(),e=t.b.pop(),n=i;we(n,"Stacking order can only be calculated for elements with a common ancestor");const r={a:eA(JM(t.a)),b:eA(JM(t.b))};if(r.a===r.b){const s=n.childNodes,o={a:t.a.at(-1),b:t.b.at(-1)};let a=s.length;for(;a--;){const l=s[a];if(l===o.a)return 1;if(l===o.b)return-1}}return Math.sign(r.a-r.b)}const yce=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function _ce(i){var e;const t=getComputedStyle((e=VW(i))!==null&&e!==void 0?e:i).display;return t==="flex"||t==="inline-flex"}function bce(i){const e=getComputedStyle(i);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||_ce(i))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||yce.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function JM(i){let e=i.length;for(;e--;){const t=i[e];if(we(t,"Missing node"),bce(t))return t}return null}function eA(i){return i&&Number(getComputedStyle(i).zIndex)||0}function tA(i){const e=[];for(;i;)e.push(i),i=VW(i);return e}function VW(i){const{parentNode:e}=i;return e&&e instanceof ShadowRoot?e.host:e}const XW=1,KW=2,ZW=4,QW=8,wce=pce()==="coarse";let pn=[],Ya=!1,rs=new Map,tm=new Map;const su=new Set;function xce(i,e,t,n,r){var s;const{ownerDocument:o}=e,a={direction:t,element:e,hitAreaMargins:n,setResizeHandlerState:r},l=(s=rs.get(o))!==null&&s!==void 0?s:0;return rs.set(o,l+1),su.add(a),Md(),function(){var u;tm.delete(i),su.delete(a);const h=(u=rs.get(o))!==null&&u!==void 0?u:1;if(rs.set(o,h-1),Md(),h===1&&rs.delete(o),pn.includes(a)){const d=pn.indexOf(a);d>=0&&pn.splice(d,1),im(),r("up",!0,null)}}}function Sce(i){const{target:e}=i,{x:t,y:n}=em(i);Ya=!0,AS({target:e,x:t,y:n}),Md(),pn.length>0&&(Ad("down",i),im(),i.preventDefault(),JW(e)||i.stopImmediatePropagation())}function Ib(i){const{x:e,y:t}=em(i);if(Ya&&i.type!=="pointerleave"&&i.buttons===0&&(Ya=!1,Ad("up",i)),!Ya){const{target:n}=i;AS({target:n,x:e,y:t})}Ad("move",i),im(),pn.length>0&&i.preventDefault()}function Db(i){const{target:e}=i,{x:t,y:n}=em(i);tm.clear(),Ya=!1,pn.length>0&&(i.preventDefault(),JW(e)||i.stopImmediatePropagation()),Ad("up",i),AS({target:e,x:t,y:n}),im(),Md()}function JW(i){let e=i;for(;e;){if(e.hasAttribute(bt.resizeHandle))return!0;e=e.parentElement}return!1}function AS({target:i,x:e,y:t}){pn.splice(0);let n=null;(i instanceof HTMLElement||i instanceof SVGElement)&&(n=i),su.forEach(r=>{const{element:s,hitAreaMargins:o}=r,a=s.getBoundingClientRect(),{bottom:l,left:c,right:u,top:h}=a,d=wce?o.coarse:o.fine;if(e>=c-d&&e<=u+d&&t>=h-d&&t<=l+d){if(n!==null&&document.contains(n)&&s!==n&&!s.contains(n)&&!n.contains(s)&&vce(n,s)>0){let m=n,p=!1;for(;m&&!m.contains(s);){if(gce(m.getBoundingClientRect(),a)){p=!0;break}m=m.parentElement}if(p)return}pn.push(r)}})}function Pb(i,e){tm.set(i,e)}function im(){let i=!1,e=!1;pn.forEach(n=>{const{direction:r}=n;r==="horizontal"?i=!0:e=!0});let t=0;tm.forEach(n=>{t|=n}),i&&e?Ob("intersection",t):i?Ob("horizontal",t):e?Ob("vertical",t):mce()}let kb;function Md(){var i;(i=kb)===null||i===void 0||i.abort(),kb=new AbortController;const e={capture:!0,signal:kb.signal};su.size&&(Ya?(pn.length>0&&rs.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("contextmenu",Db,e),r.addEventListener("pointerleave",Ib,e),r.addEventListener("pointermove",Ib,e))}),rs.forEach((t,n)=>{const{body:r}=n;r.addEventListener("pointerup",Db,e),r.addEventListener("pointercancel",Db,e)})):rs.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("pointerdown",Sce,e),r.addEventListener("pointermove",Ib,e))}))}function Ad(i,e){su.forEach(t=>{const{setResizeHandlerState:n}=t,r=pn.includes(t);n(i,r,e)})}function Ece(){const[i,e]=_.useState(0);return _.useCallback(()=>e(t=>t+1),[])}function we(i,e){if(!i)throw console.error(e),Error(e)}function Do(i,e,t=kS){return i.toFixed(t)===e.toFixed(t)?0:i>e?1:-1}function dr(i,e,t=kS){return Do(i,e,t)===0}function Di(i,e,t){return Do(i,e,t)===0}function Cce(i,e,t){if(i.length!==e.length)return!1;for(let n=0;n<i.length;n++){const r=i[n],s=e[n];if(!Di(r,s,t))return!1}return!0}function Pa({panelConstraints:i,panelIndex:e,size:t}){const n=i[e];we(n!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:r=0,collapsible:s,maxSize:o=100,minSize:a=0}=n;if(Do(t,a)<0)if(s){const l=(r+a)/2;Do(t,l)<0?t=r:t=a}else t=a;return t=Math.min(o,t),t=parseFloat(t.toFixed(kS)),t}function uc({delta:i,initialLayout:e,panelConstraints:t,pivotIndices:n,prevLayout:r,trigger:s}){if(Di(i,0))return e;const o=[...e],[a,l]=n;we(a!=null,"Invalid first pivot index"),we(l!=null,"Invalid second pivot index");let c=0;if(s==="keyboard"){{const h=i<0?l:a,d=t[h];we(d,`Panel constraints not found for index ${h}`);const{collapsedSize:f=0,collapsible:m,minSize:p=0}=d;if(m){const g=e[h];if(we(g!=null,`Previous layout not found for panel index ${h}`),Di(g,f)){const v=p-g;Do(v,Math.abs(i))>0&&(i=i<0?0-v:v)}}}{const h=i<0?a:l,d=t[h];we(d,`No panel constraints found for index ${h}`);const{collapsedSize:f=0,collapsible:m,minSize:p=0}=d;if(m){const g=e[h];if(we(g!=null,`Previous layout not found for panel index ${h}`),Di(g,p)){const v=g-f;Do(v,Math.abs(i))>0&&(i=i<0?0-v:v)}}}}{const h=i<0?1:-1;let d=i<0?l:a,f=0;for(;;){const p=e[d];we(p!=null,`Previous layout not found for panel index ${d}`);const v=Pa({panelConstraints:t,panelIndex:d,size:100})-p;if(f+=v,d+=h,d<0||d>=t.length)break}const m=Math.min(Math.abs(i),Math.abs(f));i=i<0?0-m:m}{let d=i<0?a:l;for(;d>=0&&d<t.length;){const f=Math.abs(i)-Math.abs(c),m=e[d];we(m!=null,`Previous layout not found for panel index ${d}`);const p=m-f,g=Pa({panelConstraints:t,panelIndex:d,size:p});if(!Di(m,g)&&(c+=m-g,o[d]=g,c.toFixed(3).localeCompare(Math.abs(i).toFixed(3),void 0,{numeric:!0})>=0))break;i<0?d--:d++}}if(Cce(r,o))return r;{const h=i<0?l:a,d=e[h];we(d!=null,`Previous layout not found for panel index ${h}`);const f=d+c,m=Pa({panelConstraints:t,panelIndex:h,size:f});if(o[h]=m,!Di(m,f)){let p=f-m,v=i<0?l:a;for(;v>=0&&v<t.length;){const y=o[v];we(y!=null,`Previous layout not found for panel index ${v}`);const w=y+p,b=Pa({panelConstraints:t,panelIndex:v,size:w});if(Di(y,b)||(p-=b-y,o[v]=b),Di(p,0))break;i>0?v--:v++}}}const u=o.reduce((h,d)=>d+h,0);return Di(u,100)?o:r}function Tce({layout:i,panelsArray:e,pivotIndices:t}){let n=0,r=100,s=0,o=0;const a=t[0];we(a!=null,"No pivot index found"),e.forEach((h,d)=>{const{constraints:f}=h,{maxSize:m=100,minSize:p=0}=f;d===a?(n=p,r=m):(s+=p,o+=m)});const l=Math.min(r,100-s),c=Math.max(n,100-o),u=i[a];return{valueMax:l,valueMin:c,valueNow:u}}function ou(i,e=document){return Array.from(e.querySelectorAll(`[${bt.resizeHandleId}][data-panel-group-id="${i}"]`))}function ez(i,e,t=document){const r=ou(i,t).findIndex(s=>s.getAttribute(bt.resizeHandleId)===e);return r??null}function tz(i,e,t){const n=ez(i,e,t);return n!=null?[n,n+1]:[-1,-1]}function Rce(i){return i instanceof HTMLElement?!0:typeof i=="object"&&i!==null&&"tagName"in i&&"getAttribute"in i}function iz(i,e=document){if(Rce(e)&&e.dataset.panelGroupId==i)return e;const t=e.querySelector(`[data-panel-group][data-panel-group-id="${i}"]`);return t||null}function nm(i,e=document){const t=e.querySelector(`[${bt.resizeHandleId}="${i}"]`);return t||null}function Oce(i,e,t,n=document){var r,s,o,a;const l=nm(e,n),c=ou(i,n),u=l?c.indexOf(l):-1,h=(r=(s=t[u])===null||s===void 0?void 0:s.id)!==null&&r!==void 0?r:null,d=(o=(a=t[u+1])===null||a===void 0?void 0:a.id)!==null&&o!==void 0?o:null;return[h,d]}function Ice({committedValuesRef:i,eagerValuesRef:e,groupId:t,layout:n,panelDataArray:r,panelGroupElement:s,setLayout:o}){_.useRef({didWarnAboutMissingResizeHandle:!1}),uo(()=>{if(!s)return;const a=ou(t,s);for(let l=0;l<r.length-1;l++){const{valueMax:c,valueMin:u,valueNow:h}=Tce({layout:n,panelsArray:r,pivotIndices:[l,l+1]}),d=a[l];if(d!=null){const f=r[l];we(f,`No panel data found for index "${l}"`),d.setAttribute("aria-controls",f.id),d.setAttribute("aria-valuemax",""+Math.round(c)),d.setAttribute("aria-valuemin",""+Math.round(u)),d.setAttribute("aria-valuenow",h!=null?""+Math.round(h):"")}}return()=>{a.forEach((l,c)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[t,n,r,s]),_.useEffect(()=>{if(!s)return;const a=e.current;we(a,"Eager values not found");const{panelDataArray:l}=a,c=iz(t,s);we(c!=null,`No group found for id "${t}"`);const u=ou(t,s);we(u,`No resize handles found for group id "${t}"`);const h=u.map(d=>{const f=d.getAttribute(bt.resizeHandleId);we(f,"Resize handle element has no handle id attribute");const[m,p]=Oce(t,f,l,s);if(m==null||p==null)return()=>{};const g=v=>{if(!v.defaultPrevented)switch(v.key){case"Enter":{v.preventDefault();const y=l.findIndex(w=>w.id===m);if(y>=0){const w=l[y];we(w,`No panel data found for index ${y}`);const b=n[y],{collapsedSize:x=0,collapsible:C,minSize:E=0}=w.constraints;if(b!=null&&C){const S=uc({delta:Di(b,x)?E-x:x-b,initialLayout:n,panelConstraints:l.map(R=>R.constraints),pivotIndices:tz(t,f,s),prevLayout:n,trigger:"keyboard"});n!==S&&o(S)}}break}}};return d.addEventListener("keydown",g),()=>{d.removeEventListener("keydown",g)}});return()=>{h.forEach(d=>d())}},[s,i,e,t,n,r,o])}function iA(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}function nz(i,e){const t=i==="horizontal",{x:n,y:r}=em(e);return t?n:r}function Dce(i,e,t,n,r){const s=t==="horizontal",o=nm(e,r);we(o,`No resize handle element found for id "${e}"`);const a=o.getAttribute(bt.groupId);we(a,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=n;const c=nz(t,i),u=iz(a,r);we(u,`No group element found for id "${a}"`);const h=u.getBoundingClientRect(),d=s?h.width:h.height;return(c-l)/d*100}function Pce(i,e,t,n,r,s){if(BW(i)){const o=t==="horizontal";let a=0;i.shiftKey?a=100:r!=null?a=r:a=10;let l=0;switch(i.key){case"ArrowDown":l=o?0:a;break;case"ArrowLeft":l=o?-a:0;break;case"ArrowRight":l=o?a:0;break;case"ArrowUp":l=o?0:-a;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return n==null?0:Dce(i,e,t,n,s)}function kce({panelDataArray:i}){const e=Array(i.length),t=i.map(s=>s.constraints);let n=0,r=100;for(let s=0;s<i.length;s++){const o=t[s];we(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;a!=null&&(n++,e[s]=a,r-=a)}for(let s=0;s<i.length;s++){const o=t[s];we(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;if(a!=null)continue;const l=i.length-n,c=r/l;n++,e[s]=c,r-=c}return e}function da(i,e,t){e.forEach((n,r)=>{const s=i[r];we(s,`Panel data not found for index ${r}`);const{callbacks:o,constraints:a,id:l}=s,{collapsedSize:c=0,collapsible:u}=a,h=t[l];if(h==null||n!==h){t[l]=n;const{onCollapse:d,onExpand:f,onResize:m}=o;m&&m(n,h),u&&(d||f)&&(f&&(h==null||dr(h,c))&&!dr(n,c)&&f(),d&&(h==null||!dr(h,c))&&dr(n,c)&&d())}})}function Ah(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!=e[t])return!1;return!0}function Mce({defaultSize:i,dragState:e,layout:t,panelData:n,panelIndex:r,precision:s=3}){const o=t[r];let a;return o==null?a=i!=null?i.toFixed(s):"1":n.length===1?a="1":a=o.toFixed(s),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function Ace(i,e=10){let t=null;return(...r)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{i(...r)},e)}}function nA(i){try{if(typeof localStorage<"u")i.getItem=e=>localStorage.getItem(e),i.setItem=(e,t)=>{localStorage.setItem(e,t)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),i.getItem=()=>null,i.setItem=()=>{}}}function rz(i){return`react-resizable-panels:${i}`}function sz(i){return i.map(e=>{const{constraints:t,id:n,idIsFromProps:r,order:s}=e;return r?n:s?`${s}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((e,t)=>e.localeCompare(t)).join(",")}function oz(i,e){try{const t=rz(i),n=e.getItem(t);if(n){const r=JSON.parse(n);if(typeof r=="object"&&r!=null)return r}}catch{}return null}function Nce(i,e,t){var n,r;const s=(n=oz(i,t))!==null&&n!==void 0?n:{},o=sz(e);return(r=s[o])!==null&&r!==void 0?r:null}function Lce(i,e,t,n,r){var s;const o=rz(i),a=sz(e),l=(s=oz(i,r))!==null&&s!==void 0?s:{};l[a]={expandToSizes:Object.fromEntries(t.entries()),layout:n};try{r.setItem(o,JSON.stringify(l))}catch(c){console.error(c)}}function rA({layout:i,panelConstraints:e}){const t=[...i],n=t.reduce((s,o)=>s+o,0);if(t.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${t.map(s=>`${s}%`).join(", ")}`);if(!Di(n,100)&&t.length>0)for(let s=0;s<e.length;s++){const o=t[s];we(o!=null,`No layout data found for index ${s}`);const a=100/n*o;t[s]=a}let r=0;for(let s=0;s<e.length;s++){const o=t[s];we(o!=null,`No layout data found for index ${s}`);const a=Pa({panelConstraints:e,panelIndex:s,size:o});o!=a&&(r+=o-a,t[s]=a)}if(!Di(r,0))for(let s=0;s<e.length;s++){const o=t[s];we(o!=null,`No layout data found for index ${s}`);const a=o+r,l=Pa({panelConstraints:e,panelIndex:s,size:a});if(o!==l&&(r-=l-o,t[s]=l,Di(r,0)))break}return t}const Fce=100,hc={getItem:i=>(nA(hc),hc.getItem(i)),setItem:(i,e)=>{nA(hc),hc.setItem(i,e)}},sA={};function az({autoSaveId:i=null,children:e,className:t="",direction:n,forwardedRef:r,id:s=null,onLayout:o=null,keyboardResizeBy:a=null,storage:l=hc,style:c,tagName:u="div",...h}){const d=MS(s),f=_.useRef(null),[m,p]=_.useState(null),[g,v]=_.useState([]),y=Ece(),w=_.useRef({}),b=_.useRef(new Map),x=_.useRef(0),C=_.useRef({autoSaveId:i,direction:n,dragState:m,id:d,keyboardResizeBy:a,onLayout:o,storage:l}),E=_.useRef({layout:g,panelDataArray:[],panelDataArrayChanged:!1});_.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),_.useImperativeHandle(r,()=>({getId:()=>C.current.id,getLayout:()=>{const{layout:L}=E.current;return L},setLayout:L=>{const{onLayout:$}=C.current,{layout:j,panelDataArray:B}=E.current,W=rA({layout:L,panelConstraints:B.map(Z=>Z.constraints)});iA(j,W)||(v(W),E.current.layout=W,$&&$(W),da(B,W,w.current))}}),[]),uo(()=>{C.current.autoSaveId=i,C.current.direction=n,C.current.dragState=m,C.current.id=d,C.current.onLayout=o,C.current.storage=l}),Ice({committedValuesRef:C,eagerValuesRef:E,groupId:d,layout:g,panelDataArray:E.current.panelDataArray,setLayout:v,panelGroupElement:f.current}),_.useEffect(()=>{const{panelDataArray:L}=E.current;if(i){if(g.length===0||g.length!==L.length)return;let $=sA[i];$==null&&($=Ace(Lce,Fce),sA[i]=$);const j=[...L],B=new Map(b.current);$(i,j,B,g,l)}},[i,g,l]),_.useEffect(()=>{});const S=_.useCallback(L=>{const{onLayout:$}=C.current,{layout:j,panelDataArray:B}=E.current;if(L.constraints.collapsible){const W=B.map(et=>et.constraints),{collapsedSize:Z=0,panelSize:J,pivotIndices:ae}=Ws(B,L,j);if(we(J!=null,`Panel size not found for panel "${L.id}"`),!dr(J,Z)){b.current.set(L.id,J);const it=ba(B,L)===B.length-1?J-Z:Z-J,he=uc({delta:it,initialLayout:j,panelConstraints:W,pivotIndices:ae,prevLayout:j,trigger:"imperative-api"});Ah(j,he)||(v(he),E.current.layout=he,$&&$(he),da(B,he,w.current))}}},[]),R=_.useCallback((L,$)=>{const{onLayout:j}=C.current,{layout:B,panelDataArray:W}=E.current;if(L.constraints.collapsible){const Z=W.map(rt=>rt.constraints),{collapsedSize:J=0,panelSize:ae=0,minSize:et=0,pivotIndices:it}=Ws(W,L,B),he=$??et;if(dr(ae,J)){const rt=b.current.get(L.id),gt=rt!=null&&rt>=he?rt:he,vt=ba(W,L)===W.length-1?ae-gt:gt-ae,qe=uc({delta:vt,initialLayout:B,panelConstraints:Z,pivotIndices:it,prevLayout:B,trigger:"imperative-api"});Ah(B,qe)||(v(qe),E.current.layout=qe,j&&j(qe),da(W,qe,w.current))}}},[]),I=_.useCallback(L=>{const{layout:$,panelDataArray:j}=E.current,{panelSize:B}=Ws(j,L,$);return we(B!=null,`Panel size not found for panel "${L.id}"`),B},[]),k=_.useCallback((L,$)=>{const{panelDataArray:j}=E.current,B=ba(j,L);return Mce({defaultSize:$,dragState:m,layout:g,panelData:j,panelIndex:B})},[m,g]),M=_.useCallback(L=>{const{layout:$,panelDataArray:j}=E.current,{collapsedSize:B=0,collapsible:W,panelSize:Z}=Ws(j,L,$);return we(Z!=null,`Panel size not found for panel "${L.id}"`),W===!0&&dr(Z,B)},[]),N=_.useCallback(L=>{const{layout:$,panelDataArray:j}=E.current,{collapsedSize:B=0,collapsible:W,panelSize:Z}=Ws(j,L,$);return we(Z!=null,`Panel size not found for panel "${L.id}"`),!W||Do(Z,B)>0},[]),F=_.useCallback(L=>{const{panelDataArray:$}=E.current;$.push(L),$.sort((j,B)=>{const W=j.order,Z=B.order;return W==null&&Z==null?0:W==null?-1:Z==null?1:W-Z}),E.current.panelDataArrayChanged=!0,y()},[y]);uo(()=>{if(E.current.panelDataArrayChanged){E.current.panelDataArrayChanged=!1;const{autoSaveId:L,onLayout:$,storage:j}=C.current,{layout:B,panelDataArray:W}=E.current;let Z=null;if(L){const ae=Nce(L,W,j);ae&&(b.current=new Map(Object.entries(ae.expandToSizes)),Z=ae.layout)}Z==null&&(Z=kce({panelDataArray:W}));const J=rA({layout:Z,panelConstraints:W.map(ae=>ae.constraints)});iA(B,J)||(v(J),E.current.layout=J,$&&$(J),da(W,J,w.current))}}),uo(()=>{const L=E.current;return()=>{L.layout=[]}},[]);const q=_.useCallback(L=>{let $=!1;const j=f.current;return j&&window.getComputedStyle(j,null).getPropertyValue("direction")==="rtl"&&($=!0),function(W){W.preventDefault();const Z=f.current;if(!Z)return()=>null;const{direction:J,dragState:ae,id:et,keyboardResizeBy:it,onLayout:he}=C.current,{layout:rt,panelDataArray:gt}=E.current,{initialLayout:Et}=ae??{},vt=tz(et,L,Z);let qe=Pce(W,L,J,ae,it,Z);const zi=J==="horizontal";zi&&$&&(qe=-qe);const ri=gt.map(Ue=>Ue.constraints),Yt=uc({delta:qe,initialLayout:Et??rt,panelConstraints:ri,pivotIndices:vt,prevLayout:rt,trigger:BW(W)?"keyboard":"mouse-or-touch"}),Kt=!Ah(rt,Yt);(HW(W)||UW(W))&&x.current!=qe&&(x.current=qe,!Kt&&qe!==0?zi?Pb(L,qe<0?XW:KW):Pb(L,qe<0?ZW:QW):Pb(L,0)),Kt&&(v(Yt),E.current.layout=Yt,he&&he(Yt),da(gt,Yt,w.current))}},[]),A=_.useCallback((L,$)=>{const{onLayout:j}=C.current,{layout:B,panelDataArray:W}=E.current,Z=W.map(rt=>rt.constraints),{panelSize:J,pivotIndices:ae}=Ws(W,L,B);we(J!=null,`Panel size not found for panel "${L.id}"`);const it=ba(W,L)===W.length-1?J-$:$-J,he=uc({delta:it,initialLayout:B,panelConstraints:Z,pivotIndices:ae,prevLayout:B,trigger:"imperative-api"});Ah(B,he)||(v(he),E.current.layout=he,j&&j(he),da(W,he,w.current))},[]),z=_.useCallback((L,$)=>{const{layout:j,panelDataArray:B}=E.current,{collapsedSize:W=0,collapsible:Z}=$,{collapsedSize:J=0,collapsible:ae,maxSize:et=100,minSize:it=0}=L.constraints,{panelSize:he}=Ws(B,L,j);he!=null&&(Z&&ae&&dr(he,W)?dr(W,J)||A(L,J):he<it?A(L,it):he>et&&A(L,et))},[A]),P=_.useCallback((L,$)=>{const{direction:j}=C.current,{layout:B}=E.current;if(!f.current)return;const W=nm(L,f.current);we(W,`Drag handle element not found for id "${L}"`);const Z=nz(j,$);p({dragHandleId:L,dragHandleRect:W.getBoundingClientRect(),initialCursorPosition:Z,initialLayout:B})},[]),G=_.useCallback(()=>{p(null)},[]),U=_.useCallback(L=>{const{panelDataArray:$}=E.current,j=ba($,L);j>=0&&($.splice(j,1),delete w.current[L.id],E.current.panelDataArrayChanged=!0,y())},[y]),K=_.useMemo(()=>({collapsePanel:S,direction:n,dragState:m,expandPanel:R,getPanelSize:I,getPanelStyle:k,groupId:d,isPanelCollapsed:M,isPanelExpanded:N,reevaluatePanelConstraints:z,registerPanel:F,registerResizeHandle:q,resizePanel:A,startDragging:P,stopDragging:G,unregisterPanel:U,panelGroupElement:f.current}),[S,m,n,R,I,k,d,M,N,z,F,q,A,P,G,U]),D={display:"flex",flexDirection:n==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return _.createElement(Jf.Provider,{value:K},_.createElement(u,{...h,children:e,className:t,id:s,ref:f,style:{...D,...c},[bt.group]:"",[bt.groupDirection]:n,[bt.groupId]:d}))}const lz=_.forwardRef((i,e)=>_.createElement(az,{...i,forwardedRef:e}));az.displayName="PanelGroup";lz.displayName="forwardRef(PanelGroup)";function ba(i,e){return i.findIndex(t=>t===e||t.id===e.id)}function Ws(i,e,t){const n=ba(i,e),s=n===i.length-1?[n-1,n]:[n,n+1],o=t[n];return{...e.constraints,panelSize:o,pivotIndices:s}}function $ce({disabled:i,handleId:e,resizeHandler:t,panelGroupElement:n}){_.useEffect(()=>{if(i||t==null||n==null)return;const r=nm(e,n);if(r==null)return;const s=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),t(o);break}case"F6":{o.preventDefault();const a=r.getAttribute(bt.groupId);we(a,`No group element found for id "${a}"`);const l=ou(a,n),c=ez(a,e,n);we(c!==null,`No resize element found for id "${e}"`);const u=o.shiftKey?c>0?c-1:l.length-1:c+1<l.length?c+1:0;l[u].focus();break}}};return r.addEventListener("keydown",s),()=>{r.removeEventListener("keydown",s)}},[n,i,e,t])}function cz({children:i=null,className:e="",disabled:t=!1,hitAreaMargins:n,id:r,onBlur:s,onClick:o,onDragging:a,onFocus:l,onPointerDown:c,onPointerUp:u,style:h={},tabIndex:d=0,tagName:f="div",...m}){var p,g;const v=_.useRef(null),y=_.useRef({onClick:o,onDragging:a,onPointerDown:c,onPointerUp:u});_.useEffect(()=>{y.current.onClick=o,y.current.onDragging=a,y.current.onPointerDown=c,y.current.onPointerUp=u});const w=_.useContext(Jf);if(w===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:b,groupId:x,registerResizeHandle:C,startDragging:E,stopDragging:S,panelGroupElement:R}=w,I=MS(r),[k,M]=_.useState("inactive"),[N,F]=_.useState(!1),[q,A]=_.useState(null),z=_.useRef({state:k});uo(()=>{z.current.state=k}),_.useEffect(()=>{if(t)A(null);else{const K=C(I);A(()=>K)}},[t,I,C]);const P=(p=n?.coarse)!==null&&p!==void 0?p:15,G=(g=n?.fine)!==null&&g!==void 0?g:5;_.useEffect(()=>{if(t||q==null)return;const K=v.current;we(K,"Element ref not attached");let D=!1;return xce(I,K,b,{coarse:P,fine:G},($,j,B)=>{if(!j){M("inactive");return}switch($){case"down":{M("drag"),D=!1,we(B,'Expected event to be defined for "down" action'),E(I,B);const{onDragging:W,onPointerDown:Z}=y.current;W?.(!0),Z?.();break}case"move":{const{state:W}=z.current;D=!0,W!=="drag"&&M("hover"),we(B,'Expected event to be defined for "move" action'),q(B);break}case"up":{M("hover"),S();const{onClick:W,onDragging:Z,onPointerUp:J}=y.current;Z?.(!1),J?.(),D||W?.();break}}})},[P,b,t,G,C,I,q,E,S]),$ce({disabled:t,handleId:I,resizeHandler:q,panelGroupElement:R});const U={touchAction:"none",userSelect:"none"};return _.createElement(f,{...m,children:i,className:e,id:r,onBlur:()=>{F(!1),s?.()},onFocus:()=>{F(!0),l?.()},ref:v,role:"separator",style:{...U,...h},tabIndex:d,[bt.groupDirection]:b,[bt.groupId]:x,[bt.resizeHandle]:"",[bt.resizeHandleActive]:k==="drag"?"pointer":N?"keyboard":void 0,[bt.resizeHandleEnabled]:!t,[bt.resizeHandleId]:I,[bt.resizeHandleState]:k})}cz.displayName="PanelResizeHandle";const oA=({className:i,...e})=>T.jsx(lz,{className:V("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",i),...e}),Nh=YW,aA=({withHandle:i,className:e,...t})=>T.jsx(cz,{className:V("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",e),...t,children:i&&T.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:T.jsx($z,{className:"h-2.5 w-2.5"})})});function jce({focusedFeatureId:i,onDismiss:e,map:t,entities:n}){const r=()=>{i&&gF(t,n,i)};return T.jsxs("div",{className:"mr-72 flex h-full flex-col p-2",dir:"rtl",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[i?T.jsxs("h2",{className:"flex gap-1",children:[T.jsx(Lb,{}),T.jsx("span",{className:"font-bold",children:i})]}):T.jsxs("h2",{className:"flex gap-2",children:["       ",T.jsx(Hz,{})]}),T.jsx(yr,{onClick:e,variant:"ghost",children:T.jsx(Oz,{})})]}),i&&T.jsx("div",{className:"p-4",children:T.jsx($2,{focusedEntityId:i,onFocus:r})})]})}function Kce(){const i=cA(),e=_.useRef(null),t=_.useRef(null),[n,r]=_.useState(!1),[{map:s,select:o,entities:a,histories:l,entitiesCluster:c,store:u}]=_.useState(QX),{data:h}=Q0(kF);_.useEffect(function(){h&&(a.clear(),t4(a,h))},[h,a]);const[d,f]=_.useState(),m=async p=>{if(f(p),p){const[g,v]=p?.split("-",2),y=await A4(i,g,v);y&&n4(l,{[p]:y})}else r4(l)};return T.jsx(T.Fragment,{children:T.jsxs(HN,{className:"flex h-screen w-screen flex-col",children:[T.jsx(KN,{children:T.jsxs(oA,{direction:"vertical",children:[T.jsx(Nh,{className:"relative",order:1,children:T.jsxs(oA,{direction:"horizontal",children:[T.jsx(Nh,{children:T.jsx("div",{className:"relative h-screen w-screen",children:T.jsx(lZ,{map:s,select:o,onViewEntity:p=>{m(p),p&&e?.current?.expand(),p&&t?.current?.expand(50)},onClickSingleEntity:p=>{t.current?.isExpanded()&&(m(p),p&&e?.current?.expand(),p&&t?.current?.expand(50))}})})}),T.jsx(aA,{className:"hover:after:bg-sidebar-border",onClick:()=>t.current?.isCollapsed()?t.current?.expand():t.current?.collapse()}),T.jsx(Nh,{className:V(n&&"transition-all duration-100"),onTransitionEnd:()=>r(!1),collapsible:!0,minSize:1,defaultSize:1,maxSize:70,collapsedSize:1,ref:t,children:T.jsx(jce,{focusedFeatureId:d,map:s,entities:a,onDismiss:()=>t.current?.collapse()})})]})}),T.jsx(aA,{className:"hover:after:bg-sidebar-border",onClick:()=>(r(!0),e.current?.isCollapsed()?e.current?.expand():e.current?.collapse())}),T.jsx(Nh,{className:V(n&&"transition-all duration-100"),onTransitionEnd:()=>r(!1),ref:e,order:2,collapsible:!0,minSize:1,collapsedSize:1,defaultSize:40,maxSize:60,children:T.jsx(uce,{map:s,store:u,entities:a,select:o,focusedEntityId:d,onFocusEntity:m})})]})}),T.jsx(aZ,{entities:a,entitiesCluster:c})]})})}export{Kce as default};
