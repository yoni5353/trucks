import{c as Ft,S as gne,p as qA,r as _n,s as cP,a as Kh,n as uP,i as hP,b as jA,t as vne,d as Cp,f as yne,e as bne,g as GA,h as sK,j as C,k as _ne,u as oK,l as O,m as ZD,o as wne,R as QD,q as ee,v as xne,w as Sne,L as Ene}from"./index-CgypfRpP.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Tne=Ft("bot",Cne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const One=[["path",{d:"m15.228 16.852-.923-.383",key:"npixar"}],["path",{d:"m15.228 19.148-.923.383",key:"51cr3n"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"m16.47 14.305.382.923",key:"obybxd"}],["path",{d:"m16.852 20.772-.383.924",key:"dpfhf9"}],["path",{d:"m19.148 15.228.383-.923",key:"1reyyz"}],["path",{d:"m19.53 21.696-.382-.924",key:"1goivc"}],["path",{d:"m20.772 16.852.924-.383",key:"htqkph"}],["path",{d:"m20.772 19.148.924.383",key:"9w9pjp"}],["path",{d:"M21 10.592V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6",key:"1pvbig"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}]],Rne=Ft("calendar-cog",One);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pne=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Dne=Ft("calendar",Pne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kne=Ft("chevron-down",Ine);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mne=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ane=Ft("chevron-left",Mne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nne=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$ne=Ft("chevron-right",Nne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Lne=Ft("circle-x",Fne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qne=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],jne=Ft("copy",qne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],Wne=Ft("crosshair",Gne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],zne=Ft("download",Bne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hne=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yne=Ft("eye",Hne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Vne=Ft("grip-vertical",Une);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Kne=Ft("info",Xne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Qne=Ft("map-pin",Zne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],ese=Ft("map-pinned",Jne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],ise=Ft("moon",tse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],nse=Ft("mouse-pointer-click",rse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],ose=Ft("panel-left",sse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],aK=Ft("search",ase);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],cse=Ft("sun",lse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],hse=Ft("trending-up",use);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=[["path",{d:"M14 19V7a2 2 0 0 0-2-2H9",key:"15peso"}],["path",{d:"M15 19H9",key:"18q6dt"}],["path",{d:"M19 19h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.62L18.3 9.38a1 1 0 0 0-.78-.38H14",key:"1dkp3j"}],["path",{d:"M2 13v5a1 1 0 0 0 1 1h2",key:"pkmmzz"}],["path",{d:"M4 3 2.15 5.15a.495.495 0 0 0 .35.86h2.15a.47.47 0 0 1 .35.86L3 9.02",key:"1n26pd"}],["circle",{cx:"17",cy:"19",r:"2",key:"1nxcgd"}],["circle",{cx:"7",cy:"19",r:"2",key:"gzo7y7"}]],fse=Ft("truck-electric",dse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lK=Ft("x",pse);var mse=class extends gne{constructor(i,e){super(),this.options=e,this.#i=i,this.#n=null,this.#r=qA(),this.bindMethods(),this.setOptions(e)}#i;#e=void 0;#p=void 0;#t=void 0;#o;#u;#r;#n;#m;#h;#d;#a;#l;#s;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),WA(this.#e,this.options)?this.#c():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dP(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dP(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#w(),this.#e.removeObserver(this)}setOptions(i){const e=this.options,t=this.#e;if(this.options=this.#i.defaultQueryOptions(i),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _n(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#e.setOptions(this.options),e._defaulted&&!cP(this.options,e)&&this.#i.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&BA(this.#e,t,this.options,e)&&this.#c(),this.updateResult(),r&&(this.#e!==t||_n(this.options.enabled,this.#e)!==_n(e.enabled,this.#e)||Kh(this.options.staleTime,this.#e)!==Kh(e.staleTime,this.#e))&&this.#g();const n=this.#v();r&&(this.#e!==t||_n(this.options.enabled,this.#e)!==_n(e.enabled,this.#e)||n!==this.#s)&&this.#y(n)}getOptimisticResult(i){const e=this.#i.getQueryCache().build(this.#i,i),t=this.createResult(e,i);return vse(this,t)&&(this.#t=t,this.#u=this.options,this.#o=this.#e.state),t}getCurrentResult(){return this.#t}trackResult(i,e){return new Proxy(i,{get:(t,r)=>(this.trackProp(r),e?.(r),r==="promise"&&!this.options.experimental_prefetchInRender&&this.#r.status==="pending"&&this.#r.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(t,r))})}trackProp(i){this.#f.add(i)}getCurrentQuery(){return this.#e}refetch({...i}={}){return this.fetch({...i})}fetchOptimistic(i){const e=this.#i.defaultQueryOptions(i),t=this.#i.getQueryCache().build(this.#i,e);return t.fetch().then(()=>this.createResult(t,e))}fetch(i){return this.#c({...i,cancelRefetch:i.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#t))}#c(i){this.#x();let e=this.#e.fetch(this.options,i);return i?.throwOnError||(e=e.catch(uP)),e}#g(){this.#_();const i=Kh(this.options.staleTime,this.#e);if(hP||this.#t.isStale||!jA(i))return;const t=vne(this.#t.dataUpdatedAt,i)+1;this.#a=Cp.setTimeout(()=>{this.#t.isStale||this.updateResult()},t)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(i){this.#w(),this.#s=i,!(hP||_n(this.options.enabled,this.#e)===!1||!jA(this.#s)||this.#s===0)&&(this.#l=Cp.setInterval(()=>{(this.options.refetchIntervalInBackground||yne.isFocused())&&this.#c()},this.#s))}#b(){this.#g(),this.#y(this.#v())}#_(){this.#a&&(Cp.clearTimeout(this.#a),this.#a=void 0)}#w(){this.#l&&(Cp.clearInterval(this.#l),this.#l=void 0)}createResult(i,e){const t=this.#e,r=this.options,n=this.#t,s=this.#o,o=this.#u,l=i!==t?i.state:this.#p,{state:c}=i;let u={...c},h=!1,d;if(e._optimisticResults){const x=this.hasListeners(),T=!x&&WA(i,e),R=x&&BA(i,t,e,r);(T||R)&&(u={...u,...bne(c.data,i.options)}),e._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:f,errorUpdatedAt:p,status:m}=u;d=u.data;let g=!1;if(e.placeholderData!==void 0&&d===void 0&&m==="pending"){let x;n?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(x=n.data,g=!0):x=typeof e.placeholderData=="function"?e.placeholderData(this.#d?.state.data,this.#d):e.placeholderData,x!==void 0&&(m="success",d=GA(n?.data,x,e),h=!0)}if(e.select&&d!==void 0&&!g)if(n&&d===s?.data&&e.select===this.#m)d=this.#h;else try{this.#m=e.select,d=e.select(d),d=GA(n?.data,d,e),this.#h=d,this.#n=null}catch(x){this.#n=x}this.#n&&(f=this.#n,d=this.#h,p=Date.now(),m="error");const v=u.fetchStatus==="fetching",y=m==="pending",_=m==="error",b=y&&v,w=d!==void 0,E={status:m,fetchStatus:u.fetchStatus,isPending:y,isSuccess:m==="success",isError:_,isInitialLoading:b,isLoading:b,data:d,dataUpdatedAt:u.dataUpdatedAt,error:f,errorUpdatedAt:p,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:_&&!w,isPaused:u.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&w,isStale:JD(i,e),refetch:this.refetch,promise:this.#r,isEnabled:_n(e.enabled,i)!==!1};if(this.options.experimental_prefetchInRender){const x=P=>{E.status==="error"?P.reject(E.error):E.data!==void 0&&P.resolve(E.data)},T=()=>{const P=this.#r=E.promise=qA();x(P)},R=this.#r;switch(R.status){case"pending":i.queryHash===t.queryHash&&x(R);break;case"fulfilled":(E.status==="error"||E.data!==R.value)&&T();break;case"rejected":(E.status!=="error"||E.error!==R.reason)&&T();break}}return E}updateResult(){const i=this.#t,e=this.createResult(this.#e,this.options);if(this.#o=this.#e.state,this.#u=this.options,this.#o.data!==void 0&&(this.#d=this.#e),cP(e,i))return;this.#t=e;const t=()=>{if(!i)return!0;const{notifyOnChangeProps:r}=this.options,n=typeof r=="function"?r():r;if(n==="all"||!n&&!this.#f.size)return!0;const s=new Set(n??this.#f);return this.options.throwOnError&&s.add("error"),Object.keys(this.#t).some(o=>{const a=o;return this.#t[a]!==i[a]&&s.has(a)})};this.#S({listeners:t()})}#x(){const i=this.#i.getQueryCache().build(this.#i,this.options);if(i===this.#e)return;const e=this.#e;this.#e=i,this.#p=i.state,this.hasListeners()&&(e?.removeObserver(this),i.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(i){sK.batch(()=>{i.listeners&&this.listeners.forEach(e=>{e(this.#t)}),this.#i.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function gse(i,e){return _n(e.enabled,i)!==!1&&i.state.data===void 0&&!(i.state.status==="error"&&e.retryOnMount===!1)}function WA(i,e){return gse(i,e)||i.state.data!==void 0&&dP(i,e,e.refetchOnMount)}function dP(i,e,t){if(_n(e.enabled,i)!==!1&&Kh(e.staleTime,i)!=="static"){const r=typeof t=="function"?t(i):t;return r==="always"||r!==!1&&JD(i,e)}return!1}function BA(i,e,t,r){return(i!==e||_n(r.enabled,i)===!1)&&(!t.suspense||i.state.status!=="error")&&JD(i,t)}function JD(i,e){return _n(e.enabled,i)!==!1&&i.isStaleByTime(Kh(e.staleTime,i))}function vse(i,e){return!cP(i.getCurrentResult(),e)}var cK=C.createContext(!1),yse=()=>C.useContext(cK);cK.Provider;function bse(){let i=!1;return{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i}}var _se=C.createContext(bse()),wse=()=>C.useContext(_se),xse=(i,e)=>{(i.suspense||i.throwOnError||i.experimental_prefetchInRender)&&(e.isReset()||(i.retryOnMount=!1))},Sse=i=>{C.useEffect(()=>{i.clearReset()},[i])},Ese=({result:i,errorResetBoundary:e,throwOnError:t,query:r,suspense:n})=>i.isError&&!e.isReset()&&!i.isFetching&&r&&(n&&i.data===void 0||_ne(t,[i.error,r])),Cse=i=>{if(i.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=i.staleTime;i.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof i.gcTime=="number"&&(i.gcTime=Math.max(i.gcTime,1e3))}},Tse=(i,e)=>i.isLoading&&i.isFetching&&!e,Ose=(i,e)=>i?.suspense&&e.isPending,zA=(i,e,t)=>e.fetchOptimistic(i).catch(()=>{t.clearReset()});function Rse(i,e,t){const r=yse(),n=wse(),s=oK(),o=s.defaultQueryOptions(i);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",Cse(o),xse(o,n),Sse(n);const a=!s.getQueryCache().get(o.queryHash),[l]=C.useState(()=>new e(s,o)),c=l.getOptimisticResult(o),u=!r&&i.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(h=>{const d=u?l.subscribe(sK.batchCalls(h)):uP;return l.updateResult(),d},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),C.useEffect(()=>{l.setOptions(o)},[o,l]),Ose(o,c))throw zA(o,l,n);if(Ese({result:c,errorResetBoundary:n,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!hP&&Tse(c,r)&&(a?zA(o,l,n):s.getQueryCache().get(o.queryHash)?.promise)?.catch(uP).finally(()=>{l.updateResult()}),o.notifyOnChangeProps?c:l.trackResult(c)}function Ng(i,e){return Rse(i,mse)}function HA(i,e){if(typeof i=="function")return i(e);i!=null&&(i.current=e)}function Ka(...i){return e=>{let t=!1;const r=i.map(n=>{const s=HA(n,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let n=0;n<r.length;n++){const s=r[n];typeof s=="function"?s():HA(i[n],null)}}}}function Wi(...i){return C.useCallback(Ka(...i),i)}function Jc(i){const e=Pse(i),t=C.forwardRef((r,n)=>{const{children:s,...o}=r,a=C.Children.toArray(s),l=a.find(Ise);if(l){const c=l.props.children,u=a.map(h=>h===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:h);return O.jsx(e,{...o,ref:n,children:C.isValidElement(c)?C.cloneElement(c,void 0,u):null})}return O.jsx(e,{...o,ref:n,children:s})});return t.displayName=`${i}.Slot`,t}var Du=Jc("Slot");function Pse(i){const e=C.forwardRef((t,r)=>{const{children:n,...s}=t;if(C.isValidElement(n)){const o=Mse(n),a=kse(s,n.props);return n.type!==C.Fragment&&(a.ref=r?Ka(r,o):o),C.cloneElement(n,a)}return C.Children.count(n)>1?C.Children.only(null):null});return e.displayName=`${i}.SlotClone`,e}var uK=Symbol("radix.slottable");function Dse(i){const e=({children:t})=>O.jsx(O.Fragment,{children:t});return e.displayName=`${i}.Slottable`,e.__radixId=uK,e}function Ise(i){return C.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===uK}function kse(i,e){const t={...e};for(const r in e){const n=i[r],s=e[r];/^on[A-Z]/.test(r)?n&&s?t[r]=(...a)=>{const l=s(...a);return n(...a),l}:n&&(t[r]=n):r==="style"?t[r]={...n,...s}:r==="className"&&(t[r]=[n,s].filter(Boolean).join(" "))}return{...i,...t}}function Mse(i){let e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}function hK(i){var e,t,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i)){var n=i.length;for(e=0;e<n;e++)i[e]&&(t=hK(i[e]))&&(r&&(r+=" "),r+=t)}else for(t in i)i[t]&&(r&&(r+=" "),r+=t);return r}function dK(){for(var i,e,t=0,r="",n=arguments.length;t<n;t++)(i=arguments[t])&&(e=hK(i))&&(r&&(r+=" "),r+=e);return r}const YA=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,UA=dK,eI=(i,e)=>t=>{var r;if(e?.variants==null)return UA(i,t?.class,t?.className);const{variants:n,defaultVariants:s}=e,o=Object.keys(n).map(c=>{const u=t?.[c],h=s?.[c];if(u===null)return null;const d=YA(u)||YA(h);return n[c][d]}),a=t&&Object.entries(t).reduce((c,u)=>{let[h,d]=u;return d===void 0||(c[h]=d),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:d,...f}=u;return Object.entries(f).every(p=>{let[m,g]=p;return Array.isArray(g)?g.includes({...s,...a}[m]):{...s,...a}[m]===g})?[...c,h,d]:c},[]);return UA(i,o,l,t?.class,t?.className)},Cy=768;function Ase(){const[i,e]=C.useState(void 0);return C.useEffect(()=>{const t=window.matchMedia(`(max-width: ${Cy-1}px)`),r=()=>{e(window.innerWidth<Cy)};return t.addEventListener("change",r),e(window.innerWidth<Cy),()=>t.removeEventListener("change",r)},[]),!!i}const tI="-",Nse=i=>{const e=Fse(i),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=i;return{getClassGroupId:o=>{const a=o.split(tI);return a[0]===""&&a.length!==1&&a.shift(),fK(a,e)||$se(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},fK=(i,e)=>{if(i.length===0)return e.classGroupId;const t=i[0],r=e.nextPart.get(t),n=r?fK(i.slice(1),r):void 0;if(n)return n;if(e.validators.length===0)return;const s=i.join(tI);return e.validators.find(({validator:o})=>o(s))?.classGroupId},VA=/^\[(.+)\]$/,$se=i=>{if(VA.test(i)){const e=VA.exec(i)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Fse=i=>{const{theme:e,classGroups:t}=i,r={nextPart:new Map,validators:[]};for(const n in t)fP(t[n],r,n,e);return r},fP=(i,e,t,r)=>{i.forEach(n=>{if(typeof n=="string"){const s=n===""?e:XA(e,n);s.classGroupId=t;return}if(typeof n=="function"){if(Lse(n)){fP(n(r),e,t,r);return}e.validators.push({validator:n,classGroupId:t});return}Object.entries(n).forEach(([s,o])=>{fP(o,XA(e,s),t,r)})})},XA=(i,e)=>{let t=i;return e.split(tI).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},Lse=i=>i.isThemeGetter,qse=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const n=(s,o)=>{t.set(s,o),e++,e>i&&(e=0,r=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return n(s,o),o},set(s,o){t.has(s)?t.set(s,o):n(s,o)}}},pP="!",mP=":",jse=mP.length,Gse=i=>{const{prefix:e,experimentalParseClassName:t}=i;let r=n=>{const s=[];let o=0,a=0,l=0,c;for(let p=0;p<n.length;p++){let m=n[p];if(o===0&&a===0){if(m===mP){s.push(n.slice(l,p)),l=p+jse;continue}if(m==="/"){c=p;continue}}m==="["?o++:m==="]"?o--:m==="("?a++:m===")"&&a--}const u=s.length===0?n:n.substring(l),h=Wse(u),d=h!==u,f=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}};if(e){const n=e+mP,s=r;r=o=>o.startsWith(n)?s(o.substring(n.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(t){const n=r;r=s=>t({className:s,parseClassName:n})}return r},Wse=i=>i.endsWith(pP)?i.substring(0,i.length-1):i.startsWith(pP)?i.substring(1):i,Bse=i=>{const e=Object.fromEntries(i.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const n=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(n.push(...s.sort(),o),s=[]):s.push(o)}),n.push(...s.sort()),n}},zse=i=>({cache:qse(i.cacheSize),parseClassName:Gse(i),sortModifiers:Bse(i),...Nse(i)}),Hse=/\s+/,Yse=(i,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:n,sortModifiers:s}=e,o=[],a=i.trim().split(Hse);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:h,modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=t(u);if(h){l=u+(l.length>0?" "+l:l);continue}let g=!!m,v=r(g?p.substring(0,m):p);if(!v){if(!g){l=u+(l.length>0?" "+l:l);continue}if(v=r(p),!v){l=u+(l.length>0?" "+l:l);continue}g=!1}const y=s(d).join(":"),_=f?y+pP:y,b=_+v;if(o.includes(b))continue;o.push(b);const w=n(v,g);for(let S=0;S<w.length;++S){const E=w[S];o.push(_+E)}l=u+(l.length>0?" "+l:l)}return l};function Use(){let i=0,e,t,r="";for(;i<arguments.length;)(e=arguments[i++])&&(t=pK(e))&&(r&&(r+=" "),r+=t);return r}const pK=i=>{if(typeof i=="string")return i;let e,t="";for(let r=0;r<i.length;r++)i[r]&&(e=pK(i[r]))&&(t&&(t+=" "),t+=e);return t};function Vse(i,...e){let t,r,n,s=o;function o(l){const c=e.reduce((u,h)=>h(u),i());return t=zse(c),r=t.cache.get,n=t.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=Yse(l,t);return n(l,u),u}return function(){return s(Use.apply(null,arguments))}}const ci=i=>{const e=t=>t[i]||[];return e.isThemeGetter=!0,e},mK=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gK=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Xse=/^\d+\/\d+$/,Kse=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Zse=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qse=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Jse=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eoe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ul=i=>Xse.test(i),Me=i=>!!i&&!Number.isNaN(Number(i)),Eo=i=>!!i&&Number.isInteger(Number(i)),Ty=i=>i.endsWith("%")&&Me(i.slice(0,-1)),Ms=i=>Kse.test(i),toe=()=>!0,ioe=i=>Zse.test(i)&&!Qse.test(i),vK=()=>!1,roe=i=>Jse.test(i),noe=i=>eoe.test(i),soe=i=>!oe(i)&&!ae(i),ooe=i=>Iu(i,_K,vK),oe=i=>mK.test(i),va=i=>Iu(i,wK,ioe),Oy=i=>Iu(i,hoe,Me),KA=i=>Iu(i,yK,vK),aoe=i=>Iu(i,bK,noe),Tp=i=>Iu(i,xK,roe),ae=i=>gK.test(i),gh=i=>ku(i,wK),loe=i=>ku(i,doe),ZA=i=>ku(i,yK),coe=i=>ku(i,_K),uoe=i=>ku(i,bK),Op=i=>ku(i,xK,!0),Iu=(i,e,t)=>{const r=mK.exec(i);return r?r[1]?e(r[1]):t(r[2]):!1},ku=(i,e,t=!1)=>{const r=gK.exec(i);return r?r[1]?e(r[1]):t:!1},yK=i=>i==="position"||i==="percentage",bK=i=>i==="image"||i==="url",_K=i=>i==="length"||i==="size"||i==="bg-size",wK=i=>i==="length",hoe=i=>i==="number",doe=i=>i==="family-name",xK=i=>i==="shadow",foe=()=>{const i=ci("color"),e=ci("font"),t=ci("text"),r=ci("font-weight"),n=ci("tracking"),s=ci("leading"),o=ci("breakpoint"),a=ci("container"),l=ci("spacing"),c=ci("radius"),u=ci("shadow"),h=ci("inset-shadow"),d=ci("text-shadow"),f=ci("drop-shadow"),p=ci("blur"),m=ci("perspective"),g=ci("aspect"),v=ci("ease"),y=ci("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],w=()=>[...b(),ae,oe],S=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],x=()=>[ae,oe,l],T=()=>[Ul,"full","auto",...x()],R=()=>[Eo,"none","subgrid",ae,oe],P=()=>["auto",{span:["full",Eo,ae,oe]},Eo,ae,oe],I=()=>[Eo,"auto",ae,oe],$=()=>["auto","min","max","fr",ae,oe],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],N=()=>["auto",...x()],q=()=>[Ul,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],D=()=>[i,ae,oe],j=()=>[...b(),ZA,KA,{position:[ae,oe]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",coe,ooe,{size:[ae,oe]}],M=()=>[Ty,gh,va],L=()=>["","none","full",c,ae,oe],G=()=>["",Me,gh,va],B=()=>["solid","dashed","dotted","double"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>[Me,Ty,ZA,KA],Q=()=>["","none",p,ae,oe],re=()=>["none",Me,ae,oe],me=()=>["none",Me,ae,oe],et=()=>[Me,ae,oe],ot=()=>[Ul,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ms],breakpoint:[Ms],color:[toe],container:[Ms],"drop-shadow":[Ms],ease:["in","out","in-out"],font:[soe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ms],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ms],shadow:[Ms],spacing:["px",Me],text:[Ms],"text-shadow":[Ms],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ul,oe,ae,g]}],container:["container"],columns:[{columns:[Me,oe,ae,a]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[Eo,"auto",ae,oe]}],basis:[{basis:[Ul,"full","auto",a,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Me,Ul,"auto","initial","none",oe]}],grow:[{grow:["",Me,ae,oe]}],shrink:[{shrink:["",Me,ae,oe]}],order:[{order:[Eo,"first","last","none",ae,oe]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:N()}],mx:[{mx:N()}],my:[{my:N()}],ms:[{ms:N()}],me:[{me:N()}],mt:[{mt:N()}],mr:[{mr:N()}],mb:[{mb:N()}],ml:[{ml:N()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[a,"screen",...q()]}],"min-w":[{"min-w":[a,"screen","none",...q()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",t,gh,va]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ae,Oy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ty,oe]}],"font-family":[{font:[loe,oe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,ae,oe]}],"line-clamp":[{"line-clamp":[Me,"none",ae,Oy]}],leading:[{leading:[s,...x()]}],"list-image":[{"list-image":["none",ae,oe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ae,oe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:[Me,"from-font","auto",ae,va]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[Me,"auto",ae,oe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae,oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae,oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:j()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Eo,ae,oe],radial:["",ae,oe],conic:[Eo,ae,oe]},uoe,aoe]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:M()}],"gradient-via-pos":[{via:M()}],"gradient-to-pos":[{to:M()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:L()}],"rounded-s":[{"rounded-s":L()}],"rounded-e":[{"rounded-e":L()}],"rounded-t":[{"rounded-t":L()}],"rounded-r":[{"rounded-r":L()}],"rounded-b":[{"rounded-b":L()}],"rounded-l":[{"rounded-l":L()}],"rounded-ss":[{"rounded-ss":L()}],"rounded-se":[{"rounded-se":L()}],"rounded-ee":[{"rounded-ee":L()}],"rounded-es":[{"rounded-es":L()}],"rounded-tl":[{"rounded-tl":L()}],"rounded-tr":[{"rounded-tr":L()}],"rounded-br":[{"rounded-br":L()}],"rounded-bl":[{"rounded-bl":L()}],"border-w":[{border:G()}],"border-w-x":[{"border-x":G()}],"border-w-y":[{"border-y":G()}],"border-w-s":[{"border-s":G()}],"border-w-e":[{"border-e":G()}],"border-w-t":[{"border-t":G()}],"border-w-r":[{"border-r":G()}],"border-w-b":[{"border-b":G()}],"border-w-l":[{"border-l":G()}],"divide-x":[{"divide-x":G()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":G()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...B(),"hidden","none"]}],"divide-style":[{divide:[...B(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...B(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Me,ae,oe]}],"outline-w":[{outline:["",Me,gh,va]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",u,Op,Tp]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",h,Op,Tp]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[Me,va]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":G()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",d,Op,Tp]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[Me,ae,oe]}],"mix-blend":[{"mix-blend":[...H(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":H()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Me]}],"mask-image-linear-from-pos":[{"mask-linear-from":z()}],"mask-image-linear-to-pos":[{"mask-linear-to":z()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":z()}],"mask-image-t-to-pos":[{"mask-t-to":z()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":z()}],"mask-image-r-to-pos":[{"mask-r-to":z()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":z()}],"mask-image-b-to-pos":[{"mask-b-to":z()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":z()}],"mask-image-l-to-pos":[{"mask-l-to":z()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":z()}],"mask-image-x-to-pos":[{"mask-x-to":z()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":z()}],"mask-image-y-to-pos":[{"mask-y-to":z()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[ae,oe]}],"mask-image-radial-from-pos":[{"mask-radial-from":z()}],"mask-image-radial-to-pos":[{"mask-radial-to":z()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[Me]}],"mask-image-conic-from-pos":[{"mask-conic-from":z()}],"mask-image-conic-to-pos":[{"mask-conic-to":z()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:j()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ae,oe]}],filter:[{filter:["","none",ae,oe]}],blur:[{blur:Q()}],brightness:[{brightness:[Me,ae,oe]}],contrast:[{contrast:[Me,ae,oe]}],"drop-shadow":[{"drop-shadow":["","none",f,Op,Tp]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",Me,ae,oe]}],"hue-rotate":[{"hue-rotate":[Me,ae,oe]}],invert:[{invert:["",Me,ae,oe]}],saturate:[{saturate:[Me,ae,oe]}],sepia:[{sepia:["",Me,ae,oe]}],"backdrop-filter":[{"backdrop-filter":["","none",ae,oe]}],"backdrop-blur":[{"backdrop-blur":Q()}],"backdrop-brightness":[{"backdrop-brightness":[Me,ae,oe]}],"backdrop-contrast":[{"backdrop-contrast":[Me,ae,oe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Me,ae,oe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Me,ae,oe]}],"backdrop-invert":[{"backdrop-invert":["",Me,ae,oe]}],"backdrop-opacity":[{"backdrop-opacity":[Me,ae,oe]}],"backdrop-saturate":[{"backdrop-saturate":[Me,ae,oe]}],"backdrop-sepia":[{"backdrop-sepia":["",Me,ae,oe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ae,oe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Me,"initial",ae,oe]}],ease:[{ease:["linear","initial",v,ae,oe]}],delay:[{delay:[Me,ae,oe]}],animate:[{animate:["none",y,ae,oe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,ae,oe]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:re()}],"rotate-x":[{"rotate-x":re()}],"rotate-y":[{"rotate-y":re()}],"rotate-z":[{"rotate-z":re()}],scale:[{scale:me()}],"scale-x":[{"scale-x":me()}],"scale-y":[{"scale-y":me()}],"scale-z":[{"scale-z":me()}],"scale-3d":["scale-3d"],skew:[{skew:et()}],"skew-x":[{"skew-x":et()}],"skew-y":[{"skew-y":et()}],transform:[{transform:[ae,oe,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ot()}],"translate-x":[{"translate-x":ot()}],"translate-y":[{"translate-y":ot()}],"translate-z":[{"translate-z":ot()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae,oe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae,oe]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[Me,gh,va,Oy]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},poe=Vse(foe);function J(...i){return poe(dK(i))}function moe(i,e){return i.length===e.length&&i.every(t=>e.includes(t))}const gP=eI("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Tn=C.forwardRef(({className:i,variant:e,size:t,asChild:r=!1,...n},s)=>{const o=r?Du:"button";return O.jsx(o,{className:J(gP({variant:e,size:t,className:i})),ref:s,...n})});Tn.displayName="Button";const iI=C.forwardRef(({className:i,type:e,...t},r)=>O.jsx("input",{type:e,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),ref:r,...t}));iI.displayName="Input";var rI=wne();const goe=ZD(rI);var voe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],st=voe.reduce((i,e)=>{const t=Jc(`Primitive.${e}`),r=C.forwardRef((n,s)=>{const{asChild:o,...a}=n,l=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...i,[e]:r}},{});function yoe(i,e){i&&rI.flushSync(()=>i.dispatchEvent(e))}var boe="Separator",QA="horizontal",_oe=["horizontal","vertical"],SK=C.forwardRef((i,e)=>{const{decorative:t,orientation:r=QA,...n}=i,s=woe(r)?r:QA,a=t?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return O.jsx(st.div,{"data-orientation":s,...a,...n,ref:e})});SK.displayName=boe;function woe(i){return _oe.includes(i)}var EK=SK;const CK=C.forwardRef(({className:i,orientation:e="horizontal",decorative:t=!0,...r},n)=>O.jsx(EK,{ref:n,decorative:t,orientation:e,className:J("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",i),...r}));CK.displayName=EK.displayName;function mt(i,e,{checkForDefaultPrevented:t=!0}={}){return function(n){if(i?.(n),t===!1||!n.defaultPrevented)return e?.(n)}}function xoe(i,e){const t=C.createContext(e),r=s=>{const{children:o,...a}=s,l=C.useMemo(()=>a,Object.values(a));return O.jsx(t.Provider,{value:l,children:o})};r.displayName=i+"Provider";function n(s){const o=C.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${i}\``)}return[r,n]}function Sl(i,e=[]){let t=[];function r(s,o){const a=C.createContext(o),l=t.length;t=[...t,o];const c=h=>{const{scope:d,children:f,...p}=h,m=d?.[i]?.[l]||a,g=C.useMemo(()=>p,Object.values(p));return O.jsx(m.Provider,{value:g,children:f})};c.displayName=s+"Provider";function u(h,d){const f=d?.[i]?.[l]||a,p=C.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const n=()=>{const s=t.map(o=>C.createContext(o));return function(a){const l=a?.[i]||s;return C.useMemo(()=>({[`__scope${i}`]:{...a,[i]:l}}),[a,l])}};return n.scopeName=i,[r,Soe(n,...e)]}function Soe(...i){const e=i[0];if(i.length===1)return e;const t=()=>{const r=i.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var Ko=globalThis?.document?C.useLayoutEffect:()=>{},Eoe=QD[" useId ".trim().toString()]||(()=>{}),Coe=0;function $r(i){const[e,t]=C.useState(Eoe());return Ko(()=>{t(r=>r??String(Coe++))},[i]),i||(e?`radix-${e}`:"")}var Toe=QD[" useInsertionEffect ".trim().toString()]||Ko;function hf({prop:i,defaultProp:e,onChange:t=()=>{},caller:r}){const[n,s,o]=Ooe({defaultProp:e,onChange:t}),a=i!==void 0,l=a?i:n;{const u=C.useRef(i!==void 0);C.useEffect(()=>{const h=u.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=C.useCallback(u=>{if(a){const h=Roe(u)?u(i):u;h!==i&&o.current?.(h)}else s(u)},[a,i,s,o]);return[l,c]}function Ooe({defaultProp:i,onChange:e}){const[t,r]=C.useState(i),n=C.useRef(t),s=C.useRef(e);return Toe(()=>{s.current=e},[e]),C.useEffect(()=>{n.current!==t&&(s.current?.(t),n.current=t)},[t,n]),[t,r,s]}function Roe(i){return typeof i=="function"}function Za(i){const e=C.useRef(i);return C.useEffect(()=>{e.current=i}),C.useMemo(()=>(...t)=>e.current?.(...t),[])}function Poe(i,e=globalThis?.document){const t=Za(i);C.useEffect(()=>{const r=n=>{n.key==="Escape"&&t(n)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var Doe="DismissableLayer",vP="dismissableLayer.update",Ioe="dismissableLayer.pointerDownOutside",koe="dismissableLayer.focusOutside",JA,TK=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$g=C.forwardRef((i,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:n,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=i,c=C.useContext(TK),[u,h]=C.useState(null),d=u?.ownerDocument??globalThis?.document,[,f]=C.useState({}),p=Wi(e,E=>h(E)),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),y=u?m.indexOf(u):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,b=y>=v,w=Noe(E=>{const x=E.target,T=[...c.branches].some(R=>R.contains(x));!b||T||(n?.(E),o?.(E),E.defaultPrevented||a?.())},d),S=$oe(E=>{const x=E.target;[...c.branches].some(R=>R.contains(x))||(s?.(E),o?.(E),E.defaultPrevented||a?.())},d);return Poe(E=>{y===c.layers.size-1&&(r?.(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},d),C.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(JA=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),eN(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=JA)}},[u,d,t,c]),C.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),eN())},[u,c]),C.useEffect(()=>{const E=()=>f({});return document.addEventListener(vP,E),()=>document.removeEventListener(vP,E)},[]),O.jsx(st.div,{...l,ref:p,style:{pointerEvents:_?b?"auto":"none":void 0,...i.style},onFocusCapture:mt(i.onFocusCapture,S.onFocusCapture),onBlurCapture:mt(i.onBlurCapture,S.onBlurCapture),onPointerDownCapture:mt(i.onPointerDownCapture,w.onPointerDownCapture)})});$g.displayName=Doe;var Moe="DismissableLayerBranch",Aoe=C.forwardRef((i,e)=>{const t=C.useContext(TK),r=C.useRef(null),n=Wi(e,r);return C.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),O.jsx(st.div,{...i,ref:n})});Aoe.displayName=Moe;function Noe(i,e=globalThis?.document){const t=Za(i),r=C.useRef(!1),n=C.useRef(()=>{});return C.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){OK(Ioe,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",n.current),n.current=l,e.addEventListener("click",n.current,{once:!0})):l()}else e.removeEventListener("click",n.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",n.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function $oe(i,e=globalThis?.document){const t=Za(i),r=C.useRef(!1);return C.useEffect(()=>{const n=s=>{s.target&&!r.current&&OK(koe,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",n),()=>e.removeEventListener("focusin",n)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function eN(){const i=new CustomEvent(vP);document.dispatchEvent(i)}function OK(i,e,t,{discrete:r}){const n=t.originalEvent.target,s=new CustomEvent(i,{bubbles:!1,cancelable:!0,detail:t});e&&n.addEventListener(i,e,{once:!0}),r?yoe(n,s):n.dispatchEvent(s)}var Ry="focusScope.autoFocusOnMount",Py="focusScope.autoFocusOnUnmount",tN={bubbles:!1,cancelable:!0},Foe="FocusScope",nI=C.forwardRef((i,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:n,onUnmountAutoFocus:s,...o}=i,[a,l]=C.useState(null),c=Za(n),u=Za(s),h=C.useRef(null),d=Wi(e,m=>l(m)),f=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let m=function(_){if(f.paused||!a)return;const b=_.target;a.contains(b)?h.current=b:Mo(h.current,{select:!0})},g=function(_){if(f.paused||!a)return;const b=_.relatedTarget;b!==null&&(a.contains(b)||Mo(h.current,{select:!0}))},v=function(_){if(document.activeElement===document.body)for(const w of _)w.removedNodes.length>0&&Mo(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const y=new MutationObserver(v);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),y.disconnect()}}},[r,a,f.paused]),C.useEffect(()=>{if(a){rN.add(f);const m=document.activeElement;if(!a.contains(m)){const v=new CustomEvent(Ry,tN);a.addEventListener(Ry,c),a.dispatchEvent(v),v.defaultPrevented||(Loe(Boe(RK(a)),{select:!0}),document.activeElement===m&&Mo(a))}return()=>{a.removeEventListener(Ry,c),setTimeout(()=>{const v=new CustomEvent(Py,tN);a.addEventListener(Py,u),a.dispatchEvent(v),v.defaultPrevented||Mo(m??document.body,{select:!0}),a.removeEventListener(Py,u),rN.remove(f)},0)}}},[a,c,u,f]);const p=C.useCallback(m=>{if(!t&&!r||f.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(g&&v){const y=m.currentTarget,[_,b]=qoe(y);_&&b?!m.shiftKey&&v===b?(m.preventDefault(),t&&Mo(_,{select:!0})):m.shiftKey&&v===_&&(m.preventDefault(),t&&Mo(b,{select:!0})):v===y&&m.preventDefault()}},[t,r,f.paused]);return O.jsx(st.div,{tabIndex:-1,...o,ref:d,onKeyDown:p})});nI.displayName=Foe;function Loe(i,{select:e=!1}={}){const t=document.activeElement;for(const r of i)if(Mo(r,{select:e}),document.activeElement!==t)return}function qoe(i){const e=RK(i),t=iN(e,i),r=iN(e.reverse(),i);return[t,r]}function RK(i){const e=[],t=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const n=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||n?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function iN(i,e){for(const t of i)if(!joe(t,{upTo:e}))return t}function joe(i,{upTo:e}){if(getComputedStyle(i).visibility==="hidden")return!0;for(;i;){if(e!==void 0&&i===e)return!1;if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1}function Goe(i){return i instanceof HTMLInputElement&&"select"in i}function Mo(i,{select:e=!1}={}){if(i&&i.focus){const t=document.activeElement;i.focus({preventScroll:!0}),i!==t&&Goe(i)&&e&&i.select()}}var rN=Woe();function Woe(){let i=[];return{add(e){const t=i[0];e!==t&&t?.pause(),i=nN(i,e),i.unshift(e)},remove(e){i=nN(i,e),i[0]?.resume()}}}function nN(i,e){const t=[...i],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function Boe(i){return i.filter(e=>e.tagName!=="A")}var zoe="Portal",sI=C.forwardRef((i,e)=>{const{container:t,...r}=i,[n,s]=C.useState(!1);Ko(()=>s(!0),[]);const o=t||n&&globalThis?.document?.body;return o?goe.createPortal(O.jsx(st.div,{...r,ref:e}),o):null});sI.displayName=zoe;function Hoe(i,e){return C.useReducer((t,r)=>e[t][r]??t,i)}var ta=i=>{const{present:e,children:t}=i,r=Yoe(e),n=typeof t=="function"?t({present:r.isPresent}):C.Children.only(t),s=Wi(r.ref,Uoe(n));return typeof t=="function"||r.isPresent?C.cloneElement(n,{ref:s}):null};ta.displayName="Presence";function Yoe(i){const[e,t]=C.useState(),r=C.useRef(null),n=C.useRef(i),s=C.useRef("none"),o=i?"mounted":"unmounted",[a,l]=Hoe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const c=Rp(r.current);s.current=a==="mounted"?c:"none"},[a]),Ko(()=>{const c=r.current,u=n.current;if(u!==i){const d=s.current,f=Rp(c);i?l("MOUNT"):f==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&d!==f?"ANIMATION_OUT":"UNMOUNT"),n.current=i}},[i,l]),Ko(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=f=>{const m=Rp(r.current).includes(CSS.escape(f.animationName));if(f.target===e&&m&&(l("ANIMATION_END"),!n.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},d=f=>{f.target===e&&(s.current=Rp(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(c=>{r.current=c?getComputedStyle(c):null,t(c)},[])}}function Rp(i){return i?.animationName||"none"}function Uoe(i){let e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}var Dy=0;function PK(){C.useEffect(()=>{const i=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",i[0]??sN()),document.body.insertAdjacentElement("beforeend",i[1]??sN()),Dy++,()=>{Dy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Dy--}},[])}function sN(){const i=document.createElement("span");return i.setAttribute("data-radix-focus-guard",""),i.tabIndex=0,i.style.outline="none",i.style.opacity="0",i.style.position="fixed",i.style.pointerEvents="none",i}var Qn=function(){return Qn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Qn.apply(this,arguments)};function DK(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(t[r[n]]=i[r[n]]);return t}function Voe(i,e,t){if(t||arguments.length===2)for(var r=0,n=e.length,s;r<n;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return i.concat(s||Array.prototype.slice.call(e))}var xm="right-scroll-bar-position",Sm="width-before-scroll-bar",Xoe="with-scroll-bars-hidden",Koe="--removed-body-scroll-bar-size";function Iy(i,e){return typeof i=="function"?i(e):i&&(i.current=e),i}function Zoe(i,e){var t=C.useState(function(){return{value:i,callback:e,facade:{get current(){return t.value},set current(r){var n=t.value;n!==r&&(t.value=r,t.callback(r,n))}}}})[0];return t.callback=e,t.facade}var Qoe=typeof window<"u"?C.useLayoutEffect:C.useEffect,oN=new WeakMap;function Joe(i,e){var t=Zoe(null,function(r){return i.forEach(function(n){return Iy(n,r)})});return Qoe(function(){var r=oN.get(t);if(r){var n=new Set(r),s=new Set(i),o=t.current;n.forEach(function(a){s.has(a)||Iy(a,null)}),s.forEach(function(a){n.has(a)||Iy(a,o)})}oN.set(t,i)},[i]),t}function eae(i){return i}function tae(i,e){e===void 0&&(e=eae);var t=[],r=!1,n={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:i},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),t}}}};return n}function iae(i){i===void 0&&(i={});var e=tae(null);return e.options=Qn({async:!0,ssr:!1},i),e}var IK=function(i){var e=i.sideCar,t=DK(i,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,Qn({},t))};IK.isSideCarExport=!0;function rae(i,e){return i.useMedium(e),IK}var kK=iae(),ky=function(){},Fg=C.forwardRef(function(i,e){var t=C.useRef(null),r=C.useState({onScrollCapture:ky,onWheelCapture:ky,onTouchMoveCapture:ky}),n=r[0],s=r[1],o=i.forwardProps,a=i.children,l=i.className,c=i.removeScrollBar,u=i.enabled,h=i.shards,d=i.sideCar,f=i.noRelative,p=i.noIsolation,m=i.inert,g=i.allowPinchZoom,v=i.as,y=v===void 0?"div":v,_=i.gapMode,b=DK(i,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=d,S=Joe([t,e]),E=Qn(Qn({},b),n);return C.createElement(C.Fragment,null,u&&C.createElement(w,{sideCar:kK,removeScrollBar:c,shards:h,noRelative:f,noIsolation:p,inert:m,setCallbacks:s,allowPinchZoom:!!g,lockRef:t,gapMode:_}),o?C.cloneElement(C.Children.only(a),Qn(Qn({},E),{ref:S})):C.createElement(y,Qn({},E,{className:l,ref:S}),a))});Fg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fg.classNames={fullWidth:Sm,zeroRight:xm};var nae=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sae(){if(!document)return null;var i=document.createElement("style");i.type="text/css";var e=nae();return e&&i.setAttribute("nonce",e),i}function oae(i,e){i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}function aae(i){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(i)}var lae=function(){var i=0,e=null;return{add:function(t){i==0&&(e=sae())&&(oae(e,t),aae(e)),i++},remove:function(){i--,!i&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},cae=function(){var i=lae();return function(e,t){C.useEffect(function(){return i.add(e),function(){i.remove()}},[e&&t])}},MK=function(){var i=cae(),e=function(t){var r=t.styles,n=t.dynamic;return i(r,n),null};return e},uae={left:0,top:0,right:0,gap:0},My=function(i){return parseInt(i||"",10)||0},hae=function(i){var e=window.getComputedStyle(document.body),t=e[i==="padding"?"paddingLeft":"marginLeft"],r=e[i==="padding"?"paddingTop":"marginTop"],n=e[i==="padding"?"paddingRight":"marginRight"];return[My(t),My(r),My(n)]},dae=function(i){if(i===void 0&&(i="margin"),typeof window>"u")return uae;var e=hae(i),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},fae=MK(),jc="data-scroll-locked",pae=function(i,e,t,r){var n=i.left,s=i.top,o=i.right,a=i.gap;return t===void 0&&(t="margin"),`
  .`.concat(Xoe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(jc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xm,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sm,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(xm," .").concat(xm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Sm," .").concat(Sm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(jc,`] {
    `).concat(Koe,": ").concat(a,`px;
  }
`)},aN=function(){var i=parseInt(document.body.getAttribute(jc)||"0",10);return isFinite(i)?i:0},mae=function(){C.useEffect(function(){return document.body.setAttribute(jc,(aN()+1).toString()),function(){var i=aN()-1;i<=0?document.body.removeAttribute(jc):document.body.setAttribute(jc,i.toString())}},[])},gae=function(i){var e=i.noRelative,t=i.noImportant,r=i.gapMode,n=r===void 0?"margin":r;mae();var s=C.useMemo(function(){return dae(n)},[n]);return C.createElement(fae,{styles:pae(s,!e,n,t?"":"!important")})},yP=!1;if(typeof window<"u")try{var Pp=Object.defineProperty({},"passive",{get:function(){return yP=!0,!0}});window.addEventListener("test",Pp,Pp),window.removeEventListener("test",Pp,Pp)}catch{yP=!1}var Vl=yP?{passive:!1}:!1,vae=function(i){return i.tagName==="TEXTAREA"},AK=function(i,e){if(!(i instanceof Element))return!1;var t=window.getComputedStyle(i);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!vae(i)&&t[e]==="visible")},yae=function(i){return AK(i,"overflowY")},bae=function(i){return AK(i,"overflowX")},lN=function(i,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=NK(i,r);if(n){var s=$K(i,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},_ae=function(i){var e=i.scrollTop,t=i.scrollHeight,r=i.clientHeight;return[e,t,r]},wae=function(i){var e=i.scrollLeft,t=i.scrollWidth,r=i.clientWidth;return[e,t,r]},NK=function(i,e){return i==="v"?yae(e):bae(e)},$K=function(i,e){return i==="v"?_ae(e):wae(e)},xae=function(i,e){return i==="h"&&e==="rtl"?-1:1},Sae=function(i,e,t,r,n){var s=xae(i,window.getComputedStyle(e).direction),o=s*r,a=t.target,l=e.contains(a),c=!1,u=o>0,h=0,d=0;do{if(!a)break;var f=$K(i,a),p=f[0],m=f[1],g=f[2],v=m-g-s*p;(p||v)&&NK(i,a)&&(h+=v,d+=p);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(h)<1||!u&&Math.abs(d)<1)&&(c=!0),c},Dp=function(i){return"changedTouches"in i?[i.changedTouches[0].clientX,i.changedTouches[0].clientY]:[0,0]},cN=function(i){return[i.deltaX,i.deltaY]},uN=function(i){return i&&"current"in i?i.current:i},Eae=function(i,e){return i[0]===e[0]&&i[1]===e[1]},Cae=function(i){return`
  .block-interactivity-`.concat(i,` {pointer-events: none;}
  .allow-interactivity-`).concat(i,` {pointer-events: all;}
`)},Tae=0,Xl=[];function Oae(i){var e=C.useRef([]),t=C.useRef([0,0]),r=C.useRef(),n=C.useState(Tae++)[0],s=C.useState(MK)[0],o=C.useRef(i);C.useEffect(function(){o.current=i},[i]),C.useEffect(function(){if(i.inert){document.body.classList.add("block-interactivity-".concat(n));var m=Voe([i.lockRef.current],(i.shards||[]).map(uN),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(n))})}}},[i.inert,i.lockRef.current,i.shards]);var a=C.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var v=Dp(m),y=t.current,_="deltaX"in m?m.deltaX:y[0]-v[0],b="deltaY"in m?m.deltaY:y[1]-v[1],w,S=m.target,E=Math.abs(_)>Math.abs(b)?"h":"v";if("touches"in m&&E==="h"&&S.type==="range")return!1;var x=lN(E,S);if(!x)return!0;if(x?w=E:(w=E==="v"?"h":"v",x=lN(E,S)),!x)return!1;if(!r.current&&"changedTouches"in m&&(_||b)&&(r.current=w),!w)return!0;var T=r.current||w;return Sae(T,g,m,T==="h"?_:b)},[]),l=C.useCallback(function(m){var g=m;if(!(!Xl.length||Xl[Xl.length-1]!==s)){var v="deltaY"in g?cN(g):Dp(g),y=e.current.filter(function(w){return w.name===g.type&&(w.target===g.target||g.target===w.shadowParent)&&Eae(w.delta,v)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var _=(o.current.shards||[]).map(uN).filter(Boolean).filter(function(w){return w.contains(g.target)}),b=_.length>0?a(g,_[0]):!o.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),c=C.useCallback(function(m,g,v,y){var _={name:m,delta:g,target:v,should:y,shadowParent:Rae(v)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(b){return b!==_})},1)},[]),u=C.useCallback(function(m){t.current=Dp(m),r.current=void 0},[]),h=C.useCallback(function(m){c(m.type,cN(m),m.target,a(m,i.lockRef.current))},[]),d=C.useCallback(function(m){c(m.type,Dp(m),m.target,a(m,i.lockRef.current))},[]);C.useEffect(function(){return Xl.push(s),i.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:d}),document.addEventListener("wheel",l,Vl),document.addEventListener("touchmove",l,Vl),document.addEventListener("touchstart",u,Vl),function(){Xl=Xl.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,Vl),document.removeEventListener("touchmove",l,Vl),document.removeEventListener("touchstart",u,Vl)}},[]);var f=i.removeScrollBar,p=i.inert;return C.createElement(C.Fragment,null,p?C.createElement(s,{styles:Cae(n)}):null,f?C.createElement(gae,{noRelative:i.noRelative,gapMode:i.gapMode}):null)}function Rae(i){for(var e=null;i!==null;)i instanceof ShadowRoot&&(e=i.host,i=i.host),i=i.parentNode;return e}const Pae=rae(kK,Oae);var oI=C.forwardRef(function(i,e){return C.createElement(Fg,Qn({},i,{ref:e,sideCar:Pae}))});oI.classNames=Fg.classNames;var Dae=function(i){if(typeof document>"u")return null;var e=Array.isArray(i)?i[0]:i;return e.ownerDocument.body},Kl=new WeakMap,Ip=new WeakMap,kp={},Ay=0,FK=function(i){return i&&(i.host||FK(i.parentNode))},Iae=function(i,e){return e.map(function(t){if(i.contains(t))return t;var r=FK(t);return r&&i.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",i,". Doing nothing"),null)}).filter(function(t){return!!t})},kae=function(i,e,t,r){var n=Iae(e,Array.isArray(i)?i:[i]);kp[t]||(kp[t]=new WeakMap);var s=kp[t],o=[],a=new Set,l=new Set(n),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};n.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(d){if(a.has(d))u(d);else try{var f=d.getAttribute(r),p=f!==null&&f!=="false",m=(Kl.get(d)||0)+1,g=(s.get(d)||0)+1;Kl.set(d,m),s.set(d,g),o.push(d),m===1&&p&&Ip.set(d,!0),g===1&&d.setAttribute(t,"true"),p||d.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",d,v)}})};return u(e),a.clear(),Ay++,function(){o.forEach(function(h){var d=Kl.get(h)-1,f=s.get(h)-1;Kl.set(h,d),s.set(h,f),d||(Ip.has(h)||h.removeAttribute(r),Ip.delete(h)),f||h.removeAttribute(t)}),Ay--,Ay||(Kl=new WeakMap,Kl=new WeakMap,Ip=new WeakMap,kp={})}},LK=function(i,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(i)?i:[i]),n=Dae(i);return n?(r.push.apply(r,Array.from(n.querySelectorAll("[aria-live], script"))),kae(r,n,t,"aria-hidden")):function(){return null}},Lg="Dialog",[qK]=Sl(Lg),[Mae,jn]=qK(Lg),jK=i=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:n,onOpenChange:s,modal:o=!0}=i,a=C.useRef(null),l=C.useRef(null),[c,u]=hf({prop:r,defaultProp:n??!1,onChange:s,caller:Lg});return O.jsx(Mae,{scope:e,triggerRef:a,contentRef:l,contentId:$r(),titleId:$r(),descriptionId:$r(),open:c,onOpenChange:u,onOpenToggle:C.useCallback(()=>u(h=>!h),[u]),modal:o,children:t})};jK.displayName=Lg;var GK="DialogTrigger",Aae=C.forwardRef((i,e)=>{const{__scopeDialog:t,...r}=i,n=jn(GK,t),s=Wi(e,n.triggerRef);return O.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":cI(n.open),...r,ref:s,onClick:mt(i.onClick,n.onOpenToggle)})});Aae.displayName=GK;var aI="DialogPortal",[Nae,WK]=qK(aI,{forceMount:void 0}),BK=i=>{const{__scopeDialog:e,forceMount:t,children:r,container:n}=i,s=jn(aI,e);return O.jsx(Nae,{scope:e,forceMount:t,children:C.Children.map(r,o=>O.jsx(ta,{present:t||s.open,children:O.jsx(sI,{asChild:!0,container:n,children:o})}))})};BK.displayName=aI;var Mm="DialogOverlay",zK=C.forwardRef((i,e)=>{const t=WK(Mm,i.__scopeDialog),{forceMount:r=t.forceMount,...n}=i,s=jn(Mm,i.__scopeDialog);return s.modal?O.jsx(ta,{present:r||s.open,children:O.jsx(Fae,{...n,ref:e})}):null});zK.displayName=Mm;var $ae=Jc("DialogOverlay.RemoveScroll"),Fae=C.forwardRef((i,e)=>{const{__scopeDialog:t,...r}=i,n=jn(Mm,t);return O.jsx(oI,{as:$ae,allowPinchZoom:!0,shards:[n.contentRef],children:O.jsx(st.div,{"data-state":cI(n.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Qa="DialogContent",HK=C.forwardRef((i,e)=>{const t=WK(Qa,i.__scopeDialog),{forceMount:r=t.forceMount,...n}=i,s=jn(Qa,i.__scopeDialog);return O.jsx(ta,{present:r||s.open,children:s.modal?O.jsx(Lae,{...n,ref:e}):O.jsx(qae,{...n,ref:e})})});HK.displayName=Qa;var Lae=C.forwardRef((i,e)=>{const t=jn(Qa,i.__scopeDialog),r=C.useRef(null),n=Wi(e,t.contentRef,r);return C.useEffect(()=>{const s=r.current;if(s)return LK(s)},[]),O.jsx(YK,{...i,ref:n,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:mt(i.onCloseAutoFocus,s=>{s.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:mt(i.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:mt(i.onFocusOutside,s=>s.preventDefault())})}),qae=C.forwardRef((i,e)=>{const t=jn(Qa,i.__scopeDialog),r=C.useRef(!1),n=C.useRef(!1);return O.jsx(YK,{...i,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{i.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||t.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:s=>{i.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=s.target;t.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&n.current&&s.preventDefault()}})}),YK=C.forwardRef((i,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:s,...o}=i,a=jn(Qa,t),l=C.useRef(null),c=Wi(e,l);return PK(),O.jsxs(O.Fragment,{children:[O.jsx(nI,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:s,children:O.jsx($g,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":cI(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),O.jsxs(O.Fragment,{children:[O.jsx(jae,{titleId:a.titleId}),O.jsx(Wae,{contentRef:l,descriptionId:a.descriptionId})]})]})}),lI="DialogTitle",UK=C.forwardRef((i,e)=>{const{__scopeDialog:t,...r}=i,n=jn(lI,t);return O.jsx(st.h2,{id:n.titleId,...r,ref:e})});UK.displayName=lI;var VK="DialogDescription",XK=C.forwardRef((i,e)=>{const{__scopeDialog:t,...r}=i,n=jn(VK,t);return O.jsx(st.p,{id:n.descriptionId,...r,ref:e})});XK.displayName=VK;var KK="DialogClose",ZK=C.forwardRef((i,e)=>{const{__scopeDialog:t,...r}=i,n=jn(KK,t);return O.jsx(st.button,{type:"button",...r,ref:e,onClick:mt(i.onClick,()=>n.onOpenChange(!1))})});ZK.displayName=KK;function cI(i){return i?"open":"closed"}var QK="DialogTitleWarning",[PGe,JK]=xoe(QK,{contentName:Qa,titleName:lI,docsSlug:"dialog"}),jae=({titleId:i})=>{const e=JK(QK),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{i&&(document.getElementById(i)||console.error(t))},[t,i]),null},Gae="DialogDescriptionWarning",Wae=({contentRef:i,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${JK(Gae).contentName}}.`;return C.useEffect(()=>{const n=i.current?.getAttribute("aria-describedby");e&&n&&(document.getElementById(e)||console.warn(r))},[r,i,e]),null},e9=jK,uI=BK,df=zK,ff=HK,qg=UK,jg=XK,t9=ZK;const Bae=e9,zae=uI,i9=C.forwardRef(({className:i,...e},t)=>O.jsx(df,{className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",i),...e,ref:t}));i9.displayName=df.displayName;const Hae=eI("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),r9=C.forwardRef(({side:i="right",className:e,children:t,...r},n)=>O.jsxs(zae,{children:[O.jsx(i9,{}),O.jsxs(ff,{ref:n,className:J(Hae({side:i}),e),...r,children:[t,O.jsxs(t9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[O.jsx(lK,{className:"h-4 w-4"}),O.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));r9.displayName=ff.displayName;const n9=({className:i,...e})=>O.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",i),...e});n9.displayName="SheetHeader";const s9=C.forwardRef(({className:i,...e},t)=>O.jsx(qg,{ref:t,className:J("text-lg font-semibold text-foreground",i),...e}));s9.displayName=qg.displayName;const o9=C.forwardRef(({className:i,...e},t)=>O.jsx(jg,{ref:t,className:J("text-sm text-muted-foreground",i),...e}));o9.displayName=jg.displayName;function Zh({className:i,...e}){return O.jsx("div",{className:J("animate-pulse rounded-md bg-muted",i),...e})}const Yae=["top","right","bottom","left"],Zo=Math.min,Rr=Math.max,Am=Math.round,Mp=Math.floor,us=i=>({x:i,y:i}),Uae={left:"right",right:"left",bottom:"top",top:"bottom"},Vae={start:"end",end:"start"};function bP(i,e,t){return Rr(i,Zo(e,t))}function lo(i,e){return typeof i=="function"?i(e):i}function co(i){return i.split("-")[0]}function Mu(i){return i.split("-")[1]}function hI(i){return i==="x"?"y":"x"}function dI(i){return i==="y"?"height":"width"}const Xae=new Set(["top","bottom"]);function is(i){return Xae.has(co(i))?"y":"x"}function fI(i){return hI(is(i))}function Kae(i,e,t){t===void 0&&(t=!1);const r=Mu(i),n=fI(i),s=dI(n);let o=n==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Nm(o)),[o,Nm(o)]}function Zae(i){const e=Nm(i);return[_P(i),e,_P(e)]}function _P(i){return i.replace(/start|end/g,e=>Vae[e])}const hN=["left","right"],dN=["right","left"],Qae=["top","bottom"],Jae=["bottom","top"];function ele(i,e,t){switch(i){case"top":case"bottom":return t?e?dN:hN:e?hN:dN;case"left":case"right":return e?Qae:Jae;default:return[]}}function tle(i,e,t,r){const n=Mu(i);let s=ele(co(i),t==="start",r);return n&&(s=s.map(o=>o+"-"+n),e&&(s=s.concat(s.map(_P)))),s}function Nm(i){return i.replace(/left|right|bottom|top/g,e=>Uae[e])}function ile(i){return{top:0,right:0,bottom:0,left:0,...i}}function a9(i){return typeof i!="number"?ile(i):{top:i,right:i,bottom:i,left:i}}function $m(i){const{x:e,y:t,width:r,height:n}=i;return{width:r,height:n,top:t,left:e,right:e+r,bottom:t+n,x:e,y:t}}function fN(i,e,t){let{reference:r,floating:n}=i;const s=is(e),o=fI(e),a=dI(o),l=co(e),c=s==="y",u=r.x+r.width/2-n.width/2,h=r.y+r.height/2-n.height/2,d=r[a]/2-n[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-n.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-n.width,y:h};break;default:f={x:r.x,y:r.y}}switch(Mu(e)){case"start":f[o]-=d*(t&&c?-1:1);break;case"end":f[o]+=d*(t&&c?-1:1);break}return f}const rle=async(i,e,t)=>{const{placement:r="bottom",strategy:n="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:i,floating:e,strategy:n}),{x:u,y:h}=fN(c,r,l),d=r,f={},p=0;for(let m=0;m<a.length;m++){const{name:g,fn:v}=a[m],{x:y,y:_,data:b,reset:w}=await v({x:u,y:h,initialPlacement:r,placement:d,strategy:n,middlewareData:f,rects:c,platform:o,elements:{reference:i,floating:e}});u=y??u,h=_??h,f={...f,[g]:{...f[g],...b}},w&&p<=50&&(p++,typeof w=="object"&&(w.placement&&(d=w.placement),w.rects&&(c=w.rects===!0?await o.getElementRects({reference:i,floating:e,strategy:n}):w.rects),{x:u,y:h}=fN(c,d,l)),m=-1)}return{x:u,y:h,placement:d,strategy:n,middlewareData:f}};async function vd(i,e){var t;e===void 0&&(e={});const{x:r,y:n,platform:s,rects:o,elements:a,strategy:l}=i,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=lo(e,i),p=a9(f),g=a[d?h==="floating"?"reference":"floating":h],v=$m(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(g)))==null||t?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=h==="floating"?{x:r,y:n,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},w=$m(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:_,strategy:l}):y);return{top:(v.top-w.top+p.top)/b.y,bottom:(w.bottom-v.bottom+p.bottom)/b.y,left:(v.left-w.left+p.left)/b.x,right:(w.right-v.right+p.right)/b.x}}const nle=i=>({name:"arrow",options:i,async fn(e){const{x:t,y:r,placement:n,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=lo(i,e)||{};if(c==null)return{};const h=a9(u),d={x:t,y:r},f=fI(n),p=dI(f),m=await o.getDimensions(c),g=f==="y",v=g?"top":"left",y=g?"bottom":"right",_=g?"clientHeight":"clientWidth",b=s.reference[p]+s.reference[f]-d[f]-s.floating[p],w=d[f]-s.reference[f],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=S?S[_]:0;(!E||!await(o.isElement==null?void 0:o.isElement(S)))&&(E=a.floating[_]||s.floating[p]);const x=b/2-w/2,T=E/2-m[p]/2-1,R=Zo(h[v],T),P=Zo(h[y],T),I=R,$=E-m[p]-P,F=E/2-m[p]/2+x,W=bP(I,F,$),N=!l.arrow&&Mu(n)!=null&&F!==W&&s.reference[p]/2-(F<I?R:P)-m[p]/2<0,q=N?F<I?F-I:F-$:0;return{[f]:d[f]+q,data:{[f]:W,centerOffset:F-W-q,...N&&{alignmentOffset:q}},reset:N}}}),sle=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(e){var t,r;const{placement:n,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=lo(i,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const v=co(n),y=is(a),_=co(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=d||(_||!m?[Nm(a)]:Zae(a)),S=p!=="none";!d&&S&&w.push(...tle(a,m,p,b));const E=[a,...w],x=await vd(e,g),T=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&T.push(x[v]),h){const F=Kae(n,o,b);T.push(x[F[0]],x[F[1]])}if(R=[...R,{placement:n,overflows:T}],!T.every(F=>F<=0)){var P,I;const F=(((P=s.flip)==null?void 0:P.index)||0)+1,W=E[F];if(W&&(!(h==="alignment"?y!==is(W):!1)||R.every(D=>is(D.placement)===y?D.overflows[0]>0:!0)))return{data:{index:F,overflows:R},reset:{placement:W}};let N=(I=R.filter(q=>q.overflows[0]<=0).sort((q,D)=>q.overflows[1]-D.overflows[1])[0])==null?void 0:I.placement;if(!N)switch(f){case"bestFit":{var $;const q=($=R.filter(D=>{if(S){const j=is(D.placement);return j===y||j==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(j=>j>0).reduce((j,X)=>j+X,0)]).sort((D,j)=>D[1]-j[1])[0])==null?void 0:$[0];q&&(N=q);break}case"initialPlacement":N=a;break}if(n!==N)return{reset:{placement:N}}}return{}}}};function pN(i,e){return{top:i.top-e.height,right:i.right-e.width,bottom:i.bottom-e.height,left:i.left-e.width}}function mN(i){return Yae.some(e=>i[e]>=0)}const ole=function(i){return i===void 0&&(i={}),{name:"hide",options:i,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...n}=lo(i,e);switch(r){case"referenceHidden":{const s=await vd(e,{...n,elementContext:"reference"}),o=pN(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:mN(o)}}}case"escaped":{const s=await vd(e,{...n,altBoundary:!0}),o=pN(s,t.floating);return{data:{escapedOffsets:o,escaped:mN(o)}}}default:return{}}}}},l9=new Set(["left","top"]);async function ale(i,e){const{placement:t,platform:r,elements:n}=i,s=await(r.isRTL==null?void 0:r.isRTL(n.floating)),o=co(t),a=Mu(t),l=is(t)==="y",c=l9.has(o)?-1:1,u=s&&l?-1:1,h=lo(e,i);let{mainAxis:d,crossAxis:f,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*u,y:d*c}:{x:d*c,y:f*u}}const lle=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(e){var t,r;const{x:n,y:s,placement:o,middlewareData:a}=e,l=await ale(e,i);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:n+l.x,y:s+l.y,data:{...l,placement:o}}}}},cle=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(e){const{x:t,y:r,placement:n}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:v,y}=g;return{x:v,y}}},...l}=lo(i,e),c={x:t,y:r},u=await vd(e,l),h=is(co(n)),d=hI(h);let f=c[d],p=c[h];if(s){const g=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=f+u[g],_=f-u[v];f=bP(y,f,_)}if(o){const g=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=p+u[g],_=p-u[v];p=bP(y,p,_)}const m=a.fn({...e,[d]:f,[h]:p});return{...m,data:{x:m.x-t,y:m.y-r,enabled:{[d]:s,[h]:o}}}}}},ule=function(i){return i===void 0&&(i={}),{options:i,fn(e){const{x:t,y:r,placement:n,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=lo(i,e),u={x:t,y:r},h=is(n),d=hI(h);let f=u[d],p=u[h];const m=lo(a,e),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const _=d==="y"?"height":"width",b=s.reference[d]-s.floating[_]+g.mainAxis,w=s.reference[d]+s.reference[_]-g.mainAxis;f<b?f=b:f>w&&(f=w)}if(c){var v,y;const _=d==="y"?"width":"height",b=l9.has(co(n)),w=s.reference[h]-s.floating[_]+(b&&((v=o.offset)==null?void 0:v[h])||0)+(b?0:g.crossAxis),S=s.reference[h]+s.reference[_]+(b?0:((y=o.offset)==null?void 0:y[h])||0)-(b?g.crossAxis:0);p<w?p=w:p>S&&(p=S)}return{[d]:f,[h]:p}}}},hle=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(e){var t,r;const{placement:n,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=lo(i,e),u=await vd(e,c),h=co(n),d=Mu(n),f=is(n)==="y",{width:p,height:m}=s.floating;let g,v;h==="top"||h==="bottom"?(g=h,v=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,g=d==="end"?"top":"bottom");const y=m-u.top-u.bottom,_=p-u.left-u.right,b=Zo(m-u[g],y),w=Zo(p-u[v],_),S=!e.middlewareData.shift;let E=b,x=w;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(x=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=y),S&&!d){const R=Rr(u.left,0),P=Rr(u.right,0),I=Rr(u.top,0),$=Rr(u.bottom,0);f?x=p-2*(R!==0||P!==0?R+P:Rr(u.left,u.right)):E=m-2*(I!==0||$!==0?I+$:Rr(u.top,u.bottom))}await l({...e,availableWidth:x,availableHeight:E});const T=await o.getDimensions(a.floating);return p!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function Gg(){return typeof window<"u"}function Au(i){return c9(i)?(i.nodeName||"").toLowerCase():"#document"}function Fr(i){var e;return(i==null||(e=i.ownerDocument)==null?void 0:e.defaultView)||window}function _s(i){var e;return(e=(c9(i)?i.ownerDocument:i.document)||window.document)==null?void 0:e.documentElement}function c9(i){return Gg()?i instanceof Node||i instanceof Fr(i).Node:!1}function kn(i){return Gg()?i instanceof Element||i instanceof Fr(i).Element:!1}function ms(i){return Gg()?i instanceof HTMLElement||i instanceof Fr(i).HTMLElement:!1}function gN(i){return!Gg()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof Fr(i).ShadowRoot}const dle=new Set(["inline","contents"]);function pf(i){const{overflow:e,overflowX:t,overflowY:r,display:n}=Mn(i);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!dle.has(n)}const fle=new Set(["table","td","th"]);function ple(i){return fle.has(Au(i))}const mle=[":popover-open",":modal"];function Wg(i){return mle.some(e=>{try{return i.matches(e)}catch{return!1}})}const gle=["transform","translate","scale","rotate","perspective"],vle=["transform","translate","scale","rotate","perspective","filter"],yle=["paint","layout","strict","content"];function pI(i){const e=mI(),t=kn(i)?Mn(i):i;return gle.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||vle.some(r=>(t.willChange||"").includes(r))||yle.some(r=>(t.contain||"").includes(r))}function ble(i){let e=Qo(i);for(;ms(e)&&!eu(e);){if(pI(e))return e;if(Wg(e))return null;e=Qo(e)}return null}function mI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _le=new Set(["html","body","#document"]);function eu(i){return _le.has(Au(i))}function Mn(i){return Fr(i).getComputedStyle(i)}function Bg(i){return kn(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function Qo(i){if(Au(i)==="html")return i;const e=i.assignedSlot||i.parentNode||gN(i)&&i.host||_s(i);return gN(e)?e.host:e}function u9(i){const e=Qo(i);return eu(e)?i.ownerDocument?i.ownerDocument.body:i.body:ms(e)&&pf(e)?e:u9(e)}function yd(i,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const n=u9(i),s=n===((r=i.ownerDocument)==null?void 0:r.body),o=Fr(n);if(s){const a=wP(o);return e.concat(o,o.visualViewport||[],pf(n)?n:[],a&&t?yd(a):[])}return e.concat(n,yd(n,[],t))}function wP(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function h9(i){const e=Mn(i);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const n=ms(i),s=n?i.offsetWidth:t,o=n?i.offsetHeight:r,a=Am(t)!==s||Am(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function gI(i){return kn(i)?i:i.contextElement}function Gc(i){const e=gI(i);if(!ms(e))return us(1);const t=e.getBoundingClientRect(),{width:r,height:n,$:s}=h9(e);let o=(s?Am(t.width):t.width)/r,a=(s?Am(t.height):t.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const wle=us(0);function d9(i){const e=Fr(i);return!mI()||!e.visualViewport?wle:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function xle(i,e,t){return e===void 0&&(e=!1),!t||e&&t!==Fr(i)?!1:e}function Ja(i,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const n=i.getBoundingClientRect(),s=gI(i);let o=us(1);e&&(r?kn(r)&&(o=Gc(r)):o=Gc(i));const a=xle(s,t,r)?d9(s):us(0);let l=(n.left+a.x)/o.x,c=(n.top+a.y)/o.y,u=n.width/o.x,h=n.height/o.y;if(s){const d=Fr(s),f=r&&kn(r)?Fr(r):r;let p=d,m=wP(p);for(;m&&r&&f!==p;){const g=Gc(m),v=m.getBoundingClientRect(),y=Mn(m),_=v.left+(m.clientLeft+parseFloat(y.paddingLeft))*g.x,b=v.top+(m.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,c*=g.y,u*=g.x,h*=g.y,l+=_,c+=b,p=Fr(m),m=wP(p)}}return $m({width:u,height:h,x:l,y:c})}function zg(i,e){const t=Bg(i).scrollLeft;return e?e.left+t:Ja(_s(i)).left+t}function f9(i,e){const t=i.getBoundingClientRect(),r=t.left+e.scrollLeft-zg(i,t),n=t.top+e.scrollTop;return{x:r,y:n}}function Sle(i){let{elements:e,rect:t,offsetParent:r,strategy:n}=i;const s=n==="fixed",o=_s(r),a=e?Wg(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=us(1);const u=us(0),h=ms(r);if((h||!h&&!s)&&((Au(r)!=="body"||pf(o))&&(l=Bg(r)),ms(r))){const f=Ja(r);c=Gc(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const d=o&&!h&&!s?f9(o,l):us(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:t.y*c.y-l.scrollTop*c.y+u.y+d.y}}function Ele(i){return Array.from(i.getClientRects())}function Cle(i){const e=_s(i),t=Bg(i),r=i.ownerDocument.body,n=Rr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Rr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+zg(i);const a=-t.scrollTop;return Mn(r).direction==="rtl"&&(o+=Rr(e.clientWidth,r.clientWidth)-n),{width:n,height:s,x:o,y:a}}const vN=25;function Tle(i,e){const t=Fr(i),r=_s(i),n=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(n){s=n.width,o=n.height;const u=mI();(!u||u&&e==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}const c=zg(r);if(c<=0){const u=r.ownerDocument,h=u.body,d=getComputedStyle(h),f=u.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,p=Math.abs(r.clientWidth-h.clientWidth-f);p<=vN&&(s-=p)}else c<=vN&&(s+=c);return{width:s,height:o,x:a,y:l}}const Ole=new Set(["absolute","fixed"]);function Rle(i,e){const t=Ja(i,!0,e==="fixed"),r=t.top+i.clientTop,n=t.left+i.clientLeft,s=ms(i)?Gc(i):us(1),o=i.clientWidth*s.x,a=i.clientHeight*s.y,l=n*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function yN(i,e,t){let r;if(e==="viewport")r=Tle(i,t);else if(e==="document")r=Cle(_s(i));else if(kn(e))r=Rle(e,t);else{const n=d9(i);r={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return $m(r)}function p9(i,e){const t=Qo(i);return t===e||!kn(t)||eu(t)?!1:Mn(t).position==="fixed"||p9(t,e)}function Ple(i,e){const t=e.get(i);if(t)return t;let r=yd(i,[],!1).filter(a=>kn(a)&&Au(a)!=="body"),n=null;const s=Mn(i).position==="fixed";let o=s?Qo(i):i;for(;kn(o)&&!eu(o);){const a=Mn(o),l=pI(o);!l&&a.position==="fixed"&&(n=null),(s?!l&&!n:!l&&a.position==="static"&&!!n&&Ole.has(n.position)||pf(o)&&!l&&p9(i,o))?r=r.filter(u=>u!==o):n=a,o=Qo(o)}return e.set(i,r),r}function Dle(i){let{element:e,boundary:t,rootBoundary:r,strategy:n}=i;const o=[...t==="clippingAncestors"?Wg(e)?[]:Ple(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const h=yN(e,u,n);return c.top=Rr(h.top,c.top),c.right=Zo(h.right,c.right),c.bottom=Zo(h.bottom,c.bottom),c.left=Rr(h.left,c.left),c},yN(e,a,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ile(i){const{width:e,height:t}=h9(i);return{width:e,height:t}}function kle(i,e,t){const r=ms(e),n=_s(e),s=t==="fixed",o=Ja(i,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=us(0);function c(){l.x=zg(n)}if(r||!r&&!s)if((Au(e)!=="body"||pf(n))&&(a=Bg(e)),r){const f=Ja(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else n&&c();s&&!r&&n&&c();const u=n&&!r&&!s?f9(n,a):us(0),h=o.left+a.scrollLeft-l.x-u.x,d=o.top+a.scrollTop-l.y-u.y;return{x:h,y:d,width:o.width,height:o.height}}function Ny(i){return Mn(i).position==="static"}function bN(i,e){if(!ms(i)||Mn(i).position==="fixed")return null;if(e)return e(i);let t=i.offsetParent;return _s(i)===t&&(t=t.ownerDocument.body),t}function m9(i,e){const t=Fr(i);if(Wg(i))return t;if(!ms(i)){let n=Qo(i);for(;n&&!eu(n);){if(kn(n)&&!Ny(n))return n;n=Qo(n)}return t}let r=bN(i,e);for(;r&&ple(r)&&Ny(r);)r=bN(r,e);return r&&eu(r)&&Ny(r)&&!pI(r)?t:r||ble(i)||t}const Mle=async function(i){const e=this.getOffsetParent||m9,t=this.getDimensions,r=await t(i.floating);return{reference:kle(i.reference,await e(i.floating),i.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Ale(i){return Mn(i).direction==="rtl"}const Nle={convertOffsetParentRelativeRectToViewportRelativeRect:Sle,getDocumentElement:_s,getClippingRect:Dle,getOffsetParent:m9,getElementRects:Mle,getClientRects:Ele,getDimensions:Ile,getScale:Gc,isElement:kn,isRTL:Ale};function g9(i,e){return i.x===e.x&&i.y===e.y&&i.width===e.width&&i.height===e.height}function $le(i,e){let t=null,r;const n=_s(i);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=i.getBoundingClientRect(),{left:u,top:h,width:d,height:f}=c;if(a||e(),!d||!f)return;const p=Mp(h),m=Mp(n.clientWidth-(u+d)),g=Mp(n.clientHeight-(h+f)),v=Mp(u),_={rootMargin:-p+"px "+-m+"px "+-g+"px "+-v+"px",threshold:Rr(0,Zo(1,l))||1};let b=!0;function w(S){const E=S[0].intersectionRatio;if(E!==l){if(!b)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!g9(c,i.getBoundingClientRect())&&o(),b=!1}try{t=new IntersectionObserver(w,{..._,root:n.ownerDocument})}catch{t=new IntersectionObserver(w,_)}t.observe(i)}return o(!0),s}function Fle(i,e,t,r){r===void 0&&(r={});const{ancestorScroll:n=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=gI(i),u=n||s?[...c?yd(c):[],...yd(e)]:[];u.forEach(v=>{n&&v.addEventListener("scroll",t,{passive:!0}),s&&v.addEventListener("resize",t)});const h=c&&a?$le(c,t):null;let d=-1,f=null;o&&(f=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var _;(_=f)==null||_.observe(e)})),t()}),c&&!l&&f.observe(c),f.observe(e));let p,m=l?Ja(i):null;l&&g();function g(){const v=Ja(i);m&&!g9(m,v)&&t(),m=v,p=requestAnimationFrame(g)}return t(),()=>{var v;u.forEach(y=>{n&&y.removeEventListener("scroll",t),s&&y.removeEventListener("resize",t)}),h?.(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const Lle=lle,qle=cle,jle=sle,Gle=hle,Wle=ole,_N=nle,Ble=ule,zle=(i,e,t)=>{const r=new Map,n={platform:Nle,...t},s={...n.platform,_c:r};return rle(i,e,{...n,platform:s})};var Hle=typeof document<"u",Yle=function(){},Em=Hle?C.useLayoutEffect:Yle;function Fm(i,e){if(i===e)return!0;if(typeof i!=typeof e)return!1;if(typeof i=="function"&&i.toString()===e.toString())return!0;let t,r,n;if(i&&e&&typeof i=="object"){if(Array.isArray(i)){if(t=i.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Fm(i[r],e[r]))return!1;return!0}if(n=Object.keys(i),t=n.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,n[r]))return!1;for(r=t;r--!==0;){const s=n[r];if(!(s==="_owner"&&i.$$typeof)&&!Fm(i[s],e[s]))return!1}return!0}return i!==i&&e!==e}function v9(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function wN(i,e){const t=v9(i);return Math.round(e*t)/t}function $y(i){const e=C.useRef(i);return Em(()=>{e.current=i}),e}function Ule(i){i===void 0&&(i={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:n,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=i,[u,h]=C.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[d,f]=C.useState(r);Fm(d,r)||f(r);const[p,m]=C.useState(null),[g,v]=C.useState(null),y=C.useCallback(D=>{D!==S.current&&(S.current=D,m(D))},[]),_=C.useCallback(D=>{D!==E.current&&(E.current=D,v(D))},[]),b=s||p,w=o||g,S=C.useRef(null),E=C.useRef(null),x=C.useRef(u),T=l!=null,R=$y(l),P=$y(n),I=$y(c),$=C.useCallback(()=>{if(!S.current||!E.current)return;const D={placement:e,strategy:t,middleware:d};P.current&&(D.platform=P.current),zle(S.current,E.current,D).then(j=>{const X={...j,isPositioned:I.current!==!1};F.current&&!Fm(x.current,X)&&(x.current=X,rI.flushSync(()=>{h(X)}))})},[d,e,t,P,I]);Em(()=>{c===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[c]);const F=C.useRef(!1);Em(()=>(F.current=!0,()=>{F.current=!1}),[]),Em(()=>{if(b&&(S.current=b),w&&(E.current=w),b&&w){if(R.current)return R.current(b,w,$);$()}},[b,w,$,R,T]);const W=C.useMemo(()=>({reference:S,floating:E,setReference:y,setFloating:_}),[y,_]),N=C.useMemo(()=>({reference:b,floating:w}),[b,w]),q=C.useMemo(()=>{const D={position:t,left:0,top:0};if(!N.floating)return D;const j=wN(N.floating,u.x),X=wN(N.floating,u.y);return a?{...D,transform:"translate("+j+"px, "+X+"px)",...v9(N.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:j,top:X}},[t,a,N.floating,u.x,u.y]);return C.useMemo(()=>({...u,update:$,refs:W,elements:N,floatingStyles:q}),[u,$,W,N,q])}const Vle=i=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:i,fn(t){const{element:r,padding:n}=typeof i=="function"?i(t):i;return r&&e(r)?r.current!=null?_N({element:r.current,padding:n}).fn(t):{}:r?_N({element:r,padding:n}).fn(t):{}}}},Xle=(i,e)=>({...Lle(i),options:[i,e]}),Kle=(i,e)=>({...qle(i),options:[i,e]}),Zle=(i,e)=>({...Ble(i),options:[i,e]}),Qle=(i,e)=>({...jle(i),options:[i,e]}),Jle=(i,e)=>({...Gle(i),options:[i,e]}),ece=(i,e)=>({...Wle(i),options:[i,e]}),tce=(i,e)=>({...Vle(i),options:[i,e]});var ice="Arrow",y9=C.forwardRef((i,e)=>{const{children:t,width:r=10,height:n=5,...s}=i;return O.jsx(st.svg,{...s,ref:e,width:r,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:i.asChild?t:O.jsx("polygon",{points:"0,0 30,0 15,10"})})});y9.displayName=ice;var rce=y9;function nce(i){const[e,t]=C.useState(void 0);return Ko(()=>{if(i){t({width:i.offsetWidth,height:i.offsetHeight});const r=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const s=n[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=i.offsetWidth,a=i.offsetHeight;t({width:o,height:a})});return r.observe(i,{box:"border-box"}),()=>r.unobserve(i)}else t(void 0)},[i]),e}var vI="Popper",[b9,Hg]=Sl(vI),[sce,_9]=b9(vI),w9=i=>{const{__scopePopper:e,children:t}=i,[r,n]=C.useState(null);return O.jsx(sce,{scope:e,anchor:r,onAnchorChange:n,children:t})};w9.displayName=vI;var x9="PopperAnchor",S9=C.forwardRef((i,e)=>{const{__scopePopper:t,virtualRef:r,...n}=i,s=_9(x9,t),o=C.useRef(null),a=Wi(e,o),l=C.useRef(null);return C.useEffect(()=>{const c=l.current;l.current=r?.current||o.current,c!==l.current&&s.onAnchorChange(l.current)}),r?null:O.jsx(st.div,{...n,ref:a})});S9.displayName=x9;var yI="PopperContent",[oce,ace]=b9(yI),E9=C.forwardRef((i,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:n=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:d=!1,updatePositionStrategy:f="optimized",onPlaced:p,...m}=i,g=_9(yI,t),[v,y]=C.useState(null),_=Wi(e,z=>y(z)),[b,w]=C.useState(null),S=nce(b),E=S?.width??0,x=S?.height??0,T=r+(s!=="center"?"-"+s:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},P=Array.isArray(c)?c:[c],I=P.length>0,$={padding:R,boundary:P.filter(cce),altBoundary:I},{refs:F,floatingStyles:W,placement:N,isPositioned:q,middlewareData:D}=Ule({strategy:"fixed",placement:T,whileElementsMounted:(...z)=>Fle(...z,{animationFrame:f==="always"}),elements:{reference:g.anchor},middleware:[Xle({mainAxis:n+x,alignmentAxis:o}),l&&Kle({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Zle():void 0,...$}),l&&Qle({...$}),Jle({...$,apply:({elements:z,rects:Q,availableWidth:re,availableHeight:me})=>{const{width:et,height:ot}=Q.reference,ve=z.floating.style;ve.setProperty("--radix-popper-available-width",`${re}px`),ve.setProperty("--radix-popper-available-height",`${me}px`),ve.setProperty("--radix-popper-anchor-width",`${et}px`),ve.setProperty("--radix-popper-anchor-height",`${ot}px`)}}),b&&tce({element:b,padding:a}),uce({arrowWidth:E,arrowHeight:x}),d&&ece({strategy:"referenceHidden",...$})]}),[j,X]=O9(N),U=Za(p);Ko(()=>{q&&U?.()},[q,U]);const M=D.arrow?.x,L=D.arrow?.y,G=D.arrow?.centerOffset!==0,[B,H]=C.useState();return Ko(()=>{v&&H(window.getComputedStyle(v).zIndex)},[v]),O.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:q?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:B,"--radix-popper-transform-origin":[D.transformOrigin?.x,D.transformOrigin?.y].join(" "),...D.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:i.dir,children:O.jsx(oce,{scope:t,placedSide:j,onArrowChange:w,arrowX:M,arrowY:L,shouldHideArrow:G,children:O.jsx(st.div,{"data-side":j,"data-align":X,...m,ref:_,style:{...m.style,animation:q?void 0:"none"}})})})});E9.displayName=yI;var C9="PopperArrow",lce={top:"bottom",right:"left",bottom:"top",left:"right"},T9=C.forwardRef(function(e,t){const{__scopePopper:r,...n}=e,s=ace(C9,r),o=lce[s.placedSide];return O.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:O.jsx(rce,{...n,ref:t,style:{...n.style,display:"block"}})})});T9.displayName=C9;function cce(i){return i!==null}var uce=i=>({name:"transformOrigin",options:i,fn(e){const{placement:t,rects:r,middlewareData:n}=e,o=n.arrow?.centerOffset!==0,a=o?0:i.arrowWidth,l=o?0:i.arrowHeight,[c,u]=O9(t),h={start:"0%",center:"50%",end:"100%"}[u],d=(n.arrow?.x??0)+a/2,f=(n.arrow?.y??0)+l/2;let p="",m="";return c==="bottom"?(p=o?h:`${d}px`,m=`${-l}px`):c==="top"?(p=o?h:`${d}px`,m=`${r.floating.height+l}px`):c==="right"?(p=`${-l}px`,m=o?h:`${f}px`):c==="left"&&(p=`${r.floating.width+l}px`,m=o?h:`${f}px`),{data:{x:p,y:m}}}});function O9(i){const[e,t="center"]=i.split("-");return[e,t]}var R9=w9,bI=S9,P9=E9,D9=T9,hce=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),dce="VisuallyHidden",I9=C.forwardRef((i,e)=>O.jsx(st.span,{...i,ref:e,style:{...hce,...i.style}}));I9.displayName=dce;var fce=I9,[Yg]=Sl("Tooltip",[Hg]),Ug=Hg(),k9="TooltipProvider",pce=700,xP="tooltip.open",[mce,_I]=Yg(k9),M9=i=>{const{__scopeTooltip:e,delayDuration:t=pce,skipDelayDuration:r=300,disableHoverableContent:n=!1,children:s}=i,o=C.useRef(!0),a=C.useRef(!1),l=C.useRef(0);return C.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),O.jsx(mce,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:C.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:C.useCallback(c=>{a.current=c},[]),disableHoverableContent:n,children:s})};M9.displayName=k9;var bd="Tooltip",[gce,Vg]=Yg(bd),A9=i=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:n,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=i,l=_I(bd,i.__scopeTooltip),c=Ug(e),[u,h]=C.useState(null),d=$r(),f=C.useRef(0),p=o??l.disableHoverableContent,m=a??l.delayDuration,g=C.useRef(!1),[v,y]=hf({prop:r,defaultProp:n??!1,onChange:E=>{E?(l.onOpen(),document.dispatchEvent(new CustomEvent(xP))):l.onClose(),s?.(E)},caller:bd}),_=C.useMemo(()=>v?g.current?"delayed-open":"instant-open":"closed",[v]),b=C.useCallback(()=>{window.clearTimeout(f.current),f.current=0,g.current=!1,y(!0)},[y]),w=C.useCallback(()=>{window.clearTimeout(f.current),f.current=0,y(!1)},[y]),S=C.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{g.current=!0,y(!0),f.current=0},m)},[m,y]);return C.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),O.jsx(R9,{...c,children:O.jsx(gce,{scope:e,contentId:d,open:v,stateAttribute:_,trigger:u,onTriggerChange:h,onTriggerEnter:C.useCallback(()=>{l.isOpenDelayedRef.current?S():b()},[l.isOpenDelayedRef,S,b]),onTriggerLeave:C.useCallback(()=>{p?w():(window.clearTimeout(f.current),f.current=0)},[w,p]),onOpen:b,onClose:w,disableHoverableContent:p,children:t})})};A9.displayName=bd;var SP="TooltipTrigger",N9=C.forwardRef((i,e)=>{const{__scopeTooltip:t,...r}=i,n=Vg(SP,t),s=_I(SP,t),o=Ug(t),a=C.useRef(null),l=Wi(e,a,n.onTriggerChange),c=C.useRef(!1),u=C.useRef(!1),h=C.useCallback(()=>c.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),O.jsx(bI,{asChild:!0,...o,children:O.jsx(st.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...r,ref:l,onPointerMove:mt(i.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(n.onTriggerEnter(),u.current=!0)}),onPointerLeave:mt(i.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:mt(i.onPointerDown,()=>{n.open&&n.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:mt(i.onFocus,()=>{c.current||n.onOpen()}),onBlur:mt(i.onBlur,n.onClose),onClick:mt(i.onClick,n.onClose)})})});N9.displayName=SP;var vce="TooltipPortal",[DGe,yce]=Yg(vce,{forceMount:void 0}),tu="TooltipContent",$9=C.forwardRef((i,e)=>{const t=yce(tu,i.__scopeTooltip),{forceMount:r=t.forceMount,side:n="top",...s}=i,o=Vg(tu,i.__scopeTooltip);return O.jsx(ta,{present:r||o.open,children:o.disableHoverableContent?O.jsx(F9,{side:n,...s,ref:e}):O.jsx(bce,{side:n,...s,ref:e})})}),bce=C.forwardRef((i,e)=>{const t=Vg(tu,i.__scopeTooltip),r=_I(tu,i.__scopeTooltip),n=C.useRef(null),s=Wi(e,n),[o,a]=C.useState(null),{trigger:l,onClose:c}=t,u=n.current,{onPointerInTransitChange:h}=r,d=C.useCallback(()=>{a(null),h(!1)},[h]),f=C.useCallback((p,m)=>{const g=p.currentTarget,v={x:p.clientX,y:p.clientY},y=Ece(v,g.getBoundingClientRect()),_=Cce(v,y),b=Tce(m.getBoundingClientRect()),w=Rce([..._,...b]);a(w),h(!0)},[h]);return C.useEffect(()=>()=>d(),[d]),C.useEffect(()=>{if(l&&u){const p=g=>f(g,u),m=g=>f(g,l);return l.addEventListener("pointerleave",p),u.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",m)}}},[l,u,f,d]),C.useEffect(()=>{if(o){const p=m=>{const g=m.target,v={x:m.clientX,y:m.clientY},y=l?.contains(g)||u?.contains(g),_=!Oce(v,o);y?d():_&&(d(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,u,o,c,d]),O.jsx(F9,{...i,ref:s})}),[_ce,wce]=Yg(bd,{isInside:!1}),xce=Dse("TooltipContent"),F9=C.forwardRef((i,e)=>{const{__scopeTooltip:t,children:r,"aria-label":n,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=i,l=Vg(tu,t),c=Ug(t),{onClose:u}=l;return C.useEffect(()=>(document.addEventListener(xP,u),()=>document.removeEventListener(xP,u)),[u]),C.useEffect(()=>{if(l.trigger){const h=d=>{d.target?.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),O.jsx($g,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:O.jsxs(P9,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[O.jsx(xce,{children:r}),O.jsx(_ce,{scope:t,isInside:!0,children:O.jsx(fce,{id:l.contentId,role:"tooltip",children:n||r})})]})})});$9.displayName=tu;var L9="TooltipArrow",Sce=C.forwardRef((i,e)=>{const{__scopeTooltip:t,...r}=i,n=Ug(t);return wce(L9,t).isInside?null:O.jsx(D9,{...n,...r,ref:e})});Sce.displayName=L9;function Ece(i,e){const t=Math.abs(e.top-i.y),r=Math.abs(e.bottom-i.y),n=Math.abs(e.right-i.x),s=Math.abs(e.left-i.x);switch(Math.min(t,r,n,s)){case s:return"left";case n:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Cce(i,e,t=5){const r=[];switch(e){case"top":r.push({x:i.x-t,y:i.y+t},{x:i.x+t,y:i.y+t});break;case"bottom":r.push({x:i.x-t,y:i.y-t},{x:i.x+t,y:i.y-t});break;case"left":r.push({x:i.x+t,y:i.y-t},{x:i.x+t,y:i.y+t});break;case"right":r.push({x:i.x-t,y:i.y-t},{x:i.x-t,y:i.y+t});break}return r}function Tce(i){const{top:e,right:t,bottom:r,left:n}=i;return[{x:n,y:e},{x:t,y:e},{x:t,y:r},{x:n,y:r}]}function Oce(i,e){const{x:t,y:r}=i;let n=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,h=l.x,d=l.y;u>r!=d>r&&t<(h-c)*(r-u)/(d-u)+c&&(n=!n)}return n}function Rce(i){const e=i.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),Pce(e)}function Pce(i){if(i.length<=1)return i.slice();const e=[];for(let r=0;r<i.length;r++){const n=i[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(n.y-o.y)>=(s.y-o.y)*(n.x-o.x))e.pop();else break}e.push(n)}e.pop();const t=[];for(let r=i.length-1;r>=0;r--){const n=i[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(n.y-o.y)>=(s.y-o.y)*(n.x-o.x))t.pop();else break}t.push(n)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var Dce=M9,Ice=A9,kce=N9,q9=$9;const Mce=Dce,Ace=Ice,Nce=kce,j9=C.forwardRef(({className:i,sideOffset:e=4,...t},r)=>O.jsx(q9,{ref:r,sideOffset:e,className:J("z-50 origin-[--radix-tooltip-content-transform-origin] overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i),...t}));j9.displayName=q9.displayName;const $ce="sidebar_state",Fce=3600*24*7,Lce="16rem",qce="18rem",jce="3rem",Gce="b",G9=C.createContext(null);function mf(){const i=C.useContext(G9);if(!i)throw new Error("useSidebar must be used within a SidebarProvider.");return i}const W9=C.forwardRef(({defaultOpen:i=!0,open:e,onOpenChange:t,className:r,style:n,children:s,...o},a)=>{const l=Ase(),[c,u]=C.useState(!1),[h,d]=C.useState(i),f=e??h,p=C.useCallback(y=>{const _=typeof y=="function"?y(f):y;t?t(_):d(_),document.cookie=`${$ce}=${_}; path=/; max-age=${Fce}`},[t,f]),m=C.useCallback(()=>l?u(y=>!y):p(y=>!y),[l,p,u]);C.useEffect(()=>{const y=_=>{_.key===Gce&&(_.metaKey||_.ctrlKey)&&(_.preventDefault(),m())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[m]);const g=f?"expanded":"collapsed",v=C.useMemo(()=>({state:g,open:f,setOpen:p,isMobile:l,openMobile:c,setOpenMobile:u,toggleSidebar:m}),[g,f,p,l,c,u,m]);return O.jsx(G9.Provider,{value:v,children:O.jsx(Mce,{delayDuration:0,children:O.jsx("div",{style:{"--sidebar-width":Lce,"--sidebar-width-icon":jce,...n},className:J("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:a,...o,children:s})})})});W9.displayName="SidebarProvider";const B9=C.forwardRef(({side:i="left",variant:e="sidebar",collapsible:t="offcanvas",className:r,children:n,...s},o)=>{const{isMobile:a,state:l,openMobile:c,setOpenMobile:u}=mf();return t==="none"?O.jsx("div",{className:J("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...s,children:n}):a?O.jsx(Bae,{open:c,onOpenChange:u,...s,children:O.jsxs(r9,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":qce},side:i,children:[O.jsxs(n9,{className:"sr-only",children:[O.jsx(s9,{children:"Sidebar"}),O.jsx(o9,{children:"Displays the mobile sidebar."})]}),O.jsx("div",{className:"flex h-full w-full flex-col",children:n})]})}):O.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":l,"data-collapsible":l==="collapsed"?t:"","data-variant":e,"data-side":i,children:[O.jsx("div",{className:J("relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),O.jsx("div",{className:J("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",i==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...s,children:O.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:n})})]})});B9.displayName="Sidebar";const z9=C.forwardRef(({className:i,onClick:e,...t},r)=>{const{toggleSidebar:n}=mf();return O.jsxs(Tn,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:J("h-7 w-7",i),onClick:s=>{e?.(s),n()},...t,children:[O.jsx(ose,{}),O.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});z9.displayName="SidebarTrigger";const H9=C.forwardRef(({className:i,...e},t)=>{const{toggleSidebar:r}=mf();return O.jsx("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,className:J("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",i),...e})});H9.displayName="SidebarRail";const Y9=C.forwardRef(({className:i,...e},t)=>O.jsx("main",{ref:t,className:J("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",i),...e}));Y9.displayName="SidebarInset";const Wce=C.forwardRef(({className:i,...e},t)=>O.jsx(iI,{ref:t,"data-sidebar":"input",className:J("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",i),...e}));Wce.displayName="SidebarInput";const U9=C.forwardRef(({className:i,...e},t)=>O.jsx("div",{ref:t,"data-sidebar":"header",className:J("flex flex-col gap-2 p-2",i),...e}));U9.displayName="SidebarHeader";const Bce=C.forwardRef(({className:i,...e},t)=>O.jsx("div",{ref:t,"data-sidebar":"footer",className:J("flex flex-col gap-2 p-2",i),...e}));Bce.displayName="SidebarFooter";const zce=C.forwardRef(({className:i,...e},t)=>O.jsx(CK,{ref:t,"data-sidebar":"separator",className:J("mx-2 w-auto bg-sidebar-border",i),...e}));zce.displayName="SidebarSeparator";const V9=C.forwardRef(({className:i,...e},t)=>O.jsx("div",{ref:t,"data-sidebar":"content",className:J("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",i),...e}));V9.displayName="SidebarContent";const EP=C.forwardRef(({className:i,...e},t)=>O.jsx("div",{ref:t,"data-sidebar":"group",className:J("relative flex w-full min-w-0 flex-col p-2",i),...e}));EP.displayName="SidebarGroup";const CP=C.forwardRef(({className:i,asChild:e=!1,...t},r)=>{const n=e?Du:"div";return O.jsx(n,{ref:r,"data-sidebar":"group-label",className:J("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",i),...t})});CP.displayName="SidebarGroupLabel";const Hce=C.forwardRef(({className:i,asChild:e=!1,...t},r)=>{const n=e?Du:"button";return O.jsx(n,{ref:r,"data-sidebar":"group-action",className:J("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",i),...t})});Hce.displayName="SidebarGroupAction";const TP=C.forwardRef(({className:i,...e},t)=>O.jsx("div",{ref:t,"data-sidebar":"group-content",className:J("w-full text-sm",i),...e}));TP.displayName="SidebarGroupContent";const Yce=C.forwardRef(({className:i,...e},t)=>O.jsx("ul",{ref:t,"data-sidebar":"menu",className:J("flex w-full min-w-0 flex-col gap-1",i),...e}));Yce.displayName="SidebarMenu";const Fh=C.forwardRef(({className:i,...e},t)=>O.jsx("li",{ref:t,"data-sidebar":"menu-item",className:J("group/menu-item relative",i),...e}));Fh.displayName="SidebarMenuItem";const Uce=eI("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),_d=C.forwardRef(({asChild:i=!1,isActive:e=!1,variant:t="default",size:r="default",tooltip:n,className:s,...o},a)=>{const l=i?Du:"button",{isMobile:c,state:u}=mf(),h=O.jsx(l,{ref:a,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:J(Uce({variant:t,size:r}),s),...o});return n?(typeof n=="string"&&(n={children:n}),O.jsxs(Ace,{children:[O.jsx(Nce,{asChild:!0,children:h}),O.jsx(j9,{side:"right",align:"center",hidden:u!=="collapsed"||c,...n})]})):h});_d.displayName="SidebarMenuButton";const Vce=C.forwardRef(({className:i,asChild:e=!1,showOnHover:t=!1,...r},n)=>{const s=e?Du:"button";return O.jsx(s,{ref:n,"data-sidebar":"menu-action",className:J("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",i),...r})});Vce.displayName="SidebarMenuAction";const Xce=C.forwardRef(({className:i,...e},t)=>O.jsx("div",{ref:t,"data-sidebar":"menu-badge",className:J("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",i),...e}));Xce.displayName="SidebarMenuBadge";const Kce=C.forwardRef(({className:i,showIcon:e=!1,...t},r)=>{const n=C.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return O.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:J("flex h-8 items-center gap-2 rounded-md px-2",i),...t,children:[e&&O.jsx(Zh,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),O.jsx(Zh,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":n}})]})});Kce.displayName="SidebarMenuSkeleton";const Zce=C.forwardRef(({className:i,...e},t)=>O.jsx("ul",{ref:t,"data-sidebar":"menu-sub",className:J("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",i),...e}));Zce.displayName="SidebarMenuSub";const Qce=C.forwardRef(({...i},e)=>O.jsx("li",{ref:e,...i}));Qce.displayName="SidebarMenuSubItem";const Jce=C.forwardRef(({asChild:i=!1,size:e="md",isActive:t,className:r,...n},s)=>{const o=i?Du:"a";return O.jsx(o,{ref:s,"data-sidebar":"menu-sub-button","data-size":e,"data-active":t,className:J("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...n})});Jce.displayName="SidebarMenuSubButton";const vi={ADD:"add",REMOVE:"remove"},iu={PROPERTYCHANGE:"propertychange"},xe={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class Xg{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function eue(i,e,t){let r,n;t=t||Us;let s=0,o=i.length,a=!1;for(;s<o;)r=s+(o-s>>1),n=+t(i[r],e),n<0?s=r+1:(o=r,a=!n);return a?s:~s}function Us(i,e){return i>e?1:i<e?-1:0}function tue(i,e){return i<e?1:i>e?-1:0}function wI(i,e,t){if(i[0]<=e)return 0;const r=i.length;if(e<=i[r-1])return r-1;if(typeof t=="function"){for(let n=1;n<r;++n){const s=i[n];if(s===e)return n;if(s<e)return t(e,i[n-1],s)>0?n-1:n}return r-1}if(t>0){for(let n=1;n<r;++n)if(i[n]<e)return n-1;return r-1}if(t<0){for(let n=1;n<r;++n)if(i[n]<=e)return n;return r-1}for(let n=1;n<r;++n){if(i[n]==e)return n;if(i[n]<e)return i[n-1]-e<e-i[n]?n-1:n}return r-1}function iue(i,e,t){for(;e<t;){const r=i[e];i[e]=i[t],i[t]=r,++e,--t}}function rn(i,e){const t=Array.isArray(e)?e:[e],r=t.length;for(let n=0;n<r;n++)i[i.length]=t[n]}function ia(i,e){const t=i.length;if(t!==e.length)return!1;for(let r=0;r<t;r++)if(i[r]!==e[r])return!1;return!0}function rue(i,e,t){const r=e||Us;return i.every(function(n,s){if(s===0)return!0;const o=r(i[s-1],n);return!(o>0||o===0)})}function Jo(){return!0}function Nu(){return!1}function wd(){}function X9(i){let e,t,r;return function(){const n=Array.prototype.slice.call(arguments);return(!t||this!==r||!ia(n,t))&&(r=this,t=n,e=i.apply(this,arguments)),e}}function nue(i){function e(){let t;try{t=i()}catch(r){return Promise.reject(r)}return t instanceof Promise?t:Promise.resolve(t)}return e()}function $u(i){for(const e in i)delete i[e]}function ru(i){let e;for(e in i)return!1;return!e}class Gn{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class Kg extends Xg{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const r=this.listeners_||(this.listeners_={}),n=r[e]||(r[e]=[]);n.includes(t)||n.push(t)}dispatchEvent(e){const t=typeof e=="string",r=t?e:e.type,n=this.listeners_&&this.listeners_[r];if(!n)return;const s=t?new Gn(e):e;s.target||(s.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});r in o||(o[r]=0,a[r]=0),++o[r];let l;for(let c=0,u=n.length;c<u;++c)if("handleEvent"in n[c]?l=n[c].handleEvent(s):l=n[c].call(this,s),l===!1||s.propagationStopped){l=!1;break}if(--o[r]===0){let c=a[r];for(delete a[r];c--;)this.removeEventListener(r,wd);delete o[r]}return l}disposeInternal(){this.listeners_&&$u(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;const r=this.listeners_[e];if(!r)return;const n=r.indexOf(t);n!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[n]=wd,++this.pendingRemovals_[e]):(r.splice(n,1),r.length===0&&delete this.listeners_[e]))}}function We(i,e,t,r,n){if(n){const o=t;t=function(a){return i.removeEventListener(e,t),o.call(r??this,a)}}else r&&r!==i&&(t=t.bind(r));const s={target:i,type:e,listener:t};return i.addEventListener(e,t),s}function Lm(i,e,t,r){return We(i,e,t,r,!0)}function St(i){i&&i.target&&(i.target.removeEventListener(i.type,i.listener),$u(i))}class gf extends Kg{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(xe.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const r=e.length,n=new Array(r);for(let s=0;s<r;++s)n[s]=We(this,e[s],t);return n}return We(this,e,t)}onceInternal(e,t){let r;if(Array.isArray(e)){const n=e.length;r=new Array(n);for(let s=0;s<n;++s)r[s]=Lm(this,e[s],t)}else r=Lm(this,e,t);return t.ol_key=r,r}unInternal(e,t){const r=t.ol_key;if(r)sue(r);else if(Array.isArray(e))for(let n=0,s=e.length;n<s;++n)this.removeEventListener(e[n],t);else this.removeEventListener(e,t)}}gf.prototype.on;gf.prototype.once;gf.prototype.un;function sue(i){if(Array.isArray(i))for(let e=0,t=i.length;e<t;++e)St(i[e]);else St(i)}function _e(){throw new Error("Unimplemented abstract method.")}let oue=0;function Ae(i){return i.ol_uid||(i.ol_uid=String(++oue))}class xN extends Gn{constructor(e,t,r){super(e),this.key=t,this.oldValue=r}}class Wn extends gf{constructor(e){super(),this.on,this.once,this.un,Ae(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let r;r=`change:${e}`,this.hasListener(r)&&this.dispatchEvent(new xN(r,e,t)),r=iu.PROPERTYCHANGE,this.hasListener(r)&&this.dispatchEvent(new xN(r,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,r){const n=this.values_||(this.values_={});if(r)n[e]=t;else{const s=n[e];n[e]=t,s!==t&&this.notify(e,s)}}setProperties(e,t){for(const r in e)this.set(r,e[r],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const r=this.values_[e];delete this.values_[e],ru(this.values_)&&(this.values_=null),t||this.notify(e,r)}}}const SN={LENGTH:"length"};class Ap extends Gn{constructor(e,t,r){super(e),this.element=t,this.index=r}}let Sn=class extends Wn{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let r=0,n=this.array_.length;r<n;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,r=e.length;t<r;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let r=0,n=t.length;r<n;++r)e(t[r],r,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(SN.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new Ap(vi.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let r=0,n=t.length;r<n;++r)if(t[r]===e)return this.removeAt(r)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Ap(vi.REMOVE,t,e)),t}setAt(e,t){const r=this.getLength();if(e>=r){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const n=this.array_[e];this.array_[e]=t,this.dispatchEvent(new Ap(vi.REMOVE,n,e)),this.dispatchEvent(new Ap(vi.ADD,t,e))}updateLength_(){this.set(SN.LENGTH,this.array_.length)}assertUnique_(e,t){for(let r=0,n=this.array_.length;r<n;++r)if(this.array_[r]===e&&r!==t)throw new Error("Duplicate item added to a unique collection")}};class gc extends Gn{constructor(e,t,r){super(e),this.map=t,this.frameState=r!==void 0?r:null}}class Fs extends gc{constructor(e,t,r,n,s,o){super(e,t,s),this.originalEvent=r,this.pixel_=null,this.coordinate_=null,this.dragging=n!==void 0?n:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const rt={SINGLECLICK:"singleclick",CLICK:xe.CLICK,DBLCLICK:xe.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},el=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",aue=el.includes("safari")&&!el.includes("chrom");aue&&(el.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(el));const lue=el.includes("webkit")&&!el.includes("edge"),xI=el.includes("macintosh"),cue=typeof devicePixelRatio<"u"?devicePixelRatio:1,SI=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,K9=typeof Image<"u"&&Image.prototype.decode,Z9=(function(){let i=!1;try{const e=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return i})(),OP={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class uue extends Kg{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;const r=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=r,this.pointerdownListenerKey_=We(r,OP.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=We(r,OP.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(xe.TOUCHMOVE,this.boundHandleTouchMove_,Z9?{passive:!1}:!1)}emulateClick_(e){let t=new Fs(rt.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new Fs(rt.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const r=new Fs(rt.SINGLECLICK,this.map_,e);this.dispatchEvent(r)},250)}updateActivePointers_(e){const t=e,r=t.pointerId;if(t.type==rt.POINTERUP||t.type==rt.POINTERCANCEL){delete this.trackedTouches_[r];for(const n in this.trackedTouches_)if(this.trackedTouches_[n].target!==t.target){delete this.trackedTouches_[n];break}}else(t.type==rt.POINTERDOWN||t.type==rt.POINTERMOVE)&&(this.trackedTouches_[r]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new Fs(rt.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(St),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const t=new Fs(rt.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(We(r,rt.POINTERMOVE,this.handlePointerMove_,this),We(r,rt.POINTERUP,this.handlePointerUp_,this),We(this.element_,rt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(We(this.element_.getRootNode(),rt.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new Fs(rt.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new Fs(rt.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(St(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(xe.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(St(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(St),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Ls={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Fi={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ge={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function nt(i,e){if(!i)throw new Error(e)}const qm=1/0;class hue{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,$u(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,r=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const n=this.keyFunction_(r);return delete this.queuedElements_[n],r}enqueue(e){nt(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=qm?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,r=this.priorities_,n=t.length,s=t[e],o=r[e],a=e;for(;e<n>>1;){const l=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),u=c<n&&r[c]<r[l]?c:l;t[e]=t[u],r[e]=r[u],e=u}t[e]=s,r[e]=o,this.siftDown_(a,e)}siftDown_(e,t){const r=this.elements_,n=this.priorities_,s=r[t],o=n[t];for(;t>e;){const a=this.getParentIndex_(t);if(n[a]>o)r[t]=r[a],n[t]=n[a],t=a;else break}r[t]=s,n[t]=o}reprioritize(){const e=this.priorityFunction_,t=this.elements_,r=this.priorities_;let n=0;const s=t.length;let o,a,l;for(a=0;a<s;++a)o=t[a],l=e(o),l==qm?delete this.queuedElements_[this.keyFunction_(o)]:(r[n]=l,t[n++]=o);t.length=n,r.length=n,this.heapify_()}}class due extends hue{constructor(e,t){super(r=>e.apply(null,r),r=>r[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(xe.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,r=t.getState();if(r===ge.LOADED||r===ge.ERROR||r===ge.EMPTY){r!==ge.ERROR&&t.removeEventListener(xe.CHANGE,this.boundHandleTileChange_);const n=t.getKey();n in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[n],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let r=0;for(;this.tilesLoading_<e&&r<t&&this.getCount()>0;){const n=this.dequeue()[0],s=n.getKey();n.getState()===ge.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++r,n.load())}}}function fue(i,e,t,r,n){if(!i||!(t in i.wantedTiles)||!i.wantedTiles[t][e.getKey()])return qm;const s=i.viewState.center,o=r[0]-s[0],a=r[1]-s[1];return 65536*Math.log(n)+Math.sqrt(o*o+a*a)/n}const qi={ANIMATING:0,INTERACTING:1},yn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function Mt(i,e,t){return Math.min(Math.max(i,e),t)}function pue(i,e,t,r,n,s){const o=n-t,a=s-r;if(o!==0||a!==0){const l=((i-t)*o+(e-r)*a)/(o*o+a*a);l>1?(t=n,r=s):l>0&&(t+=o*l,r+=a*l)}return Vs(i,e,t,r)}function Vs(i,e,t,r){const n=t-i,s=r-e;return n*n+s*s}function mue(i){const e=i.length;for(let r=0;r<e;r++){let n=r,s=Math.abs(i[r][r]);for(let a=r+1;a<e;a++){const l=Math.abs(i[a][r]);l>s&&(s=l,n=a)}if(s===0)return null;const o=i[n];i[n]=i[r],i[r]=o;for(let a=r+1;a<e;a++){const l=-i[a][r]/i[r][r];for(let c=r;c<e+1;c++)r==c?i[a][c]=0:i[a][c]+=l*i[r][c]}}const t=new Array(e);for(let r=e-1;r>=0;r--){t[r]=i[r][e]/i[r][r];for(let n=r-1;n>=0;n--)i[n][e]-=i[n][r]*t[r]}return t}function EN(i){return i*180/Math.PI}function zo(i){return i*Math.PI/180}function Wc(i,e){const t=i%e;return t*e<0?t+e:t}function Pr(i,e,t){return i+t*(e-i)}function vf(i,e){const t=Math.pow(10,e);return Math.round(i*t)/t}function Np(i,e){return Math.floor(vf(i,e))}function $p(i,e){return Math.ceil(vf(i,e))}function RP(i,e,t){if(i>=e&&i<t)return i;const r=t-e;return((i-e)%r+r)%r+e}function CN(i,e,t){return(function(r,n,s,o,a){if(!r)return;if(!n&&!e)return r;const l=e?0:s[0]*n,c=e?0:s[1]*n,u=a?a[0]:0,h=a?a[1]:0;let d=i[0]+l/2+u,f=i[2]-l/2+u,p=i[1]+c/2+h,m=i[3]-c/2+h;d>f&&(d=(f+d)/2,f=d),p>m&&(p=(m+p)/2,m=p);let g=Mt(r[0],d,f),v=Mt(r[1],p,m);if(o&&t&&n){const y=30*n;g+=-y*Math.log(1+Math.max(0,d-r[0])/y)+y*Math.log(1+Math.max(0,r[0]-f)/y),v+=-y*Math.log(1+Math.max(0,p-r[1])/y)+y*Math.log(1+Math.max(0,r[1]-m)/y)}return[g,v]})}function gue(i){return i}const mi={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function PP(i){const e=qr();for(let t=0,r=i.length;t<r;++t)Qh(e,i[t]);return e}function Zg(i,e,t){return t?(t[0]=i[0]-e,t[1]=i[1]-e,t[2]=i[2]+e,t[3]=i[3]+e,t):[i[0]-e,i[1]-e,i[2]+e,i[3]+e]}function Q9(i,e){return e?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e):i.slice()}function El(i,e,t){let r,n;return e<i[0]?r=i[0]-e:i[2]<e?r=e-i[2]:r=0,t<i[1]?n=i[1]-t:i[3]<t?n=t-i[3]:n=0,r*r+n*n}function nu(i,e){return EI(i,e[0],e[1])}function Cc(i,e){return i[0]<=e[0]&&e[2]<=i[2]&&i[1]<=e[1]&&e[3]<=i[3]}function EI(i,e,t){return i[0]<=e&&e<=i[2]&&i[1]<=t&&t<=i[3]}function DP(i,e){const t=i[0],r=i[1],n=i[2],s=i[3],o=e[0],a=e[1];let l=mi.UNKNOWN;return o<t?l=l|mi.LEFT:o>n&&(l=l|mi.RIGHT),a<r?l=l|mi.BELOW:a>s&&(l=l|mi.ABOVE),l===mi.UNKNOWN&&(l=mi.INTERSECTING),l}function qr(){return[1/0,1/0,-1/0,-1/0]}function uo(i,e,t,r,n){return n?(n[0]=i,n[1]=e,n[2]=t,n[3]=r,n):[i,e,t,r]}function yf(i){return uo(1/0,1/0,-1/0,-1/0,i)}function CI(i,e){const t=i[0],r=i[1];return uo(t,r,t,r,e)}function TI(i,e,t,r,n){const s=yf(n);return e7(s,i,e,t,r)}function xd(i,e){return i[0]==e[0]&&i[2]==e[2]&&i[1]==e[1]&&i[3]==e[3]}function J9(i,e){return e[0]<i[0]&&(i[0]=e[0]),e[2]>i[2]&&(i[2]=e[2]),e[1]<i[1]&&(i[1]=e[1]),e[3]>i[3]&&(i[3]=e[3]),i}function Qh(i,e){e[0]<i[0]&&(i[0]=e[0]),e[0]>i[2]&&(i[2]=e[0]),e[1]<i[1]&&(i[1]=e[1]),e[1]>i[3]&&(i[3]=e[1])}function e7(i,e,t,r,n){for(;t<r;t+=n)vue(i,e[t],e[t+1]);return i}function vue(i,e,t){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}function OI(i,e){let t;return t=e(Qg(i)),t||(t=e(Jg(i)),t)||(t=e(ev(i)),t)||(t=e(Cl(i)),t)?t:!1}function IP(i){let e=0;return tv(i)||(e=ct(i)*Xi(i)),e}function Qg(i){return[i[0],i[1]]}function Jg(i){return[i[2],i[1]]}function gs(i){return[(i[0]+i[2])/2,(i[1]+i[3])/2]}function yue(i,e){let t;if(e==="bottom-left")t=Qg(i);else if(e==="bottom-right")t=Jg(i);else if(e==="top-left")t=Cl(i);else if(e==="top-right")t=ev(i);else throw new Error("Invalid corner");return t}function kP(i,e,t,r,n){const[s,o,a,l,c,u,h,d]=t7(i,e,t,r);return uo(Math.min(s,a,c,h),Math.min(o,l,u,d),Math.max(s,a,c,h),Math.max(o,l,u,d),n)}function t7(i,e,t,r){const n=e*r[0]/2,s=e*r[1]/2,o=Math.cos(t),a=Math.sin(t),l=n*o,c=n*a,u=s*o,h=s*a,d=i[0],f=i[1];return[d-l+h,f-c-u,d-l-h,f-c+u,d+l-h,f+c+u,d+l+h,f+c-u,d-l+h,f-c-u]}function Xi(i){return i[3]-i[1]}function ja(i,e,t){const r=t||qr();return Yi(i,e)?(i[0]>e[0]?r[0]=i[0]:r[0]=e[0],i[1]>e[1]?r[1]=i[1]:r[1]=e[1],i[2]<e[2]?r[2]=i[2]:r[2]=e[2],i[3]<e[3]?r[3]=i[3]:r[3]=e[3]):yf(r),r}function Cl(i){return[i[0],i[3]]}function ev(i){return[i[2],i[3]]}function ct(i){return i[2]-i[0]}function Yi(i,e){return i[0]<=e[2]&&i[2]>=e[0]&&i[1]<=e[3]&&i[3]>=e[1]}function tv(i){return i[2]<i[0]||i[3]<i[1]}function bue(i,e){return e?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e):i}function _ue(i,e,t){let r=!1;const n=DP(i,e),s=DP(i,t);if(n===mi.INTERSECTING||s===mi.INTERSECTING)r=!0;else{const o=i[0],a=i[1],l=i[2],c=i[3],u=e[0],h=e[1],d=t[0],f=t[1],p=(f-h)/(d-u);let m,g;s&mi.ABOVE&&!(n&mi.ABOVE)&&(m=d-(f-c)/p,r=m>=o&&m<=l),!r&&s&mi.RIGHT&&!(n&mi.RIGHT)&&(g=f-(d-l)*p,r=g>=a&&g<=c),!r&&s&mi.BELOW&&!(n&mi.BELOW)&&(m=d-(f-a)/p,r=m>=o&&m<=l),!r&&s&mi.LEFT&&!(n&mi.LEFT)&&(g=f-(d-o)*p,r=g>=a&&g<=c)}return r}function i7(i,e){const t=e.getExtent(),r=gs(i);if(e.canWrapX()&&(r[0]<t[0]||r[0]>=t[2])){const n=ct(t),o=Math.floor((r[0]-t[0])/n)*n;i[0]-=o,i[2]-=o}return i}function r7(i,e,t){if(e.canWrapX()){const r=e.getExtent();if(!isFinite(i[0])||!isFinite(i[2]))return[[r[0],i[1],r[2],i[3]]];i7(i,e);const n=ct(r);if(ct(i)>n&&!t)return[[r[0],i[1],r[2],i[3]]];if(i[0]<r[0])return[[i[0]+n,i[1],r[2],i[3]],[r[0],i[1],i[2],i[3]]];if(i[2]>r[2])return[[i[0],i[1],r[2],i[3]],[r[0],i[1],i[2]-n,i[3]]]}return[i]}function n7(i,e){return i[0]+=+e[0],i[1]+=+e[1],i}function jm(i,e){let t=!0;for(let r=i.length-1;r>=0;--r)if(i[r]!=e[r]){t=!1;break}return t}function RI(i,e){const t=Math.cos(e),r=Math.sin(e),n=i[0]*t-i[1]*r,s=i[1]*t+i[0]*r;return i[0]=n,i[1]=s,i}function s7(i,e){return i[0]*=e,i[1]*=e,i}function o7(i,e){const t=i[0]-e[0],r=i[1]-e[1];return t*t+r*r}function a7(i,e){return Math.sqrt(o7(i,e))}function l7(i,e){if(e.canWrapX()){const t=ct(e.getExtent()),r=wue(i,e,t);r&&(i[0]-=r*t)}return i}function wue(i,e,t){const r=e.getExtent();let n=0;return e.canWrapX()&&(i[0]<r[0]||i[0]>r[2])&&(t=t||ct(r),n=Math.floor((i[0]-r[0])/t)),n}function c7(i){return Math.pow(i,3)}function Fu(i){return 1-c7(1-i)}function xue(i){return 3*i*i-2*i*i*i}function Sue(i){return i}const Eue=63710088e-1;function TN(i,e,t){t=t||Eue;const r=zo(i[1]),n=zo(e[1]),s=(n-r)/2,o=zo(e[0]-i[0])/2,a=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(r)*Math.cos(n);return 2*t*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function u7(...i){console.warn(...i)}const PI={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class DI{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||PI[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const bf=6378137,Tc=Math.PI*bf,Cue=[-Tc,-Tc,Tc,Tc],Tue=[-180,-85,180,85],Fp=bf*Math.log(Math.tan(Math.PI/2));class Zl extends DI{constructor(e){super({code:e,units:"m",extent:Cue,global:!0,worldExtent:Tue,getPointResolution:function(t,r){return t/Math.cosh(r[1]/bf)}})}}const ON=[new Zl("EPSG:3857"),new Zl("EPSG:102100"),new Zl("EPSG:102113"),new Zl("EPSG:900913"),new Zl("http://www.opengis.net/def/crs/EPSG/0/3857"),new Zl("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Oue(i,e,t,r){const n=i.length;t=t>1?t:2,r=r??t,e===void 0&&(t>2?e=i.slice():e=new Array(n));for(let s=0;s<n;s+=r){e[s]=Tc*i[s]/180;let o=bf*Math.log(Math.tan(Math.PI*(+i[s+1]+90)/360));o>Fp?o=Fp:o<-Fp&&(o=-Fp),e[s+1]=o}return e}function Rue(i,e,t,r){const n=i.length;t=t>1?t:2,r=r??t,e===void 0&&(t>2?e=i.slice():e=new Array(n));for(let s=0;s<n;s+=r)e[s]=180*i[s]/Tc,e[s+1]=360*Math.atan(Math.exp(i[s+1]/bf))/Math.PI-90;return e}const Pue=6378137,RN=[-180,-90,180,90],Due=Math.PI*Pue/180;class ya extends DI{constructor(e,t){super({code:e,units:"degrees",extent:RN,axisOrientation:t,global:!0,metersPerUnit:Due,worldExtent:RN})}}const PN=[new ya("CRS:84"),new ya("EPSG:4326","neu"),new ya("urn:ogc:def:crs:OGC:1.3:CRS84"),new ya("urn:ogc:def:crs:OGC:2:84"),new ya("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new ya("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ya("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let MP={};function Iue(i){return MP[i]||MP[i.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function kue(i,e){MP[i]=e}let Bc={};function Sd(i,e,t){const r=i.getCode(),n=e.getCode();r in Bc||(Bc[r]={}),Bc[r][n]=t}function Fy(i,e){return i in Bc&&e in Bc[i]?Bc[i][e]:null}const Gm=.9996,nn=.00669438,iv=nn*nn,rv=iv*nn,Pa=nn/(1-nn),DN=Math.sqrt(1-nn),su=(1-DN)/(1+DN),h7=su*su,II=h7*su,kI=II*su,d7=kI*su,f7=1-nn/4-3*iv/64-5*rv/256,Mue=3*nn/8+3*iv/32+45*rv/1024,Aue=15*iv/256+45*rv/1024,Nue=35*rv/3072,$ue=3/2*su-27/32*II+269/512*d7,Fue=21/16*h7-55/32*kI,Lue=151/96*II-417/128*d7,que=1097/512*kI,Wm=6378137;function jue(i,e,t){const r=i-5e5,o=(t.north?e:e-1e7)/Gm/(Wm*f7),a=o+$ue*Math.sin(2*o)+Fue*Math.sin(4*o)+Lue*Math.sin(6*o)+que*Math.sin(8*o),l=Math.sin(a),c=l*l,u=Math.cos(a),h=l/u,d=h*h,f=d*d,p=1-nn*c,m=Math.sqrt(1-nn*c),g=Wm/m,v=(1-nn)/p,y=Pa*u**2,_=y*y,b=r/(g*Gm),w=b*b,S=w*b,E=S*b,x=E*b,T=x*b,R=a-h/v*(w/2-E/24*(5+3*d+10*y-4*_-9*Pa))+T/720*(61+90*d+298*y+45*f-252*Pa-3*_);let P=(b-S/6*(1+2*d+y)+x/120*(5-2*y+28*d-3*_+8*Pa+24*f))/u;return P=RP(P+zo(p7(t.number)),-Math.PI,Math.PI),[EN(P),EN(R)]}const IN=-80,kN=84,Gue=-180,Wue=180;function Bue(i,e,t){i=RP(i,Gue,Wue),e<IN?e=IN:e>kN&&(e=kN);const r=zo(e),n=Math.sin(r),s=Math.cos(r),o=n/s,a=o*o,l=a*a,c=zo(i),u=p7(t.number),h=zo(u),d=Wm/Math.sqrt(1-nn*n**2),f=Pa*s**2,p=s*RP(c-h,-Math.PI,Math.PI),m=p*p,g=m*p,v=g*p,y=v*p,_=y*p,b=Wm*(f7*r-Mue*Math.sin(2*r)+Aue*Math.sin(4*r)-Nue*Math.sin(6*r)),w=Gm*d*(p+g/6*(1-a+f)+y/120*(5-18*a+l+72*f-58*Pa))+5e5;let S=Gm*(b+d*o*(m/2+v/24*(5-a+9*f+4*f**2)+_/720*(61-58*a+l+600*f-330*Pa)));return t.north||(S+=1e7),[w,S]}function p7(i){return(i-1)*6-180+3}const zue=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function m7(i){let e=0;for(const n of zue){const s=i.match(n);if(s){e=parseInt(s[1]);break}}if(!e)return null;let t=0,r=!1;return e>32700&&e<32761?t=e-32700:e>32600&&e<32661&&(r=!0,t=e-32600),t?{number:t,north:r}:null}function MN(i,e){return function(t,r,n,s){const o=t.length;n=n>1?n:2,s=s??n,r||(n>2?r=t.slice():r=new Array(o));for(let a=0;a<o;a+=s){const l=t[a],c=t[a+1],u=i(l,c,e);r[a]=u[0],r[a+1]=u[1]}return r}}function Hue(i){return m7(i)?new DI({code:i,units:"m"}):null}function Yue(i){const e=m7(i.getCode());return e?{forward:MN(Bue,e),inverse:MN(jue,e)}:null}const Uue=[Yue],Vue=[Hue];let AP=!0;function g7(i){AP=!1}function MI(i,e){if(e!==void 0){for(let t=0,r=i.length;t<r;++t)e[t]=i[t];e=e}else e=i.slice();return e}function NP(i){kue(i.getCode(),i),Sd(i,i,MI)}function Xue(i){i.forEach(NP)}function _i(i){if(typeof i!="string")return i;const e=Iue(i);if(e)return e;for(const t of Vue){const r=t(i);if(r)return r}return null}function AN(i,e,t,r){i=_i(i);let n;const s=i.getPointResolutionFunc();if(s)n=s(e,t);else{const o=i.getUnits();if(o=="degrees"&&!r||r=="degrees")n=e;else{const a=$I(i,_i("EPSG:4326"));if(!a&&o!=="degrees")n=e*i.getMetersPerUnit();else{let c=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];c=a(c,c,2);const u=TN(c.slice(0,2),c.slice(2,4)),h=TN(c.slice(4,6),c.slice(6,8));n=(u+h)/2}const l=i.getMetersPerUnit();l!==void 0&&(n/=l)}}return n}function NN(i){Xue(i),i.forEach(function(e){i.forEach(function(t){e!==t&&Sd(e,t,MI)})})}function Kue(i,e,t,r){i.forEach(function(n){e.forEach(function(s){Sd(n,s,t),Sd(s,n,r)})})}function AI(i,e){return i?typeof i=="string"?_i(i):i:_i(e)}function Zue(i){return(function(e,t,r,n){const s=e.length;r=r!==void 0?r:2,n=n??r,t=t!==void 0?t:new Array(s);for(let o=0;o<s;o+=n){const a=i(e.slice(o,o+r)),l=a.length;for(let c=0,u=n;c<u;++c)t[o+c]=c>=l?e[o+c]:a[c]}return t})}function NI(i,e){return g7(),FI(i,"EPSG:4326","EPSG:3857")}function Cm(i,e){if(i===e)return!0;const t=i.getUnits()===e.getUnits();return(i.getCode()===e.getCode()||$I(i,e)===MI)&&t}function $I(i,e){const t=i.getCode(),r=e.getCode();let n=Fy(t,r);if(n)return n;let s=null,o=null;for(const l of Uue)s||(s=l(i)),o||(o=l(e));if(!s&&!o)return null;const a="EPSG:4326";if(o)if(s)n=Ly(s.inverse,o.forward);else{const l=Fy(t,a);l&&(n=Ly(l,o.forward))}else{const l=Fy(a,r);l&&(n=Ly(s.inverse,l))}return n&&(NP(i),NP(e),Sd(i,e,n)),n}function Ly(i,e){return function(t,r,n,s){return r=i(t,r,n,s),e(r,r,n,s)}}function Ed(i,e){const t=_i(i),r=_i(e);return $I(t,r)}function FI(i,e,t){const r=Ed(e,t);if(!r){const n=_i(e).getCode(),s=_i(t).getCode();throw new Error(`No transform available between ${n} and ${s}`)}return r(i,void 0,i.length)}function $P(i,e){return i}function bn(i,e){return AP&&!jm(i,[0,0])&&i[0]>=-180&&i[0]<=180&&i[1]>=-90&&i[1]<=90&&(AP=!1,u7("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),i}function v7(i,e){return i}function qo(i,e){return i}function Que(){NN(ON),NN(PN),Kue(PN,ON,Oue,Rue)}Que();new Array(6);function On(){return[1,0,0,1,0,0]}function Jue(i,e){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i}function gi(i,e){const t=e[0],r=e[1];return e[0]=i[0]*t+i[2]*r+i[4],e[1]=i[1]*t+i[3]*r+i[5],e}function ho(i,e,t,r,n,s,o,a){const l=Math.sin(s),c=Math.cos(s);return i[0]=r*c,i[1]=n*l,i[2]=-r*l,i[3]=n*c,i[4]=o*r*c-a*r*l+e,i[5]=o*n*l+a*n*c+t,i}function y7(i,e){const t=ehe(e);nt(t!==0,"Transformation matrix cannot be inverted");const r=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5];return i[0]=o/t,i[1]=-n/t,i[2]=-s/t,i[3]=r/t,i[4]=(s*l-o*a)/t,i[5]=-(r*l-n*a)/t,i}function ehe(i){return i[0]*i[3]-i[1]*i[2]}const the=[1e5,1e5,1e5,1e5,2,2];function ihe(i){return"matrix("+i.join(", ")+")"}function $N(i){return i.substring(7,i.length-1).split(",").map(parseFloat)}function rhe(i,e){const t=$N(i),r=$N(e);for(let n=0;n<6;++n)if(Math.round((t[n]-r[n])*the[n])!==0)return!1;return!0}function Ho(i,e,t,r,n,s,o){s=s||[],o=o||2;let a=0;for(let l=e;l<t;l+=r){const c=i[l],u=i[l+1];s[a++]=n[0]*c+n[2]*u+n[4],s[a++]=n[1]*c+n[3]*u+n[5];for(let h=2;h<o;h++)s[a++]=i[l+h]}return s&&s.length!=a&&(s.length=a),s}function LI(i,e,t,r,n,s,o){o=o||[];const a=Math.cos(n),l=Math.sin(n),c=s[0],u=s[1];let h=0;for(let d=e;d<t;d+=r){const f=i[d]-c,p=i[d+1]-u;o[h++]=c+f*a-p*l,o[h++]=u+f*l+p*a;for(let m=d+2;m<d+r;++m)o[h++]=i[m]}return o&&o.length!=h&&(o.length=h),o}function nhe(i,e,t,r,n,s,o,a){a=a||[];const l=o[0],c=o[1];let u=0;for(let h=e;h<t;h+=r){const d=i[h]-l,f=i[h+1]-c;a[u++]=l+n*d,a[u++]=c+s*f;for(let p=h+2;p<h+r;++p)a[u++]=i[p]}return a&&a.length!=u&&(a.length=u),a}function she(i,e,t,r,n,s,o){o=o||[];let a=0;for(let l=e;l<t;l+=r){o[a++]=i[l]+n,o[a++]=i[l+1]+s;for(let c=l+2;c<l+r;++c)o[a++]=i[c]}return o&&o.length!=a&&(o.length=a),o}const FN=On(),ohe=[NaN,NaN];class b7 extends Wn{constructor(){super(),this.extent_=qr(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=X9((e,t,r)=>{if(!r)return this.getSimplifiedGeometry(t);const n=this.clone();return n.applyTransform(r),n.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return _e()}closestPointXY(e,t,r,n){return _e()}containsXY(e,t){return this.closestPointXY(e,t,ohe,Number.MIN_VALUE)===0}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return _e()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&yf(t),this.extentRevision_=this.getRevision()}return bue(this.extent_,e)}rotate(e,t){_e()}scale(e,t,r){_e()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return _e()}getType(){return _e()}applyTransform(e){_e()}intersectsExtent(e){return _e()}translate(e,t){_e()}transform(e,t){const r=_i(e),n=r.getUnits()=="tile-pixels"?function(s,o,a){const l=r.getExtent(),c=r.getWorldExtent(),u=Xi(c)/Xi(l);ho(FN,c[0],c[3],u,-u,0,0,0);const h=Ho(s,0,s.length,a,FN,o),d=Ed(r,t);return d?d(h,h,a):h}:Ed(r,t);return this.applyTransform(n),this}}class ra extends b7{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return TI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return _e()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=Bm(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){_e()}setLayout(e,t,r){let n;if(e)n=Bm(e);else{for(let s=0;s<r;++s){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}n=t.length,e=ahe(n)}this.layout=e,this.stride=n}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,t){const r=this.getFlatCoordinates();if(r){const n=this.getStride();LI(r,0,r.length,n,e,t,r),this.changed()}}scale(e,t,r){t===void 0&&(t=e),r||(r=gs(this.getExtent()));const n=this.getFlatCoordinates();if(n){const s=this.getStride();nhe(n,0,n.length,s,e,t,r,n),this.changed()}}translate(e,t){const r=this.getFlatCoordinates();if(r){const n=this.getStride();she(r,0,r.length,n,e,t,r),this.changed()}}}function ahe(i){let e;return i==2?e="XY":i==3?e="XYZ":i==4&&(e="XYZM"),e}function Bm(i){let e;return i=="XY"?e=2:i=="XYZ"||i=="XYM"?e=3:i=="XYZM"&&(e=4),e}function lhe(i,e,t){const r=i.getFlatCoordinates();if(!r)return null;const n=i.getStride();return Ho(r,0,r.length,n,e,t)}function _7(i,e,t,r){let n=0;const s=i[t-r],o=i[t-r+1];let a=0,l=0;for(;e<t;e+=r){const c=i[e]-s,u=i[e+1]-o;n+=l*c-a*u,a=c,l=u}return n/2}function w7(i,e,t,r){let n=0;for(let s=0,o=t.length;s<o;++s){const a=t[s];n+=_7(i,e,a,r),e=a}return n}function che(i,e,t,r){let n=0;for(let s=0,o=t.length;s<o;++s){const a=t[s];n+=w7(i,e,a,r),e=a[a.length-1]}return n}function LN(i,e,t,r,n,s,o){const a=i[e],l=i[e+1],c=i[t]-a,u=i[t+1]-l;let h;if(c===0&&u===0)h=e;else{const d=((n-a)*c+(s-l)*u)/(c*c+u*u);if(d>1)h=t;else if(d>0){for(let f=0;f<r;++f)o[f]=Pr(i[e+f],i[t+f],d);o.length=r;return}else h=e}for(let d=0;d<r;++d)o[d]=i[h+d];o.length=r}function qI(i,e,t,r,n){let s=i[e],o=i[e+1];for(e+=r;e<t;e+=r){const a=i[e],l=i[e+1],c=Vs(s,o,a,l);c>n&&(n=c),s=a,o=l}return n}function jI(i,e,t,r,n){for(let s=0,o=t.length;s<o;++s){const a=t[s];n=qI(i,e,a,r,n),e=a}return n}function uhe(i,e,t,r,n){for(let s=0,o=t.length;s<o;++s){const a=t[s];n=jI(i,e,a,r,n),e=a[a.length-1]}return n}function GI(i,e,t,r,n,s,o,a,l,c,u){if(e==t)return c;let h,d;if(n===0){if(d=Vs(o,a,i[e],i[e+1]),d<c){for(h=0;h<r;++h)l[h]=i[e+h];return l.length=r,d}return c}u=u||[NaN,NaN];let f=e+r;for(;f<t;)if(LN(i,f-r,f,r,o,a,u),d=Vs(o,a,u[0],u[1]),d<c){for(c=d,h=0;h<r;++h)l[h]=u[h];l.length=r,f+=r}else f+=r*Math.max((Math.sqrt(d)-Math.sqrt(c))/n|0,1);if(s&&(LN(i,t-r,e,r,o,a,u),d=Vs(o,a,u[0],u[1]),d<c)){for(c=d,h=0;h<r;++h)l[h]=u[h];l.length=r}return c}function WI(i,e,t,r,n,s,o,a,l,c,u){u=u||[NaN,NaN];for(let h=0,d=t.length;h<d;++h){const f=t[h];c=GI(i,e,f,r,n,s,o,a,l,c,u),e=f}return c}function hhe(i,e,t,r,n,s,o,a,l,c,u){u=u||[NaN,NaN];for(let h=0,d=t.length;h<d;++h){const f=t[h];c=WI(i,e,f,r,n,s,o,a,l,c,u),e=f[f.length-1]}return c}function x7(i,e,t,r){for(let n=0,s=t.length;n<s;++n)i[e++]=t[n];return e}function nv(i,e,t,r){for(let n=0,s=t.length;n<s;++n){const o=t[n];for(let a=0;a<r;++a)i[e++]=o[a]}return e}function BI(i,e,t,r,n){n=n||[];let s=0;for(let o=0,a=t.length;o<a;++o){const l=nv(i,e,t[o],r);n[s++]=l,e=l}return n.length=s,n}function dhe(i,e,t,r,n){n=n||[];let s=0;for(let o=0,a=t.length;o<a;++o){const l=BI(i,e,t[o],r,n[s]);l.length===0&&(l[0]=e),n[s++]=l,e=l[l.length-1]}return n.length=s,n}function jo(i,e,t,r,n){n=n!==void 0?n:[];let s=0;for(let o=e;o<t;o+=r)n[s++]=i.slice(o,o+r);return n.length=s,n}function Cd(i,e,t,r,n){n=n!==void 0?n:[];let s=0;for(let o=0,a=t.length;o<a;++o){const l=t[o];n[s++]=jo(i,e,l,r,n[s]),e=l}return n.length=s,n}function FP(i,e,t,r,n){n=n!==void 0?n:[];let s=0;for(let o=0,a=t.length;o<a;++o){const l=t[o];n[s++]=l.length===1&&l[0]===e?[]:Cd(i,e,l,r,n[s]),e=l[l.length-1]}return n.length=s,n}function sv(i,e,t,r,n,s,o){const a=(t-e)/r;if(a<3){for(;e<t;e+=r)s[o++]=i[e],s[o++]=i[e+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const c=[e,t-r];let u=0;for(;c.length>0;){const h=c.pop(),d=c.pop();let f=0;const p=i[d],m=i[d+1],g=i[h],v=i[h+1];for(let y=d+r;y<h;y+=r){const _=i[y],b=i[y+1],w=pue(_,b,p,m,g,v);w>f&&(u=y,f=w)}f>n&&(l[(u-e)/r]=1,d+r<u&&c.push(d,u),u+r<h&&c.push(u,h))}for(let h=0;h<a;++h)l[h]&&(s[o++]=i[e+h*r],s[o++]=i[e+h*r+1]);return o}function S7(i,e,t,r,n,s,o,a){for(let l=0,c=t.length;l<c;++l){const u=t[l];o=sv(i,e,u,r,n,s,o),a.push(o),e=u}return o}function Ea(i,e){return e*Math.round(i/e)}function fhe(i,e,t,r,n,s,o){if(e==t)return o;let a=Ea(i[e],n),l=Ea(i[e+1],n);e+=r,s[o++]=a,s[o++]=l;let c,u;do if(c=Ea(i[e],n),u=Ea(i[e+1],n),e+=r,e==t)return s[o++]=c,s[o++]=u,o;while(c==a&&u==l);for(;e<t;){const h=Ea(i[e],n),d=Ea(i[e+1],n);if(e+=r,h==c&&d==u)continue;const f=c-a,p=u-l,m=h-a,g=d-l;if(f*g==p*m&&(f<0&&m<f||f==m||f>0&&m>f)&&(p<0&&g<p||p==g||p>0&&g>p)){c=h,u=d;continue}s[o++]=c,s[o++]=u,a=c,l=u,c=h,u=d}return s[o++]=c,s[o++]=u,o}function zI(i,e,t,r,n,s,o,a){for(let l=0,c=t.length;l<c;++l){const u=t[l];o=fhe(i,e,u,r,n,s,o),a.push(o),e=u}return o}function phe(i,e,t,r,n,s,o,a){for(let l=0,c=t.length;l<c;++l){const u=t[l],h=[];o=zI(i,e,u,r,n,s,o,h),a.push(h),e=u[u.length-1]}return o}class Td extends ra{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new Td(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,r,n){return n<El(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(qI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),GI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,r,n))}getArea(){return _7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return jo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=sv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new Td(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=nv(this.flatCoordinates,0,e,this.stride),this.changed()}}class Qi extends ra{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new Qi(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,r,n){const s=this.flatCoordinates,o=Vs(e,t,s[0],s[1]);if(o<n){const a=this.stride;for(let l=0;l<a;++l)r[l]=s[l];return r.length=a,o}return n}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return CI(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return EI(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=x7(this.flatCoordinates,0,e,this.stride),this.changed()}}function mhe(i,e,t,r,n){return!OI(n,function(o){return!Da(i,e,t,r,o[0],o[1])})}function Da(i,e,t,r,n,s){let o=0,a=i[t-r],l=i[t-r+1];for(;e<t;e+=r){const c=i[e],u=i[e+1];l<=s?u>s&&(c-a)*(s-l)-(n-a)*(u-l)>0&&o++:u<=s&&(c-a)*(s-l)-(n-a)*(u-l)<0&&o--,a=c,l=u}return o!==0}function HI(i,e,t,r,n,s){if(t.length===0||!Da(i,e,t[0],r,n,s))return!1;for(let o=1,a=t.length;o<a;++o)if(Da(i,t[o-1],t[o],r,n,s))return!1;return!0}function ghe(i,e,t,r,n,s){if(t.length===0)return!1;for(let o=0,a=t.length;o<a;++o){const l=t[o];if(HI(i,e,l,r,n,s))return!0;e=l[l.length-1]}return!1}function YI(i,e,t,r,n,s,o){let a,l,c,u,h,d,f;const p=n[s+1],m=[];for(let y=0,_=t.length;y<_;++y){const b=t[y];for(u=i[b-r],d=i[b-r+1],a=e;a<b;a+=r)h=i[a],f=i[a+1],(p<=d&&f<=p||d<=p&&p<=f)&&(c=(p-d)/(f-d)*(h-u)+u,m.push(c)),u=h,d=f}let g=NaN,v=-1/0;for(m.sort(Us),u=m[0],a=1,l=m.length;a<l;++a){h=m[a];const y=Math.abs(h-u);y>v&&(c=(u+h)/2,HI(i,e,t,r,c,p)&&(g=c,v=y)),u=h}return isNaN(g)&&(g=n[s]),o?(o.push(g,p,v),o):[g,p,v]}function E7(i,e,t,r,n){let s=[];for(let o=0,a=t.length;o<a;++o){const l=t[o];s=YI(i,e,l,r,n,2*o,s),e=l[l.length-1]}return s}function C7(i,e,t,r,n){let s;for(e+=r;e<t;e+=r)if(s=n(i.slice(e-r,e),i.slice(e,e+r)),s)return s;return!1}function ov(i,e,t,r,n,s){return s=s??e7(qr(),i,e,t,r),Yi(n,s)?s[0]>=n[0]&&s[2]<=n[2]||s[1]>=n[1]&&s[3]<=n[3]?!0:C7(i,e,t,r,function(o,a){return _ue(n,o,a)}):!1}function vhe(i,e,t,r,n){for(let s=0,o=t.length;s<o;++s){if(ov(i,e,t[s],r,n))return!0;e=t[s]}return!1}function T7(i,e,t,r,n){return!!(ov(i,e,t,r,n)||Da(i,e,t,r,n[0],n[1])||Da(i,e,t,r,n[0],n[3])||Da(i,e,t,r,n[2],n[1])||Da(i,e,t,r,n[2],n[3]))}function O7(i,e,t,r,n){if(!T7(i,e,t[0],r,n))return!1;if(t.length===1)return!0;for(let s=1,o=t.length;s<o;++s)if(mhe(i,t[s-1],t[s],r,n)&&!ov(i,t[s-1],t[s],r,n))return!1;return!0}function yhe(i,e,t,r,n){for(let s=0,o=t.length;s<o;++s){const a=t[s];if(O7(i,e,a,r,n))return!0;e=a[a.length-1]}return!1}function bhe(i,e,t,r){for(;e<t-r;){for(let n=0;n<r;++n){const s=i[e+n];i[e+n]=i[t-r+n],i[t-r+n]=s}e+=r,t-=r}}function UI(i,e,t,r){let n=0,s=i[t-r],o=i[t-r+1];for(;e<t;e+=r){const a=i[e],l=i[e+1];n+=(a-s)*(l+o),s=a,o=l}return n===0?void 0:n>0}function R7(i,e,t,r,n){n=n!==void 0?n:!1;for(let s=0,o=t.length;s<o;++s){const a=t[s],l=UI(i,e,a,r);if(s===0){if(n&&l||!n&&!l)return!1}else if(n&&!l||!n&&l)return!1;e=a}return!0}function _he(i,e,t,r,n){for(let s=0,o=t.length;s<o;++s){const a=t[s];if(!R7(i,e,a,r,n))return!1;a.length&&(e=a[a.length-1])}return!0}function LP(i,e,t,r,n){n=n!==void 0?n:!1;for(let s=0,o=t.length;s<o;++s){const a=t[s],l=UI(i,e,a,r);(s===0?n&&l||!n&&!l:n&&!l||!n&&l)&&bhe(i,e,a,r),e=a}return e}function qN(i,e,t,r,n){for(let s=0,o=t.length;s<o;++s)e=LP(i,e,t[s],r,n);return e}function whe(i,e){const t=[];let r=0,n=0,s;for(let o=0,a=e.length;o<a;++o){const l=e[o],c=UI(i,r,l,2);if(s===void 0&&(s=c),c===s)t.push(e.slice(n,o+1));else{if(t.length===0)continue;t[t.length-1].push(e[n])}n=o+1,r=l}return t}class vs extends ra{constructor(e,t,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&r?(this.setFlatCoordinates(t,e),this.ends_=r):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?rn(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new vs(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,r,n){return n<El(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(jI(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),WI(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,r,n))}containsXY(e,t){return HI(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return w7(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),LP(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,Cd(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=gs(this.getExtent());this.flatInteriorPoint_=YI(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Qi(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Td(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,r=this.ends_,n=[];let s=0;for(let o=0,a=r.length;o<a;++o){const l=r[o],c=new Td(t.slice(s,l),e);n.push(c),s=l}return n}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;R7(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=LP(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],r=[];return t.length=zI(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,r),new vs(t,"XY",r)}getType(){return"Polygon"}intersectsExtent(e){return O7(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=BI(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}function jN(i){if(tv(i))throw new Error("Cannot create polygon from empty extent");const e=i[0],t=i[1],r=i[2],n=i[3],s=[e,t,e,n,r,n,r,t,e,t];return new vs(s,"XY",[s.length])}function VI(i,e,t,r){const n=ct(e)/t[0],s=Xi(e)/t[1];return r?Math.min(i,Math.max(n,s)):Math.min(i,Math.min(n,s))}function XI(i,e,t){let r=Math.min(i,e);const n=50;return r*=Math.log(1+n*Math.max(0,i/e-1))/n+1,t&&(r=Math.max(r,t),r/=Math.log(1+n*Math.max(0,t/i-1))/n+1),Mt(r,t/2,e*2)}function xhe(i,e,t,r){return e=e!==void 0?e:!0,(function(n,s,o,a){if(n!==void 0){const l=i[0],c=i[i.length-1],u=t?VI(l,t,o,r):l;if(a)return e?XI(n,u,c):Mt(n,c,u);const h=Math.min(u,n),d=Math.floor(wI(i,h,s));return i[d]>u&&d<i.length-1?i[d+1]:i[d]}})}function She(i,e,t,r,n,s){return r=r!==void 0?r:!0,t=t!==void 0?t:0,(function(o,a,l,c){if(o!==void 0){const u=n?VI(e,n,l,s):e;if(c)return r?XI(o,u,t):Mt(o,t,u);const h=1e-9,d=Math.ceil(Math.log(e/u)/Math.log(i)-h),f=-a*(.5-h)+.5,p=Math.min(u,o),m=Math.floor(Math.log(e/p)/Math.log(i)+f),g=Math.max(d,m),v=e/Math.pow(i,g);return Mt(v,t,u)}})}function GN(i,e,t,r,n){return t=t!==void 0?t:!0,(function(s,o,a,l){if(s!==void 0){const c=r?VI(i,r,a,n):i;return!t||!l?Mt(s,e,c):XI(s,c,e)}})}function KI(i){if(i!==void 0)return 0}function WN(i){if(i!==void 0)return i}function Ehe(i){const e=2*Math.PI/i;return(function(t,r){if(r)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t})}function Che(i){const e=zo(5);return(function(t,r){return r||t===void 0?t:Math.abs(t)<=e?0:t})}const The=42,ZI=256,qy=0;class Jn extends Wn{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=AI(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&g7(),e.center&&(e.center=bn(e.center,this.projection_)),e.extent&&(e.extent=qo(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const a in yn)delete t[a];this.setProperties(t,!0);const r=Rhe(e);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom;const n=Ohe(e),s=r.constraint,o=Phe(e);this.constraints_={center:n,resolution:s,rotation:o},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const r=this.getCenterInternal();if(r){const n=e||[0,0,0,0];t=t||[0,0,0,0];const s=this.getResolution(),o=s/2*(n[3]-t[3]+t[1]-n[1]),a=s/2*(n[0]-t[0]+t[2]-n[2]);this.setCenterInternal([r[0]+o,r[1]-a])}}getUpdatedOptions_(e){const t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let r=0;r<t.length;++r){let n=arguments[r];n.center&&(n=Object.assign({},n),n.center=bn(n.center,this.getProjection())),n.anchor&&(n=Object.assign({},n),n.anchor=bn(n.anchor,this.getProjection())),t[r]=n}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,r;t>1&&typeof arguments[t-1]=="function"&&(r=arguments[t-1],--t);let n=0;for(;n<t&&!this.isDef();++n){const u=arguments[n];u.center&&this.setCenterInternal(u.center),u.zoom!==void 0?this.setZoom(u.zoom):u.resolution&&this.setResolution(u.resolution),u.rotation!==void 0&&this.setRotation(u.rotation)}if(n===t){r&&Lp(r,!0);return}let s=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const c=[];for(;n<t;++n){const u=arguments[n],h={start:s,complete:!1,anchor:u.anchor,duration:u.duration!==void 0?u.duration:1e3,easing:u.easing||xue,callback:r};if(u.center&&(h.sourceCenter=o,h.targetCenter=u.center.slice(),o=h.targetCenter),u.zoom!==void 0?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(u.zoom),a=h.targetResolution):u.resolution&&(h.sourceResolution=a,h.targetResolution=u.resolution,a=h.targetResolution),u.rotation!==void 0){h.sourceRotation=l;const d=Wc(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+d,l=h.targetRotation}Dhe(h)?h.complete=!0:s+=h.duration,c.push(h)}this.animations_.push(c),this.setHint(qi.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[qi.ANIMATING]>0}getInteracting(){return this.hints_[qi.INTERACTING]>0}cancelAnimations(){this.setHint(qi.ANIMATING,-this.hints_[qi.ANIMATING]);let e;for(let t=0,r=this.animations_.length;t<r;++t){const n=this.animations_[t];if(n[0].callback&&Lp(n[0].callback,!1),!e)for(let s=0,o=n.length;s<o;++s){const a=n[s];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let r=this.animations_.length-1;r>=0;--r){const n=this.animations_[r];let s=!0;for(let o=0,a=n.length;o<a;++o){const l=n[o];if(l.complete)continue;const c=e-l.start;let u=l.duration>0?c/l.duration:1;u>=1?(l.complete=!0,u=1):s=!1;const h=l.easing(u);if(l.sourceCenter){const d=l.sourceCenter[0],f=l.sourceCenter[1],p=l.targetCenter[0],m=l.targetCenter[1];this.nextCenter_=l.targetCenter;const g=d+h*(p-d),v=f+h*(m-f);this.targetCenter_=[g,v]}if(l.sourceResolution&&l.targetResolution){const d=h===1?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){const f=this.getViewportSize_(this.getRotation()),p=this.constraints_.resolution(d,0,f,!0);this.targetCenter_=this.calculateCenterZoom(p,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=d,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const d=h===1?Wc(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){const f=this.constraints_.rotation(d,!0);this.targetCenter_=this.calculateCenterRotate(f,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=d}if(this.applyTargetState_(!0),t=!0,!l.complete)break}if(s){this.animations_[r]=null,this.setHint(qi.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=n[0].callback;o&&Lp(o,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let r;const n=this.getCenterInternal();return n!==void 0&&(r=[n[0]-t[0],n[1]-t[1]],RI(r,e-this.getRotation()),n7(r,t)),r}calculateCenterZoom(e,t){let r;const n=this.getCenterInternal(),s=this.getResolution();if(n!==void 0&&s!==void 0){const o=t[0]-e*(t[0]-n[0])/s,a=t[1]-e*(t[1]-n[1])/s;r=[o,a]}return r}getViewportSize_(e){const t=this.viewportSize_;if(e){const r=t[0],n=t[1];return[Math.abs(r*Math.cos(e))+Math.abs(n*Math.sin(e)),Math.abs(r*Math.sin(e))+Math.abs(n*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&$P(e,this.getProjection())}getCenterInternal(){return this.get(yn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const t=this.calculateExtentInternal(e);return v7(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();nt(t,"The view center is not defined");const r=this.getResolution();nt(r!==void 0,"The view resolution is not defined");const n=this.getRotation();return nt(n!==void 0,"The view rotation is not defined"),kP(t,r,n,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(yn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(qo(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const r=ct(e)/t[0],n=Xi(e)/t[1];return Math.max(r,n)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,n=Math.log(t/r)/Math.log(e);return(function(s){return t/Math.pow(e,s*n)})}getRotation(){return this.get(yn.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),r=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,s=Math.log(r/n)/t;return(function(o){return Math.log(r/o)/t/s})}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const r=this.padding_;return r&&(t=[t[0]-r[1]-r[3],t[1]-r[0]-r[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),r=this.getRotation();let n=this.getCenterInternal();const s=this.padding_;if(s){const o=this.getViewportSizeMinusPadding_();n=jy(n,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],t,r)}return{center:n.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,r,n;if(this.resolutions_){const s=wI(this.resolutions_,e,1);t=s,r=this.resolutions_[s],s==this.resolutions_.length-1?n=2:n=r/this.resolutions_[s+1]}else r=this.maxResolution_,n=this.zoomFactor_;return t+Math.log(r/e)/Math.log(n)}getResolutionForZoom(e){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];const t=Mt(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(r,Mt(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let r;if(nt(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){nt(!tv(e),"Cannot fit empty extent provided as `geometry`");const n=qo(e,this.getProjection());r=jN(n)}else if(e.getType()==="Circle"){const n=qo(e.getExtent(),this.getProjection());r=jN(n),r.rotate(this.getRotation(),gs(n))}else r=e;this.fitInternal(r,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),r=Math.cos(t),n=Math.sin(-t),s=e.getFlatCoordinates(),o=e.getStride();let a=1/0,l=1/0,c=-1/0,u=-1/0;for(let h=0,d=s.length;h<d;h+=o){const f=s[h]*r-s[h+1]*n,p=s[h]*n+s[h+1]*r;a=Math.min(a,f),l=Math.min(l,p),c=Math.max(c,f),u=Math.max(u,p)}return[a,l,c,u]}fitInternal(e,t){t=t||{};let r=t.size;r||(r=this.getViewportSizeMinusPadding_());const n=t.padding!==void 0?t.padding:[0,0,0,0],s=t.nearest!==void 0?t.nearest:!1;let o;t.minResolution!==void 0?o=t.minResolution:t.maxZoom!==void 0?o=this.getResolutionForZoom(t.maxZoom):o=0;const a=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(a,[r[0]-n[1]-n[3],r[1]-n[0]-n[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,s?0:1);const c=this.getRotation(),u=Math.sin(c),h=Math.cos(c),d=gs(a);d[0]+=(n[1]-n[3])/2*l,d[1]+=(n[0]-n[2])/2*l;const f=d[0]*h-d[1]*u,p=d[1]*h+d[0]*u,m=this.getConstrainedCenter([f,p],l),g=t.callback?t.callback:wd;t.duration!==void 0?this.animateInternal({resolution:l,center:m,duration:t.duration,easing:t.easing},g):(this.targetResolution_=l,this.targetCenter_=m,this.applyTargetState_(!1,!0),Lp(g,!0))}centerOn(e,t,r){this.centerOnInternal(bn(e,this.getProjection()),t,r)}centerOnInternal(e,t,r){this.setCenterInternal(jy(e,t,r,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,r,n){let s;const o=this.padding_;if(o&&e){const a=this.getViewportSizeMinusPadding_(-r),l=jy(e,n,[a[0]/2+o[3],a[1]/2+o[0]],t,r);s=[e[0]-l[0],e[1]-l[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const t=$P(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&bn(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const r=this.getAnimating()||this.getInteracting(),n=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,n,r);t&&(this.targetCenter_=this.calculateCenterZoom(s,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=bn(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const r=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+e,r);t&&(this.targetCenter_=this.calculateCenterRotate(n,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&bn(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const r=this.getAnimating()||this.getInteracting()||t,n=this.constraints_.rotation(this.targetRotation_,r),s=this.getViewportSize_(n),o=this.constraints_.resolution(this.targetResolution_,0,s,r),a=this.constraints_.center(this.targetCenter_,o,s,r,this.calculateCenterShift(this.targetCenter_,o,n,s));this.get(yn.ROTATION)!==n&&this.set(yn.ROTATION,n),this.get(yn.RESOLUTION)!==o&&(this.set(yn.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(yn.CENTER)||!jm(this.get(yn.CENTER),a))&&this.set(yn.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,r){e=e!==void 0?e:200;const n=t||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,n,o),l=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,s,o));if(e===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=s,this.targetCenter_=l,this.applyTargetState_();return}r=r||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==s||!this.getCenterInternal()||!jm(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:a,duration:e,easing:Fu,anchor:r}))}beginInteraction(){this.resolveConstraints(0),this.setHint(qi.INTERACTING,1)}endInteraction(e,t,r){r=r&&bn(r,this.getProjection()),this.endInteractionInternal(e,t,r)}endInteractionInternal(e,t,r){this.getInteracting()&&(this.setHint(qi.INTERACTING,-1),this.resolveConstraints(e,t,r))}getConstrainedCenter(e,t){const r=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),r)}getConstrainedZoom(e,t){const r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,t))}getConstrainedResolution(e,t){t=t||0;const r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,r)}}function Lp(i,e){setTimeout(function(){i(e)},0)}function Ohe(i){if(i.extent!==void 0){const t=i.smoothExtentConstraint!==void 0?i.smoothExtentConstraint:!0;return CN(i.extent,i.constrainOnlyCenter,t)}const e=AI(i.projection,"EPSG:3857");if(i.multiWorld!==!0&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,CN(t,!1,!1)}return gue}function Rhe(i){let e,t,r,o=i.minZoom!==void 0?i.minZoom:qy,a=i.maxZoom!==void 0?i.maxZoom:28;const l=i.zoomFactor!==void 0?i.zoomFactor:2,c=i.multiWorld!==void 0?i.multiWorld:!1,u=i.smoothResolutionConstraint!==void 0?i.smoothResolutionConstraint:!0,h=i.showFullExtent!==void 0?i.showFullExtent:!1,d=AI(i.projection,"EPSG:3857"),f=d.getExtent();let p=i.constrainOnlyCenter,m=i.extent;if(!c&&!m&&d.isGlobal()&&(p=!1,m=f),i.resolutions!==void 0){const g=i.resolutions;t=g[o],r=g[a]!==void 0?g[a]:g[g.length-1],i.constrainResolution?e=xhe(g,u,!p&&m,h):e=GN(t,r,u,!p&&m,h)}else{const v=(f?Math.max(ct(f),Xi(f)):360*PI.degrees/d.getMetersPerUnit())/ZI/Math.pow(2,qy),y=v/Math.pow(2,28-qy);t=i.maxResolution,t!==void 0?o=0:t=v/Math.pow(l,o),r=i.minResolution,r===void 0&&(i.maxZoom!==void 0?i.maxResolution!==void 0?r=t/Math.pow(l,a):r=v/Math.pow(l,a):r=y),a=o+Math.floor(Math.log(t/r)/Math.log(l)),r=t/Math.pow(l,a-o),i.constrainResolution?e=She(l,t,r,u,!p&&m,h):e=GN(t,r,u,!p&&m,h)}return{constraint:e,maxResolution:t,minResolution:r,minZoom:o,zoomFactor:l}}function Phe(i){if(i.enableRotation!==void 0?i.enableRotation:!0){const t=i.constrainRotation;return t===void 0||t===!0?Che():t===!1?WN:typeof t=="number"?Ehe(t):WN}return KI}function Dhe(i){return!(i.sourceCenter&&i.targetCenter&&!jm(i.sourceCenter,i.targetCenter)||i.sourceResolution!==i.targetResolution||i.sourceRotation!==i.targetRotation)}function jy(i,e,t,r,n){const s=Math.cos(-n);let o=Math.sin(-n),a=i[0]*s-i[1]*o,l=i[1]*s+i[0]*o;a+=(e[0]/2-t[0])*r,l+=(t[1]-e[1]/2)*r,o=-o;const c=a*s-l*o,u=l*s+a*o;return[c,u]}const qp="ol-hidden",Ihe="ol-selectable",av="ol-unselectable",QI="ol-control",BN="ol-collapsed",khe=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),zN=["style","variant","weight","size","lineHeight","family"],qP={normal:400,bold:700},jP=function(i){const e=i.match(khe);if(!e)return null;const t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"400",variant:"normal"};for(let r=0,n=zN.length;r<n;++r){const s=e[r+1];s!==void 0&&(t[zN[r]]=typeof s=="string"?s.trim():s)}return isNaN(Number(t.weight))&&t.weight in qP&&(t.weight=qP[t.weight]),t.families=t.family.split(/,\s?/).map(r=>r.trim().replace(/^['"]|['"]$/g,"")),t};function di(i,e,t,r){let n;return t&&t.length?n=t.shift():SI?n=new OffscreenCanvas(i||300,e||300):n=document.createElement("canvas"),i&&(n.width=i),e&&(n.height=e),n.getContext("2d",r)}let Gy;function zm(){return Gy||(Gy=di(1,1)),Gy}function lv(i){const e=i.canvas;e.width=1,e.height=1,i.clearRect(0,0,1,1)}function Mhe(i){let e=i.offsetWidth;const t=getComputedStyle(i);return e+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10),e}function Ahe(i){let e=i.offsetHeight;const t=getComputedStyle(i);return e+=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10),e}function HN(i,e){const t=e.parentNode;t&&t.replaceChild(i,e)}function P7(i){for(;i.lastChild;)i.lastChild.remove()}function Nhe(i,e){const t=i.childNodes;for(let r=0;;++r){const n=t[r],s=e[r];if(!n&&!s)break;if(n!==s){if(!n){i.appendChild(s);continue}if(!s){i.removeChild(n),--r;continue}i.insertBefore(s,n)}}}class JI extends Wn{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let t=0,r=this.listenerKeys.length;t<r;++t)St(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=e,e){const t=this.target_??e.getOverlayContainerStopEvent();this.element&&t.appendChild(this.element),this.render!==wd&&this.listenerKeys.push(We(e,Ls.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class $he extends JI{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const t=e.className!==void 0?e.className:"ol-attribution",r=e.tipLabel!==void 0?e.tipLabel:"Attributions",n=e.expandClassName!==void 0?e.expandClassName:t+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"",o=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;const a=e.label!==void 0?e.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=n):this.label_=a;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=r,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(xe.CLICK,this.handleClick_.bind(this),!1);const c=t+" "+av+" "+QI+(this.collapsed_&&this.collapsible_?" "+BN:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=c,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=this.getMap().getAllLayers(),r=new Set(t.flatMap(n=>n.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(n=>r.add(n)):r.add(this.attributions_)),!this.overrideCollapsible_){const n=!t.some(s=>s.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(n)}return Array.from(r)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=await Promise.all(this.collectSourceAttributions_(e).map(n=>nue(()=>n))),r=t.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!ia(t,this.renderedAttributions_)){P7(this.ulElement_);for(let n=0,s=t.length;n<s;++n){const o=document.createElement("li");o.innerHTML=t[n],this.ulElement_.appendChild(o)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(BN),this.collapsed_?HN(this.collapseLabel_,this.label_):HN(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class Fhe extends JI{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=e.className!==void 0?e.className:"ol-rotate",r=e.label!==void 0?e.label:"",n=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof r=="string"?(this.label_=document.createElement("span"),this.label_.className=n,this.label_.textContent=r):(this.label_=r,this.label_.classList.add(n));const s=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=t+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener(xe.CLICK,this.handleClick_.bind(this),!1);const a=t+" "+av+" "+QI,l=this.element;l.className=a,l.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(qp)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const r=t.getRotation();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:Fu}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const r=t.viewState.rotation;if(r!=this.rotation_){const n="rotate("+r+"rad)";if(this.autoHide_){const s=this.element.classList.contains(qp);!s&&r===0?this.element.classList.add(qp):s&&r!==0&&this.element.classList.remove(qp)}this.label_.style.transform=n}this.rotation_=r}}class Lhe extends JI{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=e.className!==void 0?e.className:"ol-zoom",r=e.delta!==void 0?e.delta:1,n=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",o=e.zoomInLabel!==void 0?e.zoomInLabel:"+",a=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",c=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=n,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof o=="string"?document.createTextNode(o):o),u.addEventListener(xe.CLICK,this.handleClick_.bind(this,r),!1);const h=document.createElement("button");h.className=s,h.setAttribute("type","button"),h.title=c,h.appendChild(typeof a=="string"?document.createTextNode(a):a),h.addEventListener(xe.CLICK,this.handleClick_.bind(this,-r),!1);const d=t+" "+av+" "+QI,f=this.element;f.className=d,f.appendChild(u),f.appendChild(h),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const r=this.getMap().getView();if(!r)return;const n=r.getZoom();if(n!==void 0){const s=r.getConstrainedZoom(n+e);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:s,duration:this.duration_,easing:Fu})):r.setZoom(s)}}}function qhe(i){i=i||{};const e=new Sn;return(i.zoom!==void 0?i.zoom:!0)&&e.push(new Lhe(i.zoomOptions)),(i.rotate!==void 0?i.rotate:!0)&&e.push(new Fhe(i.rotateOptions)),(i.attribution!==void 0?i.attribution:!0)&&e.push(new $he(i.attributionOptions)),e}class jhe{constructor(e,t,r){this.decay_=e,this.minVelocity_=t,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let r=t-3;for(;r>0&&this.points_[r+2]>e;)r-=3;const n=this.points_[t+2]-this.points_[r+2];if(n<1e3/60)return!1;const s=this.points_[t]-this.points_[r],o=this.points_[t+1]-this.points_[r+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/n,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const GP={ACTIVE:"active"};class Lu extends Wn{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(GP.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(GP.ACTIVE,e)}setMap(e){this.map_=e}}function Ghe(i,e,t){const r=i.getCenterInternal();if(r){const n=[r[0]+e[0],r[1]+e[1]];i.animateInternal({duration:t!==void 0?t:250,easing:Sue,center:i.getConstrainedCenter(n)})}}function ek(i,e,t,r){const n=i.getZoom();if(n===void 0)return;const s=i.getConstrainedZoom(n+e),o=i.getResolutionForZoom(s);i.getAnimating()&&i.cancelAnimations(),i.animate({resolution:o,anchor:t,duration:r!==void 0?r:250,easing:Fu})}class Whe extends Lu{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==rt.DBLCLICK){const r=e.originalEvent,n=e.map,s=e.coordinate,o=r.shiftKey?-this.delta_:this.delta_,a=n.getView();ek(a,o,s,this.duration_),r.preventDefault(),t=!0}return!t}}function WP(i){const e=arguments;return function(t){let r=!0;for(let n=0,s=e.length;n<s&&(r=r&&e[n](t),!!r);++n);return r}}const Bhe=function(i){const e=i.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},zhe=function(i){const e=i.map.getTargetElement(),t=e.getRootNode(),r=i.map.getOwnerDocument().activeElement;return t instanceof ShadowRoot?t.host.contains(r):e.contains(r)},D7=function(i){const e=i.map.getTargetElement(),t=e.getRootNode();return(t instanceof ShadowRoot?t.host:e).hasAttribute("tabindex")?zhe(i):!0},BP=Jo,I7=function(i){const e=i.originalEvent;return"pointerId"in e&&e.button==0&&!(lue&&xI&&e.ctrlKey)},zP=Nu,Hhe=function(i){return i.type==rt.SINGLECLICK},tk=function(i){const e=i.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Yhe=function(i){const e=i.originalEvent;return!e.altKey&&(xI?e.metaKey:e.ctrlKey)&&!e.shiftKey},Uhe=function(i){const e=i.originalEvent;return xI?e.metaKey:e.ctrlKey},cv=function(i){const e=i.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},k7=function(i){const e=i.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},Wy=function(i){const e=i.originalEvent;return"pointerId"in e&&e.pointerType=="mouse"},Vhe=function(i){const e=i.originalEvent;return"pointerId"in e&&e.isPrimary&&e.button===0};class qu extends Lu{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==rt.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==rt.POINTERUP){const r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==rt.POINTERDOWN){const r=this.handleDownEvent(e);this.handlingDownUpSequence=r,t=this.stopDown(r)}else e.type==rt.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function ik(i){const e=i.length;let t=0,r=0;for(let n=0;n<e;n++)t+=i[n].clientX,r+=i[n].clientY;return{clientX:t/e,clientY:r/e}}class Xhe extends qu{constructor(e){super({stopDown:Nu}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:WP(tk,Vhe);this.condition_=e.onFocusOnly?WP(D7,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const r=this.targetPointers,n=t.getEventPixel(ik(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){const s=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],a=e.map.getView();s7(s,a.getResolution()),RI(s,a.getRotation()),a.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=r.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,r=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const n=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=r.getCenterInternal(),a=t.getPixelFromCoordinateInternal(o),l=t.getCoordinateFromPixelInternal([a[0]-n*Math.cos(s),a[1]-n*Math.sin(s)]);r.animateInternal({center:r.getConstrainedCenter(l),duration:500,easing:Fu})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const r=e.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class Khe extends qu{constructor(e){e=e||{},super({stopDown:Nu}),this.condition_=e.condition?e.condition:Bhe,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Wy(e))return;const t=e.map,r=t.getView();if(r.getConstraints().rotation===KI)return;const n=t.getSize(),s=e.pixel,o=Math.atan2(n[1]/2-s[1],s[0]-n[0]/2);if(this.lastAngle_!==void 0){const a=o-this.lastAngle_;r.adjustRotationInternal(-a)}this.lastAngle_=o}handleUpEvent(e){return Wy(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Wy(e)&&I7(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class Zhe extends Xg{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,r="px",n=this.element_.style;n.left=Math.min(e[0],t[0])+r,n.top=Math.min(e[1],t[1])+r,n.width=Math.abs(t[0]-e[0])+r,n.height=Math.abs(t[1]-e[1])+r}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,t=this.endPixel_,n=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new vs([n])}getGeometry(){return this.geometry_}}const Ql={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class vh extends Gn{constructor(e,t,r){super(e),this.coordinate=t,this.mapBrowserEvent=r}}class M7 extends qu{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new Zhe(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??I7,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,r){const n=r[0]-t[0],s=r[1]-t[1];return n*n+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new vh(Ql.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new vh(t?Ql.BOXEND:Ql.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new vh(Ql.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new vh(Ql.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new vh(Ql.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class Qhe extends M7{constructor(e){e=e||{};const t=e.condition?e.condition:cv;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const r=this.getMap().getView();let n=this.getGeometry();if(this.out_){const s=r.rotatedExtentForGeometry(n),o=r.getResolutionForExtentInternal(s),a=r.getResolution()/o;n=n.clone(),n.scale(a*a)}r.fitInternal(n,{duration:this.duration_,easing:Fu})}}const ba={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class Jhe extends Lu{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return tk(t)&&k7(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==xe.KEYDOWN){const r=e.originalEvent,n=r.key;if(this.condition_(e)&&(n==ba.DOWN||n==ba.LEFT||n==ba.RIGHT||n==ba.UP)){const o=e.map.getView(),a=o.getResolution()*this.pixelDelta_;let l=0,c=0;n==ba.DOWN?c=-a:n==ba.LEFT?l=-a:n==ba.RIGHT?l=a:c=a;const u=[l,c];RI(u,o.getRotation()),Ghe(o,u,this.duration_),r.preventDefault(),t=!0}}return!t}}class ede extends Lu{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!Uhe(t)&&k7(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==xe.KEYDOWN||e.type==xe.KEYPRESS){const r=e.originalEvent,n=r.key;if(this.condition_(e)&&(n==="+"||n==="-")){const s=e.map,o=n==="+"?this.delta_:-this.delta_,a=s.getView();ek(a,o,void 0,this.duration_),r.preventDefault(),t=!0}}return!t}}const tde=40,ide=300;class rde extends Lu{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const t=e.condition?e.condition:BP;this.condition_=e.onFocusOnly?WP(D7,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==xe.WHEEL)return!0;const r=e.map,n=e.originalEvent;n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let s=n.deltaY;switch(n.deltaMode){case WheelEvent.DOM_DELTA_LINE:s*=tde;break;case WheelEvent.DOM_DELTA_PAGE:s*=ide;break}if(s===0)return!1;this.lastDelta_=s;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const a=r.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_?r.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=o,!1;this.totalDelta_+=s;const l=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),l),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let r=-Mt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),ek(t,r,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class nde extends qu{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=Nu),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0;const r=this.targetPointers[0],n=this.targetPointers[1],s=Math.atan2(n.clientY-r.clientY,n.clientX-r.clientX);if(this.lastAngle_!==void 0){const l=s-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=l}this.lastAngle_=s;const o=e.map,a=o.getView();a.getConstraints().rotation!==KI&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(ik(this.targetPointers))),this.rotating_&&(o.render(),a.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}class sde extends qu{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=Nu),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const r=this.targetPointers[0],n=this.targetPointers[1],s=r.clientX-n.clientX,o=r.clientY-n.clientY,a=Math.sqrt(s*s+o*o);this.lastDistance_!==void 0&&(t=this.lastDistance_/a),this.lastDistance_=a;const l=e.map,c=l.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(ik(this.targetPointers))),l.render(),c.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const r=e.map.getView(),n=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,n),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}function ode(i){i=i||{};const e=new Sn,t=new jhe(-.005,.05,100);return(i.altShiftDragRotate!==void 0?i.altShiftDragRotate:!0)&&e.push(new Khe),(i.doubleClickZoom!==void 0?i.doubleClickZoom:!0)&&e.push(new Whe({delta:i.zoomDelta,duration:i.zoomDuration})),(i.dragPan!==void 0?i.dragPan:!0)&&e.push(new Xhe({onFocusOnly:i.onFocusOnly,kinetic:t})),(i.pinchRotate!==void 0?i.pinchRotate:!0)&&e.push(new nde),(i.pinchZoom!==void 0?i.pinchZoom:!0)&&e.push(new sde({duration:i.zoomDuration})),(i.keyboard!==void 0?i.keyboard:!0)&&(e.push(new Jhe),e.push(new ede({delta:i.zoomDelta,duration:i.zoomDuration}))),(i.mouseWheelZoom!==void 0?i.mouseWheelZoom:!0)&&e.push(new rde({onFocusOnly:i.onFocusOnly,duration:i.zoomDuration})),(i.shiftDragZoom!==void 0?i.shiftDragZoom:!0)&&e.push(new Qhe({duration:i.zoomDuration})),e}const at={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class A7 extends Wn{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[at.OPACITY]=e.opacity!==void 0?e.opacity:1,nt(typeof t[at.OPACITY]=="number","Layer opacity must be a number"),t[at.VISIBLE]=e.visible!==void 0?e.visible:!0,t[at.Z_INDEX]=e.zIndex,t[at.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[at.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[at.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[at.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:e===void 0?!0:e},r=this.getZIndex();return t.opacity=Mt(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=r===void 0&&!t.managed?1/0:r,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return _e()}getLayerStatesArray(e){return _e()}getExtent(){return this.get(at.EXTENT)}getMaxResolution(){return this.get(at.MAX_RESOLUTION)}getMinResolution(){return this.get(at.MIN_RESOLUTION)}getMinZoom(){return this.get(at.MIN_ZOOM)}getMaxZoom(){return this.get(at.MAX_ZOOM)}getOpacity(){return this.get(at.OPACITY)}getSourceState(){return _e()}getVisible(){return this.get(at.VISIBLE)}getZIndex(){return this.get(at.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(at.EXTENT,e)}setMaxResolution(e){this.set(at.MAX_RESOLUTION,e)}setMinResolution(e){this.set(at.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(at.MAX_ZOOM,e)}setMinZoom(e){this.set(at.MIN_ZOOM,e)}setOpacity(e){nt(typeof e=="number","Layer opacity must be a number"),this.set(at.OPACITY,e)}setVisible(e){this.set(at.VISIBLE,e)}setZIndex(e){this.set(at.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class Ao extends Gn{constructor(e,t){super(e),this.layer=t}}const By={LAYERS:"layers"};class ju extends A7{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let r=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(By.LAYERS,this.handleLayersChanged_),r?Array.isArray(r)?r=new Sn(r.slice(),{unique:!0}):nt(typeof r.getArray=="function","Expected `layers` to be an array or a `Collection`"):r=new Sn(void 0,{unique:!0}),this.setLayers(r)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(St),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(We(e,vi.ADD,this.handleLayersAdd_,this),We(e,vi.REMOVE,this.handleLayersRemove_,this));for(const r in this.listenerKeys_)this.listenerKeys_[r].forEach(St);$u(this.listenerKeys_);const t=e.getArray();for(let r=0,n=t.length;r<n;r++){const s=t[r];this.registerLayerListeners_(s),this.dispatchEvent(new Ao("addlayer",s))}this.changed()}registerLayerListeners_(e){const t=[We(e,iu.PROPERTYCHANGE,this.handleLayerChange_,this),We(e,xe.CHANGE,this.handleLayerChange_,this)];e instanceof ju&&t.push(We(e,"addlayer",this.handleLayerGroupAdd_,this),We(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Ae(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new Ao("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Ao("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new Ao("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,r=Ae(t);this.listenerKeys_[r].forEach(St),delete this.listenerKeys_[r],this.dispatchEvent(new Ao("removelayer",t)),this.changed()}getLayers(){return this.get(By.LAYERS)}setLayers(e){const t=this.getLayers();if(t){const r=t.getArray();for(let n=0,s=r.length;n<s;++n)this.dispatchEvent(new Ao("removelayer",r[n]))}this.set(By.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=e!==void 0?e:[],r=t.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(t)});const n=this.getLayerState();let s=n.zIndex;!e&&n.zIndex===void 0&&(s=0);for(let o=r,a=t.length;o<a;o++){const l=t[o];l.opacity*=n.opacity,l.visible=l.visible&&n.visible,l.maxResolution=Math.min(l.maxResolution,n.maxResolution),l.minResolution=Math.max(l.minResolution,n.minResolution),l.minZoom=Math.max(l.minZoom,n.minZoom),l.maxZoom=Math.min(l.maxZoom,n.maxZoom),n.extent!==void 0&&(l.extent!==void 0?l.extent=ja(l.extent,n.extent):l.extent=n.extent),l.zIndex===void 0&&(l.zIndex=s)}return t}getSourceState(){return"ready"}}const Qr={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class uv extends A7{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(at.SOURCE,this.handleSourcePropertyChange_);const r=e.source?e.source:null;this.setSource(r)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(at.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(St(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=We(e,xe.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t;const r=this.getMapInternal();!e&&r&&(e=r.getView()),e instanceof Jn?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&r&&(t.layerStatesArray=r.getLayerGroup().getLayerStatesArray());let n;if(t.layerStatesArray){if(n=t.layerStatesArray.find(o=>o.layer===this),!n)return!1}else n=this.getLayerState();const s=this.getExtent();return rk(n,t.viewState)&&(!s||Yi(s,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];const t=this.getSource()?.getAttributions();if(!t)return[];const r=e instanceof Jn?e.getViewStateAndExtent():e;let n=t(r);return Array.isArray(n)||(n=[n]),n}render(e,t){const r=this.getRenderer();return r.prepareFrame(e)?(this.rendered=!0,r.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){const t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(at.MAP,e)}getMapInternal(){return this.get(at.MAP)}setMap(e){this.mapPrecomposeKey_&&(St(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(St(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=We(e,Qr.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=We(this,xe.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const t=e.frameState.layerStatesArray,r=this.getLayerState(!1);nt(!t.some(n=>n.layer===r.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(r)}setSource(e){this.set(at.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function rk(i,e){if(!i.visible)return!1;const t=e.resolution;if(t<i.minResolution||t>=i.maxResolution)return!1;const r=e.zoom;return r>i.minZoom&&r<=i.maxZoom}function N7(i,e,t=0,r=i.length-1,n=ade){for(;r>t;){if(r-t>600){const l=r-t+1,c=e-t+1,u=Math.log(l),h=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*h*(l-h)/l)*(c-l/2<0?-1:1),f=Math.max(t,Math.floor(e-c*h/l+d)),p=Math.min(r,Math.floor(e+(l-c)*h/l+d));N7(i,e,f,p,n)}const s=i[e];let o=t,a=r;for(yh(i,t,e),n(i[r],s)>0&&yh(i,t,r);o<a;){for(yh(i,o,a),o++,a--;n(i[o],s)<0;)o++;for(;n(i[a],s)>0;)a--}n(i[t],s)===0?yh(i,t,a):(a++,yh(i,a,r)),a<=e&&(t=a+1),e<=a&&(r=a-1)}}function yh(i,e,t){const r=i[e];i[e]=i[t],i[t]=r}function ade(i,e){return i<e?-1:i>e?1:0}let $7=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const r=[];if(!Gp(e,t))return r;const n=this.toBBox,s=[];for(;t;){for(let o=0;o<t.children.length;o++){const a=t.children[o],l=t.leaf?n(a):a;Gp(e,l)&&(t.leaf?r.push(a):Hy(e,l)?this._all(a,r):s.push(a))}t=s.pop()}return r}collides(e){let t=this.data;if(!Gp(e,t))return!1;const r=[];for(;t;){for(let n=0;n<t.children.length;n++){const s=t.children[n],o=t.leaf?this.toBBox(s):s;if(Gp(e,o)){if(t.leaf||Hy(e,o))return!0;r.push(s)}}t=r.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let r=0;r<e.length;r++)this.insert(e[r]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const r=this.data;this.data=t,t=r}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=vc([]),this}remove(e,t){if(!e)return this;let r=this.data;const n=this.toBBox(e),s=[],o=[];let a,l,c;for(;r||s.length;){if(r||(r=s.pop(),l=s[s.length-1],a=o.pop(),c=!0),r.leaf){const u=lde(e,r.children,t);if(u!==-1)return r.children.splice(u,1),s.push(r),this._condense(s),this}!c&&!r.leaf&&Hy(r,n)?(s.push(r),o.push(a),a=0,l=r,r=r.children[0]):l?(a++,r=l.children[a],c=!1):r=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const r=[];for(;e;)e.leaf?t.push(...e.children):r.push(...e.children),e=r.pop();return t}_build(e,t,r,n){const s=r-t+1;let o=this._maxEntries,a;if(s<=o)return a=vc(e.slice(t,r+1)),Jl(a,this.toBBox),a;n||(n=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,n-1))),a=vc([]),a.leaf=!1,a.height=n;const l=Math.ceil(s/o),c=l*Math.ceil(Math.sqrt(o));YN(e,t,r,c,this.compareMinX);for(let u=t;u<=r;u+=c){const h=Math.min(u+c-1,r);YN(e,u,h,l,this.compareMinY);for(let d=u;d<=h;d+=l){const f=Math.min(d+l-1,h);a.children.push(this._build(e,d,f,n-1))}}return Jl(a,this.toBBox),a}_chooseSubtree(e,t,r,n){for(;n.push(t),!(t.leaf||n.length-1===r);){let s=1/0,o=1/0,a;for(let l=0;l<t.children.length;l++){const c=t.children[l],u=zy(c),h=hde(e,c)-u;h<o?(o=h,s=u<s?u:s,a=c):h===o&&u<s&&(s=u,a=c)}t=a||t.children[0]}return t}_insert(e,t,r){const n=r?e:this.toBBox(e),s=[],o=this._chooseSubtree(n,this.data,t,s);for(o.children.push(e),qh(o,n);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(n,s,t)}_split(e,t){const r=e[t],n=r.children.length,s=this._minEntries;this._chooseSplitAxis(r,s,n);const o=this._chooseSplitIndex(r,s,n),a=vc(r.children.splice(o,r.children.length-o));a.height=r.height,a.leaf=r.leaf,Jl(r,this.toBBox),Jl(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(r,a)}_splitRoot(e,t){this.data=vc([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Jl(this.data,this.toBBox)}_chooseSplitIndex(e,t,r){let n,s=1/0,o=1/0;for(let a=t;a<=r-t;a++){const l=Lh(e,0,a,this.toBBox),c=Lh(e,a,r,this.toBBox),u=dde(l,c),h=zy(l)+zy(c);u<s?(s=u,n=a,o=h<o?h:o):u===s&&h<o&&(o=h,n=a)}return n||r-t}_chooseSplitAxis(e,t,r){const n=e.leaf?this.compareMinX:cde,s=e.leaf?this.compareMinY:ude,o=this._allDistMargin(e,t,r,n),a=this._allDistMargin(e,t,r,s);o<a&&e.children.sort(n)}_allDistMargin(e,t,r,n){e.children.sort(n);const s=this.toBBox,o=Lh(e,0,t,s),a=Lh(e,r-t,r,s);let l=jp(o)+jp(a);for(let c=t;c<r-t;c++){const u=e.children[c];qh(o,e.leaf?s(u):u),l+=jp(o)}for(let c=r-t-1;c>=t;c--){const u=e.children[c];qh(a,e.leaf?s(u):u),l+=jp(a)}return l}_adjustParentBBoxes(e,t,r){for(let n=r;n>=0;n--)qh(t[n],e)}_condense(e){for(let t=e.length-1,r;t>=0;t--)e[t].children.length===0?t>0?(r=e[t-1].children,r.splice(r.indexOf(e[t]),1)):this.clear():Jl(e[t],this.toBBox)}};function lde(i,e,t){if(!t)return e.indexOf(i);for(let r=0;r<e.length;r++)if(t(i,e[r]))return r;return-1}function Jl(i,e){Lh(i,0,i.children.length,e,i)}function Lh(i,e,t,r,n){n||(n=vc(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(let s=e;s<t;s++){const o=i.children[s];qh(n,i.leaf?r(o):o)}return n}function qh(i,e){return i.minX=Math.min(i.minX,e.minX),i.minY=Math.min(i.minY,e.minY),i.maxX=Math.max(i.maxX,e.maxX),i.maxY=Math.max(i.maxY,e.maxY),i}function cde(i,e){return i.minX-e.minX}function ude(i,e){return i.minY-e.minY}function zy(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function jp(i){return i.maxX-i.minX+(i.maxY-i.minY)}function hde(i,e){return(Math.max(e.maxX,i.maxX)-Math.min(e.minX,i.minX))*(Math.max(e.maxY,i.maxY)-Math.min(e.minY,i.minY))}function dde(i,e){const t=Math.max(i.minX,e.minX),r=Math.max(i.minY,e.minY),n=Math.min(i.maxX,e.maxX),s=Math.min(i.maxY,e.maxY);return Math.max(0,n-t)*Math.max(0,s-r)}function Hy(i,e){return i.minX<=e.minX&&i.minY<=e.minY&&e.maxX<=i.maxX&&e.maxY<=i.maxY}function Gp(i,e){return e.minX<=i.maxX&&e.minY<=i.maxY&&e.maxX>=i.minX&&e.maxY>=i.minY}function vc(i){return{children:i,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function YN(i,e,t,r,n){const s=[e,t];for(;s.length;){if(t=s.pop(),e=s.pop(),t-e<=r)continue;const o=e+Math.ceil((t-e)/r/2)*r;N7(i,o,e,t,n),s.push(e,o,o,t)}}const nk=[NaN,NaN,NaN,0];let Yy;function fde(){return Yy||(Yy=di(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),Yy}const pde=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,mde=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,gde=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,vde=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function Wp(i,e){return i.endsWith("%")?Number(i.substring(0,i.length-1))/e:Number(i)}function Jh(i){throw new Error('failed to parse "'+i+'" as color')}function F7(i){if(i.toLowerCase().startsWith("rgb")){const s=i.match(mde)||i.match(pde)||i.match(gde);if(s){const o=s[4],a=100/255;return[Mt(Wp(s[1],a)+.5|0,0,255),Mt(Wp(s[2],a)+.5|0,0,255),Mt(Wp(s[3],a)+.5|0,0,255),o!==void 0?Mt(Wp(o,100),0,1):1]}Jh(i)}if(i.startsWith("#")){if(vde.test(i)){const s=i.substring(1),o=s.length<=4?1:2,a=[0,0,0,255];for(let l=0,c=s.length;l<c;l+=o){let u=parseInt(s.substring(l,l+o),16);o===1&&(u+=u<<4),a[l/o]=u}return a[3]=a[3]/255,a}Jh(i)}const e=fde();e.fillStyle="#abcdef";let t=e.fillStyle;e.fillStyle=i,e.fillStyle===t&&(e.fillStyle="#fedcba",t=e.fillStyle,e.fillStyle=i,e.fillStyle===t&&Jh(i));const r=e.fillStyle;if(r.startsWith("#")||r.startsWith("rgba"))return F7(r);e.clearRect(0,0,1,1),e.fillRect(0,0,1,1);const n=Array.from(e.getImageData(0,0,1,1).data);return n[3]=vf(n[3]/255,3),n}function yde(i){return typeof i=="string"?i:ok(i)}const bde=1024,bh={};let Uy=0;function _de(i){if(i.length===4)return i;const e=i.slice();return e[3]=1,e}function Vy(i){return i>.0031308?Math.pow(i,1/2.4)*269.025-14.025:i*3294.6}function Xy(i){return i>.2068965?Math.pow(i,3):(i-4/29)*(108/841)}function Ky(i){return i>10.314724?Math.pow((i+14.025)/269.025,2.4):i/3294.6}function Zy(i){return i>.0088564?Math.pow(i,1/3):i/(108/841)+4/29}function UN(i){const e=Ky(i[0]),t=Ky(i[1]),r=Ky(i[2]),n=Zy(e*.222488403+t*.716873169+r*.06060791),s=500*(Zy(e*.452247074+t*.399439023+r*.148375274)-n),o=200*(n-Zy(e*.016863605+t*.117638439+r*.865350722)),a=Math.atan2(o,s)*(180/Math.PI);return[116*n-16,Math.sqrt(s*s+o*o),a<0?a+360:a,i[3]]}function wde(i){const e=(i[0]+16)/116,t=i[1],r=i[2]*Math.PI/180,n=Xy(e),s=Xy(e+t/500*Math.cos(r)),o=Xy(e-t/200*Math.sin(r)),a=Vy(s*3.021973625-n*1.617392459-o*.404875592),l=Vy(s*-.943766287+n*1.916279586+o*.027607165),c=Vy(s*.069407491-n*.22898585+o*1.159737864);return[Mt(a+.5|0,0,255),Mt(l+.5|0,0,255),Mt(c+.5|0,0,255),i[3]]}function sk(i){if(i==="none")return nk;if(bh.hasOwnProperty(i))return bh[i];if(Uy>=bde){let t=0;for(const r in bh)(t++&3)===0&&(delete bh[r],--Uy)}const e=F7(i);e.length!==4&&Jh(i);for(const t of e)isNaN(t)&&Jh(i);return bh[i]=e,++Uy,e}function ou(i){return Array.isArray(i)?i:sk(i)}function ok(i){let e=i[0];e!=(e|0)&&(e=e+.5|0);let t=i[1];t!=(t|0)&&(t=t+.5|0);let r=i[2];r!=(r|0)&&(r=r+.5|0);const n=i[3]===void 0?1:Math.round(i[3]*1e3)/1e3;return"rgba("+e+","+t+","+r+","+n+")"}function VN(i){return i[0]>0&&i[1]>0}function xde(i,e,t){return t===void 0&&(t=[0,0]),t[0]=i[0]*e+.5|0,t[1]=i[1]*e+.5|0,t}function fr(i,e){return Array.isArray(i)?i:(e===void 0?e=[i,i]:(e[0]=i,e[1]=i),e)}let Tl=0;const Hi=1<<Tl++,qe=1<<Tl++,ur=1<<Tl++,xn=1<<Tl++,tl=1<<Tl++,jh=1<<Tl++,Bp=Math.pow(2,Tl)-1,ak={[Hi]:"boolean",[qe]:"number",[ur]:"string",[xn]:"color",[tl]:"number[]",[jh]:"size"},Sde=Object.keys(ak).map(Number).sort(Us);function Ede(i){return i in ak}function Gh(i){const e=[];for(const t of Sde)Wh(i,t)&&e.push(ak[t]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function Wh(i,e){return(i&e)===e}function Co(i,e){return i===e}class ui{constructor(e,t){if(!Ede(e))throw new Error(`literal expressions must have a specific type, got ${Gh(e)}`);this.type=e,this.value=t}}class Cde{constructor(e,t,...r){this.type=e,this.operator=t,this.args=r}}function L7(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function Mi(i,e,t){switch(typeof i){case"boolean":{if(Co(e,ur))return new ui(ur,i?"true":"false");if(!Wh(e,Hi))throw new Error(`got a boolean, but expected ${Gh(e)}`);return new ui(Hi,i)}case"number":{if(Co(e,jh))return new ui(jh,fr(i));if(Co(e,Hi))return new ui(Hi,!!i);if(Co(e,ur))return new ui(ur,i.toString());if(!Wh(e,qe))throw new Error(`got a number, but expected ${Gh(e)}`);return new ui(qe,i)}case"string":{if(Co(e,xn))return new ui(xn,sk(i));if(Co(e,Hi))return new ui(Hi,!!i);if(!Wh(e,ur))throw new Error(`got a string, but expected ${Gh(e)}`);return new ui(ur,i)}}if(!Array.isArray(i))throw new Error("expression must be an array or a primitive value");if(i.length===0)throw new Error("empty expression");if(typeof i[0]=="string")return $de(i,e,t);for(const r of i)if(typeof r!="number")throw new Error("expected an array of numbers");if(Co(e,jh)){if(i.length!==2)throw new Error(`expected an array of two values for a size, got ${i.length}`);return new ui(jh,i)}if(Co(e,xn)){if(i.length===3)return new ui(xn,[...i,1]);if(i.length===4)return new ui(xn,i);throw new Error(`expected an array of 3 or 4 values for a color, got ${i.length}`)}if(!Wh(e,tl))throw new Error(`got an array of numbers, but expected ${Gh(e)}`);return new ui(tl,i)}const Y={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},Tde={[Y.Get]:be(Pe(1,1/0),XN),[Y.Var]:be(Pe(1,1),Ode),[Y.Has]:be(Pe(1,1/0),XN),[Y.Id]:be(Rde,ec),[Y.Concat]:be(Pe(2,1/0),tt(ur)),[Y.GeometryType]:be(Pde,ec),[Y.LineMetric]:be(ec),[Y.Resolution]:be(Qy,ec),[Y.Zoom]:be(Qy,ec),[Y.Time]:be(Qy,ec),[Y.Any]:be(Pe(2,1/0),tt(Hi)),[Y.All]:be(Pe(2,1/0),tt(Hi)),[Y.Not]:be(Pe(1,1),tt(Hi)),[Y.Equal]:be(Pe(2,2),tt(Bp)),[Y.NotEqual]:be(Pe(2,2),tt(Bp)),[Y.GreaterThan]:be(Pe(2,2),tt(qe)),[Y.GreaterThanOrEqualTo]:be(Pe(2,2),tt(qe)),[Y.LessThan]:be(Pe(2,2),tt(qe)),[Y.LessThanOrEqualTo]:be(Pe(2,2),tt(qe)),[Y.Multiply]:be(Pe(2,1/0),KN),[Y.Coalesce]:be(Pe(2,1/0),KN),[Y.Divide]:be(Pe(2,2),tt(qe)),[Y.Add]:be(Pe(2,1/0),tt(qe)),[Y.Subtract]:be(Pe(2,2),tt(qe)),[Y.Clamp]:be(Pe(3,3),tt(qe)),[Y.Mod]:be(Pe(2,2),tt(qe)),[Y.Pow]:be(Pe(2,2),tt(qe)),[Y.Abs]:be(Pe(1,1),tt(qe)),[Y.Floor]:be(Pe(1,1),tt(qe)),[Y.Ceil]:be(Pe(1,1),tt(qe)),[Y.Round]:be(Pe(1,1),tt(qe)),[Y.Sin]:be(Pe(1,1),tt(qe)),[Y.Cos]:be(Pe(1,1),tt(qe)),[Y.Atan]:be(Pe(1,2),tt(qe)),[Y.Sqrt]:be(Pe(1,1),tt(qe)),[Y.Match]:be(Pe(4,1/0),ZN,Ide),[Y.Between]:be(Pe(3,3),tt(qe)),[Y.Interpolate]:be(Pe(6,1/0),ZN,kde),[Y.Case]:be(Pe(3,1/0),Dde,Mde),[Y.In]:be(Pe(2,2),Ade),[Y.Number]:be(Pe(1,1/0),tt(Bp)),[Y.String]:be(Pe(1,1/0),tt(Bp)),[Y.Array]:be(Pe(1,1/0),tt(qe)),[Y.Color]:be(Pe(1,4),tt(qe)),[Y.Band]:be(Pe(1,3),tt(qe)),[Y.Palette]:be(Pe(2,2),Nde),[Y.ToString]:be(Pe(1,1),tt(Hi|qe|ur|xn))};function XN(i,e,t){const r=i.length-1,n=new Array(r);for(let s=0;s<r;++s){const o=i[s+1];switch(typeof o){case"number":{n[s]=new ui(qe,o);break}case"string":{n[s]=new ui(ur,o);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${o}`)}s===0&&t.properties.add(String(o))}return n}function Ode(i,e,t){const r=i[1];if(typeof r!="string")throw new Error("expected a string argument for var operation");return t.variables.add(r),[new ui(ur,r)]}function Rde(i,e,t){t.featureId=!0}function Pde(i,e,t){t.geometryType=!0}function Qy(i,e,t){t.mapState=!0}function ec(i,e,t){const r=i[0];if(i.length!==1)throw new Error(`expected no arguments for ${r} operation`);return[]}function Pe(i,e){return function(t,r,n){const s=t[0],o=t.length-1;if(i===e){if(o!==i){const a=i===1?"":"s";throw new Error(`expected ${i} argument${a} for ${s}, got ${o}`)}}else if(o<i||o>e){const a=e===1/0?`${i} or more`:`${i} to ${e}`;throw new Error(`expected ${a} arguments for ${s}, got ${o}`)}}}function KN(i,e,t){const r=i.length-1,n=new Array(r);for(let s=0;s<r;++s){const o=Mi(i[s+1],e,t);n[s]=o}return n}function tt(i){return function(e,t,r){const n=e.length-1,s=new Array(n);for(let o=0;o<n;++o){const a=Mi(e[o+1],i,r);s[o]=a}return s}}function Dde(i,e,t){const r=i[0],n=i.length-1;if(n%2===0)throw new Error(`expected an odd number of arguments for ${r}, got ${n} instead`)}function ZN(i,e,t){const r=i[0],n=i.length-1;if(n%2===1)throw new Error(`expected an even number of arguments for operation ${r}, got ${n} instead`)}function Ide(i,e,t){const r=i.length-1,n=ur|qe|Hi,s=Mi(i[1],n,t),o=Mi(i[i.length-1],e,t),a=new Array(r-2);for(let l=0;l<r-2;l+=2){try{const c=Mi(i[l+2],s.type,t);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+1} of match expression: ${c.message}`)}try{const c=Mi(i[l+3],o.type,t);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+2} of match expression: ${c.message}`)}}return[s,...a,o]}function kde(i,e,t){const r=i[1];let n;switch(r[0]){case"linear":n=1;break;case"exponential":const l=r[1];if(typeof l!="number"||l<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);n=l;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(r)}`)}const s=new ui(qe,n);let o;try{o=Mi(i[2],qe,t)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}const a=new Array(i.length-3);for(let l=0;l<a.length;l+=2){try{const c=Mi(i[l+3],qe,t);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+2} for interpolate expression: ${c.message}`)}try{const c=Mi(i[l+4],e,t);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+3} for interpolate expression: ${c.message}`)}}return[s,o,...a]}function Mde(i,e,t){const r=Mi(i[i.length-1],e,t),n=new Array(i.length-1);for(let s=0;s<n.length-1;s+=2){try{const o=Mi(i[s+1],Hi,t);n[s]=o}catch(o){throw new Error(`failed to parse argument ${s} of case expression: ${o.message}`)}try{const o=Mi(i[s+2],r.type,t);n[s+1]=o}catch(o){throw new Error(`failed to parse argument ${s+1} of case expression: ${o.message}`)}}return n[n.length-1]=r,n}function Ade(i,e,t){let r=i[2];if(!Array.isArray(r))throw new Error('the second argument for the "in" operator must be an array');let n;if(typeof r[0]=="string"){if(r[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(r[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');r=r[1],n=ur}else n=qe;const s=new Array(r.length);for(let a=0;a<s.length;a++)try{const l=Mi(r[a],n,t);s[a]=l}catch(l){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${l.message}`)}return[Mi(i[1],n,t),...s]}function Nde(i,e,t){let r;try{r=Mi(i[1],qe,t)}catch(o){throw new Error(`failed to parse first argument in palette expression: ${o.message}`)}const n=i[2];if(!Array.isArray(n))throw new Error("the second argument of palette must be an array");const s=new Array(n.length);for(let o=0;o<s.length;o++){let a;try{a=Mi(n[o],xn,t)}catch(l){throw new Error(`failed to parse color at index ${o} in palette expression: ${l.message}`)}if(!(a instanceof ui))throw new Error(`the palette color at index ${o} must be a literal value`);s[o]=a}return[r,...s]}function be(...i){return function(e,t,r){const n=e[0];let s;for(let o=0;o<i.length;o++){const a=i[o](e,t,r);if(o==i.length-1){if(!a)throw new Error("expected last argument validator to return the parsed args");s=a}}return new Cde(t,n,...s)}}function $de(i,e,t){const r=i[0],n=Tde[r];if(!n)throw new Error(`unknown operator: ${r}`);return n(i,e,t)}function q7(i){if(!i)return"";const e=i.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return q7(i.getGeometries()[0]);default:return""}}function j7(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function mo(i,e,t){const r=Mi(i,e,t);return An(r)}function An(i,e){if(i instanceof ui){if(i.type===xn&&typeof i.value=="string"){const r=sk(i.value);return function(){return r}}return function(){return i.value}}const t=i.operator;switch(t){case Y.Number:case Y.String:case Y.Coalesce:return Fde(i);case Y.Get:case Y.Var:case Y.Has:return Lde(i);case Y.Id:return r=>r.featureId;case Y.GeometryType:return r=>r.geometryType;case Y.Concat:{const r=i.args.map(n=>An(n));return n=>"".concat(...r.map(s=>s(n).toString()))}case Y.Resolution:return r=>r.resolution;case Y.Any:case Y.All:case Y.Between:case Y.In:case Y.Not:return jde(i);case Y.Equal:case Y.NotEqual:case Y.LessThan:case Y.LessThanOrEqualTo:case Y.GreaterThan:case Y.GreaterThanOrEqualTo:return qde(i);case Y.Multiply:case Y.Divide:case Y.Add:case Y.Subtract:case Y.Clamp:case Y.Mod:case Y.Pow:case Y.Abs:case Y.Floor:case Y.Ceil:case Y.Round:case Y.Sin:case Y.Cos:case Y.Atan:case Y.Sqrt:return Gde(i);case Y.Case:return Wde(i);case Y.Match:return Bde(i);case Y.Interpolate:return zde(i);case Y.ToString:return Hde(i);default:throw new Error(`Unsupported operator ${t}`)}}function Fde(i,e){const t=i.operator,r=i.args.length,n=new Array(r);for(let s=0;s<r;++s)n[s]=An(i.args[s]);switch(t){case Y.Coalesce:return s=>{for(let o=0;o<r;++o){const a=n[o](s);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case Y.Number:case Y.String:return s=>{for(let o=0;o<r;++o){const a=n[o](s);if(typeof a===t)return a}throw new Error(`Expected one of the values to be a ${t}`)};default:throw new Error(`Unsupported assertion operator ${t}`)}}function Lde(i,e){const r=i.args[0].value;switch(i.operator){case Y.Get:return n=>{const s=i.args;let o=n.properties[r];for(let a=1,l=s.length;a<l;++a){const u=s[a].value;o=o[u]}return o};case Y.Var:return n=>n.variables[r];case Y.Has:return n=>{const s=i.args;if(!(r in n.properties))return!1;let o=n.properties[r];for(let a=1,l=s.length;a<l;++a){const u=s[a].value;if(!o||!Object.hasOwn(o,u))return!1;o=o[u]}return!0};default:throw new Error(`Unsupported accessor operator ${i.operator}`)}}function qde(i,e){const t=i.operator,r=An(i.args[0]),n=An(i.args[1]);switch(t){case Y.Equal:return s=>r(s)===n(s);case Y.NotEqual:return s=>r(s)!==n(s);case Y.LessThan:return s=>r(s)<n(s);case Y.LessThanOrEqualTo:return s=>r(s)<=n(s);case Y.GreaterThan:return s=>r(s)>n(s);case Y.GreaterThanOrEqualTo:return s=>r(s)>=n(s);default:throw new Error(`Unsupported comparison operator ${t}`)}}function jde(i,e){const t=i.operator,r=i.args.length,n=new Array(r);for(let s=0;s<r;++s)n[s]=An(i.args[s]);switch(t){case Y.Any:return s=>{for(let o=0;o<r;++o)if(n[o](s))return!0;return!1};case Y.All:return s=>{for(let o=0;o<r;++o)if(!n[o](s))return!1;return!0};case Y.Between:return s=>{const o=n[0](s),a=n[1](s),l=n[2](s);return o>=a&&o<=l};case Y.In:return s=>{const o=n[0](s);for(let a=1;a<r;++a)if(o===n[a](s))return!0;return!1};case Y.Not:return s=>!n[0](s);default:throw new Error(`Unsupported logical operator ${t}`)}}function Gde(i,e){const t=i.operator,r=i.args.length,n=new Array(r);for(let s=0;s<r;++s)n[s]=An(i.args[s]);switch(t){case Y.Multiply:return s=>{let o=1;for(let a=0;a<r;++a)o*=n[a](s);return o};case Y.Divide:return s=>n[0](s)/n[1](s);case Y.Add:return s=>{let o=0;for(let a=0;a<r;++a)o+=n[a](s);return o};case Y.Subtract:return s=>n[0](s)-n[1](s);case Y.Clamp:return s=>{const o=n[0](s),a=n[1](s);if(o<a)return a;const l=n[2](s);return o>l?l:o};case Y.Mod:return s=>n[0](s)%n[1](s);case Y.Pow:return s=>Math.pow(n[0](s),n[1](s));case Y.Abs:return s=>Math.abs(n[0](s));case Y.Floor:return s=>Math.floor(n[0](s));case Y.Ceil:return s=>Math.ceil(n[0](s));case Y.Round:return s=>Math.round(n[0](s));case Y.Sin:return s=>Math.sin(n[0](s));case Y.Cos:return s=>Math.cos(n[0](s));case Y.Atan:return r===2?s=>Math.atan2(n[0](s),n[1](s)):s=>Math.atan(n[0](s));case Y.Sqrt:return s=>Math.sqrt(n[0](s));default:throw new Error(`Unsupported numeric operator ${t}`)}}function Wde(i,e){const t=i.args.length,r=new Array(t);for(let n=0;n<t;++n)r[n]=An(i.args[n]);return n=>{for(let s=0;s<t-1;s+=2)if(r[s](n))return r[s+1](n);return r[t-1](n)}}function Bde(i,e){const t=i.args.length,r=new Array(t);for(let n=0;n<t;++n)r[n]=An(i.args[n]);return n=>{const s=r[0](n);for(let o=1;o<t-1;o+=2)if(s===r[o](n))return r[o+1](n);return r[t-1](n)}}function zde(i,e){const t=i.args.length,r=new Array(t);for(let n=0;n<t;++n)r[n]=An(i.args[n]);return n=>{const s=r[0](n),o=r[1](n);let a,l;for(let c=2;c<t;c+=2){const u=r[c](n);let h=r[c+1](n);const d=Array.isArray(h);if(d&&(h=_de(h)),u>=o)return c===2?h:d?Yde(s,o,a,l,u,h):Bh(s,o,a,l,u,h);a=u,l=h}return l}}function Hde(i,e){const t=i.operator,r=i.args.length,n=new Array(r);for(let s=0;s<r;++s)n[s]=An(i.args[s]);switch(t){case Y.ToString:return s=>{const o=n[0](s);return i.args[0].type===xn?ok(o):o.toString()};default:throw new Error(`Unsupported convert operator ${t}`)}}function Bh(i,e,t,r,n,s){const o=n-t;if(o===0)return r;const a=e-t,l=i===1?a/o:(Math.pow(i,a)-1)/(Math.pow(i,o)-1);return r+l*(s-r)}function Yde(i,e,t,r,n,s){if(n-t===0)return r;const a=UN(r),l=UN(s);let c=l[2]-a[2];c>180?c-=360:c<-180&&(c+=360);const u=[Bh(i,e,t,a[0],n,l[0]),Bh(i,e,t,a[1],n,l[1]),a[2]+Bh(i,e,t,0,n,c),Bh(i,e,t,r[3],n,s[3])];return wde(u)}const Ie={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function Ude(i,e,t){const r=i;let n=!0,s=!1,o=!1;const a=[Lm(r,xe.LOAD,function(){o=!0,s||e()})];return r.src&&K9?(s=!0,r.decode().then(function(){n&&e()}).catch(function(l){n&&(o?e():t())})):a.push(Lm(r,xe.ERROR,t)),function(){n=!1,a.forEach(St)}}function Vde(i,e){return new Promise((t,r)=>{function n(){o(),t(i)}function s(){o(),r(new Error("Image load error"))}function o(){i.removeEventListener("load",n),i.removeEventListener("error",s)}i.addEventListener("load",n),i.addEventListener("error",s)})}function Xde(i,e){return e&&(i.src=e),i.src&&K9?new Promise((t,r)=>i.decode().then(()=>t(i)).catch(n=>i.complete&&i.width?t(i):r(n))):Vde(i)}class Kde{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const r=this.cache_[t];(e++&3)===0&&!r.hasListener()&&(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}get(e,t,r){const n=Jy(e,t,r);return n in this.cache_?this.cache_[n]:null}getPattern(e,t,r){const n=Jy(e,t,r);return n in this.patternCache_?this.patternCache_[n]:null}set(e,t,r,n,s){const o=Jy(e,t,r),a=o in this.cache_;this.cache_[o]=n,s&&(n.getImageState()===Ie.IDLE&&n.load(),n.getImageState()===Ie.LOADING?n.ready().then(()=>{this.patternCache_[o]=zm().createPattern(n.getImage(1),"repeat")}):this.patternCache_[o]=zm().createPattern(n.getImage(1),"repeat")),a||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function Jy(i,e,t){const r=t?ou(t):"null";return e+":"+i+":"+r}const Jr=new Kde;let _h=null;class G7 extends Kg{constructor(e,t,r,n,s){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=r,this.canvas_={},this.color_=s,this.imageState_=n===void 0?Ie.IDLE:n,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Ie.LOADED){_h||(_h=di(1,1,void 0,{willReadFrequently:!0})),_h.drawImage(this.image_,0,0);try{_h.getImageData(0,0,1,1),this.tainted_=!1}catch{_h=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(xe.CHANGE)}handleImageError_(){this.imageState_=Ie.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Ie.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],r=di(e,t);r.fillRect(0,0,e,t),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Ie.IDLE){this.image_||this.initializeImage_(),this.imageState_=Ie.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&Xde(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Ie.LOADED)return;const t=this.image_,r=di(Math.ceil(t.width*e),Math.ceil(t.height*e)),n=r.canvas;r.scale(e,e),r.drawImage(t,0,0),r.globalCompositeOperation="multiply",r.fillStyle=yde(this.color_),r.fillRect(0,0,n.width/e,n.height/e),r.globalCompositeOperation="destination-in",r.drawImage(t,0,0),this.canvas_[e]=n}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===Ie.LOADED||this.imageState_===Ie.ERROR)e();else{const t=()=>{(this.imageState_===Ie.LOADED||this.imageState_===Ie.ERROR)&&(this.removeEventListener(xe.CHANGE,t),e())};this.addEventListener(xe.CHANGE,t)}})),this.ready_}}function lk(i,e,t,r,n,s){let o=e===void 0?void 0:Jr.get(e,t,n);return o||(o=new G7(i,i&&"src"in i?i.src||void 0:e,t,r,n),Jr.set(e,t,n,o,s)),s&&o&&!Jr.getPattern(e,t,n)&&Jr.set(e,t,n,o,s),o}function rs(i){return i?Array.isArray(i)?ok(i):typeof i=="object"&&"src"in i?Zde(i):i:null}function Zde(i){if(!i.offset||!i.size)return Jr.getPattern(i.src,"anonymous",i.color);const e=i.src+":"+i.offset,t=Jr.getPattern(e,void 0,i.color);if(t)return t;const r=Jr.get(i.src,"anonymous",null);if(r.getImageState()!==Ie.LOADED)return null;const n=di(i.size[0],i.size[1]);return n.drawImage(r.getImage(1),i.offset[0],i.offset[1],i.size[0],i.size[1],0,0,i.size[0],i.size[1]),lk(n.canvas,e,void 0,Ie.LOADED,i.color,!0),Jr.getPattern(e,void 0,i.color)}const W7="10px sans-serif",hr="#000",au="round",Xs=[],Ks=0,lu="round",Od=10,Rd="#000",Pd="center",Hm="middle",Ia=[0,0,0,0],Dd=1,yc=new Wn;let wh=null,QN;const HP={},Qde=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","emoji","math","fangsong"]);function Jde(i,e,t){return`${i} ${e} 16px "${t}"`}const efe=(function(){let e,t;async function r(s){await t.ready;const o=await t.load(s);if(o.length===0)return!1;const a=jP(s),l=a.families[0].toLowerCase(),c=a.weight;return o.some(u=>{const h=u.family.replace(/^['"]|['"]$/g,"").toLowerCase(),d=qP[u.weight]||u.weight;return h===l&&u.style===a.style&&d==c})}async function n(){await t.ready;let s=!0;const o=yc.getProperties(),a=Object.keys(o).filter(l=>o[l]<100);for(let l=a.length-1;l>=0;--l){const c=a[l];let u=o[c];u<100&&(await r(c)?($u(HP),yc.set(c,100)):(u+=10,yc.set(c,u,!0),u<100&&(s=!1)))}e=void 0,s||(e=setTimeout(n,100))}return async function(s){t||(t=SI?self.fonts:document.fonts);const o=jP(s);if(!o)return;const a=o.families;let l=!1;for(const c of a){if(Qde.has(c))continue;const u=Jde(o.style,o.weight,c);yc.get(u)===void 0&&(yc.set(u,0,!0),l=!0)}l&&(clearTimeout(e),e=setTimeout(n,100))}})(),tfe=(function(){let i;return function(e){let t=HP[e];if(t==null){if(SI){const r=jP(e),n=B7(e,"g");t=(isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight))*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}else i||(i=document.createElement("div"),i.innerHTML="M",i.style.minHeight="0",i.style.maxHeight="none",i.style.height="auto",i.style.padding="0",i.style.border="none",i.style.position="absolute",i.style.display="block",i.style.left="-99999px"),i.style.font=e,document.body.appendChild(i),t=i.offsetHeight,document.body.removeChild(i);HP[e]=t}return t}})();function B7(i,e){return wh||(wh=di(1,1)),i!=QN&&(wh.font=i,QN=wh.font),wh.measureText(e)}function z7(i,e){return B7(i,e).width}function JN(i,e,t){if(e in t)return t[e];const r=e.split(`
`).reduce((n,s)=>Math.max(n,z7(i,s)),0);return t[e]=r,r}function ife(i,e){const t=[],r=[],n=[];let s=0,o=0,a=0,l=0;for(let c=0,u=e.length;c<=u;c+=2){const h=e[c];if(h===`
`||c===u){s=Math.max(s,o),n.push(o),o=0,a+=l,l=0;continue}const d=e[c+1]||i.font,f=z7(d,h);t.push(f),o+=f;const p=tfe(d);r.push(p),l=Math.max(l,p)}return{width:s,height:a,widths:t,heights:r,lineWidths:n}}function rfe(i,e,t,r,n,s,o,a,l,c,u){i.save(),t!==1&&(i.globalAlpha===void 0?i.globalAlpha=h=>h.globalAlpha*=t:i.globalAlpha*=t),e&&i.transform.apply(i,e),r.contextInstructions?(i.translate(l,c),i.scale(u[0],u[1]),nfe(r,i)):u[0]<0||u[1]<0?(i.translate(l,c),i.scale(u[0],u[1]),i.drawImage(r,n,s,o,a,0,0,o,a)):i.drawImage(r,n,s,o,a,l,c,o*u[0],a*u[1]),i.restore()}function nfe(i,e){const t=i.contextInstructions;for(let r=0,n=t.length;r<n;r+=2)Array.isArray(t[r+1])?e[t[r]].apply(e,t[r+1]):e[t[r]]=t[r+1]}class hv{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=fr(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new hv({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return _e()}getImage(e){return _e()}getHitDetectionImage(){return _e()}getPixelRatio(e){return 1}getImageState(){return _e()}getImageSize(){return _e()}getOrigin(){return _e()}getSize(){return _e()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=fr(e)}listenImageChange(e){_e()}load(){_e()}unlistenImageChange(e){_e()}ready(){return Promise.resolve()}}class dv extends hv{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Ie.LOADING:Ie.LOADED,this.imageState_===Ie.LOADING&&this.ready().then(()=>this.imageState_=Ie.LOADED),this.render()}clone(){const e=this.getScale(),t=new dv({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_,t=this.getDisplacement(),r=this.getScaleArray();return[e[0]/2-t[0]/r[0],e[1]/2+t[1]/r[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){const t=this.fill_?.getKey(),r=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${t}`+Object.values(this.renderOptions_).join(",");let n=Jr.get(r,null,null)?.getImage(1);if(!n){const s=this.renderOptions_,o=Math.ceil(s.size*e),a=di(o,o);this.draw_(s,a,e),n=a.canvas,Jr.set(r,null,null,new G7(n,void 0,null,Ie.LOADED,null))}return n}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,r){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let n=this.radius,s=this.radius2_===void 0?n:this.radius2_;if(n<s){const S=n;n=s,s=S}const o=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/o,l=s*Math.sin(a),c=Math.sqrt(s*s-l*l),u=n-c,h=Math.sqrt(l*l+u*u),d=h/l;if(e==="miter"&&d<=r)return d*t;const f=t/2/d,p=t/2*(u/h),g=Math.sqrt((n+f)*(n+f)+p*p)-n;if(this.radius2_===void 0||e==="bevel")return g*2;const v=n*Math.sin(a),y=Math.sqrt(n*n-v*v),_=s-y,w=Math.sqrt(v*v+_*_)/v;if(w<=r){const S=w*t/2-s-n;return 2*Math.max(g,S)}return g*2}createRenderOptions(){let e=au,t=lu,r=0,n=null,s=0,o,a=0;this.stroke_&&(o=rs(this.stroke_.getColor()??Rd),a=this.stroke_.getWidth()??Dd,n=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset()??0,t=this.stroke_.getLineJoin()??lu,e=this.stroke_.getLineCap()??au,r=this.stroke_.getMiterLimit()??Od);const l=this.calculateLineJoinSize_(t,a,r),c=Math.max(this.radius,this.radius2_||0),u=Math.ceil(2*c+l);return{strokeStyle:o,strokeWidth:a,size:u,lineCap:e,lineDash:n,lineDashOffset:s,lineJoin:t,miterLimit:r}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,r){if(t.scale(r,r),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let n=this.fill_.getColor();n===null&&(n=hr),t.fillStyle=rs(n),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let r=this.fill_.getColor(),n=0;typeof r=="string"&&(r=ou(r)),r===null?n=1:Array.isArray(r)&&(n=r.length===4?r[3]:1),n===0&&(t=di(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_;const r=this.radius;if(t===1/0)e.arc(0,0,r,0,2*Math.PI);else{const n=this.radius2_===void 0?r:this.radius2_;this.radius2_!==void 0&&(t*=2);const s=this.angle_-Math.PI/2,o=2*Math.PI/t;for(let a=0;a<t;a++){const l=s+a*o,c=a%2===0?r:n;e.lineTo(c*Math.cos(l),c*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=hr,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class ys extends dv{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new ys({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius=e,this.render()}}class ji{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new ji({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const t=lk(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));t.ready().then(()=>{this.patternImage_=null}),t.getImageState()===Ie.IDLE&&t.load(),t.getImageState()===Ie.LOADING&&(this.patternImage_=t)}this.color_=e}getKey(){const e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?Ae(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:ou(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function e$(i,e,t,r){return t!==void 0&&r!==void 0?[t/i,r/e]:t!==void 0?t/i:r!==void 0?r/e:1}class Gu extends hv{constructor(e){e=e||{};const t=e.opacity!==void 0?e.opacity:1,r=e.rotation!==void 0?e.rotation:0,n=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:r,scale:n,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const o=e.img!==void 0?e.img:null;let a=e.src;nt(!(a!==void 0&&o),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&o&&(a=o.src||Ae(o)),nt(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),nt(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=Ie.IDLE:o!==void 0&&("complete"in o?o.complete?l=o.src?Ie.LOADED:Ie.IDLE:l=Ie.LOADING:l=Ie.LOADED),this.color_=e.color!==void 0?ou(e.color):null,this.iconImage_=lk(o,a,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let c,u;if(e.size)[c,u]=e.size;else{const h=this.getImage(1);if(h.width&&h.height)c=h.width,u=h.height;else if(h instanceof HTMLImageElement){this.initialOptions_=e;const d=()=>{if(this.unlistenImageChange(d),!this.initialOptions_)return;const f=this.iconImage_.getSize();this.setScale(e$(f[0],f[1],e.width,e.height))};this.listenImageChange(d);return}}c!==void 0&&this.setScale(e$(c,u,e.width,e.height))}}clone(){let e,t,r;return this.initialOptions_?(t=this.initialOptions_.width,r=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new Gu({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:r,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const n=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!n)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=n[0]),this.anchorYUnits_=="fraction"&&(e[1]*=n[1])}if(this.anchorOrigin_!="top-left"){if(!n)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+n[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+n[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),r=this.getScaleArray();return[e[0]-t[0]/r[0],e[1]+t[1]/r[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const t=this.getSize(),r=this.iconImage_.getSize();if(!t||!r)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=r[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=r[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==Ie.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==Ie.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(xe.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(xe.CHANGE,e)}ready(){return this.iconImage_.ready()}}class gr{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new gr({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class ei{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=t$,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new ei({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=t$,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function sfe(i){let e;if(typeof i=="function")e=i;else{let t;Array.isArray(i)?t=i:(nt(typeof i.getZIndex=="function","Expected an `Style` or an array of `Style`"),t=[i]),e=function(){return t}}return e}let eb=null;function H7(i,e){if(!eb){const t=new ji({color:"rgba(255,255,255,0.4)"}),r=new gr({color:"#3399CC",width:1.25});eb=[new ei({image:new ys({fill:t,stroke:r,radius:5}),fill:t,stroke:r})]}return eb}function Y7(){const i={},e=[255,255,255,1],t=[0,153,255,1],r=3;return i.Polygon=[new ei({fill:new ji({color:[255,255,255,.5]})})],i.MultiPolygon=i.Polygon,i.LineString=[new ei({stroke:new gr({color:e,width:r+2})}),new ei({stroke:new gr({color:t,width:r})})],i.MultiLineString=i.LineString,i.Circle=i.Polygon.concat(i.LineString),i.Point=[new ei({image:new ys({radius:r*2,fill:new ji({color:t}),stroke:new gr({color:e,width:r/2})}),zIndex:1/0})],i.MultiPoint=i.Point,i.GeometryCollection=i.Polygon.concat(i.LineString,i.Point),i}function t$(i){return i.getGeometry()}const ofe="#333";class fv{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=fr(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new ji({color:ofe}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new fv({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=fr(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}function afe(i){return!0}function lfe(i){const e=L7(),t=cfe(i,e),r=j7();return function(n,s){if(r.properties=n.getPropertiesInternal(),r.resolution=s,e.featureId){const o=n.getId();o!==void 0?r.featureId=o:r.featureId=null}return e.geometryType&&(r.geometryType=q7(n.getGeometry())),t(r)}}function i$(i){const e=L7(),t=i.length,r=new Array(t);for(let o=0;o<t;++o)r[o]=YP(i[o],e);const n=j7(),s=new Array(t);return function(o,a){if(n.properties=o.getPropertiesInternal(),n.resolution=a,e.featureId){const c=o.getId();c!==void 0?n.featureId=c:n.featureId=null}let l=0;for(let c=0;c<t;++c){const u=r[c](n);u&&(s[l]=u,l+=1)}return s.length=l,s}}function cfe(i,e){const t=i.length,r=new Array(t);for(let n=0;n<t;++n){const s=i[n],o="filter"in s?mo(s.filter,Hi,e):afe;let a;if(Array.isArray(s.style)){const l=s.style.length;a=new Array(l);for(let c=0;c<l;++c)a[c]=YP(s.style[c],e)}else a=[YP(s.style,e)];r[n]={filter:o,styles:a}}return function(n){const s=[];let o=!1;for(let a=0;a<t;++a){const l=r[a].filter;if(l(n)&&!(i[a].else&&o)){o=!0;for(const c of r[a].styles){const u=c(n);u&&s.push(u)}}}return s}}function YP(i,e){const t=Id(i,"",e),r=kd(i,"",e),n=ufe(i,e),s=hfe(i,e),o=dr(i,"z-index",e);if(!t&&!r&&!n&&!s&&!ru(i))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(i));const a=new ei;return function(l){let c=!0;if(t){const u=t(l);u&&(c=!1),a.setFill(u)}if(r){const u=r(l);u&&(c=!1),a.setStroke(u)}if(n){const u=n(l);u&&(c=!1),a.setText(u)}if(s){const u=s(l);u&&(c=!1),a.setImage(u)}return o&&a.setZIndex(o(l)),c?null:a}}function Id(i,e,t){let r;if(e+"fill-pattern-src"in i)r=mfe(i,e+"fill-",t);else{if(i[e+"fill-color"]==="none")return s=>null;r=ck(i,e+"fill-color",t)}if(!r)return null;const n=new ji;return function(s){const o=r(s);return o===nk?null:(n.setColor(o),n)}}function kd(i,e,t){const r=dr(i,e+"stroke-width",t),n=ck(i,e+"stroke-color",t);if(!r&&!n)return null;const s=js(i,e+"stroke-line-cap",t),o=js(i,e+"stroke-line-join",t),a=U7(i,e+"stroke-line-dash",t),l=dr(i,e+"stroke-line-dash-offset",t),c=dr(i,e+"stroke-miter-limit",t),u=new gr;return function(h){if(n){const d=n(h);if(d===nk)return null;u.setColor(d)}if(r&&u.setWidth(r(h)),s){const d=s(h);if(d!=="butt"&&d!=="round"&&d!=="square")throw new Error("Expected butt, round, or square line cap");u.setLineCap(d)}if(o){const d=o(h);if(d!=="bevel"&&d!=="round"&&d!=="miter")throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(d)}return a&&u.setLineDash(a(h)),l&&u.setLineDashOffset(l(h)),c&&u.setMiterLimit(c(h)),u}}function ufe(i,e){const t="text-",r=js(i,t+"value",e);if(!r)return null;const n=Id(i,t,e),s=Id(i,t+"background-",e),o=kd(i,t,e),a=kd(i,t+"background-",e),l=js(i,t+"font",e),c=dr(i,t+"max-angle",e),u=dr(i,t+"offset-x",e),h=dr(i,t+"offset-y",e),d=zc(i,t+"overflow",e),f=js(i,t+"placement",e),p=dr(i,t+"repeat",e),m=pv(i,t+"scale",e),g=zc(i,t+"rotate-with-view",e),v=dr(i,t+"rotation",e),y=js(i,t+"align",e),_=js(i,t+"justify",e),b=js(i,t+"baseline",e),w=zc(i,t+"keep-upright",e),S=U7(i,t+"padding",e),E=mv(i,t+"declutter-mode"),x=new fv({declutterMode:E});return function(T){if(x.setText(r(T)),n&&x.setFill(n(T)),s&&x.setBackgroundFill(s(T)),o&&x.setStroke(o(T)),a&&x.setBackgroundStroke(a(T)),l&&x.setFont(l(T)),c&&x.setMaxAngle(c(T)),u&&x.setOffsetX(u(T)),h&&x.setOffsetY(h(T)),d&&x.setOverflow(d(T)),f){const R=f(T);if(R!=="point"&&R!=="line")throw new Error("Expected point or line for text-placement");x.setPlacement(R)}if(p&&x.setRepeat(p(T)),m&&x.setScale(m(T)),g&&x.setRotateWithView(g(T)),v&&x.setRotation(v(T)),y){const R=y(T);if(R!=="left"&&R!=="center"&&R!=="right"&&R!=="end"&&R!=="start")throw new Error("Expected left, right, center, start, or end for text-align");x.setTextAlign(R)}if(_){const R=_(T);if(R!=="left"&&R!=="right"&&R!=="center")throw new Error("Expected left, right, or center for text-justify");x.setJustify(R)}if(b){const R=b(T);if(R!=="bottom"&&R!=="top"&&R!=="middle"&&R!=="alphabetic"&&R!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");x.setTextBaseline(R)}return S&&x.setPadding(S(T)),w&&x.setKeepUpright(w(T)),x}}function hfe(i,e){return"icon-src"in i?dfe(i,e):"shape-points"in i?ffe(i,e):"circle-radius"in i?pfe(i,e):null}function dfe(i,e){const t="icon-",r=t+"src",n=V7(i[r],r),s=Ym(i,t+"anchor",e),o=pv(i,t+"scale",e),a=dr(i,t+"opacity",e),l=Ym(i,t+"displacement",e),c=dr(i,t+"rotation",e),u=zc(i,t+"rotate-with-view",e),h=n$(i,t+"anchor-origin"),d=s$(i,t+"anchor-x-units"),f=s$(i,t+"anchor-y-units"),p=bfe(i,t+"color"),m=vfe(i,t+"cross-origin"),g=yfe(i,t+"offset"),v=n$(i,t+"offset-origin"),y=Um(i,t+"width"),_=Um(i,t+"height"),b=gfe(i,t+"size"),w=mv(i,t+"declutter-mode"),S=new Gu({src:n,anchorOrigin:h,anchorXUnits:d,anchorYUnits:f,color:p,crossOrigin:m,offset:g,offsetOrigin:v,height:_,width:y,size:b,declutterMode:w});return function(E){return a&&S.setOpacity(a(E)),l&&S.setDisplacement(l(E)),c&&S.setRotation(c(E)),u&&S.setRotateWithView(u(E)),o&&S.setScale(o(E)),s&&S.setAnchor(s(E)),S}}function ffe(i,e){const t="shape-",r=t+"points",n=t+"radius",s=UP(i[r],r),o=UP(i[n],n),a=Id(i,t,e),l=kd(i,t,e),c=pv(i,t+"scale",e),u=Ym(i,t+"displacement",e),h=dr(i,t+"rotation",e),d=zc(i,t+"rotate-with-view",e),f=Um(i,t+"radius2"),p=Um(i,t+"angle"),m=mv(i,t+"declutter-mode"),g=new dv({points:s,radius:o,radius2:f,angle:p,declutterMode:m});return function(v){return a&&g.setFill(a(v)),l&&g.setStroke(l(v)),u&&g.setDisplacement(u(v)),h&&g.setRotation(h(v)),d&&g.setRotateWithView(d(v)),c&&g.setScale(c(v)),g}}function pfe(i,e){const t="circle-",r=Id(i,t,e),n=kd(i,t,e),s=dr(i,t+"radius",e),o=pv(i,t+"scale",e),a=Ym(i,t+"displacement",e),l=dr(i,t+"rotation",e),c=zc(i,t+"rotate-with-view",e),u=mv(i,t+"declutter-mode"),h=new ys({radius:5,declutterMode:u});return function(d){return s&&h.setRadius(s(d)),r&&h.setFill(r(d)),n&&h.setStroke(n(d)),a&&h.setDisplacement(a(d)),l&&h.setRotation(l(d)),c&&h.setRotateWithView(c(d)),o&&h.setScale(o(d)),h}}function dr(i,e,t){if(!(e in i))return;const r=mo(i[e],qe,t);return function(n){return UP(r(n),e)}}function js(i,e,t){if(!(e in i))return null;const r=mo(i[e],ur,t);return function(n){return V7(r(n),e)}}function mfe(i,e,t){const r=js(i,e+"pattern-src",t),n=r$(i,e+"pattern-offset",t),s=r$(i,e+"pattern-size",t),o=ck(i,e+"color",t);return function(a){return{src:r(a),offset:n&&n(a),size:s&&s(a),color:o&&o(a)}}}function zc(i,e,t){if(!(e in i))return null;const r=mo(i[e],Hi,t);return function(n){const s=r(n);if(typeof s!="boolean")throw new Error(`Expected a boolean for ${e}`);return s}}function ck(i,e,t){if(!(e in i))return null;const r=mo(i[e],xn,t);return function(n){return X7(r(n),e)}}function U7(i,e,t){if(!(e in i))return null;const r=mo(i[e],tl,t);return function(n){return _f(r(n),e)}}function Ym(i,e,t){if(!(e in i))return null;const r=mo(i[e],tl,t);return function(n){const s=_f(r(n),e);if(s.length!==2)throw new Error(`Expected two numbers for ${e}`);return s}}function r$(i,e,t){if(!(e in i))return null;const r=mo(i[e],tl,t);return function(n){return K7(r(n),e)}}function pv(i,e,t){if(!(e in i))return null;const r=mo(i[e],tl|qe,t);return function(n){return _fe(r(n),e)}}function Um(i,e){const t=i[e];if(t!==void 0){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}}function gfe(i,e){const t=i[e];if(t!==void 0){if(typeof t=="number")return fr(t);if(!Array.isArray(t))throw new Error(`Expected a number or size array for ${e}`);if(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return t}}function vfe(i,e){const t=i[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}}function n$(i,e){const t=i[e];if(t!==void 0){if(t!=="bottom-left"&&t!=="bottom-right"&&t!=="top-left"&&t!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return t}}function s$(i,e){const t=i[e];if(t!==void 0){if(t!=="pixels"&&t!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return t}}function yfe(i,e){const t=i[e];if(t!==void 0)return _f(t,e)}function mv(i,e){const t=i[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);if(t!=="declutter"&&t!=="obstacle"&&t!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return t}}function bfe(i,e){const t=i[e];if(t!==void 0)return X7(t,e)}function _f(i,e){if(!Array.isArray(i))throw new Error(`Expected an array for ${e}`);const t=i.length;for(let r=0;r<t;++r)if(typeof i[r]!="number")throw new Error(`Expected an array of numbers for ${e}`);return i}function V7(i,e){if(typeof i!="string")throw new Error(`Expected a string for ${e}`);return i}function UP(i,e){if(typeof i!="number")throw new Error(`Expected a number for ${e}`);return i}function X7(i,e){if(typeof i=="string")return i;const t=_f(i,e),r=t.length;if(r<3||r>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return t}function K7(i,e){const t=_f(i,e);if(t.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return t}function _fe(i,e){return typeof i=="number"?i:K7(i,e)}const o$={RENDER_ORDER:"renderOrder"};class Z7 extends uv{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(o$.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){const r=this.getDeclutter();r in e.declutter||(e.declutter[r]=new $7(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(o$.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?H7:e;const t=wfe(e);this.styleFunction_=e===null?void 0:sfe(t),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}}function wfe(i){if(i===void 0)return H7;if(!i)return null;if(typeof i=="function"||i instanceof ei)return i;if(!Array.isArray(i))return i$([i]);if(i.length===0)return[];const e=i.length,t=i[0];if(t instanceof ei){const n=new Array(e);for(let s=0;s<e;++s){const o=i[s];if(!(o instanceof ei))throw new Error("Expected a list of style instances");n[s]=o}return n}if("style"in t){const n=new Array(e);for(let s=0;s<e;++s){const o=i[s];if(!("style"in o))throw new Error("Expected a list of rules with a style property");n[s]=o}return lfe(n)}return i$(i)}class Q7 extends Gn{constructor(e,t,r,n){super(e),this.inversePixelTransform=t,this.frameState=r,this.context=n}}class xfe extends Xg{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){_e()}calculateMatrices2D(e){const t=e.viewState,r=e.coordinateToPixelTransform,n=e.pixelToCoordinateTransform;ho(r,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),y7(n,r)}forEachFeatureAtCoordinate(e,t,r,n,s,o,a,l){let c;const u=t.viewState;function h(b,w,S,E){return s.call(o,w,b?S:null,E)}const d=u.projection,f=l7(e.slice(),d),p=[[0,0]];if(d.canWrapX()&&n){const b=d.getExtent(),w=ct(b);p.push([-w,0],[w,0])}const m=t.layerStatesArray,g=m.length,v=[],y=[];for(let b=0;b<p.length;b++)for(let w=g-1;w>=0;--w){const S=m[w],E=S.layer;if(E.hasRenderer()&&rk(S,u)&&a.call(l,E)){const x=E.getRenderer(),T=E.getSource();if(x&&T){const R=T.getWrapX()?f:e,P=h.bind(null,S.managed);y[0]=R[0]+p[b][0],y[1]=R[1]+p[b][1],c=x.forEachFeatureAtCoordinate(y,t,r,P,v)}if(c)return c}}if(v.length===0)return;const _=1/v.length;return v.forEach((b,w)=>b.distanceSq+=w*_),v.sort((b,w)=>b.distanceSq-w.distanceSq),v.some(b=>c=b.callback(b.feature,b.layer,b.geometry)),c}hasFeatureAtCoordinate(e,t,r,n,s,o){return this.forEachFeatureAtCoordinate(e,t,r,n,Jo,this,s,o)!==void 0}getMap(){return this.map_}renderFrame(e){_e()}scheduleExpireIconCache(e){Jr.canExpireCache()&&e.postRenderFunctions.push(Sfe)}}function Sfe(i,e){Jr.expire()}class Efe extends xfe{constructor(e){super(e),this.fontChangeListenerKey_=We(yc,iu.PROPERTYCHANGE,e.redrawText,e),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=av+" ol-layers";const r=e.getViewport();r.insertBefore(this.element_,r.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const r=this.getMap();if(r.hasListener(e)){const n=new Q7(e,void 0,t);r.dispatchEvent(n)}}disposeInternal(){St(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(Qr.PRECOMPOSE,e);const t=e.layerStatesArray.sort((a,l)=>a.zIndex-l.zIndex);t.some(a=>a.layer instanceof Z7&&a.layer.getDeclutter())&&(e.declutter={});const n=e.viewState;this.children_.length=0;const s=[];let o=null;for(let a=0,l=t.length;a<l;++a){const c=t[a];e.layerIndex=a;const u=c.layer,h=u.getSourceState();if(!rk(c,n)||h!="ready"&&h!="undefined"){u.unrender();continue}const d=u.render(e,o);d&&(d!==o&&(this.children_.push(d),o=d),s.push(c))}this.declutter(e,s),Nhe(this.element_,this.children_),this.dispatchRenderEvent(Qr.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let r=t.length-1;r>=0;--r){const n=t[r],s=n.layer;s.getDeclutter()&&s.renderDeclutter(e,n)}t.forEach(r=>r.layer.renderDeferred(e))}}}function J7(i){if(i instanceof uv){i.setMapInternal(null);return}i instanceof ju&&i.getLayers().forEach(J7)}function eZ(i,e){if(i instanceof uv){i.setMapInternal(e);return}if(i instanceof ju){const t=i.getLayers().getArray();for(let r=0,n=t.length;r<n;++r)eZ(t[r],e)}}let Cfe=class extends Wn{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=Tfe(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:cue,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=On(),this.pixelToCoordinateTransform_=On(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||qhe(),this.interactions=t.interactions||ode({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new due(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Fi.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Fi.VIEW,this.handleViewChanged_),this.addChangeListener(Fi.SIZE,this.handleSizeChanged_),this.addChangeListener(Fi.TARGET,this.handleTargetChanged_),this.setProperties(t.values);const r=this;e.view&&!(e.view instanceof Jn)&&e.view.then(function(n){r.setView(new Jn(n))}),this.controls.addEventListener(vi.ADD,n=>{n.element.setMap(this)}),this.controls.addEventListener(vi.REMOVE,n=>{n.element.setMap(null)}),this.interactions.addEventListener(vi.ADD,n=>{n.element.setMap(this)}),this.interactions.addEventListener(vi.REMOVE,n=>{n.element.setMap(null)}),this.overlays_.addEventListener(vi.ADD,n=>{this.addOverlayInternal_(n.element)}),this.overlays_.addEventListener(vi.REMOVE,n=>{const s=n.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],n.element.setMap(null)}),this.controls.forEach(n=>{n.setMap(this)}),this.interactions.forEach(n=>{n.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){eZ(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,r){if(!this.frameState_||!this.renderer_)return;const n=this.getCoordinateFromPixelInternal(e);r=r!==void 0?r:{};const s=r.hitTolerance!==void 0?r.hitTolerance:0,o=r.layerFilter!==void 0?r.layerFilter:Jo,a=r.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,s,a,t,null,o,null)}getFeaturesAtPixel(e,t){const r=[];return this.forEachFeatureAtPixel(e,function(n){r.push(n)},t),r}getAllLayers(){const e=[];function t(r){r.forEach(function(n){n instanceof ju?t(n.getLayers()):e.push(n)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const r=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};const n=t.layerFilter!==void 0?t.layerFilter:Jo,s=t.hitTolerance!==void 0?t.hitTolerance:0,o=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,s,o,n,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const r=this.viewport_.getBoundingClientRect(),n=this.getSize(),s=r.width/n[0],o=r.height/n[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-r.left)/s,(a.clientY-r.top)/o]}getTarget(){return this.get(Fi.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return $P(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?gi(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Fi.LAYERGROUP)}setLayers(e){const t=this.getLayerGroup();if(e instanceof Sn){t.setLayers(e);return}const r=t.getLayers();r.clear(),r.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,r=e.length;t<r;++t){const n=e[t];if(!n.visible)continue;const s=n.layer.getRenderer();if(s&&!s.ready)return!0;const o=n.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const t=bn(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?gi(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Fi.SIZE)}getView(){return this.get(Fi.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,r,n){return fue(this.frameState_,e,t,r,n)}handleBrowserEvent(e,t){t=t||e.type;const r=new Fs(t,this,e);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,r=t.type;if(r===OP.POINTERDOWN||r===xe.WHEEL||r===xe.KEYDOWN){const n=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():n,o=t.target,a=s instanceof ShadowRoot?s.host===o?s.host.ownerDocument:s:s===n?n.documentElement:s;if(this.overlayContainerStopEvent_.contains(o)||!a.contains(o))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const n=this.getInteractions().getArray().slice();for(let s=n.length-1;s>=0;s--){const o=n[s];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let n=this.maxTilesLoading_,s=n;if(e){const o=e.viewHints;if(o[qi.ANIMATING]||o[qi.INTERACTING]){const a=Date.now()-e.time>8;n=a?0:8,s=a?0:2}}t.getTilesLoading()<n&&(t.reprioritize(),t.loadMoreTiles(n,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(Qr.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Qr.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new gc(Ls.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new gc(Ls.LOADSTART,this,e))));const r=this.postRenderFunctions_;if(e)for(let n=0,s=r.length;n<s;++n)r[n](this,e);r.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let r=0,n=this.targetChangeHandlerKeys_.length;r<n;++r)St(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(xe.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(xe.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const r=this.targetElement_.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.unobserve(r.host),this.setSize(void 0)}const e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Efe(this)),this.mapBrowserEventHandler_=new uue(this,this.moveTolerance_);for(const s in rt)this.mapBrowserEventHandler_.addEventListener(rt[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(xe.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(xe.WHEEL,this.boundHandleBrowserEvent_,Z9?{passive:!1}:!1);let r;if(this.keyboardEventTarget_)r=this.keyboardEventTarget_;else{const s=t.getRootNode();r=s instanceof ShadowRoot?s.host:t}this.targetChangeHandlerKeys_=[We(r,xe.KEYDOWN,this.handleBrowserEvent,this),We(r,xe.KEYPRESS,this.handleBrowserEvent,this)];const n=t.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.observe(n.host),this.resizeObserver_.observe(t)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(St(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(St(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=We(e,iu.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=We(e,xe.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(St),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Ao("addlayer",e)),this.layerGroupPropertyListenerKeys_=[We(e,iu.PROPERTYCHANGE,this.render,this),We(e,xe.CHANGE,this.render,this),We(e,"addlayer",this.handleLayerAdd_,this),We(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;const e=this.frameState_.layerStatesArray;for(let t=0,r=e.length;t<r;++t){const n=e[t].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){J7(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),r=this.getView(),n=this.frameState_;let s=null;if(t!==void 0&&VN(t)&&r&&r.isDef()){const o=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=r.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:kP(a.center,a.resolution,a.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:Ae(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;s.nextExtent=kP(a.nextCenter,a.nextResolution,l,t)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),n&&(!this.previousExtent_||!tv(this.previousExtent_)&&!xd(s.extent,this.previousExtent_))&&(this.dispatchEvent(new gc(Ls.MOVESTART,this,n)),this.previousExtent_=yf(this.previousExtent_)),this.previousExtent_&&!s.viewHints[qi.ANIMATING]&&!s.viewHints[qi.INTERACTING]&&!xd(s.extent,this.previousExtent_)&&(this.dispatchEvent(new gc(Ls.MOVEEND,this,s)),Q9(s.extent,this.previousExtent_))),this.dispatchEvent(new gc(Ls.POSTRENDER,this,s)),this.renderComplete_=(this.hasListener(Ls.LOADSTART)||this.hasListener(Ls.LOADEND)||this.hasListener(Qr.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new Ao("removelayer",t)),this.set(Fi.LAYERGROUP,e)}setSize(e){this.set(Fi.SIZE,e)}setTarget(e){this.set(Fi.TARGET,e)}setView(e){if(!e||e instanceof Jn){this.set(Fi.VIEW,e);return}this.set(Fi.VIEW,new Jn);const t=this;e.then(function(r){t.setView(new Jn(r))})}updateSize(){const e=this.getTargetElement();let t;if(e){const n=getComputedStyle(e),s=e.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),o=e.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);!isNaN(s)&&!isNaN(o)&&(t=[Math.max(0,s),Math.max(0,o)],!VN(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&u7("No map visible because the map container's width or height are 0."))}const r=this.getSize();t&&(!r||!ia(t,r))&&(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){const t=this.getView();t&&t.setViewportSize(e)}};function Tfe(i){let e=null;i.keyboardEventTarget!==void 0&&(e=typeof i.keyboardEventTarget=="string"?document.getElementById(i.keyboardEventTarget):i.keyboardEventTarget);const t={},r=i.layers&&typeof i.layers.getLayers=="function"?i.layers:new ju({layers:i.layers});t[Fi.LAYERGROUP]=r,t[Fi.TARGET]=i.target,t[Fi.VIEW]=i.view instanceof Jn?i.view:new Jn;let n;i.controls!==void 0&&(Array.isArray(i.controls)?n=new Sn(i.controls.slice()):(nt(typeof i.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),n=i.controls));let s;i.interactions!==void 0&&(Array.isArray(i.interactions)?s=new Sn(i.interactions.slice()):(nt(typeof i.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),s=i.interactions));let o;return i.overlays!==void 0?Array.isArray(i.overlays)?o=new Sn(i.overlays.slice()):(nt(typeof i.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),o=i.overlays):o=new Sn,{controls:n,interactions:s,keyboardEventTarget:e,overlays:o,values:t}}class ki extends Wn{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new ki(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const r=this.getStyle();return r&&e.setStyle(r),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(St(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=We(e,xe.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?Ofe(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function Ofe(i){if(typeof i=="function")return i;let e;return Array.isArray(i)?e=i:(nt(typeof i.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[i]),function(){return e}}class gv extends ra{constructor(e,t,r){super(),r!==void 0&&t===void 0?this.setFlatCoordinates(r,e):(t=t||0,this.setCenterAndRadius(e,t,r))}clone(){const e=new gv(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,t,r,n){const s=this.flatCoordinates,o=e-s[0],a=t-s[1],l=o*o+a*a;if(l<n){if(l===0)for(let c=0;c<this.stride;++c)r[c]=s[c];else{const c=this.getRadius()/Math.sqrt(l);r[0]=s[0]+c*o,r[1]=s[1]+c*a;for(let u=2;u<this.stride;++u)r[u]=s[u]}return r.length=this.stride,l}return n}containsXY(e,t){const r=this.flatCoordinates,n=e-r[0],s=t-r[1];return n*n+s*s<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){const t=this.flatCoordinates,r=t[this.stride]-t[0];return uo(t[0]-r,t[1]-r,t[0]+r,t[1]+r,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t}getType(){return"Circle"}intersectsExtent(e){const t=this.getExtent();if(Yi(e,t)){const r=this.getCenter();return e[0]<=r[0]&&e[2]>=r[0]||e[1]<=r[1]&&e[3]>=r[1]?!0:OI(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){const t=this.stride,r=this.flatCoordinates[t]-this.flatCoordinates[0],n=e.slice();n[t]=n[0]+r;for(let s=1;s<t;++s)n[t+s]=e[s];this.setFlatCoordinates(this.layout,n),this.changed()}setCenterAndRadius(e,t,r){this.setLayout(r,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const n=this.flatCoordinates;let s=x7(n,0,e,this.stride);n[s++]=n[0]+t;for(let o=1,a=this.stride;o<a;++o)n[s++]=n[o];n.length=s,this.changed()}getCoordinates(){return null}setCoordinates(e,t){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,t){const r=this.getCenter(),n=this.getStride();this.setCenter(LI(r,0,r.length,n,e,t,r)),this.changed()}}gv.prototype.transform;class il extends b7{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(St),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let t=0,r=e.length;t<r;++t)this.changeEventsKeys_.push(We(e[t],xe.CHANGE,this.changed,this))}clone(){const e=new il(tb(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,t,r,n){if(n<El(this.getExtent(),e,t))return n;const s=this.geometries_;for(let o=0,a=s.length;o<a;++o)n=s[o].closestPointXY(e,t,r,n);return n}containsXY(e,t){const r=this.geometries_;for(let n=0,s=r.length;n<s;++n)if(r[n].containsXY(e,t))return!0;return!1}computeExtent(e){yf(e);const t=this.geometries_;for(let r=0,n=t.length;r<n;++r)J9(e,t[r].getExtent());return e}getGeometries(){return tb(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let r=0,n=t.length;r<n;++r)t[r].getType()===this.getType()?e=e.concat(t[r].getGeometriesArrayRecursive()):e.push(t[r]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],r=this.geometries_;let n=!1;for(let s=0,o=r.length;s<o;++s){const a=r[s],l=a.getSimplifiedGeometry(e);t.push(l),l!==a&&(n=!0)}return n?new il(t):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let r=0,n=t.length;r<n;++r)if(t[r].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,t){const r=this.geometries_;for(let n=0,s=r.length;n<s;++n)r[n].rotate(e,t);this.changed()}scale(e,t,r){r||(r=gs(this.getExtent()));const n=this.geometries_;for(let s=0,o=n.length;s<o;++s)n[s].scale(e,t,r);this.changed()}setGeometries(e){this.setGeometriesArray(tb(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let r=0,n=t.length;r<n;++r)t[r].applyTransform(e);this.changed()}translate(e,t){const r=this.geometries_;for(let n=0,s=r.length;n<s;++n)r[n].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function tb(i){return i.map(e=>e.clone())}function Vm(i,e,t,r,n,s,o){let a,l;const c=(t-e)/r;if(c===1)a=e;else if(c===2)a=e,l=n;else if(c!==0){let u=i[e],h=i[e+1],d=0;const f=[0];for(let g=e+r;g<t;g+=r){const v=i[g],y=i[g+1];d+=Math.sqrt((v-u)*(v-u)+(y-h)*(y-h)),f.push(d),u=v,h=y}const p=n*d,m=eue(f,p);m<0?(l=(p-f[-m-2])/(f[-m-1]-f[-m-2]),a=e+(-m-2)*r):a=e+m*r}o=o>1?o:2,s=s||new Array(o);for(let u=0;u<o;++u)s[u]=a===void 0?NaN:l===void 0?i[a+u]:Pr(i[a+u],i[a+r+u],l);return s}function VP(i,e,t,r,n,s){if(t==e)return null;let o;if(n<i[e+r-1])return s?(o=i.slice(e,e+r),o[r-1]=n,o):null;if(i[t-1]<n)return s?(o=i.slice(t-r,t),o[r-1]=n,o):null;if(n==i[e+r-1])return i.slice(e,e+r);let a=e/r,l=t/r;for(;a<l;){const d=a+l>>1;n<i[(d+1)*r-1]?l=d:a=d+1}const c=i[a*r-1];if(n==c)return i.slice((a-1)*r,(a-1)*r+r);const u=i[(a+1)*r-1],h=(n-c)/(u-c);o=[];for(let d=0;d<r-1;++d)o.push(Pr(i[(a-1)*r+d],i[a*r+d],h));return o.push(n),o}function Rfe(i,e,t,r,n,s,o){if(o)return VP(i,e,t[t.length-1],r,n,s);let a;if(n<i[r-1])return s?(a=i.slice(0,r),a[r-1]=n,a):null;if(i[i.length-1]<n)return s?(a=i.slice(i.length-r),a[r-1]=n,a):null;for(let l=0,c=t.length;l<c;++l){const u=t[l];if(e!=u){if(n<i[e+r-1])return null;if(n<=i[u-1])return VP(i,e,u,r,n,!1);e=u}}return null}function uk(i,e,t,r){let n=i[e],s=i[e+1],o=0;for(let a=e+r;a<t;a+=r){const l=i[a],c=i[a+1];o+=Math.sqrt((l-n)*(l-n)+(c-s)*(c-s)),n=l,s=c}return o}class Rn extends ra{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendCoordinate(e){rn(this.flatCoordinates,e),this.changed()}clone(){const e=new Rn(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,r,n){return n<El(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(qI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),GI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,r,n))}forEachSegment(e){return C7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return this.layout!="XYM"&&this.layout!="XYZM"?null:(t=t!==void 0?t:!1,VP(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return jo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return Vm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return uk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=sv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new Rn(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return ov(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,this.getExtent())}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=nv(this.flatCoordinates,0,e,this.stride),this.changed()}}class cu extends ra{constructor(e,t,r){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(t!==void 0&&r)this.setFlatCoordinates(t,e),this.ends_=r;else{const n=e,s=[],o=[];for(let l=0,c=n.length;l<c;++l){const u=n[l];rn(s,u.getFlatCoordinates()),o.push(s.length)}const a=n.length===0?this.getLayout():n[0].getLayout();this.setFlatCoordinates(a,s),this.ends_=o}}appendLineString(e){rn(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new cu(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,r,n){return n<El(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(jI(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),WI(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,r,n))}getCoordinateAtM(e,t,r){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(t=t!==void 0?t:!1,r=r!==void 0?r:!1,Rfe(this.flatCoordinates,0,this.ends_,this.stride,e,t,r))}getCoordinates(){return Cd(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Rn(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,r=this.layout,n=[];let s=0;for(let o=0,a=t.length;o<a;++o){const l=t[o],c=new Rn(e.slice(s,l),r);n.push(c),s=l}return n}getLength(){const e=this.ends_;let t=0,r=0;for(let n=0,s=e.length;n<s;++n)r+=uk(this.flatCoordinates,t,e[n],this.stride),t=e[n];return r}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let r=0;const n=this.ends_,s=this.stride;for(let o=0,a=n.length;o<a;++o){const l=n[o],c=Vm(t,r,l,s,.5);rn(e,c),r=l}return e}getSimplifiedGeometryInternal(e){const t=[],r=[];return t.length=S7(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,r),new cu(t,"XY",r)}getType(){return"MultiLineString"}intersectsExtent(e){return vhe(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=BI(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}class wf extends ra{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){rn(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new wf(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,r,n){if(n<El(this.getExtent(),e,t))return n;const s=this.flatCoordinates,o=this.stride;for(let a=0,l=s.length;a<l;a+=o){const c=Vs(e,t,s[a],s[a+1]);if(c<n){n=c;for(let u=0;u<o;++u)r[u]=s[a+u];r.length=o}}return n}getCoordinates(){return jo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new Qi(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,r=this.stride,n=[];for(let s=0,o=e.length;s<o;s+=r){const a=new Qi(e.slice(s,s+r),t);n.push(a)}return n}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,r=this.stride;for(let n=0,s=t.length;n<s;n+=r){const o=t[n],a=t[n+1];if(EI(e,o,a))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=nv(this.flatCoordinates,0,e,this.stride),this.changed()}}function tZ(i,e,t,r){const n=[];let s=qr();for(let o=0,a=t.length;o<a;++o){const l=t[o];s=TI(i,e,l[0],r),n.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=l[l.length-1]}return n}class uu extends ra{constructor(e,t,r){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){const n=e,s=[],o=[];for(let a=0,l=n.length;a<l;++a){const c=n[a],u=s.length,h=c.getEnds();for(let d=0,f=h.length;d<f;++d)h[d]+=u;rn(s,c.getFlatCoordinates()),o.push(h)}t=n.length===0?this.getLayout():n[0].getLayout(),e=s,r=o}t!==void 0&&r?(this.setFlatCoordinates(t,e),this.endss_=r):this.setCoordinates(e,t)}appendPolygon(e){let t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{const r=this.flatCoordinates.length;rn(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let n=0,s=t.length;n<s;++n)t[n]+=r}this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let n=0;n<e;++n)t[n]=this.endss_[n].slice();const r=new uu(this.flatCoordinates.slice(),this.layout,t);return r.applyProperties(this),r}closestPointXY(e,t,r,n){return n<El(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(uhe(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),hhe(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,r,n))}containsXY(e,t){return ghe(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return che(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),qN(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,FP(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=tZ(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=E7(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new wf(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;_he(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=qN(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],r=[];return t.length=phe(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,r),new uu(t,"XY",r)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(e===0)t=0;else{const s=this.endss_[e-1];t=s[s.length-1]}const r=this.endss_[e].slice(),n=r[r.length-1];if(t!==0)for(let s=0,o=r.length;s<o;++s)r[s]-=t;return new vs(this.flatCoordinates.slice(t,n),this.layout,r)}getPolygons(){const e=this.layout,t=this.flatCoordinates,r=this.endss_,n=[];let s=0;for(let o=0,a=r.length;o<a;++o){const l=r[o].slice(),c=l[l.length-1];if(s!==0)for(let h=0,d=l.length;h<d;++h)l[h]-=s;const u=new vs(t.slice(s,c),e,l);n.push(u),s=c}return n}getType(){return"MultiPolygon"}intersectsExtent(e){return yhe(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const r=dhe(this.flatCoordinates,0,e,this.stride,this.endss_);if(r.length===0)this.flatCoordinates.length=0;else{const n=r[r.length-1];this.flatCoordinates.length=n.length===0?0:n[n.length-1]}this.changed()}}class iZ{drawCustom(e,t,r,n,s){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,r){}drawFeature(e,t,r){}drawGeometryCollection(e,t,r){}drawLineString(e,t,r){}drawMultiLineString(e,t,r){}drawMultiPoint(e,t,r){}drawMultiPolygon(e,t,r){}drawPoint(e,t,r){}drawPolygon(e,t,r){}drawText(e,t,r){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}}const pe={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},zp=[pe.FILL],Go=[pe.STROKE],ka=[pe.BEGIN_PATH],a$=[pe.CLOSE_PATH];class xf extends iZ{constructor(e,t,r,n){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=n,this.maxLineWidth=0,this.resolution=r,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return t==1?e:e.map(function(r){return r*t})}appendFlatPointCoordinates(e,t){const r=this.getBufferedMaxExtent(),n=this.tmpCoordinate_,s=this.coordinates;let o=s.length;for(let a=0,l=e.length;a<l;a+=t)n[0]=e[a],n[1]=e[a+1],nu(r,n)&&(s[o++]=n[0],s[o++]=n[1]);return o}appendFlatLineCoordinates(e,t,r,n,s,o){const a=this.coordinates;let l=a.length;const c=this.getBufferedMaxExtent();o&&(t+=n);let u=e[t],h=e[t+1];const d=this.tmpCoordinate_;let f=!0,p,m,g;for(p=t+n;p<r;p+=n)d[0]=e[p],d[1]=e[p+1],g=DP(c,d),g!==m?(f&&(a[l++]=u,a[l++]=h,f=!1),a[l++]=d[0],a[l++]=d[1]):g===mi.INTERSECTING?(a[l++]=d[0],a[l++]=d[1],f=!1):f=!0,u=d[0],h=d[1],m=g;return(s&&f||p===t+n)&&(a[l++]=u,a[l++]=h),l}drawCustomCoordinates_(e,t,r,n,s){for(let o=0,a=r.length;o<a;++o){const l=r[o],c=this.appendFlatLineCoordinates(e,t,l,n,!1,!1);s.push(c),t=l}return t}drawCustom(e,t,r,n,s){this.beginGeometry(e,t,s);const o=e.getType(),a=e.getStride(),l=this.coordinates.length;let c,u,h,d,f;switch(o){case"MultiPolygon":c=e.getOrientedFlatCoordinates(),d=[];const p=e.getEndss();f=0;for(let m=0,g=p.length;m<g;++m){const v=[];f=this.drawCustomCoordinates_(c,f,p[m],a,v),d.push(v)}this.instructions.push([pe.CUSTOM,l,d,e,r,FP,s]),this.hitDetectionInstructions.push([pe.CUSTOM,l,d,e,n||r,FP,s]);break;case"Polygon":case"MultiLineString":h=[],c=o=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),f=this.drawCustomCoordinates_(c,0,e.getEnds(),a,h),this.instructions.push([pe.CUSTOM,l,h,e,r,Cd,s]),this.hitDetectionInstructions.push([pe.CUSTOM,l,h,e,n||r,Cd,s]);break;case"LineString":case"Circle":c=e.getFlatCoordinates(),u=this.appendFlatLineCoordinates(c,0,c.length,a,!1,!1),this.instructions.push([pe.CUSTOM,l,u,e,r,jo,s]),this.hitDetectionInstructions.push([pe.CUSTOM,l,u,e,n||r,jo,s]);break;case"MultiPoint":c=e.getFlatCoordinates(),u=this.appendFlatPointCoordinates(c,a),u>l&&(this.instructions.push([pe.CUSTOM,l,u,e,r,jo,s]),this.hitDetectionInstructions.push([pe.CUSTOM,l,u,e,n||r,jo,s]));break;case"Point":c=e.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),u=this.coordinates.length,this.instructions.push([pe.CUSTOM,l,u,e,r,void 0,s]),this.hitDetectionInstructions.push([pe.CUSTOM,l,u,e,n||r,void 0,s]);break}this.endGeometry(t)}beginGeometry(e,t,r){this.beginGeometryInstruction1_=[pe.BEGIN_GEOMETRY,t,0,e,r],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[pe.BEGIN_GEOMETRY,t,0,e,r],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let t;const r=e.length;let n,s,o=-1;for(t=0;t<r;++t)n=e[t],s=n[0],s==pe.END_GEOMETRY?o=t:s==pe.BEGIN_GEOMETRY&&(n[2]=t,iue(this.hitDetectionInstructions,o,t),o=-1)}fillStyleToState(e,t={}){if(e){const r=e.getColor();t.fillPatternScale=r&&typeof r=="object"&&"src"in r?this.pixelRatio:1,t.fillStyle=rs(r||hr)}else t.fillStyle=void 0;return t}strokeStyleToState(e,t={}){if(e){const r=e.getColor();t.strokeStyle=rs(r||Rd);const n=e.getLineCap();t.lineCap=n!==void 0?n:au;const s=e.getLineDash();t.lineDash=s?s.slice():Xs;const o=e.getLineDashOffset();t.lineDashOffset=o||Ks;const a=e.getLineJoin();t.lineJoin=a!==void 0?a:lu;const l=e.getWidth();t.lineWidth=l!==void 0?l:Dd;const c=e.getMiterLimit();t.miterLimit=c!==void 0?c:Od,t.lineWidth>this.maxLineWidth&&(this.maxLineWidth=t.lineWidth,this.bufferedMaxExtent_=null)}else t.strokeStyle=void 0,t.lineCap=void 0,t.lineDash=null,t.lineDashOffset=void 0,t.lineJoin=void 0,t.lineWidth=void 0,t.miterLimit=void 0;return t}setFillStrokeStyle(e,t){const r=this.state;this.fillStyleToState(e,r),this.strokeStyleToState(t,r)}createFill(e){const t=e.fillStyle,r=[pe.SET_FILL_STYLE,t];return typeof t!="string"&&r.push(e.fillPatternScale),r}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[pe.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const r=e.fillStyle;(typeof r!="string"||e.currentFillStyle!=r)&&(this.instructions.push(t.call(this,e)),e.currentFillStyle=r)}updateStrokeStyle(e,t){const r=e.strokeStyle,n=e.lineCap,s=e.lineDash,o=e.lineDashOffset,a=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=r||e.currentLineCap!=n||s!=e.currentLineDash&&!ia(e.currentLineDash,s)||e.currentLineDashOffset!=o||e.currentLineJoin!=a||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(t.call(this,e),e.currentStrokeStyle=r,e.currentLineCap=n,e.currentLineDash=s,e.currentLineDashOffset=o,e.currentLineJoin=a,e.currentLineWidth=l,e.currentMiterLimit=c)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[pe.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Q9(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;Zg(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class Pfe extends xf{constructor(e,t,r,n){super(e,t,r,n),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,r){if(!this.image_||this.maxExtent&&!nu(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,r);const n=e.getFlatCoordinates(),s=e.getStride(),o=this.coordinates.length,a=this.appendFlatPointCoordinates(n,s);this.instructions.push([pe.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([pe.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,r){if(!this.image_)return;this.beginGeometry(e,t,r);const n=e.getFlatCoordinates(),s=[];for(let l=0,c=n.length;l<c;l+=e.getStride())(!this.maxExtent||nu(this.maxExtent,n.slice(l,l+2)))&&s.push(n[l],n[l+1]);const o=this.coordinates.length,a=this.appendFlatPointCoordinates(s,2);this.instructions.push([pe.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([pe.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const r=e.getAnchor(),n=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=n[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=n[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}class Dfe extends xf{constructor(e,t,r,n){super(e,t,r,n)}drawFlatCoordinates_(e,t,r,n){const s=this.coordinates.length,o=this.appendFlatLineCoordinates(e,t,r,n,!1,!1),a=[pe.MOVE_TO_LINE_TO,s,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),r}drawLineString(e,t,r){const n=this.state,s=n.strokeStyle,o=n.lineWidth;if(s===void 0||o===void 0)return;this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t,r),this.hitDetectionInstructions.push([pe.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Xs,Ks],ka);const a=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(a,0,a.length,l),this.hitDetectionInstructions.push(Go),this.endGeometry(t)}drawMultiLineString(e,t,r){const n=this.state,s=n.strokeStyle,o=n.lineWidth;if(s===void 0||o===void 0)return;this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t,r),this.hitDetectionInstructions.push([pe.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Xs,Ks],ka);const a=e.getEnds(),l=e.getFlatCoordinates(),c=e.getStride();let u=0;for(let h=0,d=a.length;h<d;++h)u=this.drawFlatCoordinates_(l,u,a[h],c);this.hitDetectionInstructions.push(Go),this.endGeometry(t)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Go),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Go),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(ka)}}class l$ extends xf{constructor(e,t,r,n){super(e,t,r,n)}drawFlatCoordinatess_(e,t,r,n){const s=this.state,o=s.fillStyle!==void 0,a=s.strokeStyle!==void 0,l=r.length;this.instructions.push(ka),this.hitDetectionInstructions.push(ka);for(let c=0;c<l;++c){const u=r[c],h=this.coordinates.length,d=this.appendFlatLineCoordinates(e,t,u,n,!0,!a),f=[pe.MOVE_TO_LINE_TO,h,d];this.instructions.push(f),this.hitDetectionInstructions.push(f),a&&(this.instructions.push(a$),this.hitDetectionInstructions.push(a$)),t=u}return o&&(this.instructions.push(zp),this.hitDetectionInstructions.push(zp)),a&&(this.instructions.push(Go),this.hitDetectionInstructions.push(Go)),t}drawCircle(e,t,r){const n=this.state,s=n.fillStyle,o=n.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,r),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([pe.SET_FILL_STYLE,hr]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([pe.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Xs,Ks]);const a=e.getFlatCoordinates(),l=e.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,l,!1,!1);const u=[pe.CIRCLE,c];this.instructions.push(ka,u),this.hitDetectionInstructions.push(ka,u),n.fillStyle!==void 0&&(this.instructions.push(zp),this.hitDetectionInstructions.push(zp)),n.strokeStyle!==void 0&&(this.instructions.push(Go),this.hitDetectionInstructions.push(Go)),this.endGeometry(t)}drawPolygon(e,t,r){const n=this.state,s=n.fillStyle,o=n.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,r),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([pe.SET_FILL_STYLE,hr]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([pe.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Xs,Ks]);const a=e.getEnds(),l=e.getOrientedFlatCoordinates(),c=e.getStride();this.drawFlatCoordinatess_(l,0,a,c),this.endGeometry(t)}drawMultiPolygon(e,t,r){const n=this.state,s=n.fillStyle,o=n.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,r),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([pe.SET_FILL_STYLE,hr]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([pe.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Xs,Ks]);const a=e.getEndss(),l=e.getOrientedFlatCoordinates(),c=e.getStride();let u=0;for(let h=0,d=a.length;h<d;++h)u=this.drawFlatCoordinatess_(l,u,a[h],c);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const t=this.coordinates;for(let r=0,n=t.length;r<n;++r)t[r]=Ea(t[r],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;this.updateFillStyle(e,this.createFill),this.updateStrokeStyle(e,this.applyStroke)}}function Ife(i,e,t,r,n){const s=[];let o=t,a=0,l=e.slice(t,2);for(;a<i&&o+n<r;){const[c,u]=l.slice(-2),h=e[o+n],d=e[o+n+1],f=Math.sqrt((h-c)*(h-c)+(d-u)*(d-u));if(a+=f,a>=i){const p=(i-a+f)/f,m=Pr(c,h,p),g=Pr(u,d,p);l.push(m,g),s.push(l),l=[m,g],a==i&&(o+=n),a=0}else if(a<i)l.push(e[o+n],e[o+n+1]),o+=n;else{const p=f-a,m=Pr(c,h,p/f),g=Pr(u,d,p/f);l.push(m,g),s.push(l),l=[m,g],a=0,o+=n}}return a>0&&s.push(l),s}function kfe(i,e,t,r,n){let s=t,o=t,a=0,l=0,c=t,u,h,d,f,p,m,g,v,y,_;for(h=t;h<r;h+=n){const b=e[h],w=e[h+1];p!==void 0&&(y=b-p,_=w-m,f=Math.sqrt(y*y+_*_),g!==void 0&&(l+=d,u=Math.acos((g*y+v*_)/(d*f)),u>i&&(l>a&&(a=l,s=c,o=h),l=0,c=h-n)),d=f,g=y,v=_),p=b,m=w}return l+=f,l>a?[c,h]:[s,o]}const Xm={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class Mfe extends xf{constructor(e,t,r,n){super(e,t,r,n),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[hr]={fillStyle:hr},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,r){const n=this.textFillState_,s=this.textStrokeState_,o=this.textState_;if(this.text_===""||!o||!n&&!s)return;const a=this.coordinates;let l=a.length;const c=e.getType();let u=null,h=e.getStride();if(o.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!Yi(this.maxExtent,e.getExtent()))return;let d;if(u=e.getFlatCoordinates(),c=="LineString")d=[u.length];else if(c=="MultiLineString")d=e.getEnds();else if(c=="Polygon")d=e.getEnds().slice(0,1);else if(c=="MultiPolygon"){const g=e.getEndss();d=[];for(let v=0,y=g.length;v<y;++v)d.push(g[v][0])}this.beginGeometry(e,t,r);const f=o.repeat,p=f?void 0:o.textAlign;let m=0;for(let g=0,v=d.length;g<v;++g){let y;f?y=Ife(f*this.resolution,u,m,d[g],h):y=[u.slice(m,d[g])];for(let _=0,b=y.length;_<b;++_){const w=y[_];let S=0,E=w.length;if(p==null){const T=kfe(o.maxAngle,w,0,w.length,2);S=T[0],E=T[1]}for(let T=S;T<E;T+=h)a.push(w[T],w[T+1]);const x=a.length;m=d[g],this.drawChars_(l,x),l=x}}this.endGeometry(t)}else{let d=o.overflow?null:[];switch(c){case"Point":case"MultiPoint":u=e.getFlatCoordinates();break;case"LineString":u=e.getFlatMidpoint();break;case"Circle":u=e.getCenter();break;case"MultiLineString":u=e.getFlatMidpoints(),h=2;break;case"Polygon":u=e.getFlatInteriorPoint(),o.overflow||d.push(u[2]/this.resolution),h=3;break;case"MultiPolygon":const b=e.getFlatInteriorPoints();u=[];for(let w=0,S=b.length;w<S;w+=3)o.overflow||d.push(b[w+2]/this.resolution),u.push(b[w],b[w+1]);if(u.length===0)return;h=2;break}const f=this.appendFlatPointCoordinates(u,h);if(f===l)return;if(d&&(f-l)/2!==u.length/h){let b=l/2;d=d.filter((w,S)=>{const E=a[(b+S)*2]===u[S*h]&&a[(b+S)*2+1]===u[S*h+1];return E||--b,E})}this.saveTextStates_();const p=o.backgroundFill?this.createFill(this.fillStyleToState(o.backgroundFill)):null,m=o.backgroundStroke?this.createStroke(this.strokeStyleToState(o.backgroundStroke)):null;this.beginGeometry(e,t,r);let g=o.padding;if(g!=Ia&&(o.scale[0]<0||o.scale[1]<0)){let b=o.padding[0],w=o.padding[1],S=o.padding[2],E=o.padding[3];o.scale[0]<0&&(w=-w,E=-E),o.scale[1]<0&&(b=-b,S=-S),g=[b,w,S,E]}const v=this.pixelRatio;this.instructions.push([pe.DRAW_IMAGE,l,f,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,g==Ia?Ia:g.map(function(b){return b*v}),p,m,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,d]);const y=1/v,_=p?p.slice(0):null;_&&(_[1]=hr),this.hitDetectionInstructions.push([pe.DRAW_IMAGE,l,f,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[y,y],NaN,this.declutterMode_,this.declutterImageWithText_,g,_,m,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?hr:this.fillKey_,this.textOffsetX_,this.textOffsetY_,d]),this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,r=this.textFillState_,n=this.strokeKey_;e&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:t.font,textAlign:t.textAlign||Pd,justify:t.justify,textBaseline:t.textBaseline||Hm,scale:t.scale});const o=this.fillKey_;r&&(o in this.fillStates||(this.fillStates[o]={fillStyle:r.fillStyle}))}drawChars_(e,t){const r=this.textStrokeState_,n=this.textState_,s=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,c=Xm[n.textBaseline],u=this.textOffsetY_*l,h=this.text_,d=r?r.lineWidth*Math.abs(n.scale[0])/2:0;this.instructions.push([pe.DRAW_CHARS,e,t,c,n.overflow,a,n.maxAngle,l,u,s,d*l,h,o,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([pe.DRAW_CHARS,e,t,c,n.overflow,a&&hr,n.maxAngle,l,u,s,d*l,h,o,1/l,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,t){let r,n,s;if(!e)this.text_="";else{const o=e.getFill();o?(n=this.textFillState_,n||(n={},this.textFillState_=n),n.fillStyle=rs(o.getColor()||hr)):(n=null,this.textFillState_=n);const a=e.getStroke();if(!a)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const m=a.getLineDash(),g=a.getLineDashOffset(),v=a.getWidth(),y=a.getMiterLimit();s.lineCap=a.getLineCap()||au,s.lineDash=m?m.slice():Xs,s.lineDashOffset=g===void 0?Ks:g,s.lineJoin=a.getLineJoin()||lu,s.lineWidth=v===void 0?Dd:v,s.miterLimit=y===void 0?Od:y,s.strokeStyle=rs(a.getColor()||Rd)}r=this.textState_;const l=e.getFont()||W7;efe(l);const c=e.getScaleArray();r.overflow=e.getOverflow(),r.font=l,r.maxAngle=e.getMaxAngle(),r.placement=e.getPlacement(),r.textAlign=e.getTextAlign(),r.repeat=e.getRepeat(),r.justify=e.getJustify(),r.textBaseline=e.getTextBaseline()||Hm,r.backgroundFill=e.getBackgroundFill(),r.backgroundStroke=e.getBackgroundStroke(),r.padding=e.getPadding()||Ia,r.scale=c===void 0?[1,1]:c;const u=e.getOffsetX(),h=e.getOffsetY(),d=e.getRotateWithView(),f=e.getKeepUpright(),p=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=u===void 0?0:u,this.textOffsetY_=h===void 0?0:h,this.textRotateWithView_=d===void 0?!1:d,this.textKeepUpright_=f===void 0?!0:f,this.textRotation_=p===void 0?0:p,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:Ae(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.repeat||"?")+(r.justify||"?")+(r.textBaseline||"?"),this.fillKey_=n&&n.fillStyle?typeof n.fillStyle=="string"?n.fillStyle:"|"+Ae(n.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}const Afe={Circle:l$,Default:xf,Image:Pfe,LineString:Dfe,Polygon:l$,Text:Mfe};class Nfe{constructor(e,t,r,n){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=n,this.resolution_=r,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const r=this.buildersByZIndex_[t];for(const n in r){const s=r[n].finish();e[t][n]=s}}return e}getBuilder(e,t){const r=e!==void 0?e.toString():"0";let n=this.buildersByZIndex_[r];n===void 0&&(n={},this.buildersByZIndex_[r]=n);let s=n[t];if(s===void 0){const o=Afe[t];s=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[t]=s}return s}}function $fe(i,e,t,r,n,s,o,a,l,c,u,h,d=!0){let f=i[e],p=i[e+1],m=0,g=0,v=0,y=0;function _(){m=f,g=p,e+=r,f=i[e],p=i[e+1],y+=v,v=Math.sqrt((f-m)*(f-m)+(p-g)*(p-g))}do _();while(e<t-r&&y+v<s);let b=v===0?0:(s-y)/v;const w=Pr(m,f,b),S=Pr(g,p,b),E=e-r,x=y,T=s+a*l(c,n,u);for(;e<t-r&&y+v<T;)_();b=v===0?0:(T-y)/v;const R=Pr(m,f,b),P=Pr(g,p,b);let I=!1;if(d)if(h){const q=[w,S,R,P];LI(q,0,4,2,h,q,q),I=q[0]>q[2]}else I=w>R;const $=Math.PI,F=[],W=E+r===e;e=E,v=0,y=x,f=i[e],p=i[e+1];let N;if(W){_(),N=Math.atan2(p-g,f-m),I&&(N+=N>0?-$:$);const q=(R+w)/2,D=(P+S)/2;return F[0]=[q,D,(T-s)/2,N,n],F}n=n.replace(/\n/g," ");for(let q=0,D=n.length;q<D;){_();let j=Math.atan2(p-g,f-m);if(I&&(j+=j>0?-$:$),N!==void 0){let B=j-N;if(B+=B>$?-2*$:B<-$?2*$:0,Math.abs(B)>o)return null}N=j;const X=q;let U=0;for(;q<D;++q){const B=I?D-q-1:q,H=a*l(c,n[B],u);if(e+r<t&&y+v<s+U+H/2)break;U+=H}if(q===X)continue;const M=I?n.substring(D-X,D-q):n.substring(X,q);b=v===0?0:(s+U/2-y)/v;const L=Pr(m,f,b),G=Pr(g,p,b);F.push([L,G,U/2,j,M]),s+=U}return F}class rZ{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(zm(),{get:(e,t)=>{if(typeof zm()[t]=="function")return this.push_(t),this.pushMethodArgs_},set:(e,t,r)=>(this.push_(t,r),!0)})}push_(...e){const t=this.instructions_,r=this.zIndex+this.offset_;t[r]||(t[r]=[]),t[r].push(...e)}pushMethodArgs_=(...e)=>(this.push_(e),this);pushFunction(e){this.push_(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let r=0,n=t.length;r<n;++r){const s=t[r];if(typeof s=="function"){s(e);continue}const o=t[++r];if(typeof e[s]=="function")e[s](...o);else{if(typeof o=="function"){e[s]=o(e);continue}e[s]=o}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const tc=qr(),To=[],As=[],Ns=[],Oo=[];function c$(i){return i[3].declutterBox}const u$=new RegExp("[-----]");function ib(i,e){return e==="start"?e=u$.test(i)?"right":"left":e==="end"&&(e=u$.test(i)?"left":"right"),Xm[e]}function Ffe(i,e,t){return t>0&&i.push(`
`,""),i.push(e,""),i}function Lfe(i,e,t){return t%2===0&&(i+=e),i}class qfe{constructor(e,t,r,n,s){this.overlaps=r,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=On(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=s?new rZ:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,r,n){const s=e+t+r+n;if(this.labels_[s])return this.labels_[s];const o=n?this.strokeStates[n]:null,a=r?this.fillStates[r]:null,l=this.textStates[t],c=this.pixelRatio,u=[l.scale[0]*c,l.scale[1]*c],h=l.justify?Xm[l.justify]:ib(Array.isArray(e)?e[0]:e,l.textAlign||Pd),d=n&&o.lineWidth?o.lineWidth:0,f=Array.isArray(e)?e:String(e).split(`
`).reduce(Ffe,[]),{width:p,height:m,widths:g,heights:v,lineWidths:y}=ife(l,f),_=p+d,b=[],w=(_+2)*u[0],S=(m+d)*u[1],E={width:w<0?Math.floor(w):Math.ceil(w),height:S<0?Math.floor(S):Math.ceil(S),contextInstructions:b};(u[0]!=1||u[1]!=1)&&b.push("scale",u),n&&(b.push("strokeStyle",o.strokeStyle),b.push("lineWidth",d),b.push("lineCap",o.lineCap),b.push("lineJoin",o.lineJoin),b.push("miterLimit",o.miterLimit),b.push("setLineDash",[o.lineDash]),b.push("lineDashOffset",o.lineDashOffset)),r&&b.push("fillStyle",a.fillStyle),b.push("textBaseline","middle"),b.push("textAlign","center");const x=.5-h;let T=h*_+x*d;const R=[],P=[];let I=0,$=0,F=0,W=0,N;for(let q=0,D=f.length;q<D;q+=2){const j=f[q];if(j===`
`){$+=I,I=0,T=h*_+x*d,++W;continue}const X=f[q+1]||l.font;X!==N&&(n&&R.push("font",X),r&&P.push("font",X),N=X),I=Math.max(I,v[F]);const U=[j,T+x*g[F]+h*(g[F]-y[W]),.5*(d+I)+$];T+=g[F],n&&R.push("strokeText",U),r&&P.push("fillText",U),++F}return Array.prototype.push.apply(b,R),Array.prototype.push.apply(b,P),this.labels_[s]=E,E}replayTextBackground_(e,t,r,n,s,o,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,r),e.lineTo.apply(e,n),e.lineTo.apply(e,s),e.lineTo.apply(e,t),o&&(this.alignAndScaleFill_=o[2],e.fillStyle=o[1],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())}calculateImageOrLabelDimensions_(e,t,r,n,s,o,a,l,c,u,h,d,f,p,m,g){a*=d[0],l*=d[1];let v=r-a,y=n-l;const _=s+c>e?e-c:s,b=o+u>t?t-u:o,w=p[3]+_*d[0]+p[1],S=p[0]+b*d[1]+p[2],E=v-p[3],x=y-p[0];(m||h!==0)&&(To[0]=E,Oo[0]=E,To[1]=x,As[1]=x,As[0]=E+w,Ns[0]=As[0],Ns[1]=x+S,Oo[1]=Ns[1]);let T;return h!==0?(T=ho(On(),r,n,1,1,h,-r,-n),gi(T,To),gi(T,As),gi(T,Ns),gi(T,Oo),uo(Math.min(To[0],As[0],Ns[0],Oo[0]),Math.min(To[1],As[1],Ns[1],Oo[1]),Math.max(To[0],As[0],Ns[0],Oo[0]),Math.max(To[1],As[1],Ns[1],Oo[1]),tc)):uo(Math.min(E,E+w),Math.min(x,x+S),Math.max(E,E+w),Math.max(x,x+S),tc),f&&(v=Math.round(v),y=Math.round(y)),{drawImageX:v,drawImageY:y,drawImageW:_,drawImageH:b,originX:c,originY:u,declutterBox:{minX:tc[0],minY:tc[1],maxX:tc[2],maxY:tc[3],value:g},canvasTransform:T,scale:d}}replayImageOrLabel_(e,t,r,n,s,o,a){const l=!!(o||a),c=n.declutterBox,u=a?a[2]*n.scale[0]/2:0;return c.minX-u<=t[0]&&c.maxX+u>=0&&c.minY-u<=t[1]&&c.maxY+u>=0&&(l&&this.replayTextBackground_(e,To,As,Ns,Oo,o,a),rfe(e,n.canvasTransform,s,r,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0}fill_(e){const t=this.alignAndScaleFill_;if(t){const r=gi(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;e.save(),e.translate(r[0]%n,r[1]%n),t!==1&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],t[1]&&(e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6]))}drawLabelWithPointPlacement_(e,t,r,n){const s=this.textStates[t],o=this.createLabel(e,t,n,r),a=this.strokeStates[r],l=this.pixelRatio,c=ib(Array.isArray(e)?e[0]:e,s.textAlign||Pd),u=Xm[s.textBaseline||Hm],h=a&&a.lineWidth?a.lineWidth:0,d=o.width/l-2*s.scale[0],f=c*d+2*(.5-c)*h,p=u*o.height/l+2*(.5-u)*h;return{label:o,anchorX:f,anchorY:p}}execute_(e,t,r,n,s,o,a,l){const c=this.zIndexContext_;let u;this.pixelCoordinates_&&ia(r,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=Ho(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),Jue(this.renderedTransform_,r));let h=0;const d=n.length;let f=0,p,m,g,v,y,_,b,w,S,E,x,T,R,P=0,I=0;const $=this.coordinateCache_,F=this.viewRotation_,W=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,N={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:F},q=this.instructions!=n||this.overlaps?0:200;let D,j,X,U;for(;h<d;){const M=n[h];switch(M[0]){case pe.BEGIN_GEOMETRY:D=M[1],U=M[3],D.getGeometry()?a!==void 0&&!Yi(a,U.getExtent())?h=M[2]+1:++h:h=M[2],c&&(c.zIndex=M[4]);break;case pe.BEGIN_PATH:P>q&&(this.fill_(e),P=0),I>q&&(e.stroke(),I=0),!P&&!I&&(e.beginPath(),y=NaN,_=NaN),++h;break;case pe.CIRCLE:f=M[1];const G=u[f],B=u[f+1],H=u[f+2],z=u[f+3],Q=H-G,re=z-B,me=Math.sqrt(Q*Q+re*re);e.moveTo(G+me,B),e.arc(G,B,me,0,2*Math.PI,!0),++h;break;case pe.CLOSE_PATH:e.closePath(),++h;break;case pe.CUSTOM:f=M[1],p=M[2];const et=M[3],ot=M[4],ve=M[5];N.geometry=et,N.feature=D,h in $||($[h]=[]);const ht=$[h];ve?ve(u,f,p,2,ht):(ht[0]=u[f],ht[1]=u[f+1],ht.length=2),c&&(c.zIndex=M[6]),ot(ht,N),++h;break;case pe.DRAW_IMAGE:f=M[1],p=M[2],S=M[3],m=M[4],g=M[5];let Ot=M[6];const At=M[7],Ve=M[8],Le=M[9],sr=M[10];let ai=M[11];const Zt=M[12];let Qt=M[13];v=M[14]||"declutter";const Xe=M[15];if(!S&&M.length>=20){E=M[19],x=M[20],T=M[21],R=M[22];const ar=this.drawLabelWithPointPlacement_(E,x,T,R);S=ar.label,M[3]=S;const Ps=M[23];m=(ar.anchorX-Ps)*this.pixelRatio,M[4]=m;const Ni=M[24];g=(ar.anchorY-Ni)*this.pixelRatio,M[5]=g,Ot=S.height,M[6]=Ot,Qt=S.width,M[13]=Qt}let Ti;M.length>25&&(Ti=M[25]);let Sr,Yn,or;M.length>17?(Sr=M[16],Yn=M[17],or=M[18]):(Sr=Ia,Yn=null,or=null),sr&&W?ai+=F:!sr&&!W&&(ai-=F);let Rs=0;for(;f<p;f+=2){if(Ti&&Ti[Rs++]<Qt/this.pixelRatio)continue;const ar=this.calculateImageOrLabelDimensions_(S.width,S.height,u[f],u[f+1],Qt,Ot,m,g,Ve,Le,ai,Zt,s,Sr,!!Yn||!!or,D),Ps=[e,t,S,ar,At,Yn,or];if(l){let Ni,lr,Yr;if(Xe){const jt=p-f;if(!Xe[jt]){Xe[jt]={args:Ps,declutterMode:v};continue}const zi=Xe[jt];Ni=zi.args,lr=zi.declutterMode,delete Xe[jt],Yr=c$(Ni)}let Ds,Is;if(Ni&&(lr!=="declutter"||!l.collides(Yr))&&(Ds=!0),(v!=="declutter"||!l.collides(ar.declutterBox))&&(Is=!0),lr==="declutter"&&v==="declutter"){const jt=Ds&&Is;Ds=jt,Is=jt}Ds&&(lr!=="none"&&l.insert(Yr),this.replayImageOrLabel_.apply(this,Ni)),Is&&(v!=="none"&&l.insert(ar.declutterBox),this.replayImageOrLabel_.apply(this,Ps))}else this.replayImageOrLabel_.apply(this,Ps)}++h;break;case pe.DRAW_CHARS:const Un=M[1],Vn=M[2],ce=M[3],te=M[4];R=M[5];const ne=M[6],ie=M[7],ue=M[8];T=M[9];const $e=M[10];E=M[11],Array.isArray(E)&&(E=E.reduce(Lfe,"")),x=M[12];const Xn=[M[13],M[13]];v=M[14]||"declutter";const we=M[15],dt=this.textStates[x],ye=dt.font,Ke=[dt.scale[0]*ie,dt.scale[1]*ie];let li;ye in this.widths_?li=this.widths_[ye]:(li={},this.widths_[ye]=li);const Ge=uk(u,Un,Vn,2),Ep=Math.abs(Ke[0])*JN(ye,E,li);if(te||Ep<=Ge){const ar=this.textStates[x].textAlign,Ps=(Ge-Ep)*ib(E,ar),Ni=$fe(u,Un,Vn,2,E,Ps,ne,Math.abs(Ke[0]),JN,ye,li,W?0:this.viewRotation_,we);e:if(Ni){const lr=[];let Yr,Ds,Is,jt,zi;if(T)for(Yr=0,Ds=Ni.length;Yr<Ds;++Yr){zi=Ni[Yr],Is=zi[4],jt=this.createLabel(Is,x,"",T),m=zi[2]+(Ke[0]<0?-$e:$e),g=ce*jt.height+(.5-ce)*2*$e*Ke[1]/Ke[0]-ue;const ks=this.calculateImageOrLabelDimensions_(jt.width,jt.height,zi[0],zi[1],jt.width,jt.height,m,g,0,0,zi[3],Xn,!1,Ia,!1,D);if(l&&v==="declutter"&&l.collides(ks.declutterBox))break e;lr.push([e,t,jt,ks,1,null,null])}if(R)for(Yr=0,Ds=Ni.length;Yr<Ds;++Yr){zi=Ni[Yr],Is=zi[4],jt=this.createLabel(Is,x,R,""),m=zi[2],g=ce*jt.height-ue;const ks=this.calculateImageOrLabelDimensions_(jt.width,jt.height,zi[0],zi[1],jt.width,jt.height,m,g,0,0,zi[3],Xn,!1,Ia,!1,D);if(l&&v==="declutter"&&l.collides(ks.declutterBox))break e;lr.push([e,t,jt,ks,1,null,null])}l&&v!=="none"&&l.load(lr.map(c$));for(let ks=0,mne=lr.length;ks<mne;++ks)this.replayImageOrLabel_.apply(this,lr[ks])}}++h;break;case pe.END_GEOMETRY:if(o!==void 0){D=M[1];const ar=o(D,U,v);if(ar)return ar}++h;break;case pe.FILL:q?P++:this.fill_(e),++h;break;case pe.MOVE_TO_LINE_TO:for(f=M[1],p=M[2],j=u[f],X=u[f+1],e.moveTo(j,X),y=j+.5|0,_=X+.5|0,f+=2;f<p;f+=2)j=u[f],X=u[f+1],b=j+.5|0,w=X+.5|0,(f==p-2||b!==y||w!==_)&&(e.lineTo(j,X),y=b,_=w);++h;break;case pe.SET_FILL_STYLE:this.alignAndScaleFill_=M[2],P&&(this.fill_(e),P=0,I&&(e.stroke(),I=0)),e.fillStyle=M[1],++h;break;case pe.SET_STROKE_STYLE:I&&(e.stroke(),I=0),this.setStrokeStyle_(e,M),++h;break;case pe.STROKE:q?I++:e.stroke(),++h;break;default:++h;break}}P&&this.fill_(e),I&&e.stroke()}execute(e,t,r,n,s,o){this.viewRotation_=n,this.execute_(e,t,r,this.instructions,s,void 0,void 0,o)}executeHitDetection(e,t,r,n,s){return this.viewRotation_=r,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,n,s)}}const Ra=["Polygon","Circle","LineString","Image","Text","Default"],nZ=["Image","Text"],jfe=Ra.filter(i=>!nZ.includes(i));class Gfe{constructor(e,t,r,n,s,o,a){this.maxExtent_=e,this.overlaps_=n,this.pixelRatio_=r,this.resolution_=t,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=On(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(s,a)}clip(e,t){const r=this.getClipCoords(t);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()}createExecutors_(e,t){for(const r in e){let n=this.executorsByZIndex_[r];n===void 0&&(n={},this.executorsByZIndex_[r]=n);const s=e[r];for(const o in s){const a=s[o];n[o]=new qfe(this.resolution_,this.pixelRatio_,this.overlaps_,a,t)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const r=this.executorsByZIndex_[t];for(let n=0,s=e.length;n<s;++n)if(e[n]in r)return!0}return!1}forEachFeatureAtCoordinate(e,t,r,n,s,o){n=Math.round(n);const a=n*2+1,l=ho(this.hitDetectionTransform_,n+.5,n+.5,1/t,-1/t,-r,-e[0],-e[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=di(a,a));const u=this.hitDetectionContext_;u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):c||u.clearRect(0,0,a,a);let h;this.renderBuffer_!==void 0&&(h=qr(),Qh(h,e),Zg(h,t*(this.renderBuffer_+n),h));const d=Wfe(n);let f;function p(w,S,E){const x=u.getImageData(0,0,a,a).data;for(let T=0,R=d.length;T<R;T++)if(x[d[T]]>0){if(!o||E==="none"||f!=="Image"&&f!=="Text"||o.includes(w)){const P=(d[T]-3)/4,I=n-P%a,$=n-(P/a|0),F=s(w,S,I*I+$*$);if(F)return F}u.clearRect(0,0,a,a);break}}const m=Object.keys(this.executorsByZIndex_).map(Number);m.sort(Us);let g,v,y,_,b;for(g=m.length-1;g>=0;--g){const w=m[g].toString();for(y=this.executorsByZIndex_[w],v=Ra.length-1;v>=0;--v)if(f=Ra[v],_=y[f],_!==void 0&&(b=_.executeHitDetection(u,l,r,p,h),b))return b}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const r=t[0],n=t[1],s=t[2],o=t[3],a=[r,n,r,o,s,o,s,n];return Ho(a,0,8,2,e,a),a}isEmpty(){return ru(this.executorsByZIndex_)}execute(e,t,r,n,s,o,a){const l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(a?tue:Us),o=o||Ra;const c=Ra.length;for(let u=0,h=l.length;u<h;++u){const d=l[u].toString(),f=this.executorsByZIndex_[d];for(let p=0,m=o.length;p<m;++p){const g=o[p],v=f[g];if(v!==void 0){const y=a===null?void 0:v.getZIndexContext(),_=y?y.getContext():e,b=this.maxExtent_&&g!=="Image"&&g!=="Text";if(b&&(_.save(),this.clip(_,r)),!y||g==="Text"||g==="Image"?v.execute(_,t,r,n,s,a):y.pushFunction(w=>v.execute(w,t,r,n,s,a)),b&&_.restore(),y){y.offset();const w=l[u]*c+Ra.indexOf(g);this.deferredZIndexContexts_[w]||(this.deferredZIndexContexts_[w]=[]),this.deferredZIndexContexts_[w].push(y)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(Us);for(let r=0,n=t.length;r<n;++r)e[t[r]].forEach(s=>{s.draw(this.renderedContext_),s.clear()}),e[t[r]].length=0}}const rb={};function Wfe(i){if(rb[i]!==void 0)return rb[i];const e=i*2+1,t=i*i,r=new Array(t+1);for(let s=0;s<=i;++s)for(let o=0;o<=i;++o){const a=s*s+o*o;if(a>t)break;let l=r[a];l||(l=[],r[a]=l),l.push(((i+s)*e+(i+o))*4+3),s>0&&l.push(((i-s)*e+(i+o))*4+3),o>0&&(l.push(((i+s)*e+(i-o))*4+3),s>0&&l.push(((i-s)*e+(i-o))*4+3))}const n=[];for(let s=0,o=r.length;s<o;++s)r[s]&&n.push(...r[s]);return rb[i]=n,n}class Bfe extends iZ{constructor(e,t,r,n,s,o,a){super(),this.context_=e,this.pixelRatio_=t,this.extent_=r,this.transform_=n,this.transformRotation_=n?vf(Math.atan2(n[1],n[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=o,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=On()}drawImages_(e,t,r,n){if(!this.image_)return;const s=Ho(e,t,r,n,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,l=o.globalAlpha;this.imageOpacity_!=1&&(o.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;this.transformRotation_===0&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let u=0,h=s.length;u<h;u+=2){const d=s[u]-this.imageAnchorX_,f=s[u+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const p=d+this.imageAnchorX_,m=f+this.imageAnchorY_;ho(a,p,m,1,1,c,-p,-m),o.save(),o.transform.apply(o,a),o.translate(p,m),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,f,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(o.globalAlpha=l)}drawText_(e,t,r,n){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=Ho(e,t,r,n,this.transform_,this.pixelCoordinates_),o=this.context_;let a=this.textRotation_;for(this.transformRotation_===0&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);t<r;t+=n){const l=s[t]+this.textOffsetX_,c=s[t+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(o.save(),o.translate(l-this.textOffsetX_,c-this.textOffsetY_),o.rotate(a),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,l,c),this.textFillState_&&o.fillText(this.text_,l,c))}}moveToLineTo_(e,t,r,n,s){const o=this.context_,a=Ho(e,t,r,n,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);let l=a.length;s&&(l-=2);for(let c=2;c<l;c+=2)o.lineTo(a[c],a[c+1]);return s&&o.closePath(),r}drawRings_(e,t,r,n){for(let s=0,o=r.length;s<o;++s)t=this.moveToLineTo_(e,t,r[s],n,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Yi(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=lhe(e,this.transform_,this.pixelCoordinates_),r=t[2]-t[0],n=t[3]-t[1],s=Math.sqrt(r*r+n*n),o=this.context_;o.beginPath(),o.arc(t[0],t[1],s,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,t){const r=t.getGeometryFunction()(e);r&&(this.setStyle(t),this.drawGeometry(r))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let r=0,n=t.length;r<n;++r)this.drawGeometry(t[r])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(t,0,t.length,r),this.text_!==""&&this.drawText_(t,0,t.length,r)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(t,0,t.length,r),this.text_!==""&&this.drawText_(t,0,t.length,r)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Yi(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,r=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(r,0,r.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(Yi(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const r=this.context_,n=e.getFlatCoordinates();let s=0;const o=e.getEnds(),a=e.getStride();r.beginPath();for(let l=0,c=o.length;l<c;++l)s=this.moveToLineTo_(n,s,o[l],a,!1);r.stroke()}if(this.text_!==""){const r=e.getFlatMidpoints();this.drawText_(r,0,r.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Yi(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Yi(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,r=e.getOrientedFlatCoordinates();let n=0;const s=e.getEndss(),o=e.getStride();t.beginPath();for(let a=0,l=s.length;a<l;++a){const c=s[a];n=this.drawRings_(r,n,c,o)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,r=this.contextFillState_;r?r.fillStyle!=e.fillStyle&&(r.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=e.lineCap&&(r.lineCap=e.lineCap,t.lineCap=e.lineCap),ia(r.lineDash,e.lineDash)||t.setLineDash(r.lineDash=e.lineDash),r.lineDashOffset!=e.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),r.lineJoin!=e.lineJoin&&(r.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),r.lineWidth!=e.lineWidth&&(r.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),r.miterLimit!=e.miterLimit&&(r.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),r.strokeStyle!=e.strokeStyle&&(r.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,r=this.contextTextState_,n=e.textAlign?e.textAlign:Pd;r?(r.font!=e.font&&(r.font=e.font,t.font=e.font),r.textAlign!=n&&(r.textAlign=n,t.textAlign=n),r.textBaseline!=e.textBaseline&&(r.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=n,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:n,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{const r=e.getColor();this.fillState_={fillStyle:rs(r||hr)}}if(!t)this.strokeState_=null;else{const r=t.getColor(),n=t.getLineCap(),s=t.getLineDash(),o=t.getLineDashOffset(),a=t.getLineJoin(),l=t.getWidth(),c=t.getMiterLimit(),u=s||Xs;this.strokeState_={lineCap:n!==void 0?n:au,lineDash:this.pixelRatio_===1?u:u.map(h=>h*this.pixelRatio_),lineDashOffset:(o||Ks)*this.pixelRatio_,lineJoin:a!==void 0?a:lu,lineWidth:(l!==void 0?l:Dd)*this.pixelRatio_,miterLimit:c!==void 0?c:Od,strokeStyle:rs(r||Rd)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}const r=e.getPixelRatio(this.pixelRatio_),n=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*r,this.imageAnchorY_=n[1]*r,this.imageHeight_=t[1]*r,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/r,o[1]*this.pixelRatio_/r],this.imageWidth_=t[0]*r}setTextStyle(e){if(!e)this.text_="";else{const t=e.getFill();if(!t)this.textFillState_=null;else{const f=t.getColor();this.textFillState_={fillStyle:rs(f||hr)}}const r=e.getStroke();if(!r)this.textStrokeState_=null;else{const f=r.getColor(),p=r.getLineCap(),m=r.getLineDash(),g=r.getLineDashOffset(),v=r.getLineJoin(),y=r.getWidth(),_=r.getMiterLimit();this.textStrokeState_={lineCap:p!==void 0?p:au,lineDash:m||Xs,lineDashOffset:g||Ks,lineJoin:v!==void 0?v:lu,lineWidth:y!==void 0?y:Dd,miterLimit:_!==void 0?_:Od,strokeStyle:rs(f||Rd)}}const n=e.getFont(),s=e.getOffsetX(),o=e.getOffsetY(),a=e.getRotateWithView(),l=e.getRotation(),c=e.getScaleArray(),u=e.getText(),h=e.getTextAlign(),d=e.getTextBaseline();this.textState_={font:n!==void 0?n:W7,textAlign:h!==void 0?h:Pd,textBaseline:d!==void 0?d:Hm},this.text_=u!==void 0?Array.isArray(u)?u.reduce((f,p,m)=>f+=m%2?" ":p,""):u:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=o!==void 0?this.pixelRatio_*o:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}}}const es=.5;function zfe(i,e,t,r,n,s,o,a,l){const c=n,u=i[0]*es,h=i[1]*es,d=di(u,h);d.imageSmoothingEnabled=!1;const f=d.canvas,p=new Bfe(d,es,n,null,o,a,null),m=t.length,g=Math.floor((256*256*256-1)/m),v={};for(let _=1;_<=m;++_){const b=t[_-1],w=b.getStyleFunction()||r;if(!w)continue;let S=w(b,s);if(!S)continue;Array.isArray(S)||(S=[S]);const x=(_*g).toString(16).padStart(7,"#00000");for(let T=0,R=S.length;T<R;++T){const P=S[T],I=P.getGeometryFunction()(b);if(!I||!Yi(c,I.getExtent()))continue;const $=P.clone(),F=$.getFill();F&&F.setColor(x);const W=$.getStroke();W&&(W.setColor(x),W.setLineDash(null)),$.setText(void 0);const N=P.getImage();if(N){const X=N.getImageSize();if(!X)continue;const U=di(X[0],X[1],void 0,{alpha:!1}),M=U.canvas;U.fillStyle=x,U.fillRect(0,0,M.width,M.height),$.setImage(new Gu({img:M,anchor:N.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:N.getOrigin(),opacity:1,size:N.getSize(),scale:N.getScale(),rotation:N.getRotation(),rotateWithView:N.getRotateWithView()}))}const q=$.getZIndex()||0;let D=v[q];D||(D={},v[q]=D,D.Polygon=[],D.Circle=[],D.LineString=[],D.Point=[]);const j=I.getType();if(j==="GeometryCollection"){const X=I.getGeometriesArrayRecursive();for(let U=0,M=X.length;U<M;++U){const L=X[U];D[L.getType().replace("Multi","")].push(L,$)}}else D[j.replace("Multi","")].push(I,$)}}const y=Object.keys(v).map(Number).sort(Us);for(let _=0,b=y.length;_<b;++_){const w=v[y[_]];for(const S in w){const E=w[S];for(let x=0,T=E.length;x<T;x+=2){p.setStyle(E[x+1]);for(let R=0,P=e.length;R<P;++R)p.setTransform(e[R]),p.drawGeometry(E[x])}}}return d.getImageData(0,0,f.width,f.height)}function Hfe(i,e,t){const r=[];if(t){const n=Math.floor(Math.round(i[0])*es),s=Math.floor(Math.round(i[1])*es),o=(Mt(n,0,t.width-1)+Mt(s,0,t.height-1)*t.width)*4,a=t.data[o],l=t.data[o+1],u=t.data[o+2]+256*(l+256*a),h=Math.floor((256*256*256-1)/e.length);u&&u%h===0&&r.push(e[u/h-1])}return r}const Yfe=.5,sZ={Point:epe,LineString:Zfe,Polygon:ipe,MultiPoint:tpe,MultiLineString:Qfe,MultiPolygon:Jfe,GeometryCollection:Kfe,Circle:Vfe};function Ufe(i,e){return parseInt(Ae(i),10)-parseInt(Ae(e),10)}function h$(i,e){const t=oZ(i,e);return t*t}function oZ(i,e){return Yfe*i/e}function Vfe(i,e,t,r,n){const s=t.getFill(),o=t.getStroke();if(s||o){const l=i.getBuilder(t.getZIndex(),"Circle");l.setFillStrokeStyle(s,o),l.drawCircle(e,r,n)}const a=t.getText();if(a&&a.getText()){const l=i.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,r)}}function d$(i,e,t,r,n,s,o,a){const l=[],c=t.getImage();if(c){let d=!0;const f=c.getImageState();f==Ie.LOADED||f==Ie.ERROR?d=!1:f==Ie.IDLE&&c.load(),d&&l.push(c.ready())}const u=t.getFill();u&&u.loading()&&l.push(u.ready());const h=l.length>0;return h&&Promise.all(l).then(()=>n(null)),Xfe(i,e,t,r,s,o,a),h}function Xfe(i,e,t,r,n,s,o){const a=t.getGeometryFunction()(e);if(!a)return;const l=a.simplifyTransformed(r,n);if(t.getRenderer())aZ(i,l,t,e,o);else{const u=sZ[l.getType()];u(i,l,t,e,o,s)}}function aZ(i,e,t,r,n){if(e.getType()=="GeometryCollection"){const o=e.getGeometries();for(let a=0,l=o.length;a<l;++a)aZ(i,o[a],t,r,n);return}i.getBuilder(t.getZIndex(),"Default").drawCustom(e,r,t.getRenderer(),t.getHitDetectionRenderer(),n)}function Kfe(i,e,t,r,n,s){const o=e.getGeometriesArray();let a,l;for(a=0,l=o.length;a<l;++a){const c=sZ[o[a].getType()];c(i,o[a],t,r,n,s)}}function Zfe(i,e,t,r,n){const s=t.getStroke();if(s){const a=i.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,s),a.drawLineString(e,r,n)}const o=t.getText();if(o&&o.getText()){const a=i.getBuilder(t.getZIndex(),"Text");a.setTextStyle(o),a.drawText(e,r,n)}}function Qfe(i,e,t,r,n){const s=t.getStroke();if(s){const a=i.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,s),a.drawMultiLineString(e,r,n)}const o=t.getText();if(o&&o.getText()){const a=i.getBuilder(t.getZIndex(),"Text");a.setTextStyle(o),a.drawText(e,r,n)}}function Jfe(i,e,t,r,n){const s=t.getFill(),o=t.getStroke();if(o||s){const l=i.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(s,o),l.drawMultiPolygon(e,r,n)}const a=t.getText();if(a&&a.getText()){const l=i.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,r,n)}}function epe(i,e,t,r,n,s){const o=t.getImage(),a=t.getText(),l=a&&a.getText(),c=s&&o&&l?{}:void 0;if(o){if(o.getImageState()!=Ie.LOADED)return;const u=i.getBuilder(t.getZIndex(),"Image");u.setImageStyle(o,c),u.drawPoint(e,r,n)}if(l){const u=i.getBuilder(t.getZIndex(),"Text");u.setTextStyle(a,c),u.drawText(e,r,n)}}function tpe(i,e,t,r,n,s){const o=t.getImage(),a=o&&o.getOpacity()!==0,l=t.getText(),c=l&&l.getText(),u=s&&a&&c?{}:void 0;if(a){if(o.getImageState()!=Ie.LOADED)return;const h=i.getBuilder(t.getZIndex(),"Image");h.setImageStyle(o,u),h.drawMultiPoint(e,r,n)}if(c){const h=i.getBuilder(t.getZIndex(),"Text");h.setTextStyle(l,u),h.drawText(e,r,n)}}function ipe(i,e,t,r,n){const s=t.getFill(),o=t.getStroke();if(s||o){const l=i.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(s,o),l.drawPolygon(e,r,n)}const a=t.getText();if(a&&a.getText()){const l=i.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,r,n)}}const rpe=5;class npe extends gf{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=rpe}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return _e()}getData(e){return null}prepareFrame(e){return _e()}renderFrame(e,t){return _e()}forEachFeatureAtCoordinate(e,t,r,n,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;(t.getState()===Ie.LOADED||t.getState()===Ie.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=Ie.LOADED&&t!=Ie.ERROR&&e.addEventListener(xe.CHANGE,this.boundHandleImageChange_),t==Ie.IDLE&&(e.load(),t=e.getState()),t==Ie.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const f$=[];let bc=null;function spe(){bc=di(1,1,void 0,{willReadFrequently:!0})}class lZ extends npe{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=On(),this.pixelTransform=On(),this.inversePixelTransform=On(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,r){bc||spe(),bc.clearRect(0,0,1,1);let n;try{bc.drawImage(e,t,r,1,1,0,0,1,1),n=bc.getImageData(0,0,1,1).data}catch{return bc=null,null}return n}getBackground(e){let r=this.getLayer().getBackground();return typeof r=="function"&&(r=r(e.viewState.resolution)),r||void 0}useContainer(e,t,r){const n=this.getLayer().getClassName();let s,o;if(e&&e.className===n&&(!r||e&&e.style.backgroundColor&&ia(ou(e.style.backgroundColor),ou(r)))){const a=e.firstElementChild;a instanceof HTMLCanvasElement&&(o=a.getContext("2d"))}if(o&&rhe(o.canvas.style.transform,t)?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=n;let a=s.style;a.position="absolute",a.width="100%",a.height="100%",o=di();const l=o.canvas;s.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&r&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=r)}clipUnrotated(e,t,r){const n=Cl(r),s=ev(r),o=Jg(r),a=Qg(r);gi(t.coordinateToPixelTransform,n),gi(t.coordinateToPixelTransform,s),gi(t.coordinateToPixelTransform,o),gi(t.coordinateToPixelTransform,a);const l=this.inversePixelTransform;gi(l,n),gi(l,s),gi(l,o),gi(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(n[0]),Math.round(n[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}prepareContainer(e,t){const r=e.extent,n=e.viewState.resolution,s=e.viewState.rotation,o=e.pixelRatio,a=Math.round(ct(r)/n*o),l=Math.round(Xi(r)/n*o);ho(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/o,1/o,s,-a/2,-l/2),y7(this.inversePixelTransform,this.pixelTransform);const c=ihe(this.pixelTransform);if(this.useContainer(t,c,this.getBackground(e)),!this.containerReused){const u=this.context.canvas;u.width!=a||u.height!=l?(u.width=a,u.height=l):this.context.clearRect(0,0,a,l),c!==u.style.transform&&(u.style.transform=c)}}dispatchRenderEvent_(e,t,r){const n=this.getLayer();if(n.hasListener(e)){const s=new Q7(e,this.inversePixelTransform,r,t);n.dispatchEvent(s)}}preRender(e,t){this.frameState=t,!t.declutter&&this.dispatchRenderEvent_(Qr.PRERENDER,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(Qr.POSTRENDER,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new rZ),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(Qr.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(Qr.POSTRENDER,this.context,e))}getRenderTransform(e,t,r,n,s,o,a){const l=s/2,c=o/2,u=n/t,h=-u,d=-e[0]+a,f=-e[1];return ho(this.tempTransform,l,c,u,h,-r,d,f)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class ope extends lZ{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=qr(),this.wrappedRenderedExtent_=qr(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,r){const n=t.extent,s=t.viewState,o=s.center,a=s.resolution,l=s.projection,c=s.rotation,u=l.getExtent(),h=this.getLayer().getSource(),d=this.getLayer().getDeclutter(),f=t.pixelRatio,p=t.viewHints,m=!(p[qi.ANIMATING]||p[qi.INTERACTING]),g=this.context,v=Math.round(ct(n)/a*f),y=Math.round(Xi(n)/a*f),_=h.getWrapX()&&l.canWrapX(),b=_?ct(u):null,w=_?Math.ceil((n[2]-u[2])/b)+1:1;let S=_?Math.floor((n[0]-u[0])/b):0;do{let E=this.getRenderTransform(o,a,0,f,v,y,S*b);t.declutter&&(E=E.slice(0)),e.execute(g,[g.canvas.width,g.canvas.height],E,c,m,r===void 0?Ra:r?nZ:jfe,r?d&&t.declutter[d]:void 0)}while(++S<w)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=di(this.context.canvas.width,this.context.canvas.height,f$))}resetDrawContext_(){if(this.opacity_!==1&&this.targetContext_){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,lv(this.context),f$.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){const r=e.layerStatesArray[e.layerIndex];this.opacity_=r.opacity;const n=e.viewState;this.prepareContainer(e,t);const s=this.context,o=this.replayGroup_;let a=o&&!o.isEmpty();if(!a&&!(this.getLayer().hasListener(Qr.PRERENDER)||this.getLayer().hasListener(Qr.POSTRENDER)))return this.container;if(this.setDrawContext_(),this.preRender(s,e),n.projection,this.clipped_=!1,a&&r.extent&&this.clipping){const l=qo(r.extent);a=Yi(l,e.extent),this.clipped_=a&&!Cc(l,e.extent),this.clipped_&&this.clipUnrotated(s,e,l)}return a&&this.renderWorlds(o,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&s.restore(),this.postRender(s,e),this.renderedRotation_!==n.rotation&&(this.renderedRotation_=n.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const r=this.frameState.size.slice(),n=this.renderedCenter_,s=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),u=[],h=r[0]*es,d=r[1]*es;u.push(this.getRenderTransform(n,s,o,es,h,d,0).slice());const f=c.getSource(),p=a.getExtent();if(f.getWrapX()&&a.canWrapX()&&!Cc(p,l)){let m=l[0];const g=ct(p);let v=0,y;for(;m<p[0];)--v,y=g*v,u.push(this.getRenderTransform(n,s,o,es,h,d,y).slice()),m+=g;for(v=0,m=l[2];m>p[2];)++v,y=g*v,u.push(this.getRenderTransform(n,s,o,es,h,d,y).slice()),m-=g}this.hitDetectionImageData_=zfe(r,u,this.renderedFeatures_,c.getStyleFunction(),l,s,o,h$(s,this.renderedPixelRatio_))}t(Hfe(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,r,n,s){if(!this.replayGroup_)return;const o=t.viewState.resolution,a=t.viewState.rotation,l=this.getLayer(),c={},u=function(d,f,p){const m=Ae(d),g=c[m];if(g){if(g!==!0&&p<g.distanceSq){if(p===0)return c[m]=!0,s.splice(s.lastIndexOf(g),1),n(d,l,f);g.geometry=f,g.distanceSq=p}}else{if(p===0)return c[m]=!0,n(d,l,f);s.push(c[m]={feature:d,layer:l,geometry:f,distanceSq:p,callback:n})}},h=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,o,a,r,u,h?t.declutter?.[h]?.all().map(d=>d.value):null)}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),r=t.getSource();if(!r)return!1;const n=e.viewHints[qi.ANIMATING],s=e.viewHints[qi.INTERACTING],o=t.getUpdateWhileAnimating(),a=t.getUpdateWhileInteracting();if(this.ready&&!o&&n||!a&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=e.extent,c=e.viewState,u=c.projection,h=c.resolution,d=e.pixelRatio,f=t.getRevision(),p=t.getRenderBuffer();let m=t.getRenderOrder();m===void 0&&(m=Ufe);const g=c.center.slice(),v=Zg(l,p*h),y=v.slice(),_=[v.slice()],b=u.getExtent();if(r.getWrapX()&&u.canWrapX()&&!Cc(b,e.extent)){const F=ct(b),W=Math.max(ct(v)/2,F);v[0]=b[0]-W,v[2]=b[2]+W,l7(g,u);const N=i7(_[0],u);N[0]<b[0]&&N[2]<b[2]?_.push([N[0]+F,N[1],N[2]+F,N[3]]):N[0]>b[0]&&N[2]>b[2]&&_.push([N[0]-F,N[1],N[2]-F,N[3]])}if(this.ready&&this.renderedResolution_==h&&this.renderedRevision_==f&&this.renderedRenderOrder_==m&&this.renderedFrameDeclutter_===!!e.declutter&&Cc(this.wrappedRenderedExtent_,v))return ia(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const w=new Nfe(oZ(h,d),v,h,d);let S;for(let F=0,W=_.length;F<W;++F)r.loadFeatures(_[F],h,u);const E=h$(h,d);let x=!0;const T=(F,W)=>{let N;const q=F.getStyleFunction()||t.getStyleFunction();if(q&&(N=q(F,h)),N){const D=this.renderFeature(F,E,N,w,S,this.getLayer().getDeclutter(),W);x=x&&!D}},R=v7(v),P=r.getFeaturesInExtent(R);m&&P.sort(m);for(let F=0,W=P.length;F<W;++F)T(P[F],F);this.renderedFeatures_=P,this.ready=x;const I=w.finish(),$=new Gfe(v,h,d,r.getOverlaps(),I,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=h,this.renderedRevision_=f,this.renderedRenderOrder_=m,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=y,this.wrappedRenderedExtent_=v,this.renderedCenter_=g,this.renderedProjection_=u,this.renderedPixelRatio_=d,this.replayGroup_=$,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,r,n,s,o,a){if(!r)return!1;let l=!1;if(Array.isArray(r))for(let c=0,u=r.length;c<u;++c)l=d$(n,e,r[c],t,this.boundHandleStyleImageChange_,s,o,a)||l;else l=d$(n,e,r,t,this.boundHandleStyleImageChange_,s,o,a);return l}}class ed extends Z7{constructor(e){super(e)}createRenderer(){return new ope(this)}}let ape=!1;function lpe(i,e,t,r,n,s,o){const a=new XMLHttpRequest;a.open("GET",typeof i=="function"?i(t,r,n):i,!0),e.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=ape,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){const c=e.getType();try{let u;c=="text"||c=="json"?u=a.responseText:c=="xml"?u=a.responseXML||a.responseText:c=="arraybuffer"&&(u=a.response),u?s(e.readFeatures(u,{extent:t,featureProjection:n}),e.readProjection(u)):o()}catch{o()}}else o()},a.onerror=o,a.send()}function p$(i,e){return function(t,r,n,s,o){lpe(i,e,t,r,n,(a,l)=>{this.addFeatures(a),s!==void 0&&s(a)},()=>{this.changed(),o!==void 0&&o()})}}function cpe(i,e){return[[-1/0,-1/0,1/0,1/0]]}const m$=On();class wn{constructor(e,t,r,n,s,o){this.styleFunction,this.extent_,this.id_=o,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r||null,this.properties_=s,this.squaredTolerance_,this.stride_=n,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?CI(this.flatCoordinates_):TI(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=gs(this.getExtent());this.flatInteriorPoints_=YI(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=whe(this.flatCoordinates_,this.ends_),t=tZ(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=E7(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Vm(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const r=this.ends_;for(let n=0,s=r.length;n<s;++n){const o=r[n],a=Vm(e,t,o,2,.5);rn(this.flatMidpoints_,a),t=o}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=_i(e);const t=e.getExtent(),r=e.getWorldExtent();if(t&&r){const n=Xi(r)/Xi(t);ho(m$,r[0],r[3],n,-n,0,0,0),Ho(this.flatCoordinates_,0,this.flatCoordinates_.length,2,m$,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new wn(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=X9((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);const r=this.simplifiedGeometry_.getFlatCoordinates();let n;switch(this.type_){case"LineString":r.length=sv(r,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,r,0),n=[r.length];break;case"MultiLineString":n=[],r.length=S7(r,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,r,0,n);break;case"Polygon":n=[],r.length=zI(r,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),r,0,n);break}return n&&(this.simplifiedGeometry_=new wn(this.type_,r,n,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}wn.prototype.getFlatCoordinates=wn.prototype.getOrientedFlatCoordinates;class g${constructor(e){this.rbush_=new $7(e),this.items_={}}insert(e,t){const r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(r),this.items_[Ae(t)]=r}load(e,t){const r=new Array(t.length);for(let n=0,s=t.length;n<s;n++){const o=e[n],a=t[n],l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};r[n]=l,this.items_[Ae(a)]=l}this.rbush_.load(r)}remove(e){const t=Ae(e),r=this.items_[t];return delete this.items_[t],this.rbush_.remove(r)!==null}update(e,t){const r=this.items_[Ae(t)],n=[r.minX,r.minY,r.maxX,r.maxY];xd(n,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(n){return n.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let r;for(let n=0,s=e.length;n<s;n++)if(r=t(e[n]),r)return r;return r}isEmpty(){return ru(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return uo(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}}class cZ extends Wn{constructor(e){super(),this.projection=_i(e.projection),this.attributions_=v$(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(r,n){t.viewResolver=r,t.viewRejector=n})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=v$(e),this.changed()}setState(e){this.state_=e,this.changed()}}function v$(i){return i?typeof i=="function"?i:(Array.isArray(i)||(i=[i]),e=>i):null}const Ur={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class Ro extends Gn{constructor(e,t,r){super(e),this.feature=t,this.features=r}}class td extends cZ{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=wd,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(nt(this.format_,"`format` must be set when `url` is set"),this.loader_=p$(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:cpe;const t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new g$:null,this.loadedExtentsRtree_=new g$,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let r,n;Array.isArray(e.features)?n=e.features:e.features&&(r=e.features,n=r.getArray()),!t&&r===void 0&&(r=new Sn(n)),n!==void 0&&this.addFeaturesInternal(n),r!==void 0&&this.bindFeaturesCollection_(r)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=Ae(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);const r=e.getGeometry();if(r){const n=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(n,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Ro(Ur.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof wn||(this.featureChangeKeys_[e]=[We(t,xe.CHANGE,this.handleFeatureChange_,this),We(t,iu.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let r=!0;if(t.getId()!==void 0){const n=String(t.getId());if(!(n in this.idIndex_))this.idIndex_[n]=t;else if(t instanceof wn){const s=this.idIndex_[n];s instanceof wn?Array.isArray(s)?s.push(t):this.idIndex_[n]=[s,t]:r=!1}else r=!1}return r&&(nt(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),r}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],r=[],n=[];for(let s=0,o=e.length;s<o;s++){const a=e[s],l=Ae(a);this.addToIndex_(l,a)&&r.push(a)}for(let s=0,o=r.length;s<o;s++){const a=r[s],l=Ae(a);this.setupChangeEvents_(l,a);const c=a.getGeometry();if(c){const u=c.getExtent();t.push(u),n.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(t,n),this.hasListener(Ur.ADDFEATURE))for(let s=0,o=r.length;s<o;s++)this.dispatchEvent(new Ro(Ur.ADDFEATURE,r[s]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(Ur.ADDFEATURE,function(r){t||(t=!0,e.push(r.feature),t=!1)}),this.addEventListener(Ur.REMOVEFEATURE,function(r){t||(t=!0,e.remove(r.feature),t=!1)}),e.addEventListener(vi.ADD,r=>{t||(t=!0,this.addFeature(r.element),t=!1)}),e.addEventListener(vi.REMOVE,r=>{t||(t=!0,this.removeFeature(r.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const r in this.featureChangeKeys_)this.featureChangeKeys_[r].forEach(St);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(r=>{this.removeFeatureInternal(r)});for(const r in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new Ro(Ur.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(n){const s=n.getGeometry();if(s instanceof wn||s.intersectsCoordinate(e))return t(n)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(r){const n=r.getGeometry();if(n instanceof wn||n.intersectsExtent(e)){const s=t(r);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),ru(this.nullGeometryFeatures_)||rn(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(r){t.push(r)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const n=r7(e,t);return[].concat(...n.map(s=>this.featuresRtree_.getInExtent(s)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const r=e[0],n=e[1];let s=null;const o=[NaN,NaN];let a=1/0;const l=[-1/0,-1/0,1/0,1/0];return t=t||Jo,this.featuresRtree_.forEachInExtent(l,function(c){if(t(c)){const u=c.getGeometry(),h=a;if(a=u instanceof wn?0:u.closestPointXY(r,n,o,a),a<h){s=c;const d=Math.sqrt(a);l[0]=r-d,l[1]=n-d,l[2]=r+d,l[3]=n+d}}}),s}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,r=Ae(t),n=t.getGeometry();if(!n)r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[r]=t);else{const o=n.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(o,t)):this.featuresRtree_&&this.featuresRtree_.update(o,t)}const s=t.getId();if(s!==void 0){const o=s.toString();this.idIndex_[o]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[o]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[r]=t;this.changed(),this.dispatchEvent(new Ro(Ur.CHANGEFEATURE,t))}hasFeature(e){const t=e.getId();return t!==void 0?t in this.idIndex_:Ae(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&ru(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,r){const n=this.loadedExtentsRtree_,s=this.strategy_(e,t,r);for(let o=0,a=s.length;o<a;++o){const l=s[o];n.forEachInExtent(l,function(u){return Cc(u.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Ro(Ur.FEATURESLOADSTART)),this.loader_.call(this,l,t,r,u=>{--this.loadingExtentsCount_,this.dispatchEvent(new Ro(Ur.FEATURESLOADEND,void 0,u))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Ro(Ur.FEATURESLOADERROR))}),n.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_,r=t.forEachInExtent(e,function(n){if(xd(n.extent,e))return n});r&&t.remove(r)}removeFeatures(e){let t=!1;for(let r=0,n=e.length;r<n;++r)t=this.removeFeatureInternal(e[r])||t;t&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=Ae(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[t]?.forEach(St),delete this.featureChangeKeys_[t];const n=e.getId();if(n!==void 0){const s=n.toString(),o=this.idIndex_[s];o===e?delete this.idIndex_[s]:Array.isArray(o)&&(o.splice(o.indexOf(e),1),o.length===1&&(this.idIndex_[s]=o[0]))}return delete this.uidIndex_[t],this.hasListener(Ur.REMOVEFEATURE)&&this.dispatchEvent(new Ro(Ur.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(const t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){nt(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(p$(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}}const Hp={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"};class Yp extends Gn{constructor(e,t){super(e),this.feature=t}}function upe(i,e){const t=[];for(let r=0;r<e.length;++r){const s=e[r].getGeometry();uZ(i,s,t)}return t}function Up(i,e){return Vs(i[0],i[1],e[0],e[1])}function Oc(i,e){const t=i.length;return e<0?i[e+t]:e>=t?i[e-t]:i[e]}function Vp(i,e,t){let r,n;e<t?(r=e,n=t):(r=t,n=e);const s=Math.ceil(r),o=Math.floor(n);if(s>o){const l=Rc(i,r),c=Rc(i,n);return Up(l,c)}let a=0;if(r<s){const l=Rc(i,r),c=Oc(i,s);a+=Up(l,c)}if(o<n){const l=Oc(i,o),c=Rc(i,n);a+=Up(l,c)}for(let l=s;l<o-1;++l){const c=Oc(i,l),u=Oc(i,l+1);a+=Up(c,u)}return a}function uZ(i,e,t){if(e instanceof Rn){Xp(i,e.getCoordinates(),!1,t);return}if(e instanceof cu){const r=e.getCoordinates();for(let n=0,s=r.length;n<s;++n)Xp(i,r[n],!1,t);return}if(e instanceof vs){const r=e.getCoordinates();for(let n=0,s=r.length;n<s;++n)Xp(i,r[n],!0,t);return}if(e instanceof uu){const r=e.getCoordinates();for(let n=0,s=r.length;n<s;++n){const o=r[n];for(let a=0,l=o.length;a<l;++a)Xp(i,o[a],!0,t)}return}if(e instanceof il){const r=e.getGeometries();for(let n=0;n<r.length;++n)uZ(i,r[n],t);return}}const nb={index:-1,endIndex:NaN};function hpe(i,e,t,r){const n=i[0],s=i[1];let o=1/0,a=-1,l=NaN;for(let h=0;h<e.targets.length;++h){const d=e.targets[h],f=d.coordinates;let p=1/0,m;for(let g=0;g<f.length-1;++g){const v=f[g],y=f[g+1],_=hZ(n,s,v,y);_.squaredDistance<p&&(p=_.squaredDistance,m=g+_.along)}p<o&&(o=p,d.ring&&e.targetIndex===h&&(d.endIndex>d.startIndex?m<d.startIndex&&(m+=f.length):d.endIndex<d.startIndex&&m>d.startIndex&&(m-=f.length)),l=m,a=h)}const c=e.targets[a];let u=c.ring;if(e.targetIndex===a&&u){const h=Rc(c.coordinates,l),d=t.getPixelFromCoordinate(h);a7(d,e.startPx)>r&&(u=!1)}if(u){const h=c.coordinates,d=h.length,f=c.startIndex,p=l;if(f<p){const m=Vp(h,f,p);Vp(h,f,p-d)<m&&(l-=d)}else{const m=Vp(h,f,p);Vp(h,f,p+d)<m&&(l+=d)}}return nb.index=a,nb.endIndex=l,nb}function Xp(i,e,t,r){const n=i[0],s=i[1];for(let o=0,a=e.length-1;o<a;++o){const l=e[o],c=e[o+1],u=hZ(n,s,l,c);if(u.squaredDistance===0){const h=o+u.along;r.push({coordinates:e,ring:t,startIndex:h,endIndex:h});return}}}const sb={along:0,squaredDistance:0};function hZ(i,e,t,r){const n=t[0],s=t[1],o=r[0],a=r[1],l=o-n,c=a-s;let u=0,h=n,d=s;return(l!==0||c!==0)&&(u=Mt(((i-n)*l+(e-s)*c)/(l*l+c*c),0,1),h+=l*u,d+=c*u),sb.along=u,sb.squaredDistance=vf(Vs(i,e,h,d),10),sb}function Rc(i,e){const t=i.length;let r=Math.floor(e);const n=e-r;r>=t?r-=t:r<0&&(r+=t);let s=r+1;s>=t&&(s-=t);const o=i[r],a=o[0],l=o[1],c=i[s],u=c[0]-a,h=c[1]-l;return[a+u*n,l+h*n]}class dpe extends qu{constructor(e){const t=e;t.stopDown||(t.stopDown=Nu),super(t),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=ppe(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_==="Polygon"?3:2,this.maxPoints_=this.mode_==="Circle"?2:e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:Jo,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY";let r=e.geometryFunction;if(!r){const n=this.mode_;if(n==="Circle")r=(s,o,a)=>{const l=o||new gv([NaN,NaN]),c=bn(s[0]),u=o7(c,bn(s[s.length-1]));return l.setCenterAndRadius(c,Math.sqrt(u),this.geometryLayout_),l};else{let s;n==="Point"?s=Qi:n==="LineString"?s=Rn:n==="Polygon"&&(s=vs),r=(o,a,l)=>(a?n==="Polygon"?o[0].length?a.setCoordinates([o[0].concat([o[0][0]])],this.geometryLayout_):a.setCoordinates([],this.geometryLayout_):a.setCoordinates(o,this.geometryLayout_):a=new s(o,this.geometryLayout_),a)}}this.geometryFunction_=r,this.dragVertexDelay_=e.dragVertexDelay!==void 0?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new ed({source:new td({useSpatialIndex:!1,wrapX:e.wrapX?e.wrapX:!1}),style:e.style?e.style:fpe(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:tk,this.freehandCondition_,e.freehand?this.freehandCondition_=BP:this.freehandCondition_=e.freehandCondition?e.freehandCondition:cv,this.traceCondition_,this.setTrace(e.trace||!1),this.traceState_={active:!1},this.traceSource_=e.traceSource||e.source||null,this.addChangeListener(GP.ACTIVE,this.updateState_)}setTrace(e){let t;e?e===!0?t=BP:t=e:t=zP,this.traceCondition_=t}setMap(e){super.setMap(e),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(e){e.originalEvent.type===xe.CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!=="Point"&&this.freehandCondition_(e);let t=e.type===rt.POINTERMOVE,r=!0;return!this.freehand_&&this.lastDragTime_&&e.type===rt.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,t=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===rt.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(e.coordinate),r=!1):this.freehand_&&e.type===rt.POINTERDOWN?r=!1:t&&this.getPointerCount()<2?(r=e.type===rt.POINTERMOVE,r&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):(e.originalEvent.pointerType==="mouse"||e.type===rt.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(e)):e.type===rt.DBLCLICK&&(r=!1),super.handleEvent(e)&&r}handleDownEvent(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(()=>{this.handlePointerMove_(new Fs(rt.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))},this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(e){if(!this.traceSource_||!this.traceCondition_(e))return;if(this.traceState_.active){this.deactivateTrace_();return}const t=this.getMap(),r=t.getCoordinateFromPixel([e.pixel[0]-this.snapTolerance_,e.pixel[1]+this.snapTolerance_]),n=t.getCoordinateFromPixel([e.pixel[0]+this.snapTolerance_,e.pixel[1]-this.snapTolerance_]),s=PP([r,n]),o=this.traceSource_.getFeaturesInExtent(s);if(o.length===0)return;const a=upe(e.coordinate,o);a.length&&(this.traceState_={active:!0,startPx:e.pixel.slice(),targets:a,targetIndex:-1})}addOrRemoveTracedCoordinates_(e,t){const r=e.startIndex<=e.endIndex,n=e.startIndex<=t;r===n?r&&t>e.endIndex||!r&&t<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,t):(r&&t<e.endIndex||!r&&t>e.endIndex)&&this.removeTracedCoordinates_(t,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,t))}removeTracedCoordinates_(e,t){if(e===t)return;let r=0;if(e<t){const n=Math.ceil(e);let s=Math.floor(t);s===t&&(s-=1),r=s-n+1}else{const n=Math.floor(e);let s=Math.ceil(t);s===t&&(s+=1),r=n-s+1}r>0&&this.removeLastPoints_(r)}addTracedCoordinates_(e,t,r){if(t===r)return;const n=[];if(t<r){const s=Math.ceil(t);let o=Math.floor(r);o===r&&(o-=1);for(let a=s;a<=o;++a)n.push(Oc(e.coordinates,a))}else{const s=Math.floor(t);let o=Math.ceil(r);o===r&&(o+=1);for(let a=s;a>=o;--a)n.push(Oc(e.coordinates,a))}n.length&&this.appendCoordinates(n)}updateTrace_(e){const t=this.traceState_;if(!t.active||t.targetIndex===-1&&a7(t.startPx,e.pixel)<this.snapTolerance_)return;const r=hpe(e.coordinate,t,this.getMap(),this.snapTolerance_);if(t.targetIndex!==r.index){if(t.targetIndex!==-1){const l=t.targets[t.targetIndex];this.removeTracedCoordinates_(l.startIndex,l.endIndex)}const a=t.targets[r.index];this.addTracedCoordinates_(a,a.startIndex,r.endIndex)}else{const a=t.targets[t.targetIndex];this.addOrRemoveTracedCoordinates_(a,r.endIndex)}t.targetIndex=r.index;const n=t.targets[t.targetIndex];n.endIndex=r.endIndex;const s=Rc(n.coordinates,n.endIndex),o=this.getMap().getPixelFromCoordinate(s);e.coordinate=s,e.pixel=[Math.round(o[0]),Math.round(o[1])]}handleUpEvent(e){let t=!0;if(this.getPointerCount()===0){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);const r=this.traceState_.active;if(this.toggleTraceState_(e),this.shouldHandle_){const n=!this.finishCoordinate_;n&&this.startDrawing_(e.coordinate),!n&&this.freehand_?this.finishDrawing():!this.freehand_&&(!n||this.mode_==="Point")&&(this.atFinish_(e.pixel,r)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),t=!1}else this.freehand_&&this.abortDrawing()}return!t&&this.stopClick_&&e.preventDefault(),t}handlePointerMove_(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const t=this.downPx_,r=e.pixel,n=t[0]-r[0],s=t[1]-r[1],o=n*n+s*s;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return}if(!this.finishCoordinate_){this.createOrUpdateSketchPoint_(e.coordinate.slice());return}this.updateTrace_(e),this.modifyDrawing_(e.coordinate)}atFinish_(e,t){let r=!1;if(this.sketchFeature_){let n=!1,s=[this.finishCoordinate_];const o=this.mode_;if(o==="Point")r=!0;else if(o==="Circle")r=this.sketchCoords_.length===2;else if(o==="LineString")n=!t&&this.sketchCoords_.length>this.minPoints_;else if(o==="Polygon"){const a=this.sketchCoords_;n=a[0].length>this.minPoints_,s=[a[0][0],a[0][a[0].length-2]],t?s=[a[0][0]]:s=[a[0][0],a[0][a[0].length-2]]}if(n){const a=this.getMap();for(let l=0,c=s.length;l<c;l++){const u=s[l],h=a.getPixelFromCoordinate(u),d=e[0]-h[0],f=e[1]-h[1],p=this.freehand_?1:this.snapTolerance_;if(r=Math.sqrt(d*d+f*f)<=p,r){this.finishCoordinate_=u;break}}}}return r}createOrUpdateSketchPoint_(e){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new ki(new Qi(e)),this.updateSketchFeatures_())}createOrUpdateCustomSketchLine_(e){this.sketchLine_||(this.sketchLine_=new ki);const t=e.getLinearRing(0);let r=this.sketchLine_.getGeometry();r?(r.setFlatCoordinates(t.getLayout(),t.getFlatCoordinates()),r.changed()):(r=new Rn(t.getFlatCoordinates(),t.getLayout()),this.sketchLine_.setGeometry(r))}startDrawing_(e){const t=this.getMap().getView().getProjection(),r=Bm(this.geometryLayout_);for(;e.length<r;)e.push(0);this.finishCoordinate_=e,this.mode_==="Point"?this.sketchCoords_=e.slice():this.mode_==="Polygon"?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new ki(new Rn(this.sketchLineCoords_)));const n=this.geometryFunction_(this.sketchCoords_,void 0,t);this.sketchFeature_=new ki,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new Yp(Hp.DRAWSTART,this.sketchFeature_))}modifyDrawing_(e){const t=this.getMap(),r=this.sketchFeature_.getGeometry(),n=t.getView().getProjection(),s=Bm(this.geometryLayout_);let o,a;for(;e.length<s;)e.push(0);this.mode_==="Point"?a=this.sketchCoords_:this.mode_==="Polygon"?(o=this.sketchCoords_[0],a=o[o.length-1],this.atFinish_(t.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(o=this.sketchCoords_,a=o[o.length-1]),a[0]=e[0],a[1]=e[1],this.geometryFunction_(this.sketchCoords_,r,n),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(e),r.getType()==="Polygon"&&this.mode_!=="Polygon"?this.createOrUpdateCustomSketchLine_(r):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()}addToDrawing_(e){const t=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection();let n,s;const o=this.mode_;return o==="LineString"||o==="Circle"?(this.finishCoordinate_=e.slice(),s=this.sketchCoords_,s.length>=this.maxPoints_&&(this.freehand_?s.pop():n=!0),s.push(e.slice()),this.geometryFunction_(s,t,r)):o==="Polygon"&&(s=this.sketchCoords_[0],s.length>=this.maxPoints_&&(this.freehand_?s.pop():n=!0),s.push(e.slice()),n&&(this.finishCoordinate_=s[0]),this.geometryFunction_(this.sketchCoords_,t,r)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),n?this.finishDrawing():this.sketchFeature_}removeLastPoints_(e){if(!this.sketchFeature_)return;const t=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection(),n=this.mode_;for(let s=0;s<e;++s){let o;if(n==="LineString"||n==="Circle"){if(o=this.sketchCoords_,o.splice(-2,1),o.length>=2){this.finishCoordinate_=o[o.length-2].slice();const a=this.finishCoordinate_.slice();o[o.length-1]=a,this.createOrUpdateSketchPoint_(a)}this.geometryFunction_(o,t,r),t.getType()==="Polygon"&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(n==="Polygon"){o=this.sketchCoords_[0],o.splice(-2,1);const a=this.sketchLine_.getGeometry();if(o.length>=2){const l=o[o.length-2].slice();o[o.length-1]=l,this.createOrUpdateSketchPoint_(l)}a.setCoordinates(o),this.geometryFunction_(this.sketchCoords_,t,r)}if(o.length===1){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const e=this.abortDrawing_();if(!e)return null;let t=this.sketchCoords_;const r=e.getGeometry(),n=this.getMap().getView().getProjection();return this.mode_==="LineString"?(t.pop(),this.geometryFunction_(t,r,n)):this.mode_==="Polygon"&&(t[0].pop(),this.geometryFunction_(t,r,n),t=r.getCoordinates()),this.type_==="MultiPoint"?e.setGeometry(new wf([t])):this.type_==="MultiLineString"?e.setGeometry(new cu([t])):this.type_==="MultiPolygon"&&e.setGeometry(new uu([t])),this.dispatchEvent(new Yp(Hp.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e),e}abortDrawing_(){this.finishCoordinate_=null;const e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),e}abortDrawing(){const e=this.abortDrawing_();e&&this.dispatchEvent(new Yp(Hp.DRAWABORT,e))}appendCoordinates(e){const t=this.mode_,r=!this.sketchFeature_;r&&this.startDrawing_(e[0]);let n;if(t==="LineString"||t==="Circle")n=this.sketchCoords_;else if(t==="Polygon")n=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;r&&n.shift(),n.pop();for(let o=0;o<e.length;o++)this.addToDrawing_(e[o]);const s=e[e.length-1];this.sketchFeature_=this.addToDrawing_(s),this.modifyDrawing_(s)}extend(e){const r=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=r.getCoordinates();const n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.sketchPoint_=new ki(new Qi(n)),this.updateSketchFeatures_(),this.dispatchEvent(new Yp(Hp.DRAWSTART,this.sketchFeature_))}updateSketchFeatures_(){const e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);const t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)}updateState_(){const e=this.getMap(),t=this.getActive();(!e||!t)&&this.abortDrawing(),this.overlay_.setMap(t?e:null)}}function fpe(){const i=Y7();return function(e,t){return i[e.getGeometry().getType()]}}function ppe(i){switch(i){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+i)}}const mpe={SELECT:"select"};class gpe extends Gn{constructor(e,t,r,n){super(e),this.selected=t,this.deselected=r,this.mapBrowserEvent=n}}const Kp={};let vpe=class dZ extends Lu{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:Hhe,this.addCondition_=e.addCondition?e.addCondition:zP,this.removeCondition_=e.removeCondition?e.removeCondition:zP,this.toggleCondition_=e.toggleCondition?e.toggleCondition:cv,this.multi_=e.multi?e.multi:!1,this.filter_=e.filter?e.filter:Jo,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=e.style!==void 0?e.style:ype(),this.features_=e.features||new Sn;let t;if(e.layers)if(typeof e.layers=="function")t=e.layers;else{const r=e.layers;t=function(n){return r.includes(n)}}else t=Jo;this.layerFilter_=t,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,t){this.featureLayerAssociation_[Ae(e)]=t}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[Ae(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(vi.ADD,this.boundAddFeature_),this.features_.addEventListener(vi.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(vi.ADD,this.boundAddFeature_),this.features_.removeEventListener(vi.REMOVE,this.boundRemoveFeature_))}addFeature_(e){const t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){const r=this.getMap().getAllLayers().find(function(n){if(n instanceof ed&&n.getSource()&&n.getSource().hasFeature(t))return n});r&&this.addFeatureLayerAssociation_(t,r)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}getStyle(){return this.style_}applySelectedStyle_(e){const t=Ae(e);t in Kp||(Kp[t]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){const t=this.getMap().getInteractions().getArray();for(let n=t.length-1;n>=0;--n){const s=t[n];if(s!==this&&s instanceof dZ&&s.getStyle()&&s.getFeatures().getArray().lastIndexOf(e)!==-1){e.setStyle(s.getStyle());return}}const r=Ae(e);e.setStyle(Kp[r]),delete Kp[r]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[Ae(e)]}handleEvent(e){if(!this.condition_(e))return!0;const t=this.addCondition_(e),r=this.removeCondition_(e),n=this.toggleCondition_(e),s=!t&&!r&&!n,o=e.map,a=this.getFeatures(),l=[],c=[];if(s){$u(this.featureLayerAssociation_),o.forEachFeatureAtPixel(e.pixel,(u,h)=>{if(!(!(u instanceof ki)||!this.filter_(u,h)))return this.addFeatureLayerAssociation_(u,h),c.push(u),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let u=a.getLength()-1;u>=0;--u){const h=a.item(u),d=c.indexOf(h);d>-1?c.splice(d,1):(a.remove(h),l.push(h))}c.length!==0&&a.extend(c)}else{o.forEachFeatureAtPixel(e.pixel,(u,h)=>{if(!(!(u instanceof ki)||!this.filter_(u,h)))return(t||n)&&!a.getArray().includes(u)?(this.addFeatureLayerAssociation_(u,h),c.push(u)):(r||n)&&a.getArray().includes(u)&&(l.push(u),this.removeFeatureLayerAssociation_(u)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let u=l.length-1;u>=0;--u)a.remove(l[u]);a.extend(c)}return(c.length>0||l.length>0)&&this.dispatchEvent(new gpe(mpe.SELECT,c,l,e)),!0}};function ype(){const i=Y7();return rn(i.Polygon,i.LineString),rn(i.GeometryCollection,i.LineString),function(e){return e.getGeometry()?i[e.getGeometry().getType()]:null}}class hk extends Kg{constructor(e,t,r){super(),r=r||{},this.tileCoord=e,this.state=t,this.key="",this.transition_=r.transition===void 0?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent(xe.CHANGE)}release(){this.setState(ge.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==ge.EMPTY){if(this.state!==ge.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}}load(){_e()}getAlpha(e,t){if(!this.transition_)return 1;let r=this.transitionStarts_[e];if(!r)r=t,this.transitionStarts_[e]=r;else if(r===-1)return 1;const n=t-r+1e3/60;return n>=this.transition_?1:c7(n/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}function XP(i){return i instanceof Image||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageBitmap?i:null}const bpe=new Error("disposed"),_pe=[256,256];class y$ extends hk{constructor(e){const t=ge.IDLE;super(e.tileCoord,t,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=XP(this.data_);return e?[e.width,e.height]:_pe}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==ge.IDLE&&this.state!==ge.ERROR)return;this.state=ge.LOADING,this.changed();const e=this;this.loader_().then(function(t){e.data_=t,e.state=ge.LOADED,e.changed()}).catch(function(t){e.error_=t,e.state=ge.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(bpe),this.controller_=null),super.disposeInternal()}}class fZ extends hk{constructor(e,t,r,n,s,o){super(e,t,o),this.crossOrigin_=n,this.src_=r,this.key=r,this.image_=new Image,n!==null&&(this.image_.crossOrigin=n),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=ge.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=ge.ERROR,this.unlistenImage_(),this.image_=wpe(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=ge.LOADED:this.state=ge.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==ge.ERROR&&(this.state=ge.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==ge.IDLE&&(this.state=ge.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Ude(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function wpe(){const i=di(1,1);return i.fillStyle="rgba(0,0,0,0)",i.fillRect(0,0,1,1),i.canvas}let ob;const Hc=[];function b$(i,e,t,r,n){i.beginPath(),i.moveTo(0,0),i.lineTo(e,t),i.lineTo(r,n),i.closePath(),i.save(),i.clip(),i.fillRect(0,0,Math.max(e,r)+1,Math.max(t,n)),i.restore()}function ab(i,e){return Math.abs(i[e*4]-210)>2||Math.abs(i[e*4+3]-.75*255)>2}function xpe(){if(ob===void 0){const i=di(6,6,Hc);i.globalCompositeOperation="lighter",i.fillStyle="rgba(210, 0, 0, 0.75)",b$(i,4,5,4,0),b$(i,4,5,0,5);const e=i.getImageData(0,0,3,3).data;ob=ab(e,0)||ab(e,4)||ab(e,8),lv(i),Hc.push(i.canvas)}return ob}function _$(i,e,t,r){const n=FI(t,e,i);let s=AN(e,r,t);const o=e.getMetersPerUnit();o!==void 0&&(s*=o);const a=i.getMetersPerUnit();a!==void 0&&(s/=a);const l=i.getExtent();if(!l||nu(l,n)){const c=AN(i,s,n)/s;isFinite(c)&&c>0&&(s/=c)}return s}function Spe(i,e,t,r){const n=gs(t);let s=_$(i,e,n,r);return(!isFinite(s)||s<=0)&&OI(t,function(o){return s=_$(i,e,o,r),isFinite(s)&&s>0}),s}function Epe(i,e,t,r,n,s,o,a,l,c,u,h,d,f){const p=di(Math.round(t*i),Math.round(t*e),Hc);if(h||(p.imageSmoothingEnabled=!1),l.length===0)return p.canvas;p.scale(t,t);function m(w){return Math.round(w*t)/t}p.globalCompositeOperation="lighter";const g=qr();l.forEach(function(w,S,E){J9(g,w.extent)});let v;const y=t/r,_=(h?1:1+Math.pow(2,-24))/y;v=di(Math.round(ct(g)*y),Math.round(Xi(g)*y),Hc),h||(v.imageSmoothingEnabled=!1),l.forEach(function(w,S,E){if(w.image.width>0&&w.image.height>0){if(w.clipExtent){v.save();const I=(w.clipExtent[0]-g[0])*y,$=-(w.clipExtent[3]-g[3])*y,F=ct(w.clipExtent)*y,W=Xi(w.clipExtent)*y;v.rect(h?I:Math.round(I),h?$:Math.round($),h?F:Math.round(I+F)-Math.round(I),h?W:Math.round($+W)-Math.round($)),v.clip()}const x=(w.extent[0]-g[0])*y,T=-(w.extent[3]-g[3])*y,R=ct(w.extent)*y,P=Xi(w.extent)*y;v.drawImage(w.image,c,c,w.image.width-2*c,w.image.height-2*c,h?x:Math.round(x),h?T:Math.round(T),h?R:Math.round(x+R)-Math.round(x),h?P:Math.round(T+P)-Math.round(T)),w.clipExtent&&v.restore()}});const b=Cl(o);return a.getTriangles().forEach(function(w,S,E){const x=w.source,T=w.target;let R=x[0][0],P=x[0][1],I=x[1][0],$=x[1][1],F=x[2][0],W=x[2][1];const N=m((T[0][0]-b[0])/s),q=m(-(T[0][1]-b[1])/s),D=m((T[1][0]-b[0])/s),j=m(-(T[1][1]-b[1])/s),X=m((T[2][0]-b[0])/s),U=m(-(T[2][1]-b[1])/s),M=R,L=P;R=0,P=0,I-=M,$-=L,F-=M,W-=L;const G=[[I,$,0,0,D-N],[F,W,0,0,X-N],[0,0,I,$,j-q],[0,0,F,W,U-q]],B=mue(G);if(!B)return;if(p.save(),p.beginPath(),xpe()||!h){p.moveTo(D,j);const z=4,Q=N-D,re=q-j;for(let me=0;me<z;me++)p.lineTo(D+m((me+1)*Q/z),j+m(me*re/(z-1))),me!=z-1&&p.lineTo(D+m((me+1)*Q/z),j+m((me+1)*re/(z-1)));p.lineTo(X,U)}else p.moveTo(D,j),p.lineTo(N,q),p.lineTo(X,U);p.clip(),p.transform(B[0],B[2],B[1],B[3],N,q),p.translate(g[0]-M,g[3]-L);let H;if(v)H=v.canvas,p.scale(_,-_);else{const z=l[0],Q=z.extent;H=z.image,p.scale(ct(Q)/H.width,-Xi(Q)/H.height)}p.drawImage(H,0,0),p.restore()}),v&&(lv(v),Hc.push(v.canvas)),u&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,a.getTriangles().forEach(function(w,S,E){const x=w.target,T=(x[0][0]-b[0])/s,R=-(x[0][1]-b[1])/s,P=(x[1][0]-b[0])/s,I=-(x[1][1]-b[1])/s,$=(x[2][0]-b[0])/s,F=-(x[2][1]-b[1])/s;p.beginPath(),p.moveTo(P,I),p.lineTo(T,R),p.lineTo($,F),p.closePath(),p.stroke()}),p.restore()),p.canvas}const Cpe=10,w$=.25;class Tpe{constructor(e,t,r,n,s,o,a){this.sourceProj_=e,this.targetProj_=t;let l={};const c=a?Zue(_=>gi(a,FI(_,this.targetProj_,this.sourceProj_))):Ed(this.targetProj_,this.sourceProj_);this.transformInv_=function(_){const b=_[0]+"/"+_[1];return l[b]||(l[b]=c(_)),l[b]},this.maxSourceExtent_=n,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&ct(n)>=ct(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?ct(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?ct(this.targetProj_.getExtent()):null;const u=Cl(r),h=ev(r),d=Jg(r),f=Qg(r),p=this.transformInv_(u),m=this.transformInv_(h),g=this.transformInv_(d),v=this.transformInv_(f),y=Cpe+(o?Math.max(0,Math.ceil(Math.log2(IP(r)/(o*o*256*256)))):0);if(this.addQuad_(u,h,d,f,p,m,g,v,y),this.wrapsXInSource_){let _=1/0;this.triangles_.forEach(function(b,w,S){_=Math.min(_,b.source[0][0],b.source[1][0],b.source[2][0])}),this.triangles_.forEach(b=>{if(Math.max(b.source[0][0],b.source[1][0],b.source[2][0])-_>this.sourceWorldWidth_/2){const w=[[b.source[0][0],b.source[0][1]],[b.source[1][0],b.source[1][1]],[b.source[2][0],b.source[2][1]]];w[0][0]-_>this.sourceWorldWidth_/2&&(w[0][0]-=this.sourceWorldWidth_),w[1][0]-_>this.sourceWorldWidth_/2&&(w[1][0]-=this.sourceWorldWidth_),w[2][0]-_>this.sourceWorldWidth_/2&&(w[2][0]-=this.sourceWorldWidth_);const S=Math.min(w[0][0],w[1][0],w[2][0]);Math.max(w[0][0],w[1][0],w[2][0])-S<this.sourceWorldWidth_/2&&(b.source=w)}})}l={}}addTriangle_(e,t,r,n,s,o){this.triangles_.push({source:[n,s,o],target:[e,t,r]})}addQuad_(e,t,r,n,s,o,a,l,c){const u=PP([s,o,a,l]),h=this.sourceWorldWidth_?ct(u)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&h>.5&&h<1;let p=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const g=PP([e,t,r,n]);p=ct(g)/this.targetWorldWidth_>w$||p}!f&&this.sourceProj_.isGlobal()&&h&&(p=h>w$||p)}if(!p&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!Yi(u,this.maxSourceExtent_))return;let m=0;if(!p&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)p=!0;else if(m=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),m!=1&&m!=2&&m!=4&&m!=8)return}if(c>0){if(!p){const g=[(e[0]+r[0])/2,(e[1]+r[1])/2],v=this.transformInv_(g);let y;f?y=(Wc(s[0],d)+Wc(a[0],d))/2-Wc(v[0],d):y=(s[0]+a[0])/2-v[0];const _=(s[1]+a[1])/2-v[1];p=y*y+_*_>this.errorThresholdSquared_}if(p){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){const g=[(t[0]+r[0])/2,(t[1]+r[1])/2],v=this.transformInv_(g),y=[(n[0]+e[0])/2,(n[1]+e[1])/2],_=this.transformInv_(y);this.addQuad_(e,t,g,y,s,o,v,_,c-1),this.addQuad_(y,g,r,n,_,v,a,l,c-1)}else{const g=[(e[0]+t[0])/2,(e[1]+t[1])/2],v=this.transformInv_(g),y=[(r[0]+n[0])/2,(r[1]+n[1])/2],_=this.transformInv_(y);this.addQuad_(e,g,y,n,s,v,_,l,c-1),this.addQuad_(g,t,r,y,v,o,a,_,c-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(m&11)==0&&this.addTriangle_(e,r,n,s,a,l),(m&14)==0&&this.addTriangle_(e,r,t,s,a,o),m&&((m&13)==0&&this.addTriangle_(t,n,e,o,l,s),(m&7)==0&&this.addTriangle_(t,n,r,o,l,a))}calculateSourceExtent(){const e=qr();return this.triangles_.forEach(function(t,r,n){const s=t.source;Qh(e,s[0]),Qh(e,s[1]),Qh(e,s[2])}),e}getTriangles(){return this.triangles_}}const Ope=.5;class pZ extends hk{constructor(e,t,r,n,s,o,a,l,c,u,h,d){super(s,ge.IDLE,d),this.renderEdges_=h!==void 0?h:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=n,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const f=n.getTileCoordExtent(this.wrappedTileCoord_),p=this.targetTileGrid_.getExtent();let m=this.sourceTileGrid_.getExtent();const g=p?ja(f,p):f;if(IP(g)===0){this.state=ge.EMPTY;return}const v=e.getExtent();v&&(m?m=ja(m,v):m=v);const y=n.getResolution(this.wrappedTileCoord_[0]),_=Spe(e,r,g,y);if(!isFinite(_)||_<=0){this.state=ge.EMPTY;return}const b=u!==void 0?u:Ope;if(this.triangulation_=new Tpe(e,r,g,m,_*b,y),this.triangulation_.getTriangles().length===0){this.state=ge.EMPTY;return}this.sourceZ_=t.getZForResolution(_);let w=this.triangulation_.calculateSourceExtent();if(m&&(e.canWrapX()?(w[1]=Mt(w[1],m[1],m[3]),w[3]=Mt(w[3],m[1],m[3])):w=ja(w,m)),!IP(w))this.state=ge.EMPTY;else{let S=0,E=0;e.canWrapX()&&(S=ct(v),E=Math.floor((w[0]-v[0])/S)),r7(w.slice(),e,!0).forEach(T=>{const R=t.getTileRangeForExtentAndZ(T,this.sourceZ_);for(let P=R.minX;P<=R.maxX;P++)for(let I=R.minY;I<=R.maxY;I++){const $=c(this.sourceZ_,P,I,a);if($){const F=E*S;this.sourceTiles_.push({tile:$,offset:F})}}++E}),this.sourceTiles_.length===0&&(this.state=ge.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(t=>{const r=t.tile;if(r&&r.getState()==ge.LOADED){const n=this.sourceTileGrid_.getTileCoordExtent(r.tileCoord);n[0]+=t.offset,n[2]+=t.offset;const s=this.clipExtent_?.slice();s&&(s[0]+=t.offset,s[2]+=t.offset),e.push({extent:n,clipExtent:s,image:r.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=ge.ERROR;else{const t=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(t),n=typeof r=="number"?r:r[0],s=typeof r=="number"?r:r[1],o=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Epe(n,s,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=ge.LOADED}this.changed()}load(){if(this.state==ge.IDLE){this.state=ge.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{const r=t.getState();if(r==ge.IDLE||r==ge.LOADING){e++;const n=We(t,xe.CHANGE,s=>{const o=t.getState();(o==ge.LOADED||o==ge.ERROR||o==ge.EMPTY)&&(St(n),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(n)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:t},r,n){t.getState()==ge.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(St),this.sourcesListenerKeys_=null}release(){this.canvas_&&(lv(this.canvas_.getContext("2d")),Hc.push(this.canvas_),this.canvas_=null),super.release()}}class dk{constructor(e,t,r,n){this.minX=e,this.maxX=t,this.minY=r,this.maxY=n}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function ic(i,e,t,r,n){return n!==void 0?(n.minX=i,n.maxX=e,n.minY=t,n.maxY=r,n):new dk(i,e,t,r)}class Rpe{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const e=this.pop();e instanceof Xg&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const r=this.entries_[e];return nt(r!==void 0,"Tried to get a value for a key that does not exist in the cache"),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(e){const t=this.entries_[e];return nt(t!==void 0,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t=0,r;for(r=this.newest_;r;r=r.older)e[t++]=r.key_;return e}getValues(){const e=new Array(this.count_);let t=0,r;for(r=this.newest_;r;r=r.older)e[t++]=r.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){nt(!(e in this.entries_),"Tried to set a value for a key that is used already");const r={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_}setSize(e){this.highWaterMark=e}}function Km(i,e,t,r){return r!==void 0?(r[0]=i,r[1]=e,r[2]=t,r):[i,e,t]}function Ppe(i,e,t){return i+"/"+e+"/"+t}function Dpe(i){return Ipe(i[0],i[1],i[2])}function Ipe(i,e,t){return(e<<i)+t}function kpe(i,e){const t=i[0],r=i[1],n=i[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;const s=e.getFullTileRange(t);return s?s.containsXY(r,n):!0}function lb(i,e,t,r,n){return`${Ae(i)},${e},${Ppe(t,r,n)}`}function cb(i,e,t){if(!(t in i))return i[t]=new Set([e]),!0;const r=i[t],n=r.has(e);return n||r.add(e),!n}function Mpe(i,e,t){const r=i[t];return r?r.delete(e):!1}function x$(i,e){const t=i.layerStatesArray[i.layerIndex];t.extent&&(e=ja(e,qo(t.extent,i.viewState.projection)));const r=t.layer.getRenderSource();if(!r.getWrapX()){const n=r.getTileGridForProjection(i.viewState.projection).getExtent();n&&(e=ja(e,n))}return e}class Ape extends lZ{constructor(e,t){super(e),t=t||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=qr(),this.tempTileRange_=new dk(0,0,0,0),this.tempTileCoord_=Km(0,0,0);const r=t.cacheSize!==void 0?t.cacheSize:512;this.tileCache_=new Rpe(r),this.maxStaleKeys=r*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,t,r,n){const s=this.tileCache_,a=this.getLayer().getSource(),l=lb(a,a.getKey(),e,t,r);let c;if(s.containsKey(l))c=s.get(l);else{if(c=a.getTile(e,t,r,n.pixelRatio,n.viewState.projection),!c)return null;s.set(l,c)}return c}getTile(e,t,r,n){const s=this.getOrCreateTile(e,t,r,n);return s||null}getData(e){const t=this.frameState;if(!t)return null;const r=this.getLayer(),n=gi(t.pixelToCoordinateTransform,e.slice()),s=r.getExtent();if(s&&!nu(s,n))return null;const o=t.viewState,a=r.getRenderSource(),l=a.getTileGridForProjection(o.projection),c=a.getTilePixelRatio(t.pixelRatio);for(let u=l.getZForResolution(o.resolution);u>=l.getMinZoom();--u){const h=l.getTileCoordForCoordAndZ(n,u),d=this.getTile(u,h[1],h[2],t);if(!d||d.getState()!==ge.LOADED)continue;const f=l.getOrigin(u),p=fr(l.getTileSize(u)),m=l.getResolution(u);let g;if(d instanceof fZ||d instanceof pZ)g=d.getImage();else if(d instanceof y$){if(g=XP(d.getData()),!g)continue}else continue;const v=Math.floor(c*((n[0]-f[0])/m-h[1]*p[0])),y=Math.floor(c*((f[1]-n[1])/m-h[2]*p[1])),_=Math.round(c*a.getGutterForProjection(o.projection));return this.getImageData(g,v+_,y+_)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;const t=this.getLayer().getSource();if(!t)return!1;const r=t.getRevision();return this.renderedSourceRevision_?this.renderedSourceRevision_!==r&&(this.renderedSourceRevision_=r,this.renderedSourceKey_===t.getKey()&&this.tileCache_.clear()):this.renderedSourceRevision_=r,!0}enqueueTiles(e,t,r,n,s){const o=e.viewState,a=this.getLayer(),l=a.getRenderSource(),c=l.getTileGridForProjection(o.projection),u=Ae(l);u in e.wantedTiles||(e.wantedTiles[u]={});const h=e.wantedTiles[u],d=a.getMapInternal(),f=Math.max(r-s,c.getMinZoom(),c.getZForResolution(Math.min(a.getMaxResolution(),d?d.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):c.getResolution(0)),l.zDirection)),p=o.rotation,m=p?t7(o.center,o.resolution,p,e.size):void 0;for(let g=r;g>=f;--g){const v=c.getTileRangeForExtentAndZ(t,g,this.tempTileRange_),y=c.getResolution(g);for(let _=v.minX;_<=v.maxX;++_)for(let b=v.minY;b<=v.maxY;++b){if(p&&!c.tileCoordIntersectsViewport([g,_,b],m))continue;const w=this.getTile(g,_,b,e);if(!w||!cb(n,w,g))continue;const E=w.getKey();if(h[E]=!0,w.getState()===ge.IDLE&&!e.tileQueue.isKeyQueued(E)){const x=Km(g,_,b,this.tempTileCoord_);e.tileQueue.enqueue([w,u,c.getTileCoordCenter(x),y])}}}}findStaleTile_(e,t){const r=this.tileCache_,n=e[0],s=e[1],o=e[2],a=this.getStaleKeys();for(let l=0;l<a.length;++l){const c=lb(this.getLayer().getSource(),a[l],n,s,o);if(r.containsKey(c)){const u=r.peek(c);if(u.getState()===ge.LOADED)return u.endTransition(Ae(this)),cb(t,u,n),!0}}return!1}findAltTiles_(e,t,r,n){const s=e.getTileRangeForTileCoordAndZ(t,r,this.tempTileRange_);if(!s)return!1;let o=!0;const a=this.tileCache_,l=this.getLayer().getRenderSource(),c=l.getKey();for(let u=s.minX;u<=s.maxX;++u)for(let h=s.minY;h<=s.maxY;++h){const d=lb(l,c,r,u,h);let f=!1;if(a.containsKey(d)){const p=a.peek(d);p.getState()===ge.LOADED&&(cb(n,p,r),f=!0)}f||(o=!1)}return o}renderFrame(e,t){this.renderComplete=!0;const r=e.layerStatesArray[e.layerIndex],n=e.viewState,s=n.projection,o=n.resolution,a=n.center,l=e.pixelRatio,c=this.getLayer(),u=c.getSource(),h=u.getTileGridForProjection(s),d=h.getZForResolution(o,u.zDirection),f=h.getResolution(d),p=u.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==p&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=p):this.renderedSourceKey_=p;let m=e.extent;const g=u.getTilePixelRatio(l);this.prepareContainer(e,t);const v=this.context.canvas.width,y=this.context.canvas.height,_=r.extent&&qo(r.extent);_&&(m=ja(m,qo(r.extent)));const b=f*v/2/g,w=f*y/2/g,S=[a[0]-b,a[1]-w,a[0]+b,a[1]+w],E={};this.renderedTiles.length=0;const x=c.getPreload();if(e.nextExtent){const D=h.getZForResolution(n.nextResolution,u.zDirection),j=x$(e,e.nextExtent);this.enqueueTiles(e,j,D,E,x)}const T=x$(e,m);if(this.enqueueTiles(e,T,d,E,0),x>0&&setTimeout(()=>{this.enqueueTiles(e,T,d-1,E,x-1)},0),!(d in E))return this.container;const R=Ae(this),P=e.time;for(const D of E[d]){const j=D.getState();if(j===ge.EMPTY)continue;const X=D.tileCoord;if(j===ge.LOADED&&D.getAlpha(R,P)===1){D.endTransition(R);continue}if(j!==ge.ERROR&&(this.renderComplete=!1),this.findStaleTile_(X,E)){Mpe(E,D,d),e.animate=!0;continue}if(this.findAltTiles_(h,X,d+1,E))continue;const L=h.getMinZoom();for(let G=d-1;G>=L&&!this.findAltTiles_(h,X,G,E);--G);}const I=f/o*l/g,$=this.getRenderContext(e);ho(this.tempTransform,v/2,y/2,I,I,0,-v/2,-y/2),r.extent&&this.clipUnrotated($,e,_),u.getInterpolate()||($.imageSmoothingEnabled=!1),this.preRender($,e);const F=Object.keys(E).map(Number);F.sort(Us);let W;const N=[],q=[];for(let D=F.length-1;D>=0;--D){const j=F[D],X=u.getTilePixelSize(j,l,s),M=h.getResolution(j)/f,L=X[0]*M*I,G=X[1]*M*I,B=h.getTileCoordForCoordAndZ(Cl(S),j),H=h.getTileCoordExtent(B),z=gi(this.tempTransform,[g*(H[0]-S[0])/f,g*(S[3]-H[3])/f]),Q=g*u.getGutterForProjection(s);for(const re of E[j]){if(re.getState()!==ge.LOADED)continue;const me=re.tileCoord,et=B[1]-me[1],ot=Math.round(z[0]-(et-1)*L),ve=B[2]-me[2],ht=Math.round(z[1]-(ve-1)*G),Ot=Math.round(z[0]-et*L),At=Math.round(z[1]-ve*G),Ve=ot-Ot,Le=ht-At,sr=F.length===1;let ai=!1;W=[Ot,At,Ot+Ve,At,Ot+Ve,At+Le,Ot,At+Le];for(let Zt=0,Qt=N.length;Zt<Qt;++Zt)if(!sr&&j<q[Zt]){const Xe=N[Zt];Yi([Ot,At,Ot+Ve,At+Le],[Xe[0],Xe[3],Xe[4],Xe[7]])&&(ai||($.save(),ai=!0),$.beginPath(),$.moveTo(W[0],W[1]),$.lineTo(W[2],W[3]),$.lineTo(W[4],W[5]),$.lineTo(W[6],W[7]),$.moveTo(Xe[6],Xe[7]),$.lineTo(Xe[4],Xe[5]),$.lineTo(Xe[2],Xe[3]),$.lineTo(Xe[0],Xe[1]),$.clip())}N.push(W),q.push(j),this.drawTile(re,e,Ot,At,Ve,Le,Q,sr),ai&&$.restore(),this.renderedTiles.unshift(re),this.updateUsedTiles(e.usedTiles,u,re)}}if(this.renderedResolution=f,this.extentChanged=!this.renderedExtent_||!xd(this.renderedExtent_,S),this.renderedExtent_=S,this.renderedPixelRatio=l,this.postRender(this.context,e),r.extent&&$.restore(),$.imageSmoothingEnabled=!0,this.renderComplete){const D=(j,X)=>{const U=Ae(u),M=X.wantedTiles[U],L=M?Object.keys(M).length:0;this.updateCacheSize(L),this.tileCache_.expireCache()};e.postRenderFunctions.push(D)}return this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,t,r,n,s,o,a,l){let c;if(e instanceof y$){if(c=XP(e.getData()),!c)throw new Error("Rendering array data is not yet supported")}else c=this.getTileImage(e);if(!c)return;const u=this.getRenderContext(t),h=Ae(this),d=t.layerStatesArray[t.layerIndex],f=d.opacity*(l?e.getAlpha(h,t.time):1),p=f!==u.globalAlpha;p&&(u.save(),u.globalAlpha=f),u.drawImage(c,a,a,c.width-2*a,c.height-2*a,r,n,s,o),p&&u.restore(),f!==d.opacity?t.animate=!0:l&&e.endTransition(h)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,t,r){const n=Ae(t);n in e||(e[n]={}),e[n][r.getKey()]=!0}}const Zp={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class Npe extends uv{constructor(e){e=e||{};const t=Object.assign({},e),r=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=r,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Zp.PRELOAD)}setPreload(e){this.set(Zp.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Zp.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Zp.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class $pe extends Npe{constructor(e){super(e)}createRenderer(){return new Ape(this,{cacheSize:this.getCacheSize()})}}const rc=[0,0,0],Po=5;class mZ{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,nt(rue(this.resolutions_,(n,s)=>s-n),"`resolutions` must be sorted in descending order");let t;if(!e.origins){for(let n=0,s=this.resolutions_.length-1;n<s;++n)if(!t)t=this.resolutions_[n]/this.resolutions_[n+1];else if(this.resolutions_[n]/this.resolutions_[n+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,nt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const r=e.extent;r!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Cl(r)),nt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,nt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:ZI,nt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=r!==void 0?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((n,s)=>{const o=new dk(Math.min(0,n[0]),Math.max(n[0]-1,-1),Math.min(0,n[1]),Math.max(n[1]-1,-1));if(r){const a=this.getTileRangeForExtentAndZ(r,s);o.minX=Math.max(a.minX,o.minX),o.maxX=Math.min(a.maxX,o.maxX),o.minY=Math.max(a.minY,o.minY),o.maxY=Math.min(a.maxY,o.maxY)}return o}):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,t,r){const n=this.getTileRangeForExtentAndZ(e,t);for(let s=n.minX,o=n.maxX;s<=o;++s)for(let a=n.minY,l=n.maxY;a<=l;++a)r([t,s,a])}forEachTileCoordParentTileRange(e,t,r,n){let s,o,a,l=null,c=e[0]-1;for(this.zoomFactor_===2?(o=e[1],a=e[2]):l=this.getTileCoordExtent(e,n);c>=this.minZoom;){if(o!==void 0&&a!==void 0?(o=Math.floor(o/2),a=Math.floor(a/2),s=ic(o,o,a,a,r)):s=this.getTileRangeForExtentAndZ(l,c,r),t(c,s))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,r){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const s=e[1]*2,o=e[2]*2;return ic(s,s+1,o,o+1,t)}const n=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(n,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,r){if(t>this.maxZoom||t<this.minZoom)return null;const n=e[0],s=e[1],o=e[2];if(t===n)return ic(s,o,s,o,r);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,t-n),c=Math.floor(s*l),u=Math.floor(o*l);if(t<n)return ic(c,c,u,u,r);const h=Math.floor(l*(s+1))-1,d=Math.floor(l*(o+1))-1;return ic(c,h,u,d,r)}const a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t,r)}getTileRangeForExtentAndZ(e,t,r){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,rc);const n=rc[1],s=rc[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,rc);const o=rc[1],a=rc[2];return ic(n,o,s,a,r)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),r=this.getResolution(e[0]),n=fr(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*n[0]*r,t[1]-(e[2]+.5)*n[1]*r]}getTileCoordExtent(e,t){const r=this.getOrigin(e[0]),n=this.getResolution(e[0]),s=fr(this.getTileSize(e[0]),this.tmpSize_),o=r[0]+e[1]*s[0]*n,a=r[1]-(e[2]+1)*s[1]*n,l=o+s[0]*n,c=a+s[1]*n;return uo(o,a,l,c,t)}getTileCoordForCoordAndResolution(e,t,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,r)}getTileCoordForXYAndResolution_(e,t,r,n,s){const o=this.getZForResolution(r),a=r/this.getResolution(o),l=this.getOrigin(o),c=fr(this.getTileSize(o),this.tmpSize_);let u=a*(e-l[0])/r/c[0],h=a*(l[1]-t)/r/c[1];return n?(u=$p(u,Po)-1,h=$p(h,Po)-1):(u=Np(u,Po),h=Np(h,Po)),Km(o,u,h,s)}getTileCoordForXYAndZ_(e,t,r,n,s){const o=this.getOrigin(r),a=this.getResolution(r),l=fr(this.getTileSize(r),this.tmpSize_);let c=(e-o[0])/a/l[0],u=(o[1]-t)/a/l[1];return n?(c=$p(c,Po)-1,u=$p(u,Po)-1):(c=Np(c,Po),u=Np(u,Po)),Km(r,c,u,s)}getTileCoordForCoordAndZ(e,t,r){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,r)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const r=wI(this.resolutions_,e,t||0);return Mt(r,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return T7(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,r=new Array(t);for(let n=this.minZoom;n<t;++n)r[n]=this.getTileRangeForExtentAndZ(e,n);this.fullTileRanges_=r}}function gZ(i){let e=i.getDefaultTileGrid();return e||(e=jpe(i),i.setDefaultTileGrid(e)),e}function Fpe(i,e,t){const r=e[0],n=i.getTileCoordCenter(e),s=fk(t);if(!nu(s,n)){const o=ct(s),a=Math.ceil((s[0]-n[0])/o);return n[0]+=o*a,i.getTileCoordForCoordAndZ(n,r)}return e}function Lpe(i,e,t,r){r=r!==void 0?r:"top-left";const n=vZ(i,e,t);return new mZ({extent:i,origin:yue(i,r),resolutions:n,tileSize:t})}function qpe(i){const e=i||{},t=e.extent||_i("EPSG:3857").getExtent(),r={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:vZ(t,e.maxZoom,e.tileSize,e.maxResolution)};return new mZ(r)}function vZ(i,e,t,r){e=e!==void 0?e:The,t=fr(t!==void 0?t:ZI);const n=Xi(i),s=ct(i);r=r>0?r:Math.max(s/t[0],n/t[1]);const o=e+1,a=new Array(o);for(let l=0;l<o;++l)a[l]=r/Math.pow(2,l);return a}function jpe(i,e,t,r){const n=fk(i);return Lpe(n,e,t,r)}function fk(i){i=_i(i);let e=i.getExtent();if(!e){const t=180*PI.degrees/i.getMetersPerUnit();e=uo(-t,-t,t,t)}return e}const Gpe=/\{z\}/g,Wpe=/\{x\}/g,Bpe=/\{y\}/g,zpe=/\{-y\}/g;function Hpe(i,e,t,r,n){return i.replace(Gpe,e.toString()).replace(Wpe,t.toString()).replace(Bpe,r.toString()).replace(zpe,function(){if(n===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(n-r).toString()})}function Ype(i){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(i);if(t){const r=t[1].charCodeAt(0),n=t[2].charCodeAt(0);let s;for(s=r;s<=n;++s)e.push(i.replace(t[0],String.fromCharCode(s)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(i),t){const r=parseInt(t[2],10);for(let n=parseInt(t[1],10);n<=r;n++)e.push(i.replace(t[0],n.toString()));return e}return e.push(i),e}function Upe(i,e){return(function(t,r,n){if(!t)return;let s;const o=t[0];if(e){const a=e.getFullTileRange(o);a&&(s=a.getHeight()-1)}return Hpe(i,o,t[1],t[2],s)})}function Vpe(i,e){const t=i.length,r=new Array(t);for(let n=0;n<t;++n)r[n]=Upe(i[n],e);return Xpe(r)}function Xpe(i){return i.length===1?i[0]:(function(e,t,r){if(!e)return;const n=Dpe(e),s=Wc(n,i.length);return i[s](e,t,r)})}class Kpe extends cZ{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const t=[256,256];this.tileGrid&&fr(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tmpSize=[0,0],this.key_=e.key||Ae(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,r,n,s){return _e()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:gZ(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,r){const n=this.getTileGridForProjection(r),s=this.getTilePixelRatio(t),o=fr(n.getTileSize(e),this.tmpSize);return s==1?o:xde(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){const r=t!==void 0?t:this.getProjection(),n=t!==void 0?this.getTileGridForProjection(r):this.tileGrid||this.getTileGridForProjection(r);return this.getWrapX()&&r.isGlobal()&&(e=Fpe(n,e,r)),kpe(e,n)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class Zpe extends Gn{constructor(e,t){super(e),this.tile=t}}const ub={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class pk extends Kpe{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===pk.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,r=Ae(t),n=t.getState();let s;n==ge.LOADING?(this.tileLoadingKeys_[r]=!0,s=ub.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],s=n==ge.ERROR?ub.TILELOADERROR:n==ge.LOADED?ub.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new Zpe(s,t))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=Ype(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(Vpe(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,r){}}class Qpe extends pk{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Jpe,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:fZ,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!Cm(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||Cm(t,e)))return this.tileGrid;const r=Ae(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=gZ(e)),this.tileGridForProjection[r]}createTile_(e,t,r,n,s,o){const a=[e,t,r],l=this.getTileCoordForTileUrlFunction(a,s),c=l?this.tileUrlFunction(l,n,s):void 0,u=new this.tileClass(a,c!==void 0?ge.IDLE:ge.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=o,u.addEventListener(xe.CHANGE,this.handleTileChange.bind(this)),u}getTile(e,t,r,n,s){const o=this.getProjection();if(!o||!s||Cm(o,s))return this.getTileInternal(e,t,r,n,o||s);const a=[e,t,r],l=this.getKey(),c=this.getTileGridForProjection(o),u=this.getTileGridForProjection(s),h=this.getTileCoordForTileUrlFunction(a,s),d=new pZ(o,c,s,u,a,h,this.getTilePixelRatio(n),this.getGutter(),(f,p,m,g)=>this.getTileInternal(f,p,m,g,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return d.key=l,d}getTileInternal(e,t,r,n,s){const o=this.getKey();return this.createTile_(e,t,r,n,s,o)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,t){const r=_i(e);if(r){const n=Ae(r);n in this.tileGridForProjection||(this.tileGridForProjection[n]=t)}}}function Jpe(i,e){i.getImage().src=e}class eme extends Qpe{constructor(e){e=e||{};const t=e.projection!==void 0?e.projection:"EPSG:3857",r=e.tileGrid!==void 0?e.tileGrid:qpe({extent:fk(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}class tme extends td{constructor(e){e=e||{},super({attributions:e.attributions,wrapX:e.wrapX}),this.resolution=void 0,this.distance=e.distance!==void 0?e.distance:20,this.minDistance=e.minDistance||0,this.interpolationRatio=0,this.features=[],this.geometryFunction=e.geometryFunction||function(t){const r=t.getGeometry();return nt(!r||r.getType()==="Point","The default `geometryFunction` can only handle `Point` or null geometries"),r},this.createCustomCluster_=e.createCluster,this.source=null,this.boundRefresh_=this.refresh.bind(this),this.updateDistance(this.distance,this.minDistance),this.setSource(e.source||null)}clear(e){this.features.length=0,super.clear(e)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(e,t,r){this.source?.loadFeatures(e,t,r),t!==this.resolution&&(this.resolution=t,this.refresh())}setDistance(e){this.updateDistance(e,this.minDistance)}setMinDistance(e){this.updateDistance(this.distance,e)}getMinDistance(){return this.minDistance}setSource(e){this.source&&this.source.removeEventListener(xe.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(xe.CHANGE,this.boundRefresh_),this.refresh()}refresh(){this.clear(),this.cluster(),this.addFeatures(this.features)}updateDistance(e,t){const r=e===0?0:Math.min(t,e)/e,n=e!==this.distance||this.interpolationRatio!==r;this.distance=e,this.minDistance=t,this.interpolationRatio=r,n&&this.refresh()}cluster(){if(this.resolution===void 0||!this.source)return;const e=qr(),t=this.distance*this.resolution,r=this.source.getFeatures(),n={};for(let s=0,o=r.length;s<o;s++){const a=r[s];if(!(Ae(a)in n)){const l=this.geometryFunction(a);if(l){const c=l.getCoordinates();CI(c,e),Zg(e,t,e);const u=this.source.getFeaturesInExtent(e).filter(function(h){const d=Ae(h);return d in n?!1:(n[d]=!0,!0)});this.features.push(this.createCluster(u,e))}}}}createCluster(e,t){const r=[0,0];for(let a=e.length-1;a>=0;--a){const l=this.geometryFunction(e[a]);l?n7(r,l.getCoordinates()):e.splice(a,1)}s7(r,1/e.length);const n=gs(t),s=this.interpolationRatio,o=new Qi([r[0]*(1-s)+n[0]*s,r[1]*(1-s)+n[1]*s]);return this.createCustomCluster_?this.createCustomCluster_(o,e):new ki({geometry:o,features:e})}}const $i={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class ime extends Wn{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+Ihe,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener($i.ELEMENT,this.handleElementChanged),this.addChangeListener($i.MAP,this.handleMapChanged),this.addChangeListener($i.OFFSET,this.handleOffsetChanged),this.addChangeListener($i.POSITION,this.handlePositionChanged),this.addChangeListener($i.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get($i.ELEMENT)}getId(){return this.id}getMap(){return this.get($i.MAP)||null}getOffset(){return this.get($i.OFFSET)}getPosition(){return this.get($i.POSITION)}getPositioning(){return this.get($i.POSITIONING)}handleElementChanged(){P7(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(this.element?.remove(),St(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=We(e,Ls.POSTRENDER,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set($i.ELEMENT,e)}setMap(e){this.set($i.MAP,e)}setOffset(e){this.set($i.OFFSET,e)}setPosition(e){this.set($i.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get($i.POSITION))return;const r=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),s=this.getRect(n,[Mhe(n),Ahe(n)]);e=e||{};const o=e.margin===void 0?20:e.margin;if(!Cc(r,s)){const a=s[0]-r[0],l=r[2]-s[2],c=s[1]-r[1],u=r[3]-s[3],h=[0,0];if(a<0?h[0]=a-o:l<0&&(h[0]=Math.abs(l)+o),c<0?h[1]=c-o:u<0&&(h[1]=Math.abs(u)+o),h[0]!==0||h[1]!==0){const d=t.getView().getCenterInternal(),f=t.getPixelFromCoordinateInternal(d);if(!f)return;const p=[f[0]+h[0],f[1]+h[1]],m=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(p),duration:m.duration,easing:m.easing})}}}getRect(e,t){const r=e.getBoundingClientRect(),n=r.left+window.pageXOffset,s=r.top+window.pageYOffset;return[n,s,n+t[0],s+t[1]]}setPositioning(e){this.set($i.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(!1);return}const r=e.getPixelFromCoordinate(t),n=e.getSize();this.updateRenderedPosition(r,n)}updateRenderedPosition(e,t){const r=this.element.style,n=this.getOffset(),s=this.getPositioning();this.setVisible(!0);const o=`${e[0]+n[0]}px`,a=`${e[1]+n[1]}px`;let l="0%",c="0%";s=="bottom-right"||s=="center-right"||s=="top-right"?l="-100%":(s=="bottom-center"||s=="center-center"||s=="top-center")&&(l="-50%"),s=="bottom-left"||s=="bottom-center"||s=="bottom-right"?c="-100%":(s=="center-left"||s=="center-center"||s=="center-right")&&(c="-50%");const u=`translate(${l}, ${c}) translate(${o}, ${a})`;this.rendered.transform_!=u&&(this.rendered.transform_=u,r.transform=u)}getOptions(){return this.options}}const S$=i=>{let e;const t=new Set,r=(c,u)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const d=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(f=>f(e,d))}},n=()=>e,a={setState:r,getState:n,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=i(r,n,a);return a},vv=(i=>i?S$(i):S$),rme=i=>i;function Md(i,e=rme){const t=ee.useSyncExternalStore(i.subscribe,ee.useCallback(()=>e(i.getState()),[i,e]),ee.useCallback(()=>e(i.getInitialState()),[i,e]));return ee.useDebugValue(t),t}const Zm=[new ei({image:new ys({radius:8,fill:new ji({color:"hsl(97 22% 40%)"}),stroke:new gr({color:"silver",width:2})}),stroke:new gr({color:"hsl(100 20% 35%)",width:2}),fill:new ji({color:"hsl(100 20% 35% / 0.1)"})}),new ei({image:new Gu({src:"/trucks/truck.png",scale:.4,color:"white"})})],yZ=[Zm[0].clone(),Zm[1].clone()];yZ.forEach(i=>i.getImage()?.setOpacity(.3));const bZ=new ei({image:new ys({radius:10,fill:new ji({color:"hsl(95 25% 45%)"}),stroke:new gr({color:"silver",width:2})}),stroke:new gr({color:"hsl(95 25% 45%)",width:2}),fill:new ji({color:"hsl(95 25% 45% / 0.1)"})}),nme=new ei({image:new ys({radius:8,fill:new ji({color:"hsl(97 22% 40% / 0.5)"}),stroke:new gr({color:"silver",width:2,lineDash:[4,4]})})}),sme=i=>{const e=i.get("features").length,t=i.get("features")[0].get("dimmed");return e===1?t?yZ:i.get("features")[0].getStyle():[new ei({image:new ys({radius:10,fill:new ji({color:`hsl(97 22% 40% / ${t?.3:.7})`})})}),new ei({image:new ys({radius:14,fill:new ji({color:`hsl(100 20% 35% / ${t?.3:.7})`})}),text:new fv({text:e.toString(),fill:new ji({color:"#fff"})})})]},ome=new ei({stroke:new gr({color:"hsl(100 20% 35%)",width:2})}),ame=(i,e,t)=>new ei({geometry:new Qi([i,e]),image:new Gu({src:'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12"><polygon points="0,0 12,7 0,12" stroke="silver" fill="hsl(100 20% 35%)"/></svg>',rotateWithView:!0,rotation:t})});function lme(i,e){const t=[ome],n=i.getGeometry().getCoordinates();for(let s=1;s<n.length;s++){const[o,a]=n[s-1],[l,c]=n[s],u=l-o,h=c-a,d=Math.atan2(h,u),f=(o+l)/2,p=(a+c)/2;t.push(ame(f,p,-d))}return t}const _Z=new ei({stroke:new gr({color:"hsl(100 20% 35%)",width:2}),fill:new ji({color:"hsl(100 20% 35% / 0.1)"})});async function cme(){return[new $pe({source:new eme({url:"https://basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attributions:'&copy; <a href="https://carto.com/">CARTO</a>'})})]}class ume{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=ki,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let r=t.dataProjection?_i(t.dataProjection):this.readProjection(e);t.extent&&r&&r.getUnits()==="tile-pixels"&&(r=_i(r),r.setWorldExtent(t.extent)),t={dataProjection:r,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return _e()}readFeature(e,t){return _e()}readFeatures(e,t){return _e()}readGeometry(e,t){return _e()}readProjection(e){return _e()}writeFeature(e,t){return _e()}writeFeatures(e,t){return _e()}writeGeometry(e,t){return _e()}}function E$(i,e,t){const r=t?_i(t.featureProjection):null,n=t?_i(t.dataProjection):null;let s=i;if(r&&n&&!Cm(r,n)){e&&(s=i.clone());const o=e?r:n,a=e?n:r;o.getUnits()==="tile-pixels"?s.transform(o,a):s.applyTransform(Ed(o,a))}if(e&&t&&t.decimals!==void 0){const o=Math.pow(10,t.decimals),a=function(l){for(let c=0,u=l.length;c<u;++c)l[c]=Math.round(l[c]*o)/o;return l};s===i&&(s=i.clone()),s.applyTransform(a)}return s}class hme extends ume{constructor(){super()}getType(){return"text"}readFeature(e,t){return this.readFeatureFromText(Qp(e),this.adaptOptions(t))}readFeatureFromText(e,t){return _e()}readFeatures(e,t){return this.readFeaturesFromText(Qp(e),this.adaptOptions(t))}readFeaturesFromText(e,t){return _e()}readGeometry(e,t){return this.readGeometryFromText(Qp(e),this.adaptOptions(t))}readGeometryFromText(e,t){return _e()}readProjection(e){return this.readProjectionFromText(Qp(e))}readProjectionFromText(e){return this.dataProjection}writeFeature(e,t){return this.writeFeatureText(e,this.adaptOptions(t))}writeFeatureText(e,t){return _e()}writeFeatures(e,t){return this.writeFeaturesText(e,this.adaptOptions(t))}writeFeaturesText(e,t){return _e()}writeGeometry(e,t){return this.writeGeometryText(e,this.adaptOptions(t))}writeGeometryText(e,t){return _e()}}function Qp(i){return typeof i=="string"?i:""}const dme={POINT:Qi,LINESTRING:Rn,POLYGON:vs,MULTIPOINT:wf,MULTILINESTRING:cu,MULTIPOLYGON:uu},wZ="EMPTY",xZ="Z",SZ="M",fme="ZM",it={START:0,TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},pme={Point:"POINT",LineString:"LINESTRING",Polygon:"POLYGON",MultiPoint:"MULTIPOINT",MultiLineString:"MULTILINESTRING",MultiPolygon:"MULTIPOLYGON",GeometryCollection:"GEOMETRYCOLLECTION",Circle:"CIRCLE"};class mme{constructor(e){this.wkt=e,this.index_=-1}isAlpha_(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}isNumeric_(e,t){return t=t!==void 0?t:!1,e>="0"&&e<="9"||e=="."&&!t}isWhiteSpace_(e){return e==" "||e=="	"||e=="\r"||e==`
`}nextChar_(){return this.wkt.charAt(++this.index_)}nextToken(){const e=this.nextChar_(),t=this.index_;let r=e,n;if(e=="(")n=it.LEFT_PAREN;else if(e==",")n=it.COMMA;else if(e==")")n=it.RIGHT_PAREN;else if(this.isNumeric_(e)||e=="-")n=it.NUMBER,r=this.readNumber_();else if(this.isAlpha_(e))n=it.TEXT,r=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(e==="")n=it.EOF;else throw new Error("Unexpected character: "+e)}return{position:t,value:r,type:n}}readNumber_(){let e;const t=this.index_;let r=!1,n=!1;do e=="."?r=!0:(e=="e"||e=="E")&&(n=!0),e=this.nextChar_();while(this.isNumeric_(e,r)||!n&&(e=="e"||e=="E")||n&&(e=="-"||e=="+"));return parseFloat(this.wkt.substring(t,this.index_--))}readText_(){let e;const t=this.index_;do e=this.nextChar_();while(this.isAlpha_(e));return this.wkt.substring(t,this.index_--).toUpperCase()}}class gme{constructor(e){this.lexer_=e,this.token_={position:0,type:it.START},this.layout_="XY"}consume_(){this.token_=this.lexer_.nextToken()}isTokenType(e){return this.token_.type==e}match(e){const t=this.isTokenType(e);return t&&this.consume_(),t}parse(){return this.consume_(),this.parseGeometry_()}parseGeometryLayout_(){let e="XY";const t=this.token_;if(this.isTokenType(it.TEXT)){const r=t.value;r===xZ?e="XYZ":r===SZ?e="XYM":r===fme&&(e="XYZM"),e!=="XY"&&this.consume_()}return e}parseGeometryCollectionText_(){if(this.match(it.LEFT_PAREN)){const e=[];do e.push(this.parseGeometry_());while(this.match(it.COMMA));if(this.match(it.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parsePointText_(){if(this.match(it.LEFT_PAREN)){const e=this.parsePoint_();if(this.match(it.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parseLineStringText_(){if(this.match(it.LEFT_PAREN)){const e=this.parsePointList_();if(this.match(it.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parsePolygonText_(){if(this.match(it.LEFT_PAREN)){const e=this.parseLineStringTextList_();if(this.match(it.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parseMultiPointText_(){if(this.match(it.LEFT_PAREN)){let e;if(this.token_.type==it.LEFT_PAREN?e=this.parsePointTextList_():e=this.parsePointList_(),this.match(it.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parseMultiLineStringText_(){if(this.match(it.LEFT_PAREN)){const e=this.parseLineStringTextList_();if(this.match(it.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parseMultiPolygonText_(){if(this.match(it.LEFT_PAREN)){const e=this.parsePolygonTextList_();if(this.match(it.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parsePoint_(){const e=[],t=this.layout_.length;for(let r=0;r<t;++r){const n=this.token_;if(this.match(it.NUMBER))e.push(n.value);else break}if(e.length==t)return e;throw new Error(this.formatErrorMessage_())}parsePointList_(){const e=[this.parsePoint_()];for(;this.match(it.COMMA);)e.push(this.parsePoint_());return e}parsePointTextList_(){const e=[this.parsePointText_()];for(;this.match(it.COMMA);)e.push(this.parsePointText_());return e}parseLineStringTextList_(){const e=[this.parseLineStringText_()];for(;this.match(it.COMMA);)e.push(this.parseLineStringText_());return e}parsePolygonTextList_(){const e=[this.parsePolygonText_()];for(;this.match(it.COMMA);)e.push(this.parsePolygonText_());return e}isEmptyGeometry_(){const e=this.isTokenType(it.TEXT)&&this.token_.value==wZ;return e&&this.consume_(),e}formatErrorMessage_(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}parseGeometry_(){const e=this.token_;if(this.match(it.TEXT)){const t=e.value;this.layout_=this.parseGeometryLayout_();const r=this.isEmptyGeometry_();if(t=="GEOMETRYCOLLECTION"){if(r)return new il([]);const o=this.parseGeometryCollectionText_();return new il(o)}const n=dme[t];if(!n)throw new Error("Invalid geometry type: "+t);let s;if(r)t=="POINT"?s=[NaN,NaN]:s=[];else switch(t){case"POINT":{s=this.parsePointText_();break}case"LINESTRING":{s=this.parseLineStringText_();break}case"POLYGON":{s=this.parsePolygonText_();break}case"MULTIPOINT":{s=this.parseMultiPointText_();break}case"MULTILINESTRING":{s=this.parseMultiLineStringText_();break}case"MULTIPOLYGON":{s=this.parseMultiPolygonText_();break}}return new n(s,this.layout_)}throw new Error(this.formatErrorMessage_())}}class EZ extends hme{constructor(e){super(),e=e||{},this.splitCollection_=e.splitCollection!==void 0?e.splitCollection:!1}parse_(e){const t=new mme(e);return new gme(t).parse()}readFeatureFromText(e,t){const r=this.readGeometryFromText(e,t),n=new ki;return n.setGeometry(r),n}readFeaturesFromText(e,t){let r=[];const n=this.readGeometryFromText(e,t);this.splitCollection_&&n.getType()=="GeometryCollection"?r=n.getGeometriesArray():r=[n];const s=[];for(let o=0,a=r.length;o<a;++o){const l=new ki;l.setGeometry(r[o]),s.push(l)}return s}readGeometryFromText(e,t){const r=this.parse_(e);return E$(r,!1,t)}writeFeatureText(e,t){const r=e.getGeometry();return r?this.writeGeometryText(r,t):""}writeFeaturesText(e,t){if(e.length==1)return this.writeFeatureText(e[0],t);const r=[];for(let s=0,o=e.length;s<o;++s)r.push(e[s].getGeometry());const n=new il(r);return this.writeGeometryText(n,t)}writeGeometryText(e,t){return OZ(E$(e,!0,t))}}function CZ(i){const e=i.getCoordinates();return e.length===0?"":e.join(" ")}function vme(i){const e=[],t=i.getPoints();for(let r=0,n=t.length;r<n;++r)e.push("("+CZ(t[r])+")");return e.join(",")}function yme(i){const e=[],t=i.getGeometries();for(let r=0,n=t.length;r<n;++r)e.push(OZ(t[r]));return e.join(",")}function mk(i){const e=i.getCoordinates(),t=[];for(let r=0,n=e.length;r<n;++r)t.push(e[r].join(" "));return t.join(",")}function bme(i){const e=[],t=i.getLineStrings();for(let r=0,n=t.length;r<n;++r)e.push("("+mk(t[r])+")");return e.join(",")}function TZ(i){const e=[],t=i.getLinearRings();for(let r=0,n=t.length;r<n;++r)e.push("("+mk(t[r])+")");return e.join(",")}function _me(i){const e=[],t=i.getPolygons();for(let r=0,n=t.length;r<n;++r)e.push("("+TZ(t[r])+")");return e.join(",")}function wme(i){const e=i.getLayout();let t="";return(e==="XYZ"||e==="XYZM")&&(t+=xZ),(e==="XYM"||e==="XYZM")&&(t+=SZ),t}const xme={Point:CZ,LineString:mk,Polygon:TZ,MultiPoint:vme,MultiLineString:bme,MultiPolygon:_me,GeometryCollection:yme};function OZ(i){const e=i.getType(),t=xme[e],r=t(i);let n=pme[e];if(typeof i.getFlatCoordinates=="function"){const s=wme(i);s.length>0&&(n+=" "+s)}return r.length===0?n+" "+wZ:n+"("+r+")"}const Sme=()=>vv(i=>({drawnPolygon:void 0,setDrawnPolygon:e=>i({drawnPolygon:e}),selectedEntities:[],setSelectedEntities:e=>i({selectedEntities:e})}));function Eme(){const i=new td,e=new tme({distance:20,minDistance:1,source:i}),t=new ed({source:e,style:sme}),r=new td,n=new ed({source:r}),s=Sme(),o=new td,a=new ed({source:o,style:_Z}),[l,c,u]="35,31,7.5".split(",").map(Number)??[35,31,7.5],h=new Cfe({target:void 0,layers:[a,t,n],view:new Jn({center:NI([l,c]),zoom:u}),controls:[]});cme().then(p=>{p.reverse().forEach(m=>h.getLayers().insertAt(0,m))});const{select:d}=Cme(h,s,i,{excludeLayers:[n,a]}),f=new dpe({source:o,type:"Polygon"});return f.on("drawend",p=>{o.clear(),s.getState().setDrawnPolygon(p.feature),PZ(h,f,!1)}),{map:h,select:d,entities:i,entitiesCluster:e,histories:r,store:s,draw:f}}function Cme(i,e,t,{excludeLayers:r}){const n=new vpe({toggleCondition:Yhe,style:bZ,filter:(a,l)=>!r?.includes(l)});i.addInteraction(n);const s=n.getFeatures(),o=new M7({condition:cv});return o.on("boxend",()=>{const a=o.getGeometry().getExtent();t.forEachFeatureIntersectingExtent(a,l=>{l.getId()&&s.push(l)})}),i.addInteraction(o),s.on("change:length",a=>{const l=s.getArray(),c=l.flatMap(u=>u.get("features")??[]).concat(l.filter(u=>u.getId()));e.getState().setSelectedEntities(c.map(u=>u?.getId()))}),{select:n,dragBox:o}}function Tme(i,e){const t=e.map(r=>{const n=new ki({geometry:new Qi(NI([r.location[0],r.location[1]]))});return n.setId(`${r.type}-${r.id}`),n.setStyle(Zm),n});i.addFeatures(t)}function Ome(i,e,t){const r=e.getFeatures();i.getFeatures().clear(),t.forEach(n=>{const s=r.find(o=>o.getId()===n);s&&i.getFeatures().push(s)})}function RZ(i,e,t){const r=e.getFeatureById(t)?.getGeometry();r&&i?.getView().fit(r,{duration:1e3,maxZoom:14})}function Rme(i,e){const t=i.getFeatures();e?t.forEach(r=>{r.set("dimmed",r.getId()!==e,!0)}):t.forEach(r=>{r.set("dimmed",!1,!0)}),i.changed()}function Pme(i,e,t){i.clear();const r=[];Object.entries(e).forEach(([n,s])=>{s.sort((v,y)=>v.start.localeCompare(y.start)),t??=new Date;const o=s.find(v=>new Date(v.start)>=t),a=o?s.indexOf(o):void 0,l=s[(a??s.length)-1]??s[0],c=s.indexOf(l),u=new Date(l.start),h=.5,d=Math.max(c,s.length-c-1),f=(1-h)/d,p=new EZ,m=s.map(v=>{if(v.t==="point")return new Qi(NI([v.coords[0],v.coords[1]]));if(v.t==="loc")return p.readGeometry(v.wkt,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}),g=s.map((v,y)=>{const _=m[y];if(_ instanceof Qi)return _.getCoordinates();if(_)return gs(_.getExtent());throw new Error(`Unexpected geometry type: ${_}`)});s.forEach((v,y)=>{const _=1-Math.abs(y-c)*f,b=new ki({geometry:m[y]});b.setId(`${n}-${v.start}`),b.setStyle(_Z);const w=(y==c?bZ:Zm[0]).clone();w.getImage()?.setOpacity(_),b.setStyle(w),r.push(b)});for(let v=0;v<s.length-1;v++){const y=s[v],_=s[v+1],b=new ki({geometry:new Rn([g[v],g[v+1]])});b.setId(`${n}-${y.start}-${_.start}`),b.setStyle(lme),r.push(b)}if(o&&a&&a>0){const v=new Date(o.start),y=(t.getTime()-u.getTime())/(v.getTime()-u.getTime()),_=g[c][0]+y*(g[a][0]-g[c][0]),b=g[c][1]+y*(g[a][1]-g[c][1]),w=new ki({geometry:new Qi([_,b])});w.setId(`${n}-virtual`),w.setStyle(nme),r.push(w)}}),i.addFeatures(r)}function C$(i){i.clear()}function PZ(i,e,t){t?i.addInteraction(e):i.removeInteraction(e)}var T$=1,Dme=.9,Ime=.8,kme=.17,hb=.1,db=.999,Mme=.9999,Ame=.99,Nme=/[\\\/_+.#"@\[\(\{&]/,$me=/[\\\/_+.#"@\[\(\{&]/g,Fme=/[\s-]/,DZ=/[\s-]/g;function KP(i,e,t,r,n,s,o){if(s===e.length)return n===i.length?T$:Ame;var a=`${n},${s}`;if(o[a]!==void 0)return o[a];for(var l=r.charAt(s),c=t.indexOf(l,n),u=0,h,d,f,p;c>=0;)h=KP(i,e,t,r,c+1,s+1,o),h>u&&(c===n?h*=T$:Nme.test(i.charAt(c-1))?(h*=Ime,f=i.slice(n,c-1).match($me),f&&n>0&&(h*=Math.pow(db,f.length))):Fme.test(i.charAt(c-1))?(h*=Dme,p=i.slice(n,c-1).match(DZ),p&&n>0&&(h*=Math.pow(db,p.length))):(h*=kme,n>0&&(h*=Math.pow(db,c-n))),i.charAt(c)!==e.charAt(s)&&(h*=Mme)),(h<hb&&t.charAt(c-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&t.charAt(c-1)!==r.charAt(s))&&(d=KP(i,e,t,r,c+1,s+2,o),d*hb>h&&(h=d*hb)),h>u&&(u=h),c=t.indexOf(l,c+1);return o[a]=u,u}function O$(i){return i.toLowerCase().replace(DZ," ")}function Lme(i,e,t){return i=t&&t.length>0?`${i+" "+t.join(" ")}`:i,KP(i,e,O$(i),O$(e),0,0,{})}var xh='[cmdk-group=""]',fb='[cmdk-group-items=""]',qme='[cmdk-group-heading=""]',IZ='[cmdk-item=""]',R$=`${IZ}:not([aria-disabled="true"])`,ZP="cmdk-item-select",_c="data-value",jme=(i,e,t)=>Lme(i,e,t),kZ=C.createContext(void 0),Sf=()=>C.useContext(kZ),MZ=C.createContext(void 0),gk=()=>C.useContext(MZ),AZ=C.createContext(void 0),NZ=C.forwardRef((i,e)=>{let t=wc(()=>{var M,L;return{search:"",value:(L=(M=i.value)!=null?M:i.defaultValue)!=null?L:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=wc(()=>new Set),n=wc(()=>new Map),s=wc(()=>new Map),o=wc(()=>new Set),a=$Z(i),{label:l,children:c,value:u,onValueChange:h,filter:d,shouldFilter:f,loop:p,disablePointerSelection:m=!1,vimBindings:g=!0,...v}=i,y=$r(),_=$r(),b=$r(),w=C.useRef(null),S=Zme();rl(()=>{if(u!==void 0){let M=u.trim();t.current.value=M,E.emit()}},[u]),rl(()=>{S(6,$)},[]);let E=C.useMemo(()=>({subscribe:M=>(o.current.add(M),()=>o.current.delete(M)),snapshot:()=>t.current,setState:(M,L,G)=>{var B,H,z,Q;if(!Object.is(t.current[M],L)){if(t.current[M]=L,M==="search")I(),R(),S(1,P);else if(M==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let re=document.getElementById(b);re?re.focus():(B=document.getElementById(y))==null||B.focus()}if(S(7,()=>{var re;t.current.selectedItemId=(re=F())==null?void 0:re.id,E.emit()}),G||S(5,$),((H=a.current)==null?void 0:H.value)!==void 0){let re=L??"";(Q=(z=a.current).onValueChange)==null||Q.call(z,re);return}}E.emit()}},emit:()=>{o.current.forEach(M=>M())}}),[]),x=C.useMemo(()=>({value:(M,L,G)=>{var B;L!==((B=s.current.get(M))==null?void 0:B.value)&&(s.current.set(M,{value:L,keywords:G}),t.current.filtered.items.set(M,T(L,G)),S(2,()=>{R(),E.emit()}))},item:(M,L)=>(r.current.add(M),L&&(n.current.has(L)?n.current.get(L).add(M):n.current.set(L,new Set([M]))),S(3,()=>{I(),R(),t.current.value||P(),E.emit()}),()=>{s.current.delete(M),r.current.delete(M),t.current.filtered.items.delete(M);let G=F();S(4,()=>{I(),G?.getAttribute("id")===M&&P(),E.emit()})}),group:M=>(n.current.has(M)||n.current.set(M,new Set),()=>{s.current.delete(M),n.current.delete(M)}),filter:()=>a.current.shouldFilter,label:l||i["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:y,inputId:b,labelId:_,listInnerRef:w}),[]);function T(M,L){var G,B;let H=(B=(G=a.current)==null?void 0:G.filter)!=null?B:jme;return M?H(M,t.current.search,L):0}function R(){if(!t.current.search||a.current.shouldFilter===!1)return;let M=t.current.filtered.items,L=[];t.current.filtered.groups.forEach(B=>{let H=n.current.get(B),z=0;H.forEach(Q=>{let re=M.get(Q);z=Math.max(re,z)}),L.push([B,z])});let G=w.current;W().sort((B,H)=>{var z,Q;let re=B.getAttribute("id"),me=H.getAttribute("id");return((z=M.get(me))!=null?z:0)-((Q=M.get(re))!=null?Q:0)}).forEach(B=>{let H=B.closest(fb);H?H.appendChild(B.parentElement===H?B:B.closest(`${fb} > *`)):G.appendChild(B.parentElement===G?B:B.closest(`${fb} > *`))}),L.sort((B,H)=>H[1]-B[1]).forEach(B=>{var H;let z=(H=w.current)==null?void 0:H.querySelector(`${xh}[${_c}="${encodeURIComponent(B[0])}"]`);z?.parentElement.appendChild(z)})}function P(){let M=W().find(G=>G.getAttribute("aria-disabled")!=="true"),L=M?.getAttribute(_c);E.setState("value",L||void 0)}function I(){var M,L,G,B;if(!t.current.search||a.current.shouldFilter===!1){t.current.filtered.count=r.current.size;return}t.current.filtered.groups=new Set;let H=0;for(let z of r.current){let Q=(L=(M=s.current.get(z))==null?void 0:M.value)!=null?L:"",re=(B=(G=s.current.get(z))==null?void 0:G.keywords)!=null?B:[],me=T(Q,re);t.current.filtered.items.set(z,me),me>0&&H++}for(let[z,Q]of n.current)for(let re of Q)if(t.current.filtered.items.get(re)>0){t.current.filtered.groups.add(z);break}t.current.filtered.count=H}function $(){var M,L,G;let B=F();B&&(((M=B.parentElement)==null?void 0:M.firstChild)===B&&((G=(L=B.closest(xh))==null?void 0:L.querySelector(qme))==null||G.scrollIntoView({block:"nearest"})),B.scrollIntoView({block:"nearest"}))}function F(){var M;return(M=w.current)==null?void 0:M.querySelector(`${IZ}[aria-selected="true"]`)}function W(){var M;return Array.from(((M=w.current)==null?void 0:M.querySelectorAll(R$))||[])}function N(M){let L=W()[M];L&&E.setState("value",L.getAttribute(_c))}function q(M){var L;let G=F(),B=W(),H=B.findIndex(Q=>Q===G),z=B[H+M];(L=a.current)!=null&&L.loop&&(z=H+M<0?B[B.length-1]:H+M===B.length?B[0]:B[H+M]),z&&E.setState("value",z.getAttribute(_c))}function D(M){let L=F(),G=L?.closest(xh),B;for(;G&&!B;)G=M>0?Xme(G,xh):Kme(G,xh),B=G?.querySelector(R$);B?E.setState("value",B.getAttribute(_c)):q(M)}let j=()=>N(W().length-1),X=M=>{M.preventDefault(),M.metaKey?j():M.altKey?D(1):q(1)},U=M=>{M.preventDefault(),M.metaKey?N(0):M.altKey?D(-1):q(-1)};return C.createElement(st.div,{ref:e,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:M=>{var L;(L=v.onKeyDown)==null||L.call(v,M);let G=M.nativeEvent.isComposing||M.keyCode===229;if(!(M.defaultPrevented||G))switch(M.key){case"n":case"j":{g&&M.ctrlKey&&X(M);break}case"ArrowDown":{X(M);break}case"p":case"k":{g&&M.ctrlKey&&U(M);break}case"ArrowUp":{U(M);break}case"Home":{M.preventDefault(),N(0);break}case"End":{M.preventDefault(),j();break}case"Enter":{M.preventDefault();let B=F();if(B){let H=new Event(ZP);B.dispatchEvent(H)}}}}},C.createElement("label",{"cmdk-label":"",htmlFor:x.inputId,id:x.labelId,style:Jme},l),yv(i,M=>C.createElement(MZ.Provider,{value:E},C.createElement(kZ.Provider,{value:x},M))))}),Gme=C.forwardRef((i,e)=>{var t,r;let n=$r(),s=C.useRef(null),o=C.useContext(AZ),a=Sf(),l=$Z(i),c=(r=(t=l.current)==null?void 0:t.forceMount)!=null?r:o?.forceMount;rl(()=>{if(!c)return a.item(n,o?.id)},[c]);let u=FZ(n,s,[i.value,i.children,s],i.keywords),h=gk(),d=ea(S=>S.value&&S.value===u.current),f=ea(S=>c||a.filter()===!1?!0:S.search?S.filtered.items.get(n)>0:!0);C.useEffect(()=>{let S=s.current;if(!(!S||i.disabled))return S.addEventListener(ZP,p),()=>S.removeEventListener(ZP,p)},[f,i.onSelect,i.disabled]);function p(){var S,E;m(),(E=(S=l.current).onSelect)==null||E.call(S,u.current)}function m(){h.setState("value",u.current,!0)}if(!f)return null;let{disabled:g,value:v,onSelect:y,forceMount:_,keywords:b,...w}=i;return C.createElement(st.div,{ref:Ka(s,e),...w,id:n,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!d,"data-disabled":!!g,"data-selected":!!d,onPointerMove:g||a.getDisablePointerSelection()?void 0:m,onClick:g?void 0:p},i.children)}),Wme=C.forwardRef((i,e)=>{let{heading:t,children:r,forceMount:n,...s}=i,o=$r(),a=C.useRef(null),l=C.useRef(null),c=$r(),u=Sf(),h=ea(f=>n||u.filter()===!1?!0:f.search?f.filtered.groups.has(o):!0);rl(()=>u.group(o),[]),FZ(o,a,[i.value,i.heading,l]);let d=C.useMemo(()=>({id:o,forceMount:n}),[n]);return C.createElement(st.div,{ref:Ka(a,e),...s,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},t&&C.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},t),yv(i,f=>C.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?c:void 0},C.createElement(AZ.Provider,{value:d},f))))}),Bme=C.forwardRef((i,e)=>{let{alwaysRender:t,...r}=i,n=C.useRef(null),s=ea(o=>!o.search);return!t&&!s?null:C.createElement(st.div,{ref:Ka(n,e),...r,"cmdk-separator":"",role:"separator"})}),zme=C.forwardRef((i,e)=>{let{onValueChange:t,...r}=i,n=i.value!=null,s=gk(),o=ea(c=>c.search),a=ea(c=>c.selectedItemId),l=Sf();return C.useEffect(()=>{i.value!=null&&s.setState("search",i.value)},[i.value]),C.createElement(st.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:n?i.value:o,onChange:c=>{n||s.setState("search",c.target.value),t?.(c.target.value)}})}),Hme=C.forwardRef((i,e)=>{let{children:t,label:r="Suggestions",...n}=i,s=C.useRef(null),o=C.useRef(null),a=ea(c=>c.selectedItemId),l=Sf();return C.useEffect(()=>{if(o.current&&s.current){let c=o.current,u=s.current,h,d=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let f=c.offsetHeight;u.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return d.observe(c),()=>{cancelAnimationFrame(h),d.unobserve(c)}}},[]),C.createElement(st.div,{ref:Ka(s,e),...n,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":r,id:l.listId},yv(i,c=>C.createElement("div",{ref:Ka(o,l.listInnerRef),"cmdk-list-sizer":""},c)))}),Yme=C.forwardRef((i,e)=>{let{open:t,onOpenChange:r,overlayClassName:n,contentClassName:s,container:o,...a}=i;return C.createElement(e9,{open:t,onOpenChange:r},C.createElement(uI,{container:o},C.createElement(df,{"cmdk-overlay":"",className:n}),C.createElement(ff,{"aria-label":i.label,"cmdk-dialog":"",className:s},C.createElement(NZ,{ref:e,...a}))))}),Ume=C.forwardRef((i,e)=>ea(t=>t.filtered.count===0)?C.createElement(st.div,{ref:e,...i,"cmdk-empty":"",role:"presentation"}):null),Vme=C.forwardRef((i,e)=>{let{progress:t,children:r,label:n="Loading...",...s}=i;return C.createElement(st.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":n},yv(i,o=>C.createElement("div",{"aria-hidden":!0},o)))}),_r=Object.assign(NZ,{List:Hme,Item:Gme,Input:zme,Group:Wme,Separator:Bme,Dialog:Yme,Empty:Ume,Loading:Vme});function Xme(i,e){let t=i.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}}function Kme(i,e){let t=i.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}}function $Z(i){let e=C.useRef(i);return rl(()=>{e.current=i}),e}var rl=typeof window>"u"?C.useEffect:C.useLayoutEffect;function wc(i){let e=C.useRef();return e.current===void 0&&(e.current=i()),e}function ea(i){let e=gk(),t=()=>i(e.snapshot());return C.useSyncExternalStore(e.subscribe,t,t)}function FZ(i,e,t,r=[]){let n=C.useRef(),s=Sf();return rl(()=>{var o;let a=(()=>{var c;for(let u of t){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(c=u.current.textContent)==null?void 0:c.trim():n.current}})(),l=r.map(c=>c.trim());s.value(i,a,l),(o=e.current)==null||o.setAttribute(_c,a),n.current=a}),n}var Zme=()=>{let[i,e]=C.useState(),t=wc(()=>new Map);return rl(()=>{t.current.forEach(r=>r()),t.current=new Map},[i]),(r,n)=>{t.current.set(r,n),e({})}};function Qme(i){let e=i.type;return typeof e=="function"?e(i.props):"render"in e?e.render(i.props):i}function yv({asChild:i,children:e},t){return i&&C.isValidElement(e)?C.cloneElement(Qme(e),{ref:e.ref},t(e.props.children)):t(e)}var Jme={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ege=uI,LZ=C.forwardRef(({className:i,...e},t)=>O.jsx(df,{ref:t,className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",i),...e}));LZ.displayName=df.displayName;const tge=C.forwardRef(({className:i,children:e,...t},r)=>O.jsxs(ege,{children:[O.jsx(LZ,{}),O.jsxs(ff,{ref:r,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",i),...t,children:[e,O.jsxs(t9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[O.jsx(lK,{className:"h-4 w-4"}),O.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));tge.displayName=ff.displayName;const ige=C.forwardRef(({className:i,...e},t)=>O.jsx(qg,{ref:t,className:J("text-lg font-semibold leading-none tracking-tight",i),...e}));ige.displayName=qg.displayName;const rge=C.forwardRef(({className:i,...e},t)=>O.jsx(jg,{ref:t,className:J("text-sm text-muted-foreground",i),...e}));rge.displayName=jg.displayName;const qZ=C.forwardRef(({className:i,...e},t)=>O.jsx(_r,{ref:t,className:J("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",i),...e}));qZ.displayName=_r.displayName;const jZ=C.forwardRef(({className:i,...e},t)=>O.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[O.jsx(_r.Input,{ref:t,className:J("flex h-9 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",i),...e}),O.jsx(aK,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"})]}));jZ.displayName=_r.Input.displayName;const GZ=C.forwardRef(({className:i,...e},t)=>O.jsx(_r.List,{ref:t,className:J("max-h-[300px] overflow-y-auto overflow-x-hidden",i),...e}));GZ.displayName=_r.List.displayName;const WZ=C.forwardRef((i,e)=>O.jsx(_r.Empty,{ref:e,className:"py-6 text-center text-sm",...i}));WZ.displayName=_r.Empty.displayName;const BZ=C.forwardRef(({className:i,...e},t)=>O.jsx(_r.Group,{ref:t,className:J("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",i),...e}));BZ.displayName=_r.Group.displayName;const nge=C.forwardRef(({className:i,...e},t)=>O.jsx(_r.Separator,{ref:t,className:J("-mx-1 h-px bg-border",i),...e}));nge.displayName=_r.Separator.displayName;const zZ=C.forwardRef(({className:i,...e},t)=>O.jsx(_r.Item,{ref:t,className:J("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",i),...e}));zZ.displayName=_r.Item.displayName;function sge(i){return i.t==="point"||i.t==="loc"}const oge=i=>({queryKey:["entities",i],queryFn:async()=>Array.from({length:500}).map((e,t)=>{const r=[34.8+Math.random()*.5,30.2+Math.random()*.5];return{type:"truck",id:`${t+1}`,location:r}})}),age=async(i,e,t,r)=>(await i.fetchQuery(HZ(e,t,r))).filter(sge),HZ=(i,e,t)=>({queryKey:["events",i,e,t],queryFn:async()=>{const r=s=>new Date(Date.now()-s*60*1e3).toISOString();return[].concat([{id:"g1",group:"location",t:"point",coords:[34.7818,31.0853],start:r(250)},{id:"g2",group:"location",t:"point",coords:[34.7518,31.143],start:r(170)},{id:"g3",group:"location",t:"point",coords:[34.7418,31.153],start:r(160)},{id:"g4",group:"location",t:"point",coords:[34.7618,31.28],start:r(110)},{id:"g5",group:"location",t:"point",coords:[34.8,31.28],start:r(60)},{id:"gg1",group:"location",t:"loc",wkt:"POLYGON((34.7777 32.0846, 34.77929 32.0846, 34.77929 32.08595, 34.7777 32.08595, 34.7777 32.0846))",start:r(50)},{id:"gg2",group:"location",t:"loc",wkt:"POLYGON((34.77949 32.0846, 34.78108 32.0846, 34.78108 32.08595, 34.77949 32.08595, 34.77949 32.0846))",start:r(45)},{id:"gg3",group:"location",t:"loc",wkt:"POLYGON((34.78128 32.0846, 34.78287 32.0846, 34.78287 32.08595, 34.78128 32.08595, 34.78128 32.0846))",start:r(40)},{id:"gg4",group:"location",t:"loc",wkt:"POLYGON((34.78307 32.0846, 34.78466 32.0846, 34.78466 32.08595, 34.78307 32.08595, 34.78307 32.0846))",start:r(35)},{id:"gg5",group:"location",t:"loc",wkt:"POLYGON((34.78486 32.0846, 34.78645 32.0846, 34.78645 32.08595, 34.78486 32.08595, 34.78486 32.0846))",start:r(30)},{id:"gg6",group:"location",t:"loc",wkt:"POLYGON((34.78665 32.0846, 34.78824 32.0846, 34.78824 32.08595, 34.78665 32.08595, 34.78665 32.0846))",start:r(25)},{id:"gg7",group:"location",t:"loc",wkt:"POLYGON((34.78844 32.0846, 34.79003 32.0846, 34.79003 32.08595, 34.78844 32.08595, 34.78844 32.0846))",start:r(20)},{id:"gg8",group:"location",t:"loc",wkt:"POLYGON((34.79023 32.0846, 34.79182 32.0846, 34.79182 32.08595, 34.79023 32.08595, 34.79023 32.0846))",start:r(15)}],[{id:"a1",group:"audio",t:"audio",start:r(210),end:r(175)},{id:"a2",group:"audio",t:"audio",start:r(100),end:r(87)}],[{id:"e1",group:"event",t:"event",what:"speeding",start:r(210),end:r(175)},{id:"e2",group:"event",t:"event",what:"harsh_braking",start:r(100),end:r(87)}])}}),lge={queryKey:["events"],queryFn:async()=>[{id:"event-1",entityIds:["truck-1"],type:"speeding",timestamp:"2024-01-01T00:00:00Z"},{id:"event-2",entityIds:["truck-2"],type:"harsh_braking",timestamp:"2024-01-01T11:00:00Z"},{id:"event-3",entityIds:["truck-1"],type:"geofence_exit",timestamp:"2024-01-01T12:00:00Z"},{id:"event-4",entityIds:["truck-3"],type:"speeding",timestamp:"2024-01-01T19:00:00Z"},{id:"event-5",entityIds:["truck-2"],type:"harsh_acceleration",timestamp:"2024-01-01T14:00:00Z",timestampEnd:"2024-01-01T14:20:00Z"},{id:"event-6",entityIds:["truck-4"],type:"speeding",timestamp:"2024-01-01T16:00:00Z"},{id:"event-7",entityIds:["truck-5"],type:"harsh_braking",timestamp:"2024-01-01T17:00:00Z"},{id:"event-8",entityIds:["truck-6"],type:"geofence_exit",timestamp:"2024-01-01T18:00:00Z"},{id:"event-9",entityIds:["truck-4"],type:"speeding",timestamp:"2024-01-01T20:00:00Z"},{id:"event-10",entityIds:["truck-5"],type:"harsh_acceleration",timestamp:"2024-01-01T21:00:00Z",timestampEnd:"2024-01-01T21:20:00Z"},{id:"event-12",entityIds:["truck-7"],type:"speeding",timestamp:"2024-01-01T23:00:00Z"},{id:"event-13",entityIds:["truck-7"],type:"speeding",timestamp:"2024-01-01T12:00:00Z"},{id:"event-14",entityIds:["truck-7"],type:"speeding",timestamp:"2024-01-01T11:30:00Z"},{id:"event-15",entityIds:["truck-7"],type:"speeding",timestamp:"2024-01-01T12:15:00Z"},{id:"event-16",entityIds:["truck-7"],type:"speeding",timestamp:"2024-01-01T13:00:00Z"}]},cge=i=>({queryKey:["groupSearch",i],queryFn:async()=>({:[{value:"1",label:" 1"},{value:"2",label:" 2"},{value:"3",label:" 3"}]})});function uge({inputClassName:i}){const[e,t]=C.useState(!1),[r,n]=C.useState(""),[s,o]=C.useState(),{data:a}=Ng({...cge(r),staleTime:1/0,gcTime:1e4,placeholderData:xne,refetchOnWindowFocus:!1});return O.jsx("div",{className:"relative",children:O.jsxs(qZ,{shouldFilter:!0,className:"rounded-md border bg-background shadow-sm",children:[O.jsx(jZ,{className:i,value:e?r:s?.label,onValueChange:n,placeholder:" ...",onFocus:()=>{s&&n(""),t(!0)},onBlur:()=>setTimeout(()=>t(!1),100)}),e&&O.jsx("div",{className:"absolute left-0 right-0 top-full z-10 mt-1 rounded-md border bg-popover shadow-lg",children:O.jsxs(GZ,{children:[O.jsx(WZ,{children:"  "}),Object.entries(a??[])?.map(([l,c])=>O.jsx(BZ,{heading:l,children:c.map(u=>O.jsx(zZ,{onSelect:()=>{t(!1),o(u)},children:u.label},u.value))},l))]})})]})})}function hge(i,e,t="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:i,timeZoneName:t}).format(e).split(/\s/g).slice(2).join(" ")}const dge={},zh={};function Ma(i,e){try{const r=(dge[i]||=new Intl.DateTimeFormat("en-US",{timeZone:i,timeZoneName:"longOffset"}).format)(e).split("GMT")[1];return r in zh?zh[r]:P$(r,r.split(":"))}catch{if(i in zh)return zh[i];const t=i?.match(fge);return t?P$(i,t.slice(1)):NaN}}const fge=/([+-]\d\d):?(\d\d)?/;function P$(i,e){const t=+(e[0]||0),r=+(e[1]||0),n=+(e[2]||0)/60;return zh[i]=t*60+r>0?t*60+r+n:t*60-r-n}class ns extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Ma(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),YZ(this),QP(this)):this.setTime(Date.now())}static tz(e,...t){return t.length?new ns(...t,e):new ns(Date.now(),e)}withTimeZone(e){return new ns(+this,e)}getTimezoneOffset(){const e=-Ma(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),QP(this),+this}[Symbol.for("constructDateFrom")](e){return new ns(+new Date(e),this.timeZone)}}const D$=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(i=>{if(!D$.test(i))return;const e=i.replace(D$,"$1UTC");ns.prototype[e]&&(i.startsWith("get")?ns.prototype[i]=function(){return this.internal[e]()}:(ns.prototype[i]=function(){return Date.prototype[e].apply(this.internal,arguments),pge(this),+this},ns.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),QP(this),+this}))});function QP(i){i.internal.setTime(+i),i.internal.setUTCSeconds(i.internal.getUTCSeconds()-Math.round(-Ma(i.timeZone,i)*60))}function pge(i){Date.prototype.setFullYear.call(i,i.internal.getUTCFullYear(),i.internal.getUTCMonth(),i.internal.getUTCDate()),Date.prototype.setHours.call(i,i.internal.getUTCHours(),i.internal.getUTCMinutes(),i.internal.getUTCSeconds(),i.internal.getUTCMilliseconds()),YZ(i)}function YZ(i){const e=Ma(i.timeZone,i),t=e>0?Math.floor(e):Math.ceil(e),r=new Date(+i);r.setUTCHours(r.getUTCHours()-1);const n=-new Date(+i).getTimezoneOffset(),s=-new Date(+r).getTimezoneOffset(),o=n-s,a=Date.prototype.getHours.apply(i)!==i.internal.getUTCHours();o&&a&&i.internal.setUTCMinutes(i.internal.getUTCMinutes()+o);const l=n-t;l&&Date.prototype.setUTCMinutes.call(i,Date.prototype.getUTCMinutes.call(i)+l);const c=new Date(+i);c.setUTCSeconds(0);const u=n>0?c.getSeconds():(c.getSeconds()-60)%60,h=Math.round(-(Ma(i.timeZone,i)*60))%60;(h||u)&&(i.internal.setUTCSeconds(i.internal.getUTCSeconds()+h),Date.prototype.setUTCSeconds.call(i,Date.prototype.getUTCSeconds.call(i)+h+u));const d=Ma(i.timeZone,i),f=d>0?Math.floor(d):Math.ceil(d),m=-new Date(+i).getTimezoneOffset()-f,g=f!==t,v=m-l;if(g&&v){Date.prototype.setUTCMinutes.call(i,Date.prototype.getUTCMinutes.call(i)+v);const y=Ma(i.timeZone,i),_=y>0?Math.floor(y):Math.ceil(y),b=f-_;b&&(i.internal.setUTCMinutes(i.internal.getUTCMinutes()+b),Date.prototype.setUTCMinutes.call(i,Date.prototype.getUTCMinutes.call(i)+b))}}class Li extends ns{static tz(e,...t){return t.length?new Li(...t,e):new Li(Date.now(),e)}toISOString(){const[e,t,r]=this.tzComponents(),n=`${e}${t}:${r}`;return this.internal.toISOString().slice(0,-1)+n}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,t,r,n]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${r} ${t} ${n}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[t,r,n]=this.tzComponents();return`${e} GMT${t}${r}${n} (${hge(this.timeZone,this)})`}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),t=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),n=String(Math.abs(e)%60).padStart(2,"0");return[t,r,n]}withTimeZone(e){return new Li(+this,e)}[Symbol.for("constructDateFrom")](e){return new Li(+new Date(e),this.timeZone)}}const UZ=6048e5,mge=864e5,gge=6e4,vge=36e5,I$=Symbol.for("constructDateFrom");function Vt(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&I$ in i?i[I$](e):i instanceof Date?new i.constructor(e):new Date(e)}function je(i,e){return Vt(e||i,i)}function vk(i,e,t){const r=je(i,t?.in);return isNaN(e)?Vt(i,NaN):(e&&r.setDate(r.getDate()+e),r)}function yk(i,e,t){const r=je(i,t?.in);if(isNaN(e))return Vt(i,NaN);if(!e)return r;const n=r.getDate(),s=Vt(i,r.getTime());s.setMonth(r.getMonth()+e+1,0);const o=s.getDate();return n>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}function Sh(i,e,t){const{years:r=0,months:n=0,weeks:s=0,days:o=0,hours:a=0,minutes:l=0,seconds:c=0}=e,u=je(i,t?.in),h=n||r?yk(u,n+r*12):u,d=o||s?vk(h,o+s*7):h,f=l+a*60,m=(c+f*60)*1e3;return Vt(i,+d+m)}let yge={};function Ef(){return yge}function hu(i,e){const t=Ef(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,n=je(i,e?.in),s=n.getDay(),o=(s<r?7:0)+s-r;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function Ad(i,e){return hu(i,{...e,weekStartsOn:1})}function VZ(i,e){const t=je(i,e?.in),r=t.getFullYear(),n=Vt(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Ad(n),o=Vt(t,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Ad(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function k$(i){const e=je(i),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+i-+t}function Bn(i,...e){const t=Vt.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function Nd(i,e){const t=je(i,e?.in);return t.setHours(0,0,0,0),t}function bk(i,e,t){const[r,n]=Bn(t?.in,i,e),s=Nd(r),o=Nd(n),a=+s-k$(s),l=+o-k$(o);return Math.round((a-l)/mge)}function bge(i,e){const t=VZ(i,e),r=Vt(i,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ad(r)}function _ge(i,e,t){return vk(i,e*7,t)}function wge(i,e,t){return yk(i,e*12,t)}function xge(i,e){let t,r=e?.in;return i.forEach(n=>{!r&&typeof n=="object"&&(r=Vt.bind(null,n));const s=je(n,r);(!t||t<s||isNaN(+s))&&(t=s)}),Vt(r,t||NaN)}function Sge(i,e){let t,r=e?.in;return i.forEach(n=>{!r&&typeof n=="object"&&(r=Vt.bind(null,n));const s=je(n,r);(!t||t>s||isNaN(+s))&&(t=s)}),Vt(r,t||NaN)}function id(i,e){const t=+je(i)-+je(e);return t<0?-1:t>0?1:t}function Ege(i,e,t){const[r,n]=Bn(t?.in,i,e);return+Nd(r)==+Nd(n)}function XZ(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function Cge(i){return!(!XZ(i)&&typeof i!="number"||isNaN(+je(i)))}function KZ(i,e,t){const[r,n]=Bn(t?.in,i,e),s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return s*12+o}function Tge(i,e,t){const[r,n]=Bn(t?.in,i,e);return r.getFullYear()-n.getFullYear()}function Oge(i,e,t){const[r,n]=Bn(t?.in,i,e),s=M$(r,n),o=Math.abs(bk(r,n));r.setDate(r.getDate()-s*o);const a=+(M$(r,n)===-s),l=s*(o-a);return l===0?0:l}function M$(i,e){const t=i.getFullYear()-e.getFullYear()||i.getMonth()-e.getMonth()||i.getDate()-e.getDate()||i.getHours()-e.getHours()||i.getMinutes()-e.getMinutes()||i.getSeconds()-e.getSeconds()||i.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function _k(i){return e=>{const r=(i?Math[i]:Math.trunc)(e);return r===0?0:r}}function Rge(i,e,t){const[r,n]=Bn(t?.in,i,e),s=(+r-+n)/vge;return _k(t?.roundingMethod)(s)}function ZZ(i,e){return+je(i)-+je(e)}function Pge(i,e,t){const r=ZZ(i,e)/gge;return _k(t?.roundingMethod)(r)}function Dge(i,e){const t=je(i,e?.in);return t.setHours(23,59,59,999),t}function QZ(i,e){const t=je(i,e?.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Ige(i,e){const t=je(i,e?.in);return+Dge(t,e)==+QZ(t,e)}function kge(i,e,t){const[r,n,s]=Bn(t?.in,i,i,e),o=id(n,s),a=Math.abs(KZ(n,s));if(a<1)return 0;n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*a);let l=id(n,s)===-o;Ige(r)&&a===1&&id(r,s)===1&&(l=!1);const c=o*(a-+l);return c===0?0:c}function Mge(i,e,t){const r=ZZ(i,e)/1e3;return _k(t?.roundingMethod)(r)}function Age(i,e,t){const[r,n]=Bn(t?.in,i,e),s=id(r,n),o=Math.abs(Tge(r,n));r.setFullYear(1584),n.setFullYear(1584);const a=id(r,n)===-s,l=s*(o-+a);return l===0?0:l}function wk(i,e){const[t,r]=Bn(i,e.start,e.end);return{start:t,end:r}}function Nge(i,e){const{start:t,end:r}=wk(e?.in,i);let n=+t>+r;const s=n?+t:+r,o=n?r:t;o.setHours(0,0,0,0),o.setDate(1);let a=1;const l=[];for(;+o<=s;)l.push(Vt(t,o)),o.setMonth(o.getMonth()+a);return n?l.reverse():l}function $ge(i,e){const t=je(i,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function Fge(i,e){const t=je(i,e?.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function JZ(i,e){const t=je(i,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Lge(i,e){const{start:t,end:r}=wk(e?.in,i);let n=+t>+r;const s=n?+t:+r,o=n?r:t;o.setHours(0,0,0,0),o.setMonth(0,1);let a=1;const l=[];for(;+o<=s;)l.push(Vt(t,o)),o.setFullYear(o.getFullYear()+a);return n?l.reverse():l}function eQ(i,e){const t=Ef(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,n=je(i,e?.in),s=n.getDay(),o=(s<r?-7:0)+6-(s-r);return n.setDate(n.getDate()+o),n.setHours(23,59,59,999),n}function qge(i,e){return eQ(i,{...e,weekStartsOn:1})}const jge={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Gge=(i,e,t)=>{let r;const n=jge[i];return typeof n=="string"?r=n:e===1?r=n.one:r=n.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function pb(i){return(e={})=>{const t=e.width?String(e.width):i.defaultWidth;return i.formats[t]||i.formats[i.defaultWidth]}}const Wge={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Bge={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zge={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hge={date:pb({formats:Wge,defaultWidth:"full"}),time:pb({formats:Bge,defaultWidth:"full"}),dateTime:pb({formats:zge,defaultWidth:"full"})},Yge={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Uge=(i,e,t,r)=>Yge[i];function Eh(i){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let n;if(r==="formatting"&&i.formattingValues){const o=i.defaultFormattingWidth||i.defaultWidth,a=t?.width?String(t.width):o;n=i.formattingValues[a]||i.formattingValues[o]}else{const o=i.defaultWidth,a=t?.width?String(t.width):i.defaultWidth;n=i.values[a]||i.values[o]}const s=i.argumentCallback?i.argumentCallback(e):e;return n[s]}}const Vge={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Xge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Kge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Zge={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Jge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eve=(i,e)=>{const t=Number(i),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},tve={ordinalNumber:eve,era:Eh({values:Vge,defaultWidth:"wide"}),quarter:Eh({values:Xge,defaultWidth:"wide",argumentCallback:i=>i-1}),month:Eh({values:Kge,defaultWidth:"wide"}),day:Eh({values:Zge,defaultWidth:"wide"}),dayPeriod:Eh({values:Qge,defaultWidth:"wide",formattingValues:Jge,defaultFormattingWidth:"wide"})};function Ch(i){return(e,t={})=>{const r=t.width,n=r&&i.matchPatterns[r]||i.matchPatterns[i.defaultMatchWidth],s=e.match(n);if(!s)return null;const o=s[0],a=r&&i.parsePatterns[r]||i.parsePatterns[i.defaultParseWidth],l=Array.isArray(a)?rve(a,h=>h.test(o)):ive(a,h=>h.test(o));let c;c=i.valueCallback?i.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function ive(i,e){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&e(i[t]))return t}function rve(i,e){for(let t=0;t<i.length;t++)if(e(i[t]))return t}function nve(i){return(e,t={})=>{const r=e.match(i.matchPattern);if(!r)return null;const n=r[0],s=e.match(i.parsePattern);if(!s)return null;let o=i.valueCallback?i.valueCallback(s[0]):s[0];o=t.valueCallback?t.valueCallback(o):o;const a=e.slice(n.length);return{value:o,rest:a}}}const sve=/^(\d+)(th|st|nd|rd)?/i,ove=/\d+/i,ave={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lve={any:[/^b/i,/^(a|c)/i]},cve={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uve={any:[/1/i,/2/i,/3/i,/4/i]},hve={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dve={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fve={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pve={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mve={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gve={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vve={ordinalNumber:nve({matchPattern:sve,parsePattern:ove,valueCallback:i=>parseInt(i,10)}),era:Ch({matchPatterns:ave,defaultMatchWidth:"wide",parsePatterns:lve,defaultParseWidth:"any"}),quarter:Ch({matchPatterns:cve,defaultMatchWidth:"wide",parsePatterns:uve,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Ch({matchPatterns:hve,defaultMatchWidth:"wide",parsePatterns:dve,defaultParseWidth:"any"}),day:Ch({matchPatterns:fve,defaultMatchWidth:"wide",parsePatterns:pve,defaultParseWidth:"any"}),dayPeriod:Ch({matchPatterns:mve,defaultMatchWidth:"any",parsePatterns:gve,defaultParseWidth:"any"})},xk={code:"en-US",formatDistance:Gge,formatLong:Hge,formatRelative:Uge,localize:tve,match:vve,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yve(i,e){const t=je(i,e?.in);return bk(t,JZ(t))+1}function tQ(i,e){const t=je(i,e?.in),r=+Ad(t)-+bge(t);return Math.round(r/UZ)+1}function iQ(i,e){const t=je(i,e?.in),r=t.getFullYear(),n=Ef(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=Vt(e?.in||i,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=hu(o,e),l=Vt(e?.in||i,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=hu(l,e);return+t>=+a?r+1:+t>=+c?r:r-1}function bve(i,e){const t=Ef(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,n=iQ(i,e),s=Vt(e?.in||i,0);return s.setFullYear(n,0,r),s.setHours(0,0,0,0),hu(s,e)}function rQ(i,e){const t=je(i,e?.in),r=+hu(t,e)-+bve(t,e);return Math.round(r/UZ)+1}function lt(i,e){const t=i<0?"-":"",r=Math.abs(i).toString().padStart(e,"0");return t+r}const Do={y(i,e){const t=i.getFullYear(),r=t>0?t:1-t;return lt(e==="yy"?r%100:r,e.length)},M(i,e){const t=i.getMonth();return e==="M"?String(t+1):lt(t+1,2)},d(i,e){return lt(i.getDate(),e.length)},a(i,e){const t=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(i,e){return lt(i.getHours()%12||12,e.length)},H(i,e){return lt(i.getHours(),e.length)},m(i,e){return lt(i.getMinutes(),e.length)},s(i,e){return lt(i.getSeconds(),e.length)},S(i,e){const t=e.length,r=i.getMilliseconds(),n=Math.trunc(r*Math.pow(10,t-3));return lt(n,e.length)}},nc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},A$={G:function(i,e,t){const r=i.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(i,e,t){if(e==="yo"){const r=i.getFullYear(),n=r>0?r:1-r;return t.ordinalNumber(n,{unit:"year"})}return Do.y(i,e)},Y:function(i,e,t,r){const n=iQ(i,r),s=n>0?n:1-n;if(e==="YY"){const o=s%100;return lt(o,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):lt(s,e.length)},R:function(i,e){const t=VZ(i);return lt(t,e.length)},u:function(i,e){const t=i.getFullYear();return lt(t,e.length)},Q:function(i,e,t){const r=Math.ceil((i.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return lt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(i,e,t){const r=Math.ceil((i.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return lt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(i,e,t){const r=i.getMonth();switch(e){case"M":case"MM":return Do.M(i,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(i,e,t){const r=i.getMonth();switch(e){case"L":return String(r+1);case"LL":return lt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(i,e,t,r){const n=rQ(i,r);return e==="wo"?t.ordinalNumber(n,{unit:"week"}):lt(n,e.length)},I:function(i,e,t){const r=tQ(i);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):lt(r,e.length)},d:function(i,e,t){return e==="do"?t.ordinalNumber(i.getDate(),{unit:"date"}):Do.d(i,e)},D:function(i,e,t){const r=yve(i);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):lt(r,e.length)},E:function(i,e,t){const r=i.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(i,e,t,r){const n=i.getDay(),s=(n-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return lt(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(n,{width:"short",context:"formatting"});case"eeee":default:return t.day(n,{width:"wide",context:"formatting"})}},c:function(i,e,t,r){const n=i.getDay(),s=(n-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return lt(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(n,{width:"narrow",context:"standalone"});case"cccccc":return t.day(n,{width:"short",context:"standalone"});case"cccc":default:return t.day(n,{width:"wide",context:"standalone"})}},i:function(i,e,t){const r=i.getDay(),n=r===0?7:r;switch(e){case"i":return String(n);case"ii":return lt(n,e.length);case"io":return t.ordinalNumber(n,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(i,e,t){const n=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(i,e,t){const r=i.getHours();let n;switch(r===12?n=nc.noon:r===0?n=nc.midnight:n=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(i,e,t){const r=i.getHours();let n;switch(r>=17?n=nc.evening:r>=12?n=nc.afternoon:r>=4?n=nc.morning:n=nc.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(i,e,t){if(e==="ho"){let r=i.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Do.h(i,e)},H:function(i,e,t){return e==="Ho"?t.ordinalNumber(i.getHours(),{unit:"hour"}):Do.H(i,e)},K:function(i,e,t){const r=i.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):lt(r,e.length)},k:function(i,e,t){let r=i.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):lt(r,e.length)},m:function(i,e,t){return e==="mo"?t.ordinalNumber(i.getMinutes(),{unit:"minute"}):Do.m(i,e)},s:function(i,e,t){return e==="so"?t.ordinalNumber(i.getSeconds(),{unit:"second"}):Do.s(i,e)},S:function(i,e){return Do.S(i,e)},X:function(i,e,t){const r=i.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return $$(r);case"XXXX":case"XX":return Ca(r);case"XXXXX":case"XXX":default:return Ca(r,":")}},x:function(i,e,t){const r=i.getTimezoneOffset();switch(e){case"x":return $$(r);case"xxxx":case"xx":return Ca(r);case"xxxxx":case"xxx":default:return Ca(r,":")}},O:function(i,e,t){const r=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+N$(r,":");case"OOOO":default:return"GMT"+Ca(r,":")}},z:function(i,e,t){const r=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+N$(r,":");case"zzzz":default:return"GMT"+Ca(r,":")}},t:function(i,e,t){const r=Math.trunc(+i/1e3);return lt(r,e.length)},T:function(i,e,t){return lt(+i,e.length)}};function N$(i,e=""){const t=i>0?"-":"+",r=Math.abs(i),n=Math.trunc(r/60),s=r%60;return s===0?t+String(n):t+String(n)+e+lt(s,2)}function $$(i,e){return i%60===0?(i>0?"-":"+")+lt(Math.abs(i)/60,2):Ca(i,e)}function Ca(i,e=""){const t=i>0?"-":"+",r=Math.abs(i),n=lt(Math.trunc(r/60),2),s=lt(r%60,2);return t+n+e+s}const F$=(i,e)=>{switch(i){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},nQ=(i,e)=>{switch(i){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},_ve=(i,e)=>{const t=i.match(/(P+)(p+)?/)||[],r=t[1],n=t[2];if(!n)return F$(i,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",F$(r,e)).replace("{{time}}",nQ(n,e))},wve={p:nQ,P:_ve},xve=/^D+$/,Sve=/^Y+$/,Eve=["D","DD","YY","YYYY"];function Cve(i){return xve.test(i)}function Tve(i){return Sve.test(i)}function Ove(i,e,t){const r=Rve(i,e,t);if(console.warn(r),Eve.includes(i))throw new RangeError(r)}function Rve(i,e,t){const r=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Pve=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dve=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ive=/^'([^]*?)'?$/,kve=/''/g,Mve=/[a-zA-Z]/;function Ave(i,e,t){const r=Ef(),n=t?.locale??r.locale??xk,s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=je(i,t?.in);if(!Cge(a))throw new RangeError("Invalid time value");let l=e.match(Dve).map(u=>{const h=u[0];if(h==="p"||h==="P"){const d=wve[h];return d(u,n.formatLong)}return u}).join("").match(Pve).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:Nve(u)};if(A$[h])return{isToken:!0,value:u};if(h.match(Mve))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});n.localize.preprocessor&&(l=n.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:n};return l.map(u=>{if(!u.isToken)return u.value;const h=u.value;(!t?.useAdditionalWeekYearTokens&&Tve(h)||!t?.useAdditionalDayOfYearTokens&&Cve(h))&&Ove(h,e,String(i));const d=A$[h[0]];return d(a,h,n.localize,c)}).join("")}function Nve(i){const e=i.match(Ive);return e?e[1].replace(kve,"'"):i}function $ve(i,e){const t=je(i,e?.in),r=t.getFullYear(),n=t.getMonth(),s=Vt(t,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function Fve(i,e){return je(i,e?.in).getMonth()}function Lve(i,e){return je(i,e?.in).getFullYear()}function qve(i,e){const{start:t,end:r}=wk(e?.in,i),n={},s=Age(r,t);s&&(n.years=s);const o=Sh(t,{years:n.years}),a=kge(r,o);a&&(n.months=a);const l=Sh(o,{months:n.months}),c=Oge(r,l);c&&(n.days=c);const u=Sh(l,{days:n.days}),h=Rge(r,u);h&&(n.hours=h);const d=Sh(u,{hours:n.hours}),f=Pge(r,d);f&&(n.minutes=f);const p=Sh(d,{minutes:n.minutes}),m=Mge(r,p);return m&&(n.seconds=m),n}function jve(i,e){return+je(i)>+je(e)}function Gve(i,e){return+je(i)<+je(e)}function Wve(i,e,t){const[r,n]=Bn(t?.in,i,e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Bve(i,e,t){const[r,n]=Bn(t?.in,i,e);return r.getFullYear()===n.getFullYear()}function zve(i,e,t){const r=je(i,t?.in),n=r.getFullYear(),s=r.getDate(),o=Vt(i,0);o.setFullYear(n,e,15),o.setHours(0,0,0,0);const a=$ve(o);return r.setMonth(e,Math.min(s,a)),r}function Hve(i,e,t){const r=je(i,t?.in);return isNaN(+r)?Vt(i,NaN):(r.setFullYear(e),r)}const L$=5,Yve=4;function Uve(i,e){const t=e.startOfMonth(i),r=t.getDay()>0?t.getDay():7,n=e.addDays(i,-r+1),s=e.addDays(n,L$*7-1);return e.getMonth(i)===e.getMonth(s)?L$:Yve}function sQ(i,e){const t=e.startOfMonth(i),r=t.getDay();return r===1?t:r===0?e.addDays(t,-6):e.addDays(t,-1*(r-1))}function Vve(i,e){const t=sQ(i,e),r=Uve(i,e);return e.addDays(t,r*7-1)}class jr{constructor(e,t){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Li.tz(this.options.timeZone):new this.Date,this.newDate=(r,n,s)=>this.overrides?.newDate?this.overrides.newDate(r,n,s):this.options.timeZone?new Li(r,n,s,this.options.timeZone):new Date(r,n,s),this.addDays=(r,n)=>this.overrides?.addDays?this.overrides.addDays(r,n):vk(r,n),this.addMonths=(r,n)=>this.overrides?.addMonths?this.overrides.addMonths(r,n):yk(r,n),this.addWeeks=(r,n)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,n):_ge(r,n),this.addYears=(r,n)=>this.overrides?.addYears?this.overrides.addYears(r,n):wge(r,n),this.differenceInCalendarDays=(r,n)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,n):bk(r,n),this.differenceInCalendarMonths=(r,n)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,n):KZ(r,n),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):Nge(r),this.eachYearOfInterval=r=>{const n=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(r):Lge(r),s=new Set(n.map(a=>this.getYear(a)));if(s.size===n.length)return n;const o=[];return s.forEach(a=>{o.push(new Date(a,0,1))}),o},this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):Vve(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):qge(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):QZ(r),this.endOfWeek=(r,n)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,n):eQ(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):Fge(r),this.format=(r,n,s)=>{const o=this.overrides?.format?this.overrides.format(r,n,this.options):Ave(r,n,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):tQ(r),this.getMonth=(r,n)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):Fve(r,this.options),this.getYear=(r,n)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):Lve(r,this.options),this.getWeek=(r,n)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):rQ(r,this.options),this.isAfter=(r,n)=>this.overrides?.isAfter?this.overrides.isAfter(r,n):jve(r,n),this.isBefore=(r,n)=>this.overrides?.isBefore?this.overrides.isBefore(r,n):Gve(r,n),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):XZ(r),this.isSameDay=(r,n)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,n):Ege(r,n),this.isSameMonth=(r,n)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,n):Wve(r,n),this.isSameYear=(r,n)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,n):Bve(r,n),this.max=r=>this.overrides?.max?this.overrides.max(r):xge(r),this.min=r=>this.overrides?.min?this.overrides.min(r):Sge(r),this.setMonth=(r,n)=>this.overrides?.setMonth?this.overrides.setMonth(r,n):zve(r,n),this.setYear=(r,n)=>this.overrides?.setYear?this.overrides.setYear(r,n):Hve(r,n),this.startOfBroadcastWeek=(r,n)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):sQ(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):Nd(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):Ad(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):$ge(r),this.startOfWeek=(r,n)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):hu(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):JZ(r),this.options={locale:xk,...e},this.overrides=t}getDigitMap(){const{numerals:e="latn"}=this.options,t=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let n=0;n<10;n++)r[n.toString()]=t.format(n);return r}replaceDigits(e){const t=this.getDigitMap();return e.replace(/\d/g,r=>t[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){const e=this.options.locale?.code;return e&&jr.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:t,timeZone:r,numerals:n}=this.options,s=t?.code;if(s&&jr.yearFirstLocales.has(s))try{return new Intl.DateTimeFormat(s,{month:"long",year:"numeric",timeZone:r,numberingSystem:n}).format(e)}catch{}const o=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,o)}}jr.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const ws=new jr;class oQ{constructor(e,t,r=ws){this.date=e,this.displayMonth=t,this.outside=!!(t&&!r.isSameMonth(e,t)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class Xve{constructor(e,t){this.date=e,this.weeks=t}}class Kve{constructor(e,t){this.days=t,this.weekNumber=e}}function Zve(i){return ee.createElement("button",{...i})}function Qve(i){return ee.createElement("span",{...i})}function Jve(i){const{size:e=24,orientation:t="left",className:r}=i;return ee.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},t==="up"&&ee.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),t==="down"&&ee.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),t==="left"&&ee.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),t==="right"&&ee.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function eye(i){const{day:e,modifiers:t,...r}=i;return ee.createElement("td",{...r})}function tye(i){const{day:e,modifiers:t,...r}=i,n=ee.useRef(null);return ee.useEffect(()=>{t.focused&&n.current?.focus()},[t.focused]),ee.createElement("button",{ref:n,...r})}var he;(function(i){i.Root="root",i.Chevron="chevron",i.Day="day",i.DayButton="day_button",i.CaptionLabel="caption_label",i.Dropdowns="dropdowns",i.Dropdown="dropdown",i.DropdownRoot="dropdown_root",i.Footer="footer",i.MonthGrid="month_grid",i.MonthCaption="month_caption",i.MonthsDropdown="months_dropdown",i.Month="month",i.Months="months",i.Nav="nav",i.NextMonthButton="button_next",i.PreviousMonthButton="button_previous",i.Week="week",i.Weeks="weeks",i.Weekday="weekday",i.Weekdays="weekdays",i.WeekNumber="week_number",i.WeekNumberHeader="week_number_header",i.YearsDropdown="years_dropdown"})(he||(he={}));var $t;(function(i){i.disabled="disabled",i.hidden="hidden",i.outside="outside",i.focused="focused",i.today="today"})($t||($t={}));var En;(function(i){i.range_end="range_end",i.range_middle="range_middle",i.range_start="range_start",i.selected="selected"})(En||(En={}));var Tr;(function(i){i.weeks_before_enter="weeks_before_enter",i.weeks_before_exit="weeks_before_exit",i.weeks_after_enter="weeks_after_enter",i.weeks_after_exit="weeks_after_exit",i.caption_after_enter="caption_after_enter",i.caption_after_exit="caption_after_exit",i.caption_before_enter="caption_before_enter",i.caption_before_exit="caption_before_exit"})(Tr||(Tr={}));function iye(i){const{options:e,className:t,components:r,classNames:n,...s}=i,o=[n[he.Dropdown],t].join(" "),a=e?.find(({value:l})=>l===s.value);return ee.createElement("span",{"data-disabled":s.disabled,className:n[he.DropdownRoot]},ee.createElement(r.Select,{className:o,...s},e?.map(({value:l,label:c,disabled:u})=>ee.createElement(r.Option,{key:l,value:l,disabled:u},c))),ee.createElement("span",{className:n[he.CaptionLabel],"aria-hidden":!0},a?.label,ee.createElement(r.Chevron,{orientation:"down",size:18,className:n[he.Chevron]})))}function rye(i){return ee.createElement("div",{...i})}function nye(i){return ee.createElement("div",{...i})}function sye(i){const{calendarMonth:e,displayIndex:t,...r}=i;return ee.createElement("div",{...r},i.children)}function oye(i){const{calendarMonth:e,displayIndex:t,...r}=i;return ee.createElement("div",{...r})}function aye(i){return ee.createElement("table",{...i})}function lye(i){return ee.createElement("div",{...i})}const aQ=C.createContext(void 0);function Cf(){const i=C.useContext(aQ);if(i===void 0)throw new Error("useDayPicker() must be used within a custom component.");return i}function cye(i){const{components:e}=Cf();return ee.createElement(e.Dropdown,{...i})}function uye(i){const{onPreviousClick:e,onNextClick:t,previousMonth:r,nextMonth:n,...s}=i,{components:o,classNames:a,labels:{labelPrevious:l,labelNext:c}}=Cf(),u=C.useCallback(d=>{n&&t?.(d)},[n,t]),h=C.useCallback(d=>{r&&e?.(d)},[r,e]);return ee.createElement("nav",{...s},ee.createElement(o.PreviousMonthButton,{type:"button",className:a[he.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":l(r),onClick:h},ee.createElement(o.Chevron,{disabled:r?void 0:!0,className:a[he.Chevron],orientation:"left"})),ee.createElement(o.NextMonthButton,{type:"button",className:a[he.NextMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":c(n),onClick:u},ee.createElement(o.Chevron,{disabled:n?void 0:!0,orientation:"right",className:a[he.Chevron]})))}function hye(i){const{components:e}=Cf();return ee.createElement(e.Button,{...i})}function dye(i){return ee.createElement("option",{...i})}function fye(i){const{components:e}=Cf();return ee.createElement(e.Button,{...i})}function pye(i){const{rootRef:e,...t}=i;return ee.createElement("div",{...t,ref:e})}function mye(i){return ee.createElement("select",{...i})}function gye(i){const{week:e,...t}=i;return ee.createElement("tr",{...t})}function vye(i){return ee.createElement("th",{...i})}function yye(i){return ee.createElement("thead",{"aria-hidden":!0},ee.createElement("tr",{...i}))}function bye(i){const{week:e,...t}=i;return ee.createElement("th",{...t})}function _ye(i){return ee.createElement("th",{...i})}function wye(i){return ee.createElement("tbody",{...i})}function xye(i){const{components:e}=Cf();return ee.createElement(e.Dropdown,{...i})}const Sye=Object.freeze(Object.defineProperty({__proto__:null,Button:Zve,CaptionLabel:Qve,Chevron:Jve,Day:eye,DayButton:tye,Dropdown:iye,DropdownNav:rye,Footer:nye,Month:sye,MonthCaption:oye,MonthGrid:aye,Months:lye,MonthsDropdown:cye,Nav:uye,NextMonthButton:hye,Option:dye,PreviousMonthButton:fye,Root:pye,Select:mye,Week:gye,WeekNumber:bye,WeekNumberHeader:_ye,Weekday:vye,Weekdays:yye,Weeks:wye,YearsDropdown:xye},Symbol.toStringTag,{value:"Module"}));function Ws(i,e,t=!1,r=ws){let{from:n,to:s}=i;const{differenceInCalendarDays:o,isSameDay:a}=r;return n&&s?(o(s,n)<0&&([n,s]=[s,n]),o(e,n)>=(t?1:0)&&o(s,e)>=(t?1:0)):!t&&s?a(s,e):!t&&n?a(n,e):!1}function lQ(i){return!!(i&&typeof i=="object"&&"before"in i&&"after"in i)}function Sk(i){return!!(i&&typeof i=="object"&&"from"in i)}function cQ(i){return!!(i&&typeof i=="object"&&"after"in i)}function uQ(i){return!!(i&&typeof i=="object"&&"before"in i)}function hQ(i){return!!(i&&typeof i=="object"&&"dayOfWeek"in i)}function dQ(i,e){return Array.isArray(i)&&i.every(e.isDate)}function Bs(i,e,t=ws){const r=Array.isArray(e)?e:[e],{isSameDay:n,differenceInCalendarDays:s,isAfter:o}=t;return r.some(a=>{if(typeof a=="boolean")return a;if(t.isDate(a))return n(i,a);if(dQ(a,t))return a.includes(i);if(Sk(a))return Ws(a,i,!1,t);if(hQ(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(i.getDay()):a.dayOfWeek===i.getDay();if(lQ(a)){const l=s(a.before,i),c=s(a.after,i),u=l>0,h=c<0;return o(a.before,a.after)?h&&u:u||h}return cQ(a)?s(i,a.after)>0:uQ(a)?s(a.before,i)>0:typeof a=="function"?a(i):!1})}function Eye(i,e,t,r,n){const{disabled:s,hidden:o,modifiers:a,showOutsideDays:l,broadcastCalendar:c,today:u}=e,{isSameDay:h,isSameMonth:d,startOfMonth:f,isBefore:p,endOfMonth:m,isAfter:g}=n,v=t&&f(t),y=r&&m(r),_={[$t.focused]:[],[$t.outside]:[],[$t.disabled]:[],[$t.hidden]:[],[$t.today]:[]},b={};for(const w of i){const{date:S,displayMonth:E}=w,x=!!(E&&!d(S,E)),T=!!(v&&p(S,v)),R=!!(y&&g(S,y)),P=!!(s&&Bs(S,s,n)),I=!!(o&&Bs(S,o,n))||T||R||!c&&!l&&x||c&&l===!1&&x,$=h(S,u??n.today());x&&_.outside.push(w),P&&_.disabled.push(w),I&&_.hidden.push(w),$&&_.today.push(w),a&&Object.keys(a).forEach(F=>{const W=a?.[F];W&&Bs(S,W,n)&&(b[F]?b[F].push(w):b[F]=[w])})}return w=>{const S={[$t.focused]:!1,[$t.disabled]:!1,[$t.hidden]:!1,[$t.outside]:!1,[$t.today]:!1},E={};for(const x in _){const T=_[x];S[x]=T.some(R=>R===w)}for(const x in b)E[x]=b[x].some(T=>T===w);return{...S,...E}}}function Cye(i,e,t={}){return Object.entries(i).filter(([,n])=>n===!0).reduce((n,[s])=>(t[s]?n.push(t[s]):e[$t[s]]?n.push(e[$t[s]]):e[En[s]]&&n.push(e[En[s]]),n),[e[he.Day]])}function Tye(i){return{...Sye,...i}}function Oye(i){const e={"data-mode":i.mode??void 0,"data-required":"required"in i?i.required:void 0,"data-multiple-months":i.numberOfMonths&&i.numberOfMonths>1||void 0,"data-week-numbers":i.showWeekNumber||void 0,"data-broadcast-calendar":i.broadcastCalendar||void 0,"data-nav-layout":i.navLayout||void 0};return Object.entries(i).forEach(([t,r])=>{t.startsWith("data-")&&(e[t]=r)}),e}function Ek(){const i={};for(const e in he)i[he[e]]=`rdp-${he[e]}`;for(const e in $t)i[$t[e]]=`rdp-${$t[e]}`;for(const e in En)i[En[e]]=`rdp-${En[e]}`;for(const e in Tr)i[Tr[e]]=`rdp-${Tr[e]}`;return i}function fQ(i,e,t){return(t??new jr(e)).formatMonthYear(i)}const Rye=fQ;function Pye(i,e,t){return(t??new jr(e)).format(i,"d")}function Dye(i,e=ws){return e.format(i,"LLLL")}function Iye(i,e,t){return(t??new jr(e)).format(i,"cccccc")}function kye(i,e=ws){return i<10?e.formatNumber(`0${i.toLocaleString()}`):e.formatNumber(`${i.toLocaleString()}`)}function Mye(){return""}function pQ(i,e=ws){return e.format(i,"yyyy")}const Aye=pQ,Nye=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:fQ,formatDay:Pye,formatMonthCaption:Rye,formatMonthDropdown:Dye,formatWeekNumber:kye,formatWeekNumberHeader:Mye,formatWeekdayName:Iye,formatYearCaption:Aye,formatYearDropdown:pQ},Symbol.toStringTag,{value:"Module"}));function $ye(i){return i?.formatMonthCaption&&!i.formatCaption&&(i.formatCaption=i.formatMonthCaption),i?.formatYearCaption&&!i.formatYearDropdown&&(i.formatYearDropdown=i.formatYearCaption),{...Nye,...i}}function Fye(i,e,t,r,n){const{startOfMonth:s,startOfYear:o,endOfYear:a,eachMonthOfInterval:l,getMonth:c}=n;return l({start:o(i),end:a(i)}).map(d=>{const f=r.formatMonthDropdown(d,n),p=c(d),m=e&&d<s(e)||t&&d>s(t)||!1;return{value:p,label:f,disabled:m}})}function Lye(i,e={},t={}){let r={...e?.[he.Day]};return Object.entries(i).filter(([,n])=>n===!0).forEach(([n])=>{r={...r,...t?.[n]}}),r}function qye(i,e,t){const r=i.today(),n=e?i.startOfISOWeek(r):i.startOfWeek(r),s=[];for(let o=0;o<7;o++){const a=i.addDays(n,o);s.push(a)}return s}function jye(i,e,t,r,n=!1){if(!i||!e)return;const{startOfYear:s,endOfYear:o,eachYearOfInterval:a,getYear:l}=r,c=s(i),u=o(e),h=a({start:c,end:u});return n&&h.reverse(),h.map(d=>{const f=t.formatYearDropdown(d,r);return{value:l(d),label:f,disabled:!1}})}function mQ(i,e,t,r){let n=(r??new jr(t)).format(i,"PPPP");return e.today&&(n=`Today, ${n}`),e.selected&&(n=`${n}, selected`),n}const Gye=mQ;function gQ(i,e,t){return(t??new jr(e)).formatMonthYear(i)}const Wye=gQ;function Bye(i,e,t,r){let n=(r??new jr(t)).format(i,"PPPP");return e?.today&&(n=`Today, ${n}`),n}function zye(i){return"Choose the Month"}function Hye(){return""}function Yye(i){return"Go to the Next Month"}function Uye(i){return"Go to the Previous Month"}function Vye(i,e,t){return(t??new jr(e)).format(i,"cccc")}function Xye(i,e){return`Week ${i}`}function Kye(i){return"Week Number"}function Zye(i){return"Choose the Year"}const Qye=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:Wye,labelDay:Gye,labelDayButton:mQ,labelGrid:gQ,labelGridcell:Bye,labelMonthDropdown:zye,labelNav:Hye,labelNext:Yye,labelPrevious:Uye,labelWeekNumber:Xye,labelWeekNumberHeader:Kye,labelWeekday:Vye,labelYearDropdown:Zye},Symbol.toStringTag,{value:"Module"})),Tf=i=>i instanceof HTMLElement?i:null,mb=i=>[...i.querySelectorAll("[data-animated-month]")??[]],Jye=i=>Tf(i.querySelector("[data-animated-month]")),gb=i=>Tf(i.querySelector("[data-animated-caption]")),vb=i=>Tf(i.querySelector("[data-animated-weeks]")),ebe=i=>Tf(i.querySelector("[data-animated-nav]")),tbe=i=>Tf(i.querySelector("[data-animated-weekdays]"));function ibe(i,e,{classNames:t,months:r,focused:n,dateLib:s}){const o=C.useRef(null),a=C.useRef(r),l=C.useRef(!1);C.useLayoutEffect(()=>{const c=a.current;if(a.current=r,!e||!i.current||!(i.current instanceof HTMLElement)||r.length===0||c.length===0||r.length!==c.length)return;const u=s.isSameMonth(r[0].date,c[0].date),h=s.isAfter(r[0].date,c[0].date),d=h?t[Tr.caption_after_enter]:t[Tr.caption_before_enter],f=h?t[Tr.weeks_after_enter]:t[Tr.weeks_before_enter],p=o.current,m=i.current.cloneNode(!0);if(m instanceof HTMLElement?(mb(m).forEach(_=>{if(!(_ instanceof HTMLElement))return;const b=Jye(_);b&&_.contains(b)&&_.removeChild(b);const w=gb(_);w&&w.classList.remove(d);const S=vb(_);S&&S.classList.remove(f)}),o.current=m):o.current=null,l.current||u||n)return;const g=p instanceof HTMLElement?mb(p):[],v=mb(i.current);if(v?.every(y=>y instanceof HTMLElement)&&g&&g.every(y=>y instanceof HTMLElement)){l.current=!0,i.current.style.isolation="isolate";const y=ebe(i.current);y&&(y.style.zIndex="1"),v.forEach((_,b)=>{const w=g[b];if(!w)return;_.style.position="relative",_.style.overflow="hidden";const S=gb(_);S&&S.classList.add(d);const E=vb(_);E&&E.classList.add(f);const x=()=>{l.current=!1,i.current&&(i.current.style.isolation=""),y&&(y.style.zIndex=""),S&&S.classList.remove(d),E&&E.classList.remove(f),_.style.position="",_.style.overflow="",_.contains(w)&&_.removeChild(w)};w.style.pointerEvents="none",w.style.position="absolute",w.style.overflow="hidden",w.setAttribute("aria-hidden","true");const T=tbe(w);T&&(T.style.opacity="0");const R=gb(w);R&&(R.classList.add(h?t[Tr.caption_before_exit]:t[Tr.caption_after_exit]),R.addEventListener("animationend",x));const P=vb(w);P&&P.classList.add(h?t[Tr.weeks_before_exit]:t[Tr.weeks_after_exit]),_.insertBefore(w,_.firstChild)})}})}function rbe(i,e,t,r){const n=i[0],s=i[i.length-1],{ISOWeek:o,fixedWeeks:a,broadcastCalendar:l}=t??{},{addDays:c,differenceInCalendarDays:u,differenceInCalendarMonths:h,endOfBroadcastWeek:d,endOfISOWeek:f,endOfMonth:p,endOfWeek:m,isAfter:g,startOfBroadcastWeek:v,startOfISOWeek:y,startOfWeek:_}=r,b=l?v(n,r):o?y(n):_(n),w=l?d(s):o?f(p(s)):m(p(s)),S=u(w,b),E=h(s,n)+1,x=[];for(let P=0;P<=S;P++){const I=c(b,P);if(e&&g(I,e))break;x.push(I)}const R=(l?35:42)*E;if(a&&x.length<R){const P=R-x.length;for(let I=0;I<P;I++){const $=c(x[x.length-1],1);x.push($)}}return x}function nbe(i){const e=[];return i.reduce((t,r)=>{const n=r.weeks.reduce((s,o)=>s.concat(o.days.slice()),e.slice());return t.concat(n.slice())},e.slice())}function sbe(i,e,t,r){const{numberOfMonths:n=1}=t,s=[];for(let o=0;o<n;o++){const a=r.addMonths(i,o);if(e&&a>e)break;s.push(a)}return s}function q$(i,e,t,r){const{month:n,defaultMonth:s,today:o=r.today(),numberOfMonths:a=1}=i;let l=n||s||o;const{differenceInCalendarMonths:c,addMonths:u,startOfMonth:h}=r;if(t&&c(t,l)<a-1){const d=-1*(a-1);l=u(t,d)}return e&&c(l,e)<0&&(l=e),h(l)}function obe(i,e,t,r){const{addDays:n,endOfBroadcastWeek:s,endOfISOWeek:o,endOfMonth:a,endOfWeek:l,getISOWeek:c,getWeek:u,startOfBroadcastWeek:h,startOfISOWeek:d,startOfWeek:f}=r,p=i.reduce((m,g)=>{const v=t.broadcastCalendar?h(g,r):t.ISOWeek?d(g):f(g),y=t.broadcastCalendar?s(g):t.ISOWeek?o(a(g)):l(a(g)),_=e.filter(E=>E>=v&&E<=y),b=t.broadcastCalendar?35:42;if(t.fixedWeeks&&_.length<b){const E=e.filter(x=>{const T=b-_.length;return x>y&&x<=n(y,T)});_.push(...E)}const w=_.reduce((E,x)=>{const T=t.ISOWeek?c(x):u(x),R=E.find(I=>I.weekNumber===T),P=new oQ(x,g,r);return R?R.days.push(P):E.push(new Kve(T,[P])),E},[]),S=new Xve(g,w);return m.push(S),m},[]);return t.reverseMonths?p.reverse():p}function abe(i,e){let{startMonth:t,endMonth:r}=i;const{startOfYear:n,startOfDay:s,startOfMonth:o,endOfMonth:a,addYears:l,endOfYear:c,newDate:u,today:h}=e,{fromYear:d,toYear:f,fromMonth:p,toMonth:m}=i;!t&&p&&(t=p),!t&&d&&(t=e.newDate(d,0,1)),!r&&m&&(r=m),!r&&f&&(r=u(f,11,31));const g=i.captionLayout==="dropdown"||i.captionLayout==="dropdown-years";return t?t=o(t):d?t=u(d,0,1):!t&&g&&(t=n(l(i.today??h(),-100))),r?r=a(r):f?r=u(f,11,31):!r&&g&&(r=c(i.today??h())),[t&&s(t),r&&s(r)]}function lbe(i,e,t,r){if(t.disableNavigation)return;const{pagedNavigation:n,numberOfMonths:s=1}=t,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:l}=r,c=n?s:1,u=o(i);if(!e)return a(u,c);if(!(l(e,i)<s))return a(u,c)}function cbe(i,e,t,r){if(t.disableNavigation)return;const{pagedNavigation:n,numberOfMonths:s}=t,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:l}=r,c=n?s??1:1,u=o(i);if(!e)return a(u,-c);if(!(l(u,e)<=0))return a(u,-c)}function ube(i){const e=[];return i.reduce((t,r)=>t.concat(r.weeks.slice()),e.slice())}function bv(i,e){const[t,r]=C.useState(i);return[e===void 0?t:e,r]}function hbe(i,e){const[t,r]=abe(i,e),{startOfMonth:n,endOfMonth:s}=e,o=q$(i,t,r,e),[a,l]=bv(o,i.month?o:void 0);C.useEffect(()=>{const S=q$(i,t,r,e);l(S)},[i.timeZone]);const c=sbe(a,r,i,e),u=rbe(c,i.endMonth?s(i.endMonth):void 0,i,e),h=obe(c,u,i,e),d=ube(h),f=nbe(h),p=cbe(a,t,i,e),m=lbe(a,r,i,e),{disableNavigation:g,onMonthChange:v}=i,y=S=>d.some(E=>E.days.some(x=>x.isEqualTo(S))),_=S=>{if(g)return;let E=n(S);t&&E<n(t)&&(E=n(t)),r&&E>n(r)&&(E=n(r)),l(E),v?.(E)};return{months:h,weeks:d,days:f,navStart:t,navEnd:r,previousMonth:p,nextMonth:m,goToMonth:_,goToDay:S=>{y(S)||_(S.date)}}}var Kn;(function(i){i[i.Today=0]="Today",i[i.Selected=1]="Selected",i[i.LastFocused=2]="LastFocused",i[i.FocusedModifier=3]="FocusedModifier"})(Kn||(Kn={}));function j$(i){return!i[$t.disabled]&&!i[$t.hidden]&&!i[$t.outside]}function dbe(i,e,t,r){let n,s=-1;for(const o of i){const a=e(o);j$(a)&&(a[$t.focused]&&s<Kn.FocusedModifier?(n=o,s=Kn.FocusedModifier):r?.isEqualTo(o)&&s<Kn.LastFocused?(n=o,s=Kn.LastFocused):t(o.date)&&s<Kn.Selected?(n=o,s=Kn.Selected):a[$t.today]&&s<Kn.Today&&(n=o,s=Kn.Today))}return n||(n=i.find(o=>j$(e(o)))),n}function fbe(i,e,t,r,n,s,o){const{ISOWeek:a,broadcastCalendar:l}=s,{addDays:c,addMonths:u,addWeeks:h,addYears:d,endOfBroadcastWeek:f,endOfISOWeek:p,endOfWeek:m,max:g,min:v,startOfBroadcastWeek:y,startOfISOWeek:_,startOfWeek:b}=o;let S={day:c,week:h,month:u,year:d,startOfWeek:E=>l?y(E,o):a?_(E):b(E),endOfWeek:E=>l?f(E):a?p(E):m(E)}[i](t,e==="after"?1:-1);return e==="before"&&r?S=g([r,S]):e==="after"&&n&&(S=v([n,S])),S}function vQ(i,e,t,r,n,s,o,a=0){if(a>365)return;const l=fbe(i,e,t.date,r,n,s,o),c=!!(s.disabled&&Bs(l,s.disabled,o)),u=!!(s.hidden&&Bs(l,s.hidden,o)),h=l,d=new oQ(l,h,o);return!c&&!u?d:vQ(i,e,d,r,n,s,o,a+1)}function pbe(i,e,t,r,n){const{autoFocus:s}=i,[o,a]=C.useState(),l=dbe(e.days,t,r||(()=>!1),o),[c,u]=C.useState(s?l:void 0);return{isFocusTarget:m=>!!l?.isEqualTo(m),setFocused:u,focused:c,blur:()=>{a(c),u(void 0)},moveFocus:(m,g)=>{if(!c)return;const v=vQ(m,g,c,e.navStart,e.navEnd,i,n);v&&(i.disableNavigation&&!e.days.some(_=>_.isEqualTo(v))||(e.goToDay(v),u(v)))}}}function mbe(i,e){const{selected:t,required:r,onSelect:n}=i,[s,o]=bv(t,n?t:void 0),a=n?t:s,{isSameDay:l}=e,c=f=>a?.some(p=>l(p,f))??!1,{min:u,max:h}=i;return{selected:a,select:(f,p,m)=>{let g=[...a??[]];if(c(f)){if(a?.length===u||r&&a?.length===1)return;g=a?.filter(v=>!l(v,f))}else a?.length===h?g=[f]:g=[...g,f];return n||o(g),n?.(g,f,p,m),g},isSelected:c}}function gbe(i,e,t=0,r=0,n=!1,s=ws){const{from:o,to:a}=e||{},{isSameDay:l,isAfter:c,isBefore:u}=s;let h;if(!o&&!a)h={from:i,to:t>0?void 0:i};else if(o&&!a)l(o,i)?t===0?h={from:o,to:i}:n?h={from:o,to:void 0}:h=void 0:u(i,o)?h={from:i,to:o}:h={from:o,to:i};else if(o&&a)if(l(o,i)&&l(a,i))n?h={from:o,to:a}:h=void 0;else if(l(o,i))h={from:o,to:t>0?void 0:i};else if(l(a,i))h={from:i,to:t>0?void 0:i};else if(u(i,o))h={from:i,to:a};else if(c(i,o))h={from:o,to:i};else if(c(i,a))h={from:o,to:i};else throw new Error("Invalid range");if(h?.from&&h?.to){const d=s.differenceInCalendarDays(h.to,h.from);r>0&&d>r?h={from:i,to:void 0}:t>1&&d<t&&(h={from:i,to:void 0})}return h}function vbe(i,e,t=ws){const r=Array.isArray(e)?e:[e];let n=i.from;const s=t.differenceInCalendarDays(i.to,i.from),o=Math.min(s,6);for(let a=0;a<=o;a++){if(r.includes(n.getDay()))return!0;n=t.addDays(n,1)}return!1}function G$(i,e,t=ws){return Ws(i,e.from,!1,t)||Ws(i,e.to,!1,t)||Ws(e,i.from,!1,t)||Ws(e,i.to,!1,t)}function ybe(i,e,t=ws){const r=Array.isArray(e)?e:[e];if(r.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:t.isDate(a)?Ws(i,a,!1,t):dQ(a,t)?a.some(l=>Ws(i,l,!1,t)):Sk(a)?a.from&&a.to?G$(i,{from:a.from,to:a.to},t):!1:hQ(a)?vbe(i,a.dayOfWeek,t):lQ(a)?t.isAfter(a.before,a.after)?G$(i,{from:t.addDays(a.after,1),to:t.addDays(a.before,-1)},t):Bs(i.from,a,t)||Bs(i.to,a,t):cQ(a)||uQ(a)?Bs(i.from,a,t)||Bs(i.to,a,t):!1))return!0;const o=r.filter(a=>typeof a=="function");if(o.length){let a=i.from;const l=t.differenceInCalendarDays(i.to,i.from);for(let c=0;c<=l;c++){if(o.some(u=>u(a)))return!0;a=t.addDays(a,1)}}return!1}function bbe(i,e){const{disabled:t,excludeDisabled:r,selected:n,required:s,onSelect:o}=i,[a,l]=bv(n,o?n:void 0),c=o?n:a;return{selected:c,select:(d,f,p)=>{const{min:m,max:g}=i,v=d?gbe(d,c,m,g,s,e):void 0;return r&&t&&v?.from&&v.to&&ybe({from:v.from,to:v.to},t,e)&&(v.from=d,v.to=void 0),o||l(v),o?.(v,d,f,p),v},isSelected:d=>c&&Ws(c,d,!1,e)}}function _be(i,e){const{selected:t,required:r,onSelect:n}=i,[s,o]=bv(t,n?t:void 0),a=n?t:s,{isSameDay:l}=e;return{selected:a,select:(h,d,f)=>{let p=h;return!r&&a&&a&&l(h,a)&&(p=void 0),n||o(p),n?.(p,h,d,f),p},isSelected:h=>a?l(a,h):!1}}function wbe(i,e){const t=_be(i,e),r=mbe(i,e),n=bbe(i,e);switch(i.mode){case"single":return t;case"multiple":return r;case"range":return n;default:return}}function xbe(i){let e=i;e.timeZone&&(e={...i},e.today&&(e.today=new Li(e.today,e.timeZone)),e.month&&(e.month=new Li(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new Li(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new Li(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new Li(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new Li(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=e.selected?.map(we=>new Li(we,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new Li(e.selected.from,e.timeZone):void 0,to:e.selected.to?new Li(e.selected.to,e.timeZone):void 0}));const{components:t,formatters:r,labels:n,dateLib:s,locale:o,classNames:a}=C.useMemo(()=>{const we={...xk,...e.locale};return{dateLib:new jr({locale:we,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:Tye(e.components),formatters:$ye(e.formatters),labels:{...Qye,...e.labels},locale:we,classNames:{...Ek(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:l,mode:c,navLayout:u,numberOfMonths:h=1,onDayBlur:d,onDayClick:f,onDayFocus:p,onDayKeyDown:m,onDayMouseEnter:g,onDayMouseLeave:v,onNextClick:y,onPrevClick:_,showWeekNumber:b,styles:w}=e,{formatCaption:S,formatDay:E,formatMonthDropdown:x,formatWeekNumber:T,formatWeekNumberHeader:R,formatWeekdayName:P,formatYearDropdown:I}=r,$=hbe(e,s),{days:F,months:W,navStart:N,navEnd:q,previousMonth:D,nextMonth:j,goToMonth:X}=$,U=Eye(F,e,N,q,s),{isSelected:M,select:L,selected:G}=wbe(e,s)??{},{blur:B,focused:H,isFocusTarget:z,moveFocus:Q,setFocused:re}=pbe(e,$,U,M??(()=>!1),s),{labelDayButton:me,labelGridcell:et,labelGrid:ot,labelMonthDropdown:ve,labelNav:ht,labelPrevious:Ot,labelNext:At,labelWeekday:Ve,labelWeekNumber:Le,labelWeekNumberHeader:sr,labelYearDropdown:ai}=n,Zt=C.useMemo(()=>qye(s,e.ISOWeek),[s,e.ISOWeek]),Qt=c!==void 0||f!==void 0,Xe=C.useCallback(()=>{D&&(X(D),_?.(D))},[D,X,_]),Ti=C.useCallback(()=>{j&&(X(j),y?.(j))},[X,j,y]),Sr=C.useCallback((we,dt)=>ye=>{ye.preventDefault(),ye.stopPropagation(),re(we),L?.(we.date,dt,ye),f?.(we.date,dt,ye)},[L,f,re]),Yn=C.useCallback((we,dt)=>ye=>{re(we),p?.(we.date,dt,ye)},[p,re]),or=C.useCallback((we,dt)=>ye=>{B(),d?.(we.date,dt,ye)},[B,d]),Rs=C.useCallback((we,dt)=>ye=>{const Ke={ArrowLeft:[ye.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[ye.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[ye.shiftKey?"year":"week","after"],ArrowUp:[ye.shiftKey?"year":"week","before"],PageUp:[ye.shiftKey?"year":"month","before"],PageDown:[ye.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Ke[ye.key]){ye.preventDefault(),ye.stopPropagation();const[li,Ge]=Ke[ye.key];Q(li,Ge)}m?.(we.date,dt,ye)},[Q,m,e.dir]),Un=C.useCallback((we,dt)=>ye=>{g?.(we.date,dt,ye)},[g]),Vn=C.useCallback((we,dt)=>ye=>{v?.(we.date,dt,ye)},[v]),ce=C.useCallback(we=>dt=>{const ye=Number(dt.target.value),Ke=s.setMonth(s.startOfMonth(we),ye);X(Ke)},[s,X]),te=C.useCallback(we=>dt=>{const ye=Number(dt.target.value),Ke=s.setYear(s.startOfMonth(we),ye);X(Ke)},[s,X]),{className:ne,style:ie}=C.useMemo(()=>({className:[a[he.Root],e.className].filter(Boolean).join(" "),style:{...w?.[he.Root],...e.style}}),[a,e.className,e.style,w]),ue=Oye(e),$e=C.useRef(null);ibe($e,!!e.animate,{classNames:a,months:W,focused:H,dateLib:s});const Xn={dayPickerProps:e,selected:G,select:L,isSelected:M,months:W,nextMonth:j,previousMonth:D,goToMonth:X,getModifiers:U,components:t,classNames:a,styles:w,labels:n,formatters:r};return ee.createElement(aQ.Provider,{value:Xn},ee.createElement(t.Root,{rootRef:e.animate?$e:void 0,className:ne,style:ie,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...ue},ee.createElement(t.Months,{className:a[he.Months],style:w?.[he.Months]},!e.hideNavigation&&!u&&ee.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:a[he.Nav],style:w?.[he.Nav],"aria-label":ht(),onPreviousClick:Xe,onNextClick:Ti,previousMonth:D,nextMonth:j}),W.map((we,dt)=>ee.createElement(t.Month,{"data-animated-month":e.animate?"true":void 0,className:a[he.Month],style:w?.[he.Month],key:dt,displayIndex:dt,calendarMonth:we},u==="around"&&!e.hideNavigation&&dt===0&&ee.createElement(t.PreviousMonthButton,{type:"button",className:a[he.PreviousMonthButton],tabIndex:D?void 0:-1,"aria-disabled":D?void 0:!0,"aria-label":Ot(D),onClick:Xe,"data-animated-button":e.animate?"true":void 0},ee.createElement(t.Chevron,{disabled:D?void 0:!0,className:a[he.Chevron],orientation:e.dir==="rtl"?"right":"left"})),ee.createElement(t.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:a[he.MonthCaption],style:w?.[he.MonthCaption],calendarMonth:we,displayIndex:dt},l?.startsWith("dropdown")?ee.createElement(t.DropdownNav,{className:a[he.Dropdowns],style:w?.[he.Dropdowns]},(()=>{const ye=l==="dropdown"||l==="dropdown-months"?ee.createElement(t.MonthsDropdown,{key:"month",className:a[he.MonthsDropdown],"aria-label":ve(),classNames:a,components:t,disabled:!!e.disableNavigation,onChange:ce(we.date),options:Fye(we.date,N,q,r,s),style:w?.[he.Dropdown],value:s.getMonth(we.date)}):ee.createElement("span",{key:"month"},x(we.date,s)),Ke=l==="dropdown"||l==="dropdown-years"?ee.createElement(t.YearsDropdown,{key:"year",className:a[he.YearsDropdown],"aria-label":ai(s.options),classNames:a,components:t,disabled:!!e.disableNavigation,onChange:te(we.date),options:jye(N,q,r,s,!!e.reverseYears),style:w?.[he.Dropdown],value:s.getYear(we.date)}):ee.createElement("span",{key:"year"},I(we.date,s));return s.getMonthYearOrder()==="year-first"?[Ke,ye]:[ye,Ke]})(),ee.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},S(we.date,s.options,s))):ee.createElement(t.CaptionLabel,{className:a[he.CaptionLabel],role:"status","aria-live":"polite"},S(we.date,s.options,s))),u==="around"&&!e.hideNavigation&&dt===h-1&&ee.createElement(t.NextMonthButton,{type:"button",className:a[he.NextMonthButton],tabIndex:j?void 0:-1,"aria-disabled":j?void 0:!0,"aria-label":At(j),onClick:Ti,"data-animated-button":e.animate?"true":void 0},ee.createElement(t.Chevron,{disabled:j?void 0:!0,className:a[he.Chevron],orientation:e.dir==="rtl"?"left":"right"})),dt===h-1&&u==="after"&&!e.hideNavigation&&ee.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:a[he.Nav],style:w?.[he.Nav],"aria-label":ht(),onPreviousClick:Xe,onNextClick:Ti,previousMonth:D,nextMonth:j}),ee.createElement(t.MonthGrid,{role:"grid","aria-multiselectable":c==="multiple"||c==="range","aria-label":ot(we.date,s.options,s)||void 0,className:a[he.MonthGrid],style:w?.[he.MonthGrid]},!e.hideWeekdays&&ee.createElement(t.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:a[he.Weekdays],style:w?.[he.Weekdays]},b&&ee.createElement(t.WeekNumberHeader,{"aria-label":sr(s.options),className:a[he.WeekNumberHeader],style:w?.[he.WeekNumberHeader],scope:"col"},R()),Zt.map(ye=>ee.createElement(t.Weekday,{"aria-label":Ve(ye,s.options,s),className:a[he.Weekday],key:String(ye),style:w?.[he.Weekday],scope:"col"},P(ye,s.options,s)))),ee.createElement(t.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:a[he.Weeks],style:w?.[he.Weeks]},we.weeks.map(ye=>ee.createElement(t.Week,{className:a[he.Week],key:ye.weekNumber,style:w?.[he.Week],week:ye},b&&ee.createElement(t.WeekNumber,{week:ye,style:w?.[he.WeekNumber],"aria-label":Le(ye.weekNumber,{locale:o}),className:a[he.WeekNumber],scope:"row",role:"rowheader"},T(ye.weekNumber,s)),ye.days.map(Ke=>{const{date:li}=Ke,Ge=U(Ke);if(Ge[$t.focused]=!Ge.hidden&&!!H?.isEqualTo(Ke),Ge[En.selected]=M?.(li)||Ge.selected,Sk(G)){const{from:Ni,to:lr}=G;Ge[En.range_start]=!!(Ni&&lr&&s.isSameDay(li,Ni)),Ge[En.range_end]=!!(Ni&&lr&&s.isSameDay(li,lr)),Ge[En.range_middle]=Ws(G,li,!0,s)}const Ep=Lye(Ge,w,e.modifiersStyles),ar=Cye(Ge,a,e.modifiersClassNames),Ps=!Qt&&!Ge.hidden?et(li,Ge,s.options,s):void 0;return ee.createElement(t.Day,{key:`${s.format(li,"yyyy-MM-dd")}_${s.format(Ke.displayMonth,"yyyy-MM")}`,day:Ke,modifiers:Ge,className:ar.join(" "),style:Ep,role:"gridcell","aria-selected":Ge.selected||void 0,"aria-label":Ps,"data-day":s.format(li,"yyyy-MM-dd"),"data-month":Ke.outside?s.format(li,"yyyy-MM"):void 0,"data-selected":Ge.selected||void 0,"data-disabled":Ge.disabled||void 0,"data-hidden":Ge.hidden||void 0,"data-outside":Ke.outside||void 0,"data-focused":Ge.focused||void 0,"data-today":Ge.today||void 0},!Ge.hidden&&Qt?ee.createElement(t.DayButton,{className:a[he.DayButton],style:w?.[he.DayButton],type:"button",day:Ke,modifiers:Ge,disabled:Ge.disabled||void 0,tabIndex:z(Ke)?0:-1,"aria-label":me(li,Ge,s.options,s),onClick:Sr(Ke,Ge),onBlur:or(Ke,Ge),onFocus:Yn(Ke,Ge),onKeyDown:Rs(Ke,Ge),onMouseEnter:Un(Ke,Ge),onMouseLeave:Vn(Ke,Ge)},E(li,s.options,s)):!Ge.hidden&&E(Ke.date,s.options,s))})))))))),e.footer&&ee.createElement(t.Footer,{className:a[he.Footer],style:w?.[he.Footer],role:"status","aria-live":"polite"},e.footer)))}function Sbe({className:i,classNames:e,showOutsideDays:t=!0,captionLayout:r="label",buttonVariant:n="ghost",formatters:s,components:o,...a}){const l=Ek();return O.jsx(xbe,{showOutsideDays:t,className:J("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,i),captionLayout:r,formatters:{formatMonthDropdown:c=>c.toLocaleString("default",{month:"short"}),...s},classNames:{root:J("w-fit",l.root),months:J("relative flex flex-col gap-4 md:flex-row",l.months),month:J("flex w-full flex-col gap-4",l.month),nav:J("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",l.nav),button_previous:J(gP({variant:n}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",l.button_previous),button_next:J(gP({variant:n}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",l.button_next),month_caption:J("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",l.month_caption),dropdowns:J("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",l.dropdowns),dropdown_root:J("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",l.dropdown_root),dropdown:J("bg-popover absolute inset-0 opacity-0",l.dropdown),caption_label:J("select-none font-medium",r==="label"?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",l.caption_label),table:"w-full border-collapse",weekdays:J("flex",l.weekdays),weekday:J("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",l.weekday),week:J("mt-2 flex w-full",l.week),week_number_header:J("w-[--cell-size] select-none",l.week_number_header),week_number:J("text-muted-foreground select-none text-[0.8rem]",l.week_number),day:J("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",l.day),range_start:J("bg-accent rounded-l-md",l.range_start),range_middle:J("rounded-none",l.range_middle),range_end:J("bg-accent rounded-r-md",l.range_end),today:J("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",l.today),outside:J("text-muted-foreground aria-selected:text-muted-foreground",l.outside),disabled:J("text-muted-foreground opacity-50",l.disabled),hidden:J("invisible",l.hidden),...e},components:{Root:({className:c,rootRef:u,...h})=>O.jsx("div",{"data-slot":"calendar",ref:u,className:J(c),...h}),Chevron:({className:c,orientation:u,...h})=>u==="left"?O.jsx(Ane,{className:J("size-4",c),...h}):u==="right"?O.jsx($ne,{className:J("size-4",c),...h}):O.jsx(kne,{className:J("size-4",c),...h}),DayButton:Ebe,WeekNumber:({children:c,...u})=>O.jsx("td",{...u,children:O.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:c})}),...o},...a})}function Ebe({className:i,day:e,modifiers:t,...r}){const n=Ek(),s=C.useRef(null);return C.useEffect(()=>{t.focused&&s.current?.focus()},[t.focused]),O.jsx(Tn,{ref:s,variant:"ghost",size:"icon","data-day":e.date.toLocaleDateString(),"data-selected-single":t.selected&&!t.range_start&&!t.range_end&&!t.range_middle,"data-range-start":t.range_start,"data-range-end":t.range_end,"data-range-middle":t.range_middle,className:J("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",n.day,i),...r})}var _v="Popover",[yQ]=Sl(_v,[Hg]),Of=Hg(),[Cbe,na]=yQ(_v),bQ=i=>{const{__scopePopover:e,children:t,open:r,defaultOpen:n,onOpenChange:s,modal:o=!1}=i,a=Of(e),l=C.useRef(null),[c,u]=C.useState(!1),[h,d]=hf({prop:r,defaultProp:n??!1,onChange:s,caller:_v});return O.jsx(R9,{...a,children:O.jsx(Cbe,{scope:e,contentId:$r(),triggerRef:l,open:h,onOpenChange:d,onOpenToggle:C.useCallback(()=>d(f=>!f),[d]),hasCustomAnchor:c,onCustomAnchorAdd:C.useCallback(()=>u(!0),[]),onCustomAnchorRemove:C.useCallback(()=>u(!1),[]),modal:o,children:t})})};bQ.displayName=_v;var _Q="PopoverAnchor",Tbe=C.forwardRef((i,e)=>{const{__scopePopover:t,...r}=i,n=na(_Q,t),s=Of(t),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=n;return C.useEffect(()=>(o(),()=>a()),[o,a]),O.jsx(bI,{...s,...r,ref:e})});Tbe.displayName=_Q;var wQ="PopoverTrigger",xQ=C.forwardRef((i,e)=>{const{__scopePopover:t,...r}=i,n=na(wQ,t),s=Of(t),o=Wi(e,n.triggerRef),a=O.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":OQ(n.open),...r,ref:o,onClick:mt(i.onClick,n.onOpenToggle)});return n.hasCustomAnchor?a:O.jsx(bI,{asChild:!0,...s,children:a})});xQ.displayName=wQ;var Ck="PopoverPortal",[Obe,Rbe]=yQ(Ck,{forceMount:void 0}),SQ=i=>{const{__scopePopover:e,forceMount:t,children:r,container:n}=i,s=na(Ck,e);return O.jsx(Obe,{scope:e,forceMount:t,children:O.jsx(ta,{present:t||s.open,children:O.jsx(sI,{asChild:!0,container:n,children:r})})})};SQ.displayName=Ck;var du="PopoverContent",EQ=C.forwardRef((i,e)=>{const t=Rbe(du,i.__scopePopover),{forceMount:r=t.forceMount,...n}=i,s=na(du,i.__scopePopover);return O.jsx(ta,{present:r||s.open,children:s.modal?O.jsx(Dbe,{...n,ref:e}):O.jsx(Ibe,{...n,ref:e})})});EQ.displayName=du;var Pbe=Jc("PopoverContent.RemoveScroll"),Dbe=C.forwardRef((i,e)=>{const t=na(du,i.__scopePopover),r=C.useRef(null),n=Wi(e,r),s=C.useRef(!1);return C.useEffect(()=>{const o=r.current;if(o)return LK(o)},[]),O.jsx(oI,{as:Pbe,allowPinchZoom:!0,children:O.jsx(CQ,{...i,ref:n,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:mt(i.onCloseAutoFocus,o=>{o.preventDefault(),s.current||t.triggerRef.current?.focus()}),onPointerDownOutside:mt(i.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:mt(i.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ibe=C.forwardRef((i,e)=>{const t=na(du,i.__scopePopover),r=C.useRef(!1),n=C.useRef(!1);return O.jsx(CQ,{...i,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{i.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||t.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:s=>{i.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=s.target;t.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&n.current&&s.preventDefault()}})}),CQ=C.forwardRef((i,e)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...h}=i,d=na(du,t),f=Of(t);return PK(),O.jsx(nI,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:s,children:O.jsx($g,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>d.onOpenChange(!1),children:O.jsx(P9,{"data-state":OQ(d.open),role:"dialog",id:d.contentId,...f,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),TQ="PopoverClose",kbe=C.forwardRef((i,e)=>{const{__scopePopover:t,...r}=i,n=na(TQ,t);return O.jsx(st.button,{type:"button",...r,ref:e,onClick:mt(i.onClick,()=>n.onOpenChange(!1))})});kbe.displayName=TQ;var Mbe="PopoverArrow",Abe=C.forwardRef((i,e)=>{const{__scopePopover:t,...r}=i,n=Of(t);return O.jsx(D9,{...n,...r,ref:e})});Abe.displayName=Mbe;function OQ(i){return i?"open":"closed"}var Nbe=bQ,$be=xQ,Fbe=SQ,RQ=EQ;const Lbe=Nbe,qbe=$be,PQ=C.forwardRef(({className:i,align:e="center",sideOffset:t=4,...r},n)=>O.jsx(Fbe,{children:O.jsx(RQ,{ref:n,align:e,sideOffset:t,className:J("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",i),...r})}));PQ.displayName=RQ.displayName;const Yc=vv(i=>({selectedWkt:void 0,setSelectedWkt:e=>i({selectedWkt:e}),timeRange:{start:new Date(Date.now()-360*60*1e3),end:void 0},setTimeRange:e=>i({timeRange:e})})),jbe=()=>{const i=Md(Yc,t=>t.timeRange),e=Md(Yc,t=>t.setTimeRange);return O.jsxs("div",{className:"flex flex-col items-center gap-1 group-data-[collapsible=icon]:gap-0",children:[O.jsx("span",{className:"text-xs font-semibold text-sidebar-foreground/70 group-data-[collapsible=icon]:hidden",children:"-"}),O.jsx(W$,{value:i.start,setValue:t=>t&&e({...i,start:t})}),O.jsx("span",{className:"text-xs font-semibold text-sidebar-foreground/70 group-data-[collapsible=icon]:hidden",children:"-"}),O.jsx("span",{className:"hidden group-data-[collapsible=icon]:block",children:"-"}),O.jsx(W$,{value:i.end,setValue:t=>e({...i,end:t}),canBeNow:!0})]})};function W$({value:i,setValue:e,canBeNow:t}){const[r,n]=C.useState(!1),[s,o]=C.useState(!1);let a=0;i&&(a=Math.round((Date.now()-i.getTime())/(1e3*60*60)));const[l,c]=C.useState(a);return O.jsxs(Lbe,{open:s,onOpenChange:o,children:[O.jsx(qbe,{asChild:!0,children:O.jsxs(_d,{variant:"outline",className:J("w-full text-right font-normal"),children:[O.jsx(Dne,{className:"h-4 w-4 text-right"}),a?`${a}  `:""]})}),O.jsxs(PQ,{className:"dark w-auto p-0",align:"start",children:[r?O.jsx(Sbe,{mode:"single",captionLayout:"dropdown"}):O.jsxs("div",{className:"flex w-[238px] items-center justify-center gap-4 p-2",dir:"rtl",children:[O.jsx(iI,{type:"number",min:"0",value:l,defaultValue:a,onChange:u=>c(parseInt(u.target.value)),className:"w-14"}),O.jsx("span",{className:"text-sm",children:" "})]}),O.jsxs("div",{className:"flex justify-between px-2 pb-2",children:[O.jsx(Tn,{className:"h-8",disabled:r,onClick:()=>{e(new Date(Date.now()-l*60*60*1e3)),o(!1)},children:""}),O.jsx(Tn,{className:"h-8 p-2",variant:"ghost",onClick:()=>n(!r),children:O.jsx(Rne,{})})]})]})]})}/**
 * @license lucide-static v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gbe=`
<svg
  class="lucide lucide-bot"
  xmlns="http://www.w3.org/2000/svg"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  stroke="currentColor"
  stroke-width="2"
  stroke-linecap="round"
  stroke-linejoin="round"
>
  <path d="M12 8V4H8" />
  <rect width="16" height="12" x="4" y="8" rx="2" />
  <path d="M2 14h2" />
  <path d="M20 14h2" />
  <path d="M15 13v2" />
  <path d="M9 13v2" />
</svg>
`;/**
 * @license lucide-static v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wbe=`
<svg
  class="lucide lucide-image"
  xmlns="http://www.w3.org/2000/svg"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  stroke="currentColor"
  stroke-width="2"
  stroke-linecap="round"
  stroke-linejoin="round"
>
  <rect width="18" height="18" x="3" y="3" rx="2" ry="2" />
  <circle cx="9" cy="9" r="2" />
  <path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21" />
</svg>
`;/**
 * @license lucide-static v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bbe=`
<svg
  class="lucide lucide-layout-list"
  xmlns="http://www.w3.org/2000/svg"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  stroke="currentColor"
  stroke-width="2"
  stroke-linecap="round"
  stroke-linejoin="round"
>
  <rect width="7" height="7" x="3" y="3" rx="1" />
  <rect width="7" height="7" x="3" y="14" rx="1" />
  <path d="M14 4h7" />
  <path d="M14 9h7" />
  <path d="M14 15h7" />
  <path d="M14 20h7" />
</svg>
`;/**
 * @license lucide-static v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zbe=`
<svg
  class="lucide lucide-map-pinned"
  xmlns="http://www.w3.org/2000/svg"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  stroke="currentColor"
  stroke-width="2"
  stroke-linecap="round"
  stroke-linejoin="round"
>
  <path d="M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0" />
  <circle cx="12" cy="8" r="2" />
  <path d="M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712" />
</svg>
`;/**
 * @license lucide-static v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hbe=`
<svg
  class="lucide lucide-panel-right"
  xmlns="http://www.w3.org/2000/svg"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  stroke="currentColor"
  stroke-width="2"
  stroke-linecap="round"
  stroke-linejoin="round"
>
  <rect width="18" height="18" x="3" y="3" rx="2" />
  <path d="M15 3v18" />
</svg>
`;/**
 * @license lucide-static v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ybe=`
<svg
  class="lucide lucide-shield-x"
  xmlns="http://www.w3.org/2000/svg"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  stroke="currentColor"
  stroke-width="2"
  stroke-linecap="round"
  stroke-linejoin="round"
>
  <path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z" />
  <path d="m14.5 9.5-5 5" />
  <path d="m9.5 9.5 5 5" />
</svg>
`;/**
 * @license lucide-static v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ube=`
<svg
  class="lucide lucide-square-kanban"
  xmlns="http://www.w3.org/2000/svg"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  stroke="currentColor"
  stroke-width="2"
  stroke-linecap="round"
  stroke-linejoin="round"
>
  <rect width="18" height="18" x="3" y="3" rx="2" />
  <path d="M8 7v7" />
  <path d="M12 7v4" />
  <path d="M16 7v9" />
</svg>
`;/**
 * @license lucide-static v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vbe=`
<svg
  class="lucide lucide-volume-2"
  xmlns="http://www.w3.org/2000/svg"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  stroke="currentColor"
  stroke-width="2"
  stroke-linecap="round"
  stroke-linejoin="round"
>
  <path d="M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z" />
  <path d="M16 9a5 5 0 0 1 0 6" />
  <path d="M19.364 18.364a9 9 0 0 0 0-12.728" />
</svg>
`;function Xbe({draw:i,map:e}){const[t,r]=C.useState(!1);function n(){r(!t),PZ(e,i,!t)}return O.jsxs(_d,{className:"mx-auto",variant:"outline",onClick:n,children:[O.jsx(ese,{}),O.jsx("span",{children:" "})]})}function Kbe({map:i,entities:e,entitiesCluster:t,draw:r}){const[,n]=C.useState(0),{toggleSidebar:s}=mf(),{theme:o,setTheme:a}=Sne();return O.jsxs(B9,{side:"right",collapsible:"icon",dir:"rtl",children:[O.jsxs(V9,{children:[O.jsx(U9,{children:O.jsxs("div",{className:"flex items-center justify-between gap-1",children:[O.jsx(Fh,{className:"w-full",children:O.jsxs(_d,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",children:[O.jsx("div",{className:"flex aspect-square size-8 items-center justify-center rounded-lg bg-sidebar-primary text-sidebar-primary-foreground",children:O.jsx(fse,{className:"size-4"})}),O.jsxs("div",{className:"grid flex-1 text-right text-sm leading-tight",children:[O.jsx("span",{className:"truncate font-medium",children:"???"}),O.jsx("span",{className:"truncate text-xs",children:"?????"})]})]})}),O.jsx(Tn,{className:"h-8 w-8",variant:"ghost",onClick:()=>a(o==="dark"?"light":"dark"),children:o==="dark"?O.jsx(cse,{className:"size-4"}):O.jsx(ise,{className:"size-4"})}),O.jsx(z9,{className:"group-data-[collapsible=icon]:visbile h-8 w-10 transition-transform group-data-[collapsible=icon]:absolute group-data-[collapsible=icon]:right-14",children:O.jsx(Hbe,{})})]})}),O.jsxs(EP,{children:[O.jsx(CP,{children:""}),O.jsxs(TP,{className:"relative flex flex-col gap-2",children:[O.jsx(Fh,{className:"group-data-[collapsible=icon]:hidden",children:O.jsx(uge,{inputClassName:"group-search-input"})}),O.jsx(Fh,{className:"hidden group-data-[collapsible=icon]:block",children:O.jsx(_d,{variant:"outline",onClick:()=>{s(),setTimeout(()=>{document?.getElementsByClassName("group-search-input").item(0)?.focus()},100)},children:O.jsx(aK,{})})}),O.jsx(Fh,{children:O.jsx(Xbe,{map:i,draw:r})})]})]}),O.jsxs(EP,{children:[O.jsx(CP,{children:""}),O.jsx(TP,{children:O.jsx(jbe,{})})]}),!1]}),O.jsx(H9,{})]})}function Zbe({map:i,select:e,onViewEntity:t,onClickSingleEntity:r}){const n=C.useRef(null),s=C.useRef(null),o=C.useRef(null),[a,l]=C.useState();return C.useEffect(()=>{if(n.current){i.setTarget(n.current);const c=new ime({element:s.current,offset:[0,-80],positioning:"top-center",autoPan:{animation:{duration:250}}});return o.current=c,i.addOverlay(c),e?.on("select",u=>{const h=u.target.getFeatures();if(u.selected.length===1&&h.getLength()===1){const d=u.selected[0].getGeometry()?.getCoordinates();c.setPosition(d);const f=u.selected[0].get("features")?.[0].getId();r(f)}else c.setPosition(void 0),l(void 0),t(void 0)}),()=>{i.setTarget(void 0),i.removeOverlay(c)}}},[i,r,t,e]),O.jsxs(O.Fragment,{children:[O.jsx("div",{ref:n,className:"h-full w-full overflow-hidden"}),O.jsx("div",{ref:s,className:"tooltip-thing absolute text-primary",children:O.jsxs("div",{className:J("absolute -translate-x-1/2 transition-all duration-300",a?"pointer-events-auto translate-y-0 opacity-100":"pointer-events-none translate-y-2 opacity-0"),children:[O.jsxs("div",{className:"flex gap-2 rounded-xl border border-border bg-card p-2 shadow-2xl backdrop-blur-sm",children:[O.jsx(Tn,{size:"sm",variant:"ghost",className:"h-9 w-9 p-0",onClick:()=>a&&t(a),children:O.jsx(Yne,{className:"h-4 w-4"})}),O.jsx(Tn,{size:"sm",variant:"ghost",className:"h-9 w-9 p-0",children:O.jsx(jne,{className:"h-4 w-4"})}),O.jsx(Tn,{size:"sm",variant:"ghost",className:"h-9 w-9 p-0",children:O.jsx(zne,{className:"h-4 w-4"})})]}),O.jsx("div",{className:"absolute left-1/2 top-full -mt-[5px] -translate-x-1/2",children:O.jsx("div",{className:"h-3 w-3 rotate-45 border-b border-r border-border bg-card"})})]})})]})}function Qbe(i){const e=i+"CollectionProvider",[t,r]=Sl(e),[n,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:v}=m,y=ee.useRef(null),_=ee.useRef(new Map).current;return O.jsx(n,{scope:g,itemMap:_,collectionRef:y,children:v})};o.displayName=e;const a=i+"CollectionSlot",l=Jc(a),c=ee.forwardRef((m,g)=>{const{scope:v,children:y}=m,_=s(a,v),b=Wi(g,_.collectionRef);return O.jsx(l,{ref:b,children:y})});c.displayName=a;const u=i+"CollectionItemSlot",h="data-radix-collection-item",d=Jc(u),f=ee.forwardRef((m,g)=>{const{scope:v,children:y,..._}=m,b=ee.useRef(null),w=Wi(g,b),S=s(u,v);return ee.useEffect(()=>(S.itemMap.set(b,{ref:b,..._}),()=>void S.itemMap.delete(b))),O.jsx(d,{[h]:"",ref:w,children:y})});f.displayName=u;function p(m){const g=s(i+"CollectionConsumer",m);return ee.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const _=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((S,E)=>_.indexOf(S.ref.current)-_.indexOf(E.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},p,r]}var Jbe=C.createContext(void 0);function DQ(i){const e=C.useContext(Jbe);return i||e||"ltr"}var yb="rovingFocusGroup.onEntryFocus",e_e={bubbles:!1,cancelable:!0},Rf="RovingFocusGroup",[JP,IQ,t_e]=Qbe(Rf),[i_e,kQ]=Sl(Rf,[t_e]),[r_e,n_e]=i_e(Rf),MQ=C.forwardRef((i,e)=>O.jsx(JP.Provider,{scope:i.__scopeRovingFocusGroup,children:O.jsx(JP.Slot,{scope:i.__scopeRovingFocusGroup,children:O.jsx(s_e,{...i,ref:e})})}));MQ.displayName=Rf;var s_e=C.forwardRef((i,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:n=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=i,d=C.useRef(null),f=Wi(e,d),p=DQ(s),[m,g]=hf({prop:o,defaultProp:a??null,onChange:l,caller:Rf}),[v,y]=C.useState(!1),_=Za(c),b=IQ(t),w=C.useRef(!1),[S,E]=C.useState(0);return C.useEffect(()=>{const x=d.current;if(x)return x.addEventListener(yb,_),()=>x.removeEventListener(yb,_)},[_]),O.jsx(r_e,{scope:t,orientation:r,dir:p,loop:n,currentTabStopId:m,onItemFocus:C.useCallback(x=>g(x),[g]),onItemShiftTab:C.useCallback(()=>y(!0),[]),onFocusableItemAdd:C.useCallback(()=>E(x=>x+1),[]),onFocusableItemRemove:C.useCallback(()=>E(x=>x-1),[]),children:O.jsx(st.div,{tabIndex:v||S===0?-1:0,"data-orientation":r,...h,ref:f,style:{outline:"none",...i.style},onMouseDown:mt(i.onMouseDown,()=>{w.current=!0}),onFocus:mt(i.onFocus,x=>{const T=!w.current;if(x.target===x.currentTarget&&T&&!v){const R=new CustomEvent(yb,e_e);if(x.currentTarget.dispatchEvent(R),!R.defaultPrevented){const P=b().filter(N=>N.focusable),I=P.find(N=>N.active),$=P.find(N=>N.id===m),W=[I,$,...P].filter(Boolean).map(N=>N.ref.current);$Q(W,u)}}w.current=!1}),onBlur:mt(i.onBlur,()=>y(!1))})})}),AQ="RovingFocusGroupItem",NQ=C.forwardRef((i,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:n=!1,tabStopId:s,children:o,...a}=i,l=$r(),c=s||l,u=n_e(AQ,t),h=u.currentTabStopId===c,d=IQ(t),{onFocusableItemAdd:f,onFocusableItemRemove:p,currentTabStopId:m}=u;return C.useEffect(()=>{if(r)return f(),()=>p()},[r,f,p]),O.jsx(JP.ItemSlot,{scope:t,id:c,focusable:r,active:n,children:O.jsx(st.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:mt(i.onMouseDown,g=>{r?u.onItemFocus(c):g.preventDefault()}),onFocus:mt(i.onFocus,()=>u.onItemFocus(c)),onKeyDown:mt(i.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=l_e(g,u.orientation,u.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let _=d().filter(b=>b.focusable).map(b=>b.ref.current);if(v==="last")_.reverse();else if(v==="prev"||v==="next"){v==="prev"&&_.reverse();const b=_.indexOf(g.currentTarget);_=u.loop?c_e(_,b+1):_.slice(b+1)}setTimeout(()=>$Q(_))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:m!=null}):o})})});NQ.displayName=AQ;var o_e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function a_e(i,e){return e!=="rtl"?i:i==="ArrowLeft"?"ArrowRight":i==="ArrowRight"?"ArrowLeft":i}function l_e(i,e,t){const r=a_e(i.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return o_e[r]}function $Q(i,e=!1){const t=document.activeElement;for(const r of i)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function c_e(i,e){return i.map((t,r)=>i[(e+r)%i.length])}var u_e=MQ,h_e=NQ,wv="Tabs",[d_e]=Sl(wv,[kQ]),FQ=kQ(),[f_e,Tk]=d_e(wv),LQ=C.forwardRef((i,e)=>{const{__scopeTabs:t,value:r,onValueChange:n,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=i,u=DQ(a),[h,d]=hf({prop:r,onChange:n,defaultProp:s??"",caller:wv});return O.jsx(f_e,{scope:t,baseId:$r(),value:h,onValueChange:d,orientation:o,dir:u,activationMode:l,children:O.jsx(st.div,{dir:u,"data-orientation":o,...c,ref:e})})});LQ.displayName=wv;var qQ="TabsList",jQ=C.forwardRef((i,e)=>{const{__scopeTabs:t,loop:r=!0,...n}=i,s=Tk(qQ,t),o=FQ(t);return O.jsx(u_e,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:O.jsx(st.div,{role:"tablist","aria-orientation":s.orientation,...n,ref:e})})});jQ.displayName=qQ;var GQ="TabsTrigger",WQ=C.forwardRef((i,e)=>{const{__scopeTabs:t,value:r,disabled:n=!1,...s}=i,o=Tk(GQ,t),a=FQ(t),l=zQ(o.baseId,r),c=HQ(o.baseId,r),u=r===o.value;return O.jsx(h_e,{asChild:!0,...a,focusable:!n,active:u,children:O.jsx(st.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:l,...s,ref:e,onMouseDown:mt(i.onMouseDown,h=>{!n&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:mt(i.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:mt(i.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!n&&h&&o.onValueChange(r)})})})});WQ.displayName=GQ;var BQ="TabsContent",Qm=C.forwardRef((i,e)=>{const{__scopeTabs:t,value:r,forceMount:n,children:s,...o}=i,a=Tk(BQ,t),l=zQ(a.baseId,r),c=HQ(a.baseId,r),u=r===a.value,h=C.useRef(u);return C.useEffect(()=>{const d=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(d)},[]),O.jsx(ta,{present:n||u,children:({present:d})=>O.jsx(st.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:c,tabIndex:0,...o,ref:e,style:{...i.style,animationDuration:h.current?"0s":void 0},children:d&&s})})});Qm.displayName=BQ;function zQ(i,e){return`${i}-trigger-${e}`}function HQ(i,e){return`${i}-content-${e}`}var p_e=LQ,YQ=jQ,UQ=WQ,VQ=Qm;const m_e=p_e,XQ=C.forwardRef(({className:i,...e},t)=>O.jsx(YQ,{ref:t,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",i),...e}));XQ.displayName=YQ.displayName;const eD=C.forwardRef(({className:i,...e},t)=>O.jsx(UQ,{ref:t,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",i),...e}));eD.displayName=UQ.displayName;const g_e=C.forwardRef(({className:i,...e},t)=>O.jsx(VQ,{ref:t,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",i),...e}));g_e.displayName=VQ.displayName;function KQ({focusedEntityId:i,onFocus:e}){const t={value:123456,coordinates:[37.7749,-122.4194]};return O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"mb-6 flex items-start gap-4",children:[O.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-primary/20",children:O.jsx(Qne,{className:"h-6 w-6 text-primary"})}),O.jsxs("div",{className:"flex-1",children:[O.jsx("p",{className:"text-muted-foreground",children:"  :"}),i,O.jsx(Tn,{variant:"ghost",onClick:e,className:"ml-auto",children:O.jsx(Wne,{})})]})]}),O.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-4",children:[O.jsxs("div",{className:"rounded-lg bg-secondary/50 p-4",children:[O.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[O.jsx(Kne,{className:"h-4 w-4 text-primary"}),O.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:" "})]}),O.jsx("p",{className:"text-2xl font-bold text-foreground",children:t.value})]}),O.jsxs("div",{className:"rounded-lg bg-secondary/50 p-4",children:[O.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[O.jsx(hse,{className:"h-4 w-4 text-primary"}),O.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:""})]}),O.jsxs("p",{className:"text-right font-mono text-sm text-foreground",dir:"ltr",children:[t.coordinates[1].toFixed(4),", ",t.coordinates[0].toFixed(4)]})]})]}),O.jsxs("div",{className:"space-y-3",children:[O.jsx("h3",{className:"font-semibold text-foreground",children:""}),O.jsx("div",{className:"rounded-lg bg-secondary/30 p-4",children:O.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground",children:"     .       ;  ,  ,       ,    ,    .        ,      .       .         ,    .                    .        ."})})]})]})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var B$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ne(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var bb={exports:{}},z$={},Th,H$;function ni(){if(H$)return Th;H$=1;var i=function(e){return e&&e.Math===Math&&e};return Th=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof B$=="object"&&B$)||i(typeof Th=="object"&&Th)||(function(){return this})()||Function("return this")(),Th}var _b,Y$;function ut(){return Y$||(Y$=1,_b=function(i){try{return!!i()}catch{return!0}}),_b}var wb,U$;function Pf(){if(U$)return wb;U$=1;var i=ut();return wb=!i(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),wb}var xb,V$;function xv(){if(V$)return xb;V$=1;var i=Pf(),e=Function.prototype,t=e.apply,r=e.call;return xb=typeof Reflect=="object"&&Reflect.apply||(i?r.bind(t):function(){return r.apply(t,arguments)}),xb}var Sb,X$;function wt(){if(X$)return Sb;X$=1;var i=Pf(),e=Function.prototype,t=e.call,r=i&&e.bind.bind(t,t);return Sb=i?r:function(n){return function(){return t.apply(n,arguments)}},Sb}var Eb,K$;function go(){if(K$)return Eb;K$=1;var i=wt(),e=i({}.toString),t=i("".slice);return Eb=function(r){return t(e(r),8,-1)},Eb}var Cb,Z$;function ZQ(){if(Z$)return Cb;Z$=1;var i=go(),e=wt();return Cb=function(t){if(i(t)==="Function")return e(t)},Cb}var Tb,Q$;function wi(){if(Q$)return Tb;Q$=1;var i=typeof document=="object"&&document.all;return Tb=typeof i>"u"&&i!==void 0?function(e){return typeof e=="function"||e===i}:function(e){return typeof e=="function"},Tb}var Ob={},Rb,J$;function si(){if(J$)return Rb;J$=1;var i=ut();return Rb=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Rb}var Pb,eF;function wr(){if(eF)return Pb;eF=1;var i=Pf(),e=Function.prototype.call;return Pb=i?e.bind(e):function(){return e.apply(e,arguments)},Pb}var Db={},tF;function Ok(){if(tF)return Db;tF=1;var i={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!i.call({1:2},1);return Db.f=t?function(n){var s=e(this,n);return!!s&&s.enumerable}:i,Db}var Ib,iF;function Df(){return iF||(iF=1,Ib=function(i,e){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:e}}),Ib}var kb,rF;function Sv(){if(rF)return kb;rF=1;var i=wt(),e=ut(),t=go(),r=Object,n=i("".split);return kb=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?n(s,""):r(s)}:r,kb}var Mb,nF;function If(){return nF||(nF=1,Mb=function(i){return i==null}),Mb}var Ab,sF;function Ol(){if(sF)return Ab;sF=1;var i=If(),e=TypeError;return Ab=function(t){if(i(t))throw new e("Can't call method on "+t);return t},Ab}var Nb,oF;function xs(){if(oF)return Nb;oF=1;var i=Sv(),e=Ol();return Nb=function(t){return i(e(t))},Nb}var $b,aF;function ir(){if(aF)return $b;aF=1;var i=wi();return $b=function(e){return typeof e=="object"?e!==null:i(e)},$b}var Fb,lF;function fi(){return lF||(lF=1,Fb={}),Fb}var Lb,cF;function Br(){if(cF)return Lb;cF=1;var i=fi(),e=ni(),t=wi(),r=function(n){return t(n)?n:void 0};return Lb=function(n,s){return arguments.length<2?r(i[n])||r(e[n]):i[n]&&i[n][s]||e[n]&&e[n][s]},Lb}var qb,uF;function pi(){if(uF)return qb;uF=1;var i=wt();return qb=i({}.isPrototypeOf),qb}var jb,hF;function Wu(){if(hF)return jb;hF=1;var i=ni(),e=i.navigator,t=e&&e.userAgent;return jb=t?String(t):"",jb}var Gb,dF;function kf(){if(dF)return Gb;dF=1;var i=ni(),e=Wu(),t=i.process,r=i.Deno,n=t&&t.versions||r&&r.version,s=n&&n.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),Gb=a,Gb}var Wb,fF;function Bu(){if(fF)return Wb;fF=1;var i=kf(),e=ut(),t=ni(),r=t.String;return Wb=!!Object.getOwnPropertySymbols&&!e(function(){var n=Symbol("symbol detection");return!r(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&i&&i<41}),Wb}var Bb,pF;function QQ(){if(pF)return Bb;pF=1;var i=Bu();return Bb=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Bb}var zb,mF;function Mf(){if(mF)return zb;mF=1;var i=Br(),e=wi(),t=pi(),r=QQ(),n=Object;return zb=r?function(s){return typeof s=="symbol"}:function(s){var o=i("Symbol");return e(o)&&t(o.prototype,n(s))},zb}var Hb,gF;function zu(){if(gF)return Hb;gF=1;var i=String;return Hb=function(e){try{return i(e)}catch{return"Object"}},Hb}var Yb,vF;function Ss(){if(vF)return Yb;vF=1;var i=wi(),e=zu(),t=TypeError;return Yb=function(r){if(i(r))return r;throw new t(e(r)+" is not a function")},Yb}var Ub,yF;function Rk(){if(yF)return Ub;yF=1;var i=Ss(),e=If();return Ub=function(t,r){var n=t[r];return e(n)?void 0:i(n)},Ub}var Vb,bF;function v_e(){if(bF)return Vb;bF=1;var i=wr(),e=wi(),t=ir(),r=TypeError;return Vb=function(n,s){var o,a;if(s==="string"&&e(o=n.toString)&&!t(a=i(o,n))||e(o=n.valueOf)&&!t(a=i(o,n))||s!=="string"&&e(o=n.toString)&&!t(a=i(o,n)))return a;throw new r("Can't convert object to primitive value")},Vb}var Xb={exports:{}},Kb,_F;function Hu(){return _F||(_F=1,Kb=!0),Kb}var Zb,wF;function y_e(){if(wF)return Zb;wF=1;var i=ni(),e=Object.defineProperty;return Zb=function(t,r){try{e(i,t,{value:r,configurable:!0,writable:!0})}catch{i[t]=r}return r},Zb}var xF;function Pk(){if(xF)return Xb.exports;xF=1;var i=Hu(),e=ni(),t=y_e(),r="__core-js_shared__",n=Xb.exports=e[r]||t(r,{});return(n.versions||(n.versions=[])).push({version:"3.44.0",mode:i?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Xb.exports}var Qb,SF;function Yu(){if(SF)return Qb;SF=1;var i=Pk();return Qb=function(e,t){return i[e]||(i[e]=t||{})},Qb}var Jb,EF;function ln(){if(EF)return Jb;EF=1;var i=Ol(),e=Object;return Jb=function(t){return e(i(t))},Jb}var e_,CF;function xi(){if(CF)return e_;CF=1;var i=wt(),e=ln(),t=i({}.hasOwnProperty);return e_=Object.hasOwn||function(n,s){return t(e(n),s)},e_}var t_,TF;function Ev(){if(TF)return t_;TF=1;var i=wt(),e=0,t=Math.random(),r=i(1.1.toString);return t_=function(n){return"Symbol("+(n===void 0?"":n)+")_"+r(++e+t,36)},t_}var i_,OF;function Si(){if(OF)return i_;OF=1;var i=ni(),e=Yu(),t=xi(),r=Ev(),n=Bu(),s=QQ(),o=i.Symbol,a=e("wks"),l=s?o.for||o:o&&o.withoutSetter||r;return i_=function(c){return t(a,c)||(a[c]=n&&t(o,c)?o[c]:l("Symbol."+c)),a[c]},i_}var r_,RF;function JQ(){if(RF)return r_;RF=1;var i=wr(),e=ir(),t=Mf(),r=Rk(),n=v_e(),s=Si(),o=TypeError,a=s("toPrimitive");return r_=function(l,c){if(!e(l)||t(l))return l;var u=r(l,a),h;if(u){if(c===void 0&&(c="default"),h=i(u,l,c),!e(h)||t(h))return h;throw new o("Can't convert object to primitive value")}return c===void 0&&(c="number"),n(l,c)},r_}var n_,PF;function Dk(){if(PF)return n_;PF=1;var i=JQ(),e=Mf();return n_=function(t){var r=i(t,"string");return e(r)?r:r+""},n_}var s_,DF;function eJ(){if(DF)return s_;DF=1;var i=ni(),e=ir(),t=i.document,r=e(t)&&e(t.createElement);return s_=function(n){return r?t.createElement(n):{}},s_}var o_,IF;function tJ(){if(IF)return o_;IF=1;var i=si(),e=ut(),t=eJ();return o_=!i&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),o_}var kF;function Cv(){if(kF)return Ob;kF=1;var i=si(),e=wr(),t=Ok(),r=Df(),n=xs(),s=Dk(),o=xi(),a=tJ(),l=Object.getOwnPropertyDescriptor;return Ob.f=i?l:function(u,h){if(u=n(u),h=s(h),a)try{return l(u,h)}catch{}if(o(u,h))return r(!e(t.f,u,h),u[h])},Ob}var a_,MF;function b_e(){if(MF)return a_;MF=1;var i=ut(),e=wi(),t=/#|\.prototype\./,r=function(l,c){var u=s[n(l)];return u===a?!0:u===o?!1:e(c)?i(c):!!c},n=r.normalize=function(l){return String(l).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return a_=r,a_}var l_,AF;function Af(){if(AF)return l_;AF=1;var i=ZQ(),e=Ss(),t=Pf(),r=i(i.bind);return l_=function(n,s){return e(n),s===void 0?n:t?r(n,s):function(){return n.apply(s,arguments)}},l_}var c_={},u_,NF;function iJ(){if(NF)return u_;NF=1;var i=si(),e=ut();return u_=i&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),u_}var h_,$F;function vo(){if($F)return h_;$F=1;var i=ir(),e=String,t=TypeError;return h_=function(r){if(i(r))return r;throw new t(e(r)+" is not an object")},h_}var FF;function cn(){if(FF)return c_;FF=1;var i=si(),e=tJ(),t=iJ(),r=vo(),n=Dk(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",u="writable";return c_.f=i?t?function(d,f,p){if(r(d),f=n(f),r(p),typeof d=="function"&&f==="prototype"&&"value"in p&&u in p&&!p[u]){var m=a(d,f);m&&m[u]&&(d[f]=p.value,p={configurable:c in p?p[c]:m[c],enumerable:l in p?p[l]:m[l],writable:!1})}return o(d,f,p)}:o:function(d,f,p){if(r(d),f=n(f),r(p),e)try{return o(d,f,p)}catch{}if("get"in p||"set"in p)throw new s("Accessors not supported");return"value"in p&&(d[f]=p.value),d},c_}var d_,LF;function Uu(){if(LF)return d_;LF=1;var i=si(),e=cn(),t=Df();return d_=i?function(r,n,s){return e.f(r,n,t(1,s))}:function(r,n,s){return r[n]=s,r},d_}var f_,qF;function Ee(){if(qF)return f_;qF=1;var i=ni(),e=xv(),t=ZQ(),r=wi(),n=Cv().f,s=b_e(),o=fi(),a=Af(),l=Uu(),c=xi(),u=function(h){var d=function(f,p,m){if(this instanceof d){switch(arguments.length){case 0:return new h;case 1:return new h(f);case 2:return new h(f,p)}return new h(f,p,m)}return e(h,this,arguments)};return d.prototype=h.prototype,d};return f_=function(h,d){var f=h.target,p=h.global,m=h.stat,g=h.proto,v=p?i:m?i[f]:i[f]&&i[f].prototype,y=p?o:o[f]||l(o,f,{})[f],_=y.prototype,b,w,S,E,x,T,R,P,I;for(E in d)b=s(p?E:f+(m?".":"#")+E,h.forced),w=!b&&v&&c(v,E),T=y[E],w&&(h.dontCallGetSet?(I=n(v,E),R=I&&I.value):R=v[E]),x=w&&R?R:d[E],!(!b&&!g&&typeof T==typeof x)&&(h.bind&&w?P=a(x,i):h.wrap&&w?P=u(x):g&&r(x)?P=t(x):P=x,(h.sham||x&&x.sham||T&&T.sham)&&l(P,"sham",!0),l(y,E,P),g&&(S=f+"Prototype",c(o,S)||l(o,S,{}),l(o[S],E,x),h.real&&_&&(b||!_[E])&&l(_,E,x)))},f_}var jF;function __e(){if(jF)return z$;jF=1;var i=Ee(),e=si(),t=cn().f;return i({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),z$}var GF;function w_e(){if(GF)return bb.exports;GF=1,__e();var i=fi(),e=i.Object,t=bb.exports=function(n,s,o){return e.defineProperty(n,s,o)};return e.defineProperty.sham&&(t.sham=!0),bb.exports}var p_,WF;function rJ(){if(WF)return p_;WF=1;var i=w_e();return p_=i,p_}var m_,BF;function x_e(){if(BF)return m_;BF=1;var i=rJ();return m_=i,m_}var g_,zF;function S_e(){if(zF)return g_;zF=1;var i=x_e();return g_=i,g_}var v_,HF;function E_e(){return HF||(HF=1,v_=S_e()),v_}var C_e=E_e(),T_e=Ne(C_e),YF={},y_,UF;function sa(){if(UF)return y_;UF=1;var i=go();return y_=Array.isArray||function(t){return i(t)==="Array"},y_}var b_,VF;function O_e(){if(VF)return b_;VF=1;var i=Math.ceil,e=Math.floor;return b_=Math.trunc||function(r){var n=+r;return(n>0?e:i)(n)},b_}var __,XF;function Vu(){if(XF)return __;XF=1;var i=O_e();return __=function(e){var t=+e;return t!==t||t===0?0:i(t)},__}var w_,KF;function nJ(){if(KF)return w_;KF=1;var i=Vu(),e=Math.min;return w_=function(t){var r=i(t);return r>0?e(r,9007199254740991):0},w_}var x_,ZF;function Es(){if(ZF)return x_;ZF=1;var i=nJ();return x_=function(e){return i(e.length)},x_}var S_,QF;function Ik(){if(QF)return S_;QF=1;var i=TypeError,e=9007199254740991;return S_=function(t){if(t>e)throw i("Maximum allowed index exceeded");return t},S_}var E_,JF;function Tv(){if(JF)return E_;JF=1;var i=si(),e=cn(),t=Df();return E_=function(r,n,s){i?e.f(r,n,t(0,s)):r[n]=s},E_}var C_,eL;function kk(){if(eL)return C_;eL=1;var i=Si(),e=i("toStringTag"),t={};return t[e]="z",C_=String(t)==="[object z]",C_}var T_,tL;function oa(){if(tL)return T_;tL=1;var i=kk(),e=wi(),t=go(),r=Si(),n=r("toStringTag"),s=Object,o=t((function(){return arguments})())==="Arguments",a=function(l,c){try{return l[c]}catch{}};return T_=i?t:function(l){var c,u,h;return l===void 0?"Undefined":l===null?"Null":typeof(u=a(c=s(l),n))=="string"?u:o?t(c):(h=t(c))==="Object"&&e(c.callee)?"Arguments":h},T_}var O_,iL;function R_e(){if(iL)return O_;iL=1;var i=wt(),e=wi(),t=Pk(),r=i(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(n){return r(n)}),O_=t.inspectSource,O_}var R_,rL;function sJ(){if(rL)return R_;rL=1;var i=wt(),e=ut(),t=wi(),r=oa(),n=Br(),s=R_e(),o=function(){},a=n("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=i(l.exec),u=!l.test(o),h=function(p){if(!t(p))return!1;try{return a(o,[],p),!0}catch{return!1}},d=function(p){if(!t(p))return!1;switch(r(p)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u||!!c(l,s(p))}catch{return!0}};return d.sham=!0,R_=!a||e(function(){var f;return h(h.call)||!h(Object)||!h(function(){f=!0})||f})?d:h,R_}var P_,nL;function P_e(){if(nL)return P_;nL=1;var i=sa(),e=sJ(),t=ir(),r=Si(),n=r("species"),s=Array;return P_=function(o){var a;return i(o)&&(a=o.constructor,e(a)&&(a===s||i(a.prototype))?a=void 0:t(a)&&(a=a[n],a===null&&(a=void 0))),a===void 0?s:a},P_}var D_,sL;function Ov(){if(sL)return D_;sL=1;var i=P_e();return D_=function(e,t){return new(i(e))(t===0?0:t)},D_}var I_,oL;function Nf(){if(oL)return I_;oL=1;var i=ut(),e=Si(),t=kf(),r=e("species");return I_=function(n){return t>=51||!i(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[n](Boolean).foo!==1})},I_}var aL;function oJ(){if(aL)return YF;aL=1;var i=Ee(),e=ut(),t=sa(),r=ir(),n=ln(),s=Es(),o=Ik(),a=Tv(),l=Ov(),c=Nf(),u=Si(),h=kf(),d=u("isConcatSpreadable"),f=h>=51||!e(function(){var g=[];return g[d]=!1,g.concat()[0]!==g}),p=function(g){if(!r(g))return!1;var v=g[d];return v!==void 0?!!v:t(g)},m=!f||!c("concat");return i({target:"Array",proto:!0,arity:1,forced:m},{concat:function(v){var y=n(this),_=l(y,0),b=0,w,S,E,x,T;for(w=-1,E=arguments.length;w<E;w++)if(T=w===-1?y:arguments[w],p(T))for(x=s(T),o(b+x),S=0;S<x;S++,b++)S in T&&a(_,b,T[S]);else o(b+1),a(_,b++,T);return _.length=b,_}}),YF}var lL={},cL={},k_,uL;function aa(){if(uL)return k_;uL=1;var i=oa(),e=String;return k_=function(t){if(i(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},k_}var M_={},A_,hL;function Mk(){if(hL)return A_;hL=1;var i=Vu(),e=Math.max,t=Math.min;return A_=function(r,n){var s=i(r);return s<0?e(s+n,0):t(s,n)},A_}var N_,dL;function D_e(){if(dL)return N_;dL=1;var i=xs(),e=Mk(),t=Es(),r=function(n){return function(s,o,a){var l=i(s),c=t(l);if(c===0)return!n&&-1;var u=e(a,c),h;if(n&&o!==o){for(;c>u;)if(h=l[u++],h!==h)return!0}else for(;c>u;u++)if((n||u in l)&&l[u]===o)return n||u||0;return!n&&-1}};return N_={includes:r(!0),indexOf:r(!1)},N_}var $_,fL;function $f(){return fL||(fL=1,$_={}),$_}var F_,pL;function aJ(){if(pL)return F_;pL=1;var i=wt(),e=xi(),t=xs(),r=D_e().indexOf,n=$f(),s=i([].push);return F_=function(o,a){var l=t(o),c=0,u=[],h;for(h in l)!e(n,h)&&e(l,h)&&s(u,h);for(;a.length>c;)e(l,h=a[c++])&&(~r(u,h)||s(u,h));return u},F_}var L_,mL;function Ak(){return mL||(mL=1,L_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),L_}var q_,gL;function Rv(){if(gL)return q_;gL=1;var i=aJ(),e=Ak();return q_=Object.keys||function(r){return i(r,e)},q_}var vL;function Nk(){if(vL)return M_;vL=1;var i=si(),e=iJ(),t=cn(),r=vo(),n=xs(),s=Rv();return M_.f=i&&!e?Object.defineProperties:function(a,l){r(a);for(var c=n(l),u=s(l),h=u.length,d=0,f;h>d;)t.f(a,f=u[d++],c[f]);return a},M_}var j_,yL;function I_e(){if(yL)return j_;yL=1;var i=Br();return j_=i("document","documentElement"),j_}var G_,bL;function Pv(){if(bL)return G_;bL=1;var i=Yu(),e=Ev(),t=i("keys");return G_=function(r){return t[r]||(t[r]=e(r))},G_}var W_,_L;function Ff(){if(_L)return W_;_L=1;var i=vo(),e=Nk(),t=Ak(),r=$f(),n=I_e(),s=eJ(),o=Pv(),a=">",l="<",c="prototype",u="script",h=o("IE_PROTO"),d=function(){},f=function(y){return l+u+a+y+l+"/"+u+a},p=function(y){y.write(f("")),y.close();var _=y.parentWindow.Object;return y=null,_},m=function(){var y=s("iframe"),_="java"+u+":",b;return y.style.display="none",n.appendChild(y),y.src=String(_),b=y.contentWindow.document,b.open(),b.write(f("document.F=Object")),b.close(),b.F},g,v=function(){try{g=new ActiveXObject("htmlfile")}catch{}v=typeof document<"u"?document.domain&&g?p(g):m():p(g);for(var y=t.length;y--;)delete v[c][t[y]];return v()};return r[h]=!0,W_=Object.create||function(_,b){var w;return _!==null?(d[c]=i(_),w=new d,d[c]=null,w[h]=_):w=v(),b===void 0?w:e.f(w,b)},W_}var B_={},wL;function Dv(){if(wL)return B_;wL=1;var i=aJ(),e=Ak(),t=e.concat("length","prototype");return B_.f=Object.getOwnPropertyNames||function(n){return i(n,t)},B_}var z_={},H_,xL;function Xu(){if(xL)return H_;xL=1;var i=wt();return H_=i([].slice),H_}var SL;function lJ(){if(SL)return z_;SL=1;var i=go(),e=xs(),t=Dv().f,r=Xu(),n=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(n)}};return z_.f=function(a){return n&&i(a)==="Window"?s(a):t(e(a))},z_}var Y_={},EL;function Iv(){return EL||(EL=1,Y_.f=Object.getOwnPropertySymbols),Y_}var U_,CL;function Lf(){if(CL)return U_;CL=1;var i=Uu();return U_=function(e,t,r,n){return n&&n.enumerable?e[t]=r:i(e,t,r),e},U_}var V_,TL;function $k(){if(TL)return V_;TL=1;var i=cn();return V_=function(e,t,r){return i.f(e,t,r)},V_}var X_={},OL;function kv(){if(OL)return X_;OL=1;var i=Si();return X_.f=i,X_}var K_,RL;function Lt(){if(RL)return K_;RL=1;var i=fi(),e=xi(),t=kv(),r=cn().f;return K_=function(n){var s=i.Symbol||(i.Symbol={});e(s,n)||r(s,n,{value:t.f(n)})},K_}var Z_,PL;function cJ(){if(PL)return Z_;PL=1;var i=wr(),e=Br(),t=Si(),r=Lf();return Z_=function(){var n=e("Symbol"),s=n&&n.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(l){return i(o,this)},{arity:1})},Z_}var Q_,DL;function k_e(){if(DL)return Q_;DL=1;var i=kk(),e=oa();return Q_=i?{}.toString:function(){return"[object "+e(this)+"]"},Q_}var J_,IL;function Rl(){if(IL)return J_;IL=1;var i=kk(),e=cn().f,t=Uu(),r=xi(),n=k_e(),s=Si(),o=s("toStringTag");return J_=function(a,l,c,u){var h=c?a:a&&a.prototype;h&&(r(h,o)||e(h,o,{configurable:!0,value:l}),u&&!i&&t(h,"toString",n))},J_}var e0,kL;function M_e(){if(kL)return e0;kL=1;var i=ni(),e=wi(),t=i.WeakMap;return e0=e(t)&&/native code/.test(String(t)),e0}var t0,ML;function qf(){if(ML)return t0;ML=1;var i=M_e(),e=ni(),t=ir(),r=Uu(),n=xi(),s=Pk(),o=Pv(),a=$f(),l="Object already initialized",c=e.TypeError,u=e.WeakMap,h,d,f,p=function(y){return f(y)?d(y):h(y,{})},m=function(y){return function(_){var b;if(!t(_)||(b=d(_)).type!==y)throw new c("Incompatible receiver, "+y+" required");return b}};if(i||s.state){var g=s.state||(s.state=new u);g.get=g.get,g.has=g.has,g.set=g.set,h=function(y,_){if(g.has(y))throw new c(l);return _.facade=y,g.set(y,_),_},d=function(y){return g.get(y)||{}},f=function(y){return g.has(y)}}else{var v=o("state");a[v]=!0,h=function(y,_){if(n(y,v))throw new c(l);return _.facade=y,r(y,v,_),_},d=function(y){return n(y,v)?y[v]:{}},f=function(y){return n(y,v)}}return t0={set:h,get:d,has:f,enforce:p,getterFor:m},t0}var i0,AL;function Ku(){if(AL)return i0;AL=1;var i=Af(),e=wt(),t=Sv(),r=ln(),n=Es(),s=Ov(),o=e([].push),a=function(l){var c=l===1,u=l===2,h=l===3,d=l===4,f=l===6,p=l===7,m=l===5||f;return function(g,v,y,_){for(var b=r(g),w=t(b),S=n(w),E=i(v,y),x=0,T=_||s,R=c?T(g,S):u||p?T(g,0):void 0,P,I;S>x;x++)if((m||x in w)&&(P=w[x],I=E(P,x,b),l))if(c)R[x]=I;else if(I)switch(l){case 3:return!0;case 5:return P;case 6:return x;case 2:o(R,P)}else switch(l){case 4:return!1;case 7:o(R,P)}return f?-1:h||d?d:R}};return i0={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},i0}var NL;function A_e(){if(NL)return cL;NL=1;var i=Ee(),e=ni(),t=wr(),r=wt(),n=Hu(),s=si(),o=Bu(),a=ut(),l=xi(),c=pi(),u=vo(),h=xs(),d=Dk(),f=aa(),p=Df(),m=Ff(),g=Rv(),v=Dv(),y=lJ(),_=Iv(),b=Cv(),w=cn(),S=Nk(),E=Ok(),x=Lf(),T=$k(),R=Yu(),P=Pv(),I=$f(),$=Ev(),F=Si(),W=kv(),N=Lt(),q=cJ(),D=Rl(),j=qf(),X=Ku().forEach,U=P("hidden"),M="Symbol",L="prototype",G=j.set,B=j.getterFor(M),H=Object[L],z=e.Symbol,Q=z&&z[L],re=e.RangeError,me=e.TypeError,et=e.QObject,ot=b.f,ve=w.f,ht=y.f,Ot=E.f,At=r([].push),Ve=R("symbols"),Le=R("op-symbols"),sr=R("wks"),ai=!et||!et[L]||!et[L].findChild,Zt=function(ce,te,ne){var ie=ot(H,te);ie&&delete H[te],ve(ce,te,ne),ie&&ce!==H&&ve(H,te,ie)},Qt=s&&a(function(){return m(ve({},"a",{get:function(){return ve(this,"a",{value:7}).a}})).a!==7})?Zt:ve,Xe=function(ce,te){var ne=Ve[ce]=m(Q);return G(ne,{type:M,tag:ce,description:te}),s||(ne.description=te),ne},Ti=function(te,ne,ie){te===H&&Ti(Le,ne,ie),u(te);var ue=d(ne);return u(ie),l(Ve,ue)?(ie.enumerable?(l(te,U)&&te[U][ue]&&(te[U][ue]=!1),ie=m(ie,{enumerable:p(0,!1)})):(l(te,U)||ve(te,U,p(1,m(null))),te[U][ue]=!0),Qt(te,ue,ie)):ve(te,ue,ie)},Sr=function(te,ne){u(te);var ie=h(ne),ue=g(ie).concat(Vn(ie));return X(ue,function($e){(!s||t(or,ie,$e))&&Ti(te,$e,ie[$e])}),te},Yn=function(te,ne){return ne===void 0?m(te):Sr(m(te),ne)},or=function(te){var ne=d(te),ie=t(Ot,this,ne);return this===H&&l(Ve,ne)&&!l(Le,ne)?!1:ie||!l(this,ne)||!l(Ve,ne)||l(this,U)&&this[U][ne]?ie:!0},Rs=function(te,ne){var ie=h(te),ue=d(ne);if(!(ie===H&&l(Ve,ue)&&!l(Le,ue))){var $e=ot(ie,ue);return $e&&l(Ve,ue)&&!(l(ie,U)&&ie[U][ue])&&($e.enumerable=!0),$e}},Un=function(te){var ne=ht(h(te)),ie=[];return X(ne,function(ue){!l(Ve,ue)&&!l(I,ue)&&At(ie,ue)}),ie},Vn=function(ce){var te=ce===H,ne=ht(te?Le:h(ce)),ie=[];return X(ne,function(ue){l(Ve,ue)&&(!te||l(H,ue))&&At(ie,Ve[ue])}),ie};return o||(z=function(){if(c(Q,this))throw new me("Symbol is not a constructor");var te=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),ne=$(te),ie=function(ue){var $e=this===void 0?e:this;$e===H&&t(ie,Le,ue),l($e,U)&&l($e[U],ne)&&($e[U][ne]=!1);var Xn=p(1,ue);try{Qt($e,ne,Xn)}catch(we){if(!(we instanceof re))throw we;Zt($e,ne,Xn)}};return s&&ai&&Qt(H,ne,{configurable:!0,set:ie}),Xe(ne,te)},Q=z[L],x(Q,"toString",function(){return B(this).tag}),x(z,"withoutSetter",function(ce){return Xe($(ce),ce)}),E.f=or,w.f=Ti,S.f=Sr,b.f=Rs,v.f=y.f=Un,_.f=Vn,W.f=function(ce){return Xe(F(ce),ce)},s&&(T(Q,"description",{configurable:!0,get:function(){return B(this).description}}),n||x(H,"propertyIsEnumerable",or,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:z}),X(g(sr),function(ce){N(ce)}),i({target:M,stat:!0,forced:!o},{useSetter:function(){ai=!0},useSimple:function(){ai=!1}}),i({target:"Object",stat:!0,forced:!o,sham:!s},{create:Yn,defineProperty:Ti,defineProperties:Sr,getOwnPropertyDescriptor:Rs}),i({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:Un}),q(),D(z,M),I[U]=!0,cL}var $L={},r0,FL;function uJ(){if(FL)return r0;FL=1;var i=Bu();return r0=i&&!!Symbol.for&&!!Symbol.keyFor,r0}var LL;function N_e(){if(LL)return $L;LL=1;var i=Ee(),e=Br(),t=xi(),r=aa(),n=Yu(),s=uJ(),o=n("string-to-symbol-registry"),a=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{for:function(l){var c=r(l);if(t(o,c))return o[c];var u=e("Symbol")(c);return o[c]=u,a[u]=c,u}}),$L}var qL={},jL;function $_e(){if(jL)return qL;jL=1;var i=Ee(),e=xi(),t=Mf(),r=zu(),n=Yu(),s=uJ(),o=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!t(l))throw new TypeError(r(l)+" is not a symbol");if(e(o,l))return o[l]}}),qL}var GL={},n0,WL;function F_e(){if(WL)return n0;WL=1;var i=wt(),e=sa(),t=wi(),r=go(),n=aa(),s=i([].push);return n0=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,l=[],c=0;c<a;c++){var u=o[c];typeof u=="string"?s(l,u):(typeof u=="number"||r(u)==="Number"||r(u)==="String")&&s(l,n(u))}var h=l.length,d=!0;return function(f,p){if(d)return d=!1,p;if(e(this))return p;for(var m=0;m<h;m++)if(l[m]===f)return p}}},n0}var BL;function hJ(){if(BL)return GL;BL=1;var i=Ee(),e=Br(),t=xv(),r=wr(),n=wt(),s=ut(),o=wi(),a=Mf(),l=Xu(),c=F_e(),u=Bu(),h=String,d=e("JSON","stringify"),f=n(/./.exec),p=n("".charAt),m=n("".charCodeAt),g=n("".replace),v=n(1.1.toString),y=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,w=!u||s(function(){var T=e("Symbol")("stringify detection");return d([T])!=="[null]"||d({a:T})!=="{}"||d(Object(T))!=="{}"}),S=s(function(){return d("\uDF06\uD834")!=='"\\udf06\\ud834"'||d("\uDEAD")!=='"\\udead"'}),E=function(T,R){var P=l(arguments),I=c(R);if(!(!o(I)&&(T===void 0||a(T))))return P[1]=function($,F){if(o(I)&&(F=r(I,this,h($),F)),!a(F))return F},t(d,null,P)},x=function(T,R,P){var I=p(P,R-1),$=p(P,R+1);return f(_,T)&&!f(b,$)||f(b,T)&&!f(_,I)?"\\u"+v(m(T,0),16):T};return d&&i({target:"JSON",stat:!0,arity:3,forced:w||S},{stringify:function(R,P,I){var $=l(arguments),F=t(w?E:d,null,$);return S&&typeof F=="string"?g(F,y,x):F}}),GL}var zL={},HL;function L_e(){if(HL)return zL;HL=1;var i=Ee(),e=Bu(),t=ut(),r=Iv(),n=ln(),s=!e||t(function(){r.f(1)});return i({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var l=r.f;return l?l(n(a)):[]}}),zL}var YL;function dJ(){return YL||(YL=1,A_e(),N_e(),$_e(),hJ(),L_e()),lL}var UL={},VL;function fJ(){if(VL)return UL;VL=1;var i=Lt();return i("asyncDispose"),UL}var XL={},KL;function q_e(){if(KL)return XL;KL=1;var i=Lt();return i("asyncIterator"),XL}var ZL={},QL;function pJ(){if(QL)return ZL;QL=1;var i=Lt();return i("dispose"),ZL}var JL={},e2;function j_e(){if(e2)return JL;e2=1;var i=Lt();return i("hasInstance"),JL}var t2={},i2;function G_e(){if(i2)return t2;i2=1;var i=Lt();return i("isConcatSpreadable"),t2}var r2={},n2;function mJ(){if(n2)return r2;n2=1;var i=Lt();return i("iterator"),r2}var s2={},o2;function W_e(){if(o2)return s2;o2=1;var i=Lt();return i("match"),s2}var a2={},l2;function B_e(){if(l2)return a2;l2=1;var i=Lt();return i("matchAll"),a2}var c2={},u2;function z_e(){if(u2)return c2;u2=1;var i=Lt();return i("replace"),c2}var h2={},d2;function H_e(){if(d2)return h2;d2=1;var i=Lt();return i("search"),h2}var f2={},p2;function Y_e(){if(p2)return f2;p2=1;var i=Lt();return i("species"),f2}var m2={},g2;function U_e(){if(g2)return m2;g2=1;var i=Lt();return i("split"),m2}var v2={},y2;function gJ(){if(y2)return v2;y2=1;var i=Lt(),e=cJ();return i("toPrimitive"),e(),v2}var b2={},_2;function V_e(){if(_2)return b2;_2=1;var i=Br(),e=Lt(),t=Rl();return e("toStringTag"),t(i("Symbol"),"Symbol"),b2}var w2={},x2;function X_e(){if(x2)return w2;x2=1;var i=Lt();return i("unscopables"),w2}var S2={},E2;function K_e(){if(E2)return S2;E2=1;var i=ni(),e=Rl();return e(i.JSON,"JSON",!0),S2}var s0,C2;function Z_e(){if(C2)return s0;C2=1,oJ(),dJ(),fJ(),q_e(),pJ(),j_e(),G_e(),mJ(),W_e(),B_e(),z_e(),H_e(),Y_e(),U_e(),gJ(),V_e(),X_e(),K_e();var i=fi();return s0=i.Symbol,s0}var T2={},o0,O2;function vJ(){return O2||(O2=1,o0=function(){}),o0}var a0,R2;function Zu(){return R2||(R2=1,a0={}),a0}var l0,P2;function Q_e(){if(P2)return l0;P2=1;var i=si(),e=xi(),t=Function.prototype,r=i&&Object.getOwnPropertyDescriptor,n=e(t,"name"),s=n&&(function(){}).name==="something",o=n&&(!i||i&&r(t,"name").configurable);return l0={EXISTS:n,PROPER:s,CONFIGURABLE:o},l0}var c0,D2;function J_e(){if(D2)return c0;D2=1;var i=ut();return c0=!i(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),c0}var u0,I2;function yJ(){if(I2)return u0;I2=1;var i=xi(),e=wi(),t=ln(),r=Pv(),n=J_e(),s=r("IE_PROTO"),o=Object,a=o.prototype;return u0=n?o.getPrototypeOf:function(l){var c=t(l);if(i(c,s))return c[s];var u=c.constructor;return e(u)&&c instanceof u?u.prototype:c instanceof o?a:null},u0}var h0,k2;function bJ(){if(k2)return h0;k2=1;var i=ut(),e=wi(),t=ir(),r=Ff(),n=yJ(),s=Lf(),o=Si(),a=Hu(),l=o("iterator"),c=!1,u,h,d;[].keys&&(d=[].keys(),"next"in d?(h=n(n(d)),h!==Object.prototype&&(u=h)):c=!0);var f=!t(u)||i(function(){var p={};return u[l].call(p)!==p});return f?u={}:a&&(u=r(u)),e(u[l])||s(u,l,function(){return this}),h0={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:c},h0}var d0,M2;function e0e(){if(M2)return d0;M2=1;var i=bJ().IteratorPrototype,e=Ff(),t=Df(),r=Rl(),n=Zu(),s=function(){return this};return d0=function(o,a,l,c){var u=a+" Iterator";return o.prototype=e(i,{next:t(+!c,l)}),r(o,u,!1,!0),n[u]=s,o},d0}var f0,A2;function t0e(){if(A2)return f0;A2=1;var i=wt(),e=Ss();return f0=function(t,r,n){try{return i(e(Object.getOwnPropertyDescriptor(t,r)[n]))}catch{}},f0}var p0,N2;function i0e(){if(N2)return p0;N2=1;var i=ir();return p0=function(e){return i(e)||e===null},p0}var m0,$2;function r0e(){if($2)return m0;$2=1;var i=i0e(),e=String,t=TypeError;return m0=function(r){if(i(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},m0}var g0,F2;function n0e(){if(F2)return g0;F2=1;var i=t0e(),e=ir(),t=Ol(),r=r0e();return g0=Object.setPrototypeOf||("__proto__"in{}?(function(){var n=!1,s={},o;try{o=i(Object.prototype,"__proto__","set"),o(s,[]),n=s instanceof Array}catch{}return function(l,c){return t(l),r(c),e(l)&&(n?o(l,c):l.__proto__=c),l}})():void 0),g0}var v0,L2;function Fk(){if(L2)return v0;L2=1;var i=Ee(),e=wr(),t=Hu(),r=Q_e(),n=wi(),s=e0e(),o=yJ(),a=n0e(),l=Rl(),c=Uu(),u=Lf(),h=Si(),d=Zu(),f=bJ(),p=r.PROPER,m=r.CONFIGURABLE,g=f.IteratorPrototype,v=f.BUGGY_SAFARI_ITERATORS,y=h("iterator"),_="keys",b="values",w="entries",S=function(){return this};return v0=function(E,x,T,R,P,I,$){s(T,x,R);var F=function(G){if(G===P&&j)return j;if(!v&&G&&G in q)return q[G];switch(G){case _:return function(){return new T(this,G)};case b:return function(){return new T(this,G)};case w:return function(){return new T(this,G)}}return function(){return new T(this)}},W=x+" Iterator",N=!1,q=E.prototype,D=q[y]||q["@@iterator"]||P&&q[P],j=!v&&D||F(P),X=x==="Array"&&q.entries||D,U,M,L;if(X&&(U=o(X.call(new E)),U!==Object.prototype&&U.next&&(!t&&o(U)!==g&&(a?a(U,g):n(U[y])||u(U,y,S)),l(U,W,!0,!0),t&&(d[W]=S))),p&&P===b&&D&&D.name!==b&&(!t&&m?c(q,"name",b):(N=!0,j=function(){return e(D,this)})),P)if(M={values:F(b),keys:I?j:F(_),entries:F(w)},$)for(L in M)(v||N||!(L in q))&&u(q,L,M[L]);else i({target:x,proto:!0,forced:v||N},M);return(!t||$)&&q[y]!==j&&u(q,y,j,{name:P}),d[x]=j,M},v0}var y0,q2;function Lk(){return q2||(q2=1,y0=function(i,e){return{value:i,done:e}}),y0}var b0,j2;function la(){if(j2)return b0;j2=1;var i=xs(),e=vJ(),t=Zu(),r=qf(),n=cn().f,s=Fk(),o=Lk(),a=Hu(),l=si(),c="Array Iterator",u=r.set,h=r.getterFor(c);b0=s(Array,"Array",function(f,p){u(this,{type:c,target:i(f),index:0,kind:p})},function(){var f=h(this),p=f.target,m=f.index++;if(!p||m>=p.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(m,!1);case"values":return o(p[m],!1)}return o([m,p[m]],!1)},"values");var d=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&l&&d.name!=="values")try{n(d,"name",{value:"values"})}catch{}return b0}var _0,G2;function s0e(){return G2||(G2=1,_0={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),_0}var W2;function ca(){if(W2)return T2;W2=1,la();var i=s0e(),e=ni(),t=Rl(),r=Zu();for(var n in i)t(e[n],n),r[n]=r.Array;return T2}var w0,B2;function _J(){if(B2)return w0;B2=1;var i=Z_e();return ca(),w0=i,w0}var z2={},H2;function o0e(){if(H2)return z2;H2=1;var i=Si(),e=cn().f,t=i("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),z2}var Y2={},U2;function a0e(){return U2||(U2=1,fJ()),Y2}var V2={},X2;function l0e(){return X2||(X2=1,pJ()),V2}var K2={},Z2;function c0e(){if(Z2)return K2;Z2=1;var i=Lt();return i("metadata"),K2}var x0,Q2;function u0e(){if(Q2)return x0;Q2=1;var i=_J();return o0e(),a0e(),l0e(),c0e(),x0=i,x0}var J2={},S0,eq;function wJ(){if(eq)return S0;eq=1;var i=Br(),e=wt(),t=i("Symbol"),r=t.keyFor,n=e(t.prototype.valueOf);return S0=t.isRegisteredSymbol||function(o){try{return r(n(o))!==void 0}catch{return!1}},S0}var tq;function h0e(){if(tq)return J2;tq=1;var i=Ee(),e=wJ();return i({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),J2}var iq={},E0,rq;function xJ(){if(rq)return E0;rq=1;for(var i=Yu(),e=Br(),t=wt(),r=Mf(),n=Si(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),l=t(s.prototype.valueOf),c=i("wks"),u=0,h=a(s),d=h.length;u<d;u++)try{var f=h[u];r(s[f])&&n(f)}catch{}return E0=function(m){if(o&&o(m))return!0;try{for(var g=l(m),v=0,y=a(c),_=y.length;v<_;v++)if(c[y[v]]==g)return!0}catch{}return!1},E0}var nq;function d0e(){if(nq)return iq;nq=1;var i=Ee(),e=xJ();return i({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),iq}var sq={},oq;function f0e(){if(oq)return sq;oq=1;var i=Lt();return i("customMatcher"),sq}var aq={},lq;function p0e(){if(lq)return aq;lq=1;var i=Lt();return i("observable"),aq}var cq={},uq;function m0e(){if(uq)return cq;uq=1;var i=Ee(),e=wJ();return i({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),cq}var hq={},dq;function g0e(){if(dq)return hq;dq=1;var i=Ee(),e=xJ();return i({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),hq}var fq={},pq;function v0e(){if(pq)return fq;pq=1;var i=Lt();return i("matcher"),fq}var mq={},gq;function y0e(){if(gq)return mq;gq=1;var i=Lt();return i("metadataKey"),mq}var vq={},yq;function b0e(){if(yq)return vq;yq=1;var i=Lt();return i("patternMatch"),vq}var bq={},_q;function _0e(){if(_q)return bq;_q=1;var i=Lt();return i("replaceAll"),bq}var C0,wq;function w0e(){if(wq)return C0;wq=1;var i=u0e();return h0e(),d0e(),f0e(),p0e(),m0e(),g0e(),v0e(),y0e(),b0e(),_0e(),C0=i,C0}var T0,xq;function x0e(){return xq||(xq=1,T0=w0e()),T0}var S0e=x0e(),Jp=Ne(S0e),Sq={},O0,Eq;function E0e(){if(Eq)return O0;Eq=1;var i=wt(),e=Vu(),t=aa(),r=Ol(),n=i("".charAt),s=i("".charCodeAt),o=i("".slice),a=function(l){return function(c,u){var h=t(r(c)),d=e(u),f=h.length,p,m;return d<0||d>=f?l?"":void 0:(p=s(h,d),p<55296||p>56319||d+1===f||(m=s(h,d+1))<56320||m>57343?l?n(h,d):p:l?o(h,d,d+2):(p-55296<<10)+(m-56320)+65536)}};return O0={codeAt:a(!1),charAt:a(!0)},O0}var Cq;function Mv(){if(Cq)return Sq;Cq=1;var i=E0e().charAt,e=aa(),t=qf(),r=Fk(),n=Lk(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(l){o(this,{type:s,string:e(l),index:0})},function(){var c=a(this),u=c.string,h=c.index,d;return h>=u.length?n(void 0,!0):(d=i(u,h),c.index+=d.length,n(d,!1))}),Sq}var R0,Tq;function C0e(){if(Tq)return R0;Tq=1,la(),Mv(),mJ();var i=kv();return R0=i.f("iterator"),R0}var P0,Oq;function SJ(){if(Oq)return P0;Oq=1;var i=C0e();return ca(),P0=i,P0}var D0,Rq;function T0e(){if(Rq)return D0;Rq=1;var i=SJ();return D0=i,D0}var I0,Pq;function O0e(){if(Pq)return I0;Pq=1;var i=T0e();return I0=i,I0}var k0,Dq;function R0e(){return Dq||(Dq=1,k0=O0e()),k0}var P0e=R0e(),D0e=Ne(P0e);function $d(i){"@babel/helpers - typeof";return $d=typeof Jp=="function"&&typeof D0e=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Jp=="function"&&e.constructor===Jp&&e!==Jp.prototype?"symbol":typeof e},$d(i)}var M0,Iq;function I0e(){if(Iq)return M0;Iq=1,gJ();var i=kv();return M0=i.f("toPrimitive"),M0}var A0,kq;function k0e(){if(kq)return A0;kq=1;var i=I0e();return A0=i,A0}var N0,Mq;function M0e(){if(Mq)return N0;Mq=1;var i=k0e();return N0=i,N0}var $0,Aq;function A0e(){if(Aq)return $0;Aq=1;var i=M0e();return $0=i,$0}var F0,Nq;function N0e(){return Nq||(Nq=1,F0=A0e()),F0}var $0e=N0e(),F0e=Ne($0e);function L0e(i,e){if($d(i)!="object"||!i)return i;var t=i[F0e];if(t!==void 0){var r=t.call(i,e);if($d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function q0e(i){var e=L0e(i,"string");return $d(e)=="symbol"?e:e+""}function hs(i,e,t){return(e=q0e(e))in i?T_e(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var $q={},L0,Fq;function j0e(){if(Fq)return L0;Fq=1;var i=wt(),e=Ss(),t=ir(),r=xi(),n=Xu(),s=Pf(),o=Function,a=i([].concat),l=i([].join),c={},u=function(h,d,f){if(!r(c,d)){for(var p=[],m=0;m<d;m++)p[m]="a["+m+"]";c[d]=o("C,a","return new C("+l(p,",")+")")}return c[d](h,f)};return L0=s?o.bind:function(d){var f=e(this),p=f.prototype,m=n(arguments,1),g=function(){var y=a(m,n(arguments));return this instanceof g?u(f,y.length,y):f.apply(d,y)};return t(p)&&(g.prototype=p),g},L0}var Lq;function G0e(){if(Lq)return $q;Lq=1;var i=Ee(),e=j0e();return i({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),$q}var q0,qq;function rr(){if(qq)return q0;qq=1;var i=ni(),e=fi();return q0=function(t,r){var n=e[t+"Prototype"],s=n&&n[r];if(s)return s;var o=i[t],a=o&&o.prototype;return a&&a[r]},q0}var j0,jq;function W0e(){if(jq)return j0;jq=1,G0e();var i=rr();return j0=i("Function","bind"),j0}var G0,Gq;function B0e(){if(Gq)return G0;Gq=1;var i=pi(),e=W0e(),t=Function.prototype;return G0=function(r){var n=r.bind;return r===t||i(t,r)&&n===t.bind?e:n},G0}var W0,Wq;function z0e(){if(Wq)return W0;Wq=1;var i=B0e();return W0=i,W0}var B0,Bq;function H0e(){return Bq||(Bq=1,B0=z0e()),B0}var Y0e=H0e(),rd=Ne(Y0e),zq={},z0,Hq;function U0e(){if(Hq)return z0;Hq=1;var i=Ss(),e=ln(),t=Sv(),r=Es(),n=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(l,c,u,h){var d=e(l),f=t(d),p=r(d);if(i(c),p===0&&u<2)throw new n(s);var m=a?p-1:0,g=a?-1:1;if(u<2)for(;;){if(m in f){h=f[m],m+=g;break}if(m+=g,a?m<0:p<=m)throw new n(s)}for(;a?m>=0:p>m;m+=g)m in f&&(h=c(h,f[m],m,d));return h}};return z0={left:o(!1),right:o(!0)},z0}var H0,Yq;function Av(){if(Yq)return H0;Yq=1;var i=ut();return H0=function(e,t){var r=[][e];return!!r&&i(function(){r.call(null,t||function(){return 1},1)})},H0}var Y0,Uq;function EJ(){if(Uq)return Y0;Uq=1;var i=ni(),e=Wu(),t=go(),r=function(n){return e.slice(0,n.length)===n};return Y0=(function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":i.Bun&&typeof Bun.version=="string"?"BUN":i.Deno&&typeof Deno.version=="object"?"DENO":t(i.process)==="process"?"NODE":i.window&&i.document?"BROWSER":"REST"})(),Y0}var U0,Vq;function V0e(){if(Vq)return U0;Vq=1;var i=EJ();return U0=i==="NODE",U0}var Xq;function X0e(){if(Xq)return zq;Xq=1;var i=Ee(),e=U0e().left,t=Av(),r=kf(),n=V0e(),s=!n&&r>79&&r<83,o=s||!t("reduce");return i({target:"Array",proto:!0,forced:o},{reduce:function(l){var c=arguments.length;return e(this,l,c,c>1?arguments[1]:void 0)}}),zq}var V0,Kq;function K0e(){if(Kq)return V0;Kq=1,X0e();var i=rr();return V0=i("Array","reduce"),V0}var X0,Zq;function Z0e(){if(Zq)return X0;Zq=1;var i=pi(),e=K0e(),t=Array.prototype;return X0=function(r){var n=r.reduce;return r===t||i(t,r)&&n===t.reduce?e:n},X0}var K0,Qq;function Q0e(){if(Qq)return K0;Qq=1;var i=Z0e();return K0=i,K0}var Z0,Jq;function J0e(){return Jq||(Jq=1,Z0=Q0e()),Z0}var ewe=J0e(),CJ=Ne(ewe),ej={},tj;function twe(){if(tj)return ej;tj=1;var i=Ee(),e=Ku().filter,t=Nf(),r=t("filter");return i({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),ej}var Q0,ij;function iwe(){if(ij)return Q0;ij=1,twe();var i=rr();return Q0=i("Array","filter"),Q0}var J0,rj;function rwe(){if(rj)return J0;rj=1;var i=pi(),e=iwe(),t=Array.prototype;return J0=function(r){var n=r.filter;return r===t||i(t,r)&&n===t.filter?e:n},J0}var ew,nj;function nwe(){if(nj)return ew;nj=1;var i=rwe();return ew=i,ew}var tw,sj;function swe(){return sj||(sj=1,tw=nwe()),tw}var owe=swe(),Aa=Ne(owe),oj={},aj;function awe(){if(aj)return oj;aj=1;var i=Ee(),e=Ku().map,t=Nf(),r=t("map");return i({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),oj}var iw,lj;function lwe(){if(lj)return iw;lj=1,awe();var i=rr();return iw=i("Array","map"),iw}var rw,cj;function cwe(){if(cj)return rw;cj=1;var i=pi(),e=lwe(),t=Array.prototype;return rw=function(r){var n=r.map;return r===t||i(t,r)&&n===t.map?e:n},rw}var nw,uj;function uwe(){if(uj)return nw;uj=1;var i=cwe();return nw=i,nw}var sw,hj;function hwe(){return hj||(hj=1,sw=uwe()),sw}var dwe=hwe(),Kr=Ne(dwe),dj={},ow,fj;function fwe(){if(fj)return ow;fj=1;var i=sa(),e=Es(),t=Ik(),r=Af(),n=function(s,o,a,l,c,u,h,d){for(var f=c,p=0,m=h?r(h,d):!1,g,v;p<l;)p in a&&(g=m?m(a[p],p,o):a[p],u>0&&i(g)?(v=e(g),f=n(s,o,g,v,f,u-1)-1):(t(f+1),s[f]=g),f++),p++;return f};return ow=n,ow}var pj;function pwe(){if(pj)return dj;pj=1;var i=Ee(),e=fwe(),t=Ss(),r=ln(),n=Es(),s=Ov();return i({target:"Array",proto:!0},{flatMap:function(a){var l=r(this),c=n(l),u;return t(a),u=s(l,0),u.length=e(u,l,l,c,0,1,a,arguments.length>1?arguments[1]:void 0),u}}),dj}var mj={},gj;function mwe(){if(gj)return mj;gj=1;var i=vJ();return i("flatMap"),mj}var aw,vj;function gwe(){if(vj)return aw;vj=1,pwe(),mwe();var i=rr();return aw=i("Array","flatMap"),aw}var lw,yj;function vwe(){if(yj)return lw;yj=1;var i=pi(),e=gwe(),t=Array.prototype;return lw=function(r){var n=r.flatMap;return r===t||i(t,r)&&n===t.flatMap?e:n},lw}var cw,bj;function ywe(){if(bj)return cw;bj=1;var i=vwe();return cw=i,cw}var uw,_j;function bwe(){return _j||(_j=1,uw=ywe()),uw}var _we=bwe(),wwe=Ne(_we);function xwe(i){return new Ewe(i)}let Swe=class{constructor(e,t,r){var n,s,o;hs(this,"_listeners",{add:rd(n=this._add).call(n,this),remove:rd(s=this._remove).call(s,this),update:rd(o=this._update).call(o,this)}),this._source=e,this._transformers=t,this._target=r}all(){return this._target.update(this._transformItems(this._source.get())),this}start(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}stop(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}_transformItems(e){var t;return CJ(t=this._transformers).call(t,(r,n)=>n(r),e)}_add(e,t){t!=null&&this._target.add(this._transformItems(this._source.get(t.items)))}_update(e,t){t!=null&&this._target.update(this._transformItems(this._source.get(t.items)))}_remove(e,t){t!=null&&this._target.remove(this._transformItems(t.oldData))}},Ewe=class{constructor(e){hs(this,"_transformers",[]),this._source=e}filter(e){return this._transformers.push(t=>Aa(t).call(t,e)),this}map(e){return this._transformers.push(t=>Kr(t).call(t,e)),this}flatMap(e){return this._transformers.push(t=>wwe(t).call(t,e)),this}to(e){return new Swe(this._source,this._transformers,e)}};var hw,wj;function Cwe(){return wj||(wj=1,hw=_J()),hw}var Twe=Cwe(),Owe=Ne(Twe),xj={},Sj;function Rwe(){if(Sj)return xj;Sj=1;var i=Ee(),e=sa(),t=sJ(),r=ir(),n=Mk(),s=Es(),o=xs(),a=Tv(),l=Si(),c=Nf(),u=Xu(),h=c("slice"),d=l("species"),f=Array,p=Math.max;return i({target:"Array",proto:!0,forced:!h},{slice:function(g,v){var y=o(this),_=s(y),b=n(g,_),w=n(v===void 0?_:v,_),S,E,x;if(e(y)&&(S=y.constructor,t(S)&&(S===f||e(S.prototype))?S=void 0:r(S)&&(S=S[d],S===null&&(S=void 0)),S===f||S===void 0))return u(y,b,w);for(E=new(S===void 0?f:S)(p(w-b,0)),x=0;b<w;b++,x++)b in y&&a(E,x,y[b]);return E.length=x,E}}),xj}var dw,Ej;function Pwe(){if(Ej)return dw;Ej=1,Rwe();var i=rr();return dw=i("Array","slice"),dw}var fw,Cj;function Dwe(){if(Cj)return fw;Cj=1;var i=pi(),e=Pwe(),t=Array.prototype;return fw=function(r){var n=r.slice;return r===t||i(t,r)&&n===t.slice?e:n},fw}var pw,Tj;function Iwe(){if(Tj)return pw;Tj=1;var i=Dwe();return pw=i,pw}var mw,Oj;function kwe(){return Oj||(Oj=1,mw=Iwe()),mw}var Mwe=kwe(),Awe=Ne(Mwe),Rj={},gw,Pj;function TJ(){if(Pj)return gw;Pj=1;var i=Br(),e=wt(),t=Dv(),r=Iv(),n=vo(),s=e([].concat);return gw=i("Reflect","ownKeys")||function(a){var l=t.f(n(a)),c=r.f;return c?s(l,c(a)):l},gw}var Dj;function Nwe(){if(Dj)return Rj;Dj=1;var i=Ee(),e=TJ();return i({target:"Reflect",stat:!0},{ownKeys:e}),Rj}var vw,Ij;function $we(){if(Ij)return vw;Ij=1,Nwe();var i=fi();return vw=i.Reflect.ownKeys,vw}var yw,kj;function Fwe(){if(kj)return yw;kj=1;var i=$we();return yw=i,yw}var bw,Mj;function Lwe(){return Mj||(Mj=1,bw=Fwe()),bw}var qwe=Lwe(),jwe=Ne(qwe),Aj={},Nj;function Gwe(){if(Nj)return Aj;Nj=1;var i=Ee(),e=sa();return i({target:"Array",stat:!0},{isArray:e}),Aj}var _w,$j;function Wwe(){if($j)return _w;$j=1,Gwe();var i=fi();return _w=i.Array.isArray,_w}var ww,Fj;function Bwe(){if(Fj)return ww;Fj=1;var i=Wwe();return ww=i,ww}var xw,Lj;function zwe(){return Lj||(Lj=1,xw=Bwe()),xw}var Hwe=zwe(),Zn=Ne(Hwe),qj={},jj;function Ywe(){if(jj)return qj;jj=1;var i=Ee(),e=ln(),t=Rv(),r=ut(),n=r(function(){t(1)});return i({target:"Object",stat:!0,forced:n},{keys:function(o){return t(e(o))}}),qj}var Sw,Gj;function Uwe(){if(Gj)return Sw;Gj=1,Ywe();var i=fi();return Sw=i.Object.keys,Sw}var Ew,Wj;function Vwe(){if(Wj)return Ew;Wj=1;var i=Uwe();return Ew=i,Ew}var Cw,Bj;function Xwe(){return Bj||(Bj=1,Cw=Vwe()),Cw}var Kwe=Xwe(),qk=Ne(Kwe),zj={},Tw,Hj;function Zwe(){if(Hj)return Tw;Hj=1;var i=Ku().forEach,e=Av(),t=e("forEach");return Tw=t?[].forEach:function(n){return i(this,n,arguments.length>1?arguments[1]:void 0)},Tw}var Yj;function Qwe(){if(Yj)return zj;Yj=1;var i=Ee(),e=Zwe();return i({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),zj}var Ow,Uj;function Jwe(){if(Uj)return Ow;Uj=1,Qwe();var i=rr();return Ow=i("Array","forEach"),Ow}var Rw,Vj;function e1e(){if(Vj)return Rw;Vj=1;var i=Jwe();return Rw=i,Rw}var Pw,Xj;function t1e(){if(Xj)return Pw;Xj=1;var i=oa(),e=xi(),t=pi(),r=e1e(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Pw=function(o){var a=o.forEach;return o===n||t(n,o)&&a===n.forEach||e(s,i(o))?r:a},Pw}var Dw,Kj;function i1e(){return Kj||(Kj=1,Dw=t1e()),Dw}var r1e=i1e(),nl=Ne(r1e),Zj={},Qj;function n1e(){if(Qj)return Zj;Qj=1;var i=Ee(),e=wt(),t=sa(),r=e([].reverse),n=[1,2];return i({target:"Array",proto:!0,forced:String(n)===String(n.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),r(this)}}),Zj}var Iw,Jj;function s1e(){if(Jj)return Iw;Jj=1,n1e();var i=rr();return Iw=i("Array","reverse"),Iw}var kw,eG;function o1e(){if(eG)return kw;eG=1;var i=pi(),e=s1e(),t=Array.prototype;return kw=function(r){var n=r.reverse;return r===t||i(t,r)&&n===t.reverse?e:n},kw}var Mw,tG;function a1e(){if(tG)return Mw;tG=1;var i=o1e();return Mw=i,Mw}var Aw,iG;function l1e(){return iG||(iG=1,Aw=a1e()),Aw}var c1e=l1e(),u1e=Ne(c1e),rG={},Nw,nG;function h1e(){if(nG)return Nw;nG=1;var i=si(),e=sa(),t=TypeError,r=Object.getOwnPropertyDescriptor,n=i&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}})();return Nw=n?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},Nw}var $w,sG;function OJ(){if(sG)return $w;sG=1;var i=zu(),e=TypeError;return $w=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+i(r)+" of "+i(t))},$w}var oG;function d1e(){if(oG)return rG;oG=1;var i=Ee(),e=ln(),t=Mk(),r=Vu(),n=Es(),s=h1e(),o=Ik(),a=Ov(),l=Tv(),c=OJ(),u=Nf(),h=u("splice"),d=Math.max,f=Math.min;return i({target:"Array",proto:!0,forced:!h},{splice:function(m,g){var v=e(this),y=n(v),_=t(m,y),b=arguments.length,w,S,E,x,T,R;for(b===0?w=S=0:b===1?(w=0,S=y-_):(w=b-2,S=f(d(r(g),0),y-_)),o(y+w-S),E=a(v,S),x=0;x<S;x++)T=_+x,T in v&&l(E,x,v[T]);if(E.length=S,w<S){for(x=_;x<y-S;x++)T=x+S,R=x+w,T in v?v[R]=v[T]:c(v,R);for(x=y;x>y-S+w;x--)c(v,x-1)}else if(w>S)for(x=y-S;x>_;x--)T=x+S-1,R=x+w-1,T in v?v[R]=v[T]:c(v,R);for(x=0;x<w;x++)v[x+_]=arguments[x+2];return s(v,y-S+w),E}}),rG}var Fw,aG;function f1e(){if(aG)return Fw;aG=1,d1e();var i=rr();return Fw=i("Array","splice"),Fw}var Lw,lG;function p1e(){if(lG)return Lw;lG=1;var i=pi(),e=f1e(),t=Array.prototype;return Lw=function(r){var n=r.splice;return r===t||i(t,r)&&n===t.splice?e:n},Lw}var qw,cG;function m1e(){if(cG)return qw;cG=1;var i=p1e();return qw=i,qw}var jw,uG;function g1e(){return uG||(uG=1,jw=m1e()),jw}var v1e=g1e(),RJ=Ne(v1e),hG={},Gw,dG;function y1e(){if(dG)return Gw;dG=1;var i=si(),e=wt(),t=wr(),r=ut(),n=Rv(),s=Iv(),o=Ok(),a=ln(),l=Sv(),c=Object.assign,u=Object.defineProperty,h=e([].concat);return Gw=!c||r(function(){if(i&&c({b:1},c(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var d={},f={},p=Symbol("assign detection"),m="abcdefghijklmnopqrst";return d[p]=7,m.split("").forEach(function(g){f[g]=g}),c({},d)[p]!==7||n(c({},f)).join("")!==m})?function(f,p){for(var m=a(f),g=arguments.length,v=1,y=s.f,_=o.f;g>v;)for(var b=l(arguments[v++]),w=y?h(n(b),y(b)):n(b),S=w.length,E=0,x;S>E;)x=w[E++],(!i||t(_,b,x))&&(m[x]=b[x]);return m}:c,Gw}var fG;function b1e(){if(fG)return hG;fG=1;var i=Ee(),e=y1e();return i({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),hG}var Ww,pG;function _1e(){if(pG)return Ww;pG=1,b1e();var i=fi();return Ww=i.Object.assign,Ww}var Bw,mG;function w1e(){if(mG)return Bw;mG=1;var i=_1e();return Bw=i,Bw}var zw,gG;function x1e(){return gG||(gG=1,zw=w1e()),zw}var S1e=x1e(),E1e=Ne(S1e),Hw,vG;function C1e(){if(vG)return Hw;vG=1,oJ();var i=rr();return Hw=i("Array","concat"),Hw}var Yw,yG;function T1e(){if(yG)return Yw;yG=1;var i=pi(),e=C1e(),t=Array.prototype;return Yw=function(r){var n=r.concat;return r===t||i(t,r)&&n===t.concat?e:n},Yw}var Uw,bG;function O1e(){if(bG)return Uw;bG=1;var i=T1e();return Uw=i,Uw}var Vw,_G;function R1e(){return _G||(_G=1,Vw=O1e()),Vw}var P1e=R1e(),D1e=Ne(P1e),wG={},xG;function I1e(){if(xG)return wG;xG=1;var i=Ee(),e=si(),t=Ff();return i({target:"Object",stat:!0,sham:!e},{create:t}),wG}var Xw,SG;function k1e(){if(SG)return Xw;SG=1,I1e();var i=fi(),e=i.Object;return Xw=function(r,n){return e.create(r,n)},Xw}var Kw,EG;function M1e(){if(EG)return Kw;EG=1;var i=k1e();return Kw=i,Kw}var Zw,CG;function A1e(){return CG||(CG=1,Zw=M1e()),Zw}var N1e=A1e(),$1e=Ne(N1e),TG={},Qw,OG;function F1e(){if(OG)return Qw;OG=1;var i=Vu(),e=aa(),t=Ol(),r=RangeError;return Qw=function(s){var o=e(t(this)),a="",l=i(s);if(l<0||l===1/0)throw new r("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))l&1&&(a+=o);return a},Qw}var Jw,RG;function L1e(){if(RG)return Jw;RG=1;var i=wt(),e=nJ(),t=aa(),r=F1e(),n=Ol(),s=i(r),o=i("".slice),a=Math.ceil,l=function(c){return function(u,h,d){var f=t(n(u)),p=e(h),m=f.length,g=d===void 0?" ":t(d),v,y;return p<=m||g===""?f:(v=p-m,y=s(g,a(v/g.length)),y.length>v&&(y=o(y,0,v)),c?f+y:y+f)}};return Jw={start:l(!1),end:l(!0)},Jw}var e1,PG;function q1e(){if(PG)return e1;PG=1;var i=wt(),e=ut(),t=L1e().start,r=RangeError,n=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,l=i(o.getTime),c=i(o.getUTCDate),u=i(o.getUTCFullYear),h=i(o.getUTCHours),d=i(o.getUTCMilliseconds),f=i(o.getUTCMinutes),p=i(o.getUTCMonth),m=i(o.getUTCSeconds);return e1=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!n(l(this)))throw new r("Invalid time value");var v=this,y=u(v),_=d(v),b=y<0?"-":y>9999?"+":"";return b+t(s(y),b?6:4,0)+"-"+t(p(v)+1,2,0)+"-"+t(c(v),2,0)+"T"+t(h(v),2,0)+":"+t(f(v),2,0)+":"+t(m(v),2,0)+"."+t(_,3,0)+"Z"}:a,e1}var DG;function j1e(){if(DG)return TG;DG=1;var i=Ee(),e=wr(),t=ln(),r=JQ(),n=q1e(),s=go(),o=ut(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return i({target:"Date",proto:!0,forced:a},{toJSON:function(c){var u=t(this),h=r(u,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in u)&&s(u)==="Date"?e(n,u):u.toISOString()}}),TG}var t1,IG;function G1e(){if(IG)return t1;IG=1,j1e(),hJ();var i=fi(),e=xv();return i.JSON||(i.JSON={stringify:JSON.stringify}),t1=function(r,n,s){return e(i.JSON.stringify,null,arguments)},t1}var i1,kG;function W1e(){if(kG)return i1;kG=1;var i=G1e();return i1=i,i1}var r1,MG;function B1e(){return MG||(MG=1,r1=W1e()),r1}var z1e=B1e(),H1e=Ne(z1e),AG={},NG={},n1,$G;function Y1e(){if($G)return n1;$G=1;var i=TypeError;return n1=function(e,t){if(e<t)throw new i("Not enough arguments");return e},n1}var s1,FG;function PJ(){if(FG)return s1;FG=1;var i=ni(),e=xv(),t=wi(),r=EJ(),n=Wu(),s=Xu(),o=Y1e(),a=i.Function,l=/MSIE .\./.test(n)||r==="BUN"&&(function(){var c=i.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")})();return s1=function(c,u){var h=u?2:1;return l?function(d,f){var p=o(arguments.length,1)>h,m=t(d)?d:a(d),g=p?s(arguments,h):[],v=p?function(){e(m,this,g)}:m;return u?c(v,f):c(v)}:c},s1}var LG;function U1e(){if(LG)return NG;LG=1;var i=Ee(),e=ni(),t=PJ(),r=t(e.setInterval,!0);return i({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),NG}var qG={},jG;function V1e(){if(jG)return qG;jG=1;var i=Ee(),e=ni(),t=PJ(),r=t(e.setTimeout,!0);return i({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),qG}var GG;function X1e(){return GG||(GG=1,U1e(),V1e()),AG}var o1,WG;function K1e(){if(WG)return o1;WG=1,X1e();var i=fi();return o1=i.setTimeout,o1}var a1,BG;function Z1e(){return BG||(BG=1,a1=K1e()),a1}var Q1e=Z1e(),J1e=Ne(Q1e),l1={exports:{}},zG;function exe(){return zG||(zG=1,(function(i){function e(r){if(r)return t(r);this._callbacks=new Map}function t(r){return Object.assign(r,e.prototype),r._callbacks=new Map,r}e.prototype.on=function(r,n){const s=this._callbacks.get(r)??[];return s.push(n),this._callbacks.set(r,s),this},e.prototype.once=function(r,n){const s=(...o)=>{this.off(r,s),n.apply(this,o)};return s.fn=n,this.on(r,s),this},e.prototype.off=function(r,n){if(r===void 0&&n===void 0)return this._callbacks.clear(),this;if(n===void 0)return this._callbacks.delete(r),this;const s=this._callbacks.get(r);if(s){for(const[o,a]of s.entries())if(a===n||a.fn===n){s.splice(o,1);break}s.length===0?this._callbacks.delete(r):this._callbacks.set(r,s)}return this},e.prototype.emit=function(r,...n){const s=this._callbacks.get(r);if(s){const o=[...s];for(const a of o)a.apply(this,n)}return this},e.prototype.listeners=function(r){return this._callbacks.get(r)??[]},e.prototype.listenerCount=function(r){if(r)return this.listeners(r).length;let n=0;for(const s of this._callbacks.values())n+=s.length;return n},e.prototype.hasListeners=function(r){return this.listenerCount(r)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,i.exports=e})(l1)),l1.exports}var txe=exe(),ixe=Ne(txe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Nn(){return Nn=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Nn.apply(this,arguments)}function un(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}function em(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var tD;typeof Object.assign!="function"?tD=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!=null)for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s])}return t}:tD=Object.assign;var sl=tD,HG=["","webkit","Moz","MS","ms","o"],rxe=typeof document>"u"?{style:{}}:document.createElement("div"),nxe="function",Pc=Math.round,ol=Math.abs,jk=Date.now;function Nv(i,e){for(var t,r,n=e[0].toUpperCase()+e.slice(1),s=0;s<HG.length;){if(t=HG[s],r=t?t+n:e,r in i)return r;s++}}var Zs;typeof window>"u"?Zs={}:Zs=window;var DJ=Nv(rxe.style,"touchAction"),IJ=DJ!==void 0;function sxe(){if(!IJ)return!1;var i={},e=Zs.CSS&&Zs.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return i[t]=e?Zs.CSS.supports("touch-action",t):!0}),i}var kJ="compute",MJ="auto",iD="manipulation",Ga="none",Fd="pan-x",Ld="pan-y",tm=sxe(),oxe=/mobile|tablet|ip(ad|hone|od)|android/i,AJ="ontouchstart"in Zs,axe=Nv(Zs,"PointerEvent")!==void 0,lxe=AJ&&oxe.test(navigator.userAgent),jf="touch",cxe="pen",Gk="mouse",uxe="kinect",hxe=25,Ji=1,Pl=2,ti=4,vr=8,Jm=1,Gf=2,Wf=4,Bf=8,fu=16,ds=Gf|Wf,Wa=Bf|fu,NJ=ds|Wa,$J=["x","y"],eg=["clientX","clientY"];function Qs(i,e,t){var r;if(i)if(i.forEach)i.forEach(e,t);else if(i.length!==void 0)for(r=0;r<i.length;)e.call(t,i[r],r,i),r++;else for(r in i)i.hasOwnProperty(r)&&e.call(t,i[r],r,i)}function $v(i,e){return typeof i===nxe?i.apply(e&&e[0]||void 0,e):i}function Na(i,e){return i.indexOf(e)>-1}function dxe(i){if(Na(i,Ga))return Ga;var e=Na(i,Fd),t=Na(i,Ld);return e&&t?Ga:e||t?e?Fd:Ld:Na(i,iD)?iD:MJ}var FJ=(function(){function i(t,r){this.manager=t,this.set(r)}var e=i.prototype;return e.set=function(r){r===kJ&&(r=this.compute()),IJ&&this.manager.element.style&&tm[r]&&(this.manager.element.style[DJ]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return Qs(this.manager.recognizers,function(n){$v(n.options.enable,[n])&&(r=r.concat(n.getTouchAction()))}),dxe(r.join(" "))},e.preventDefaults=function(r){var n=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var o=this.actions,a=Na(o,Ga)&&!tm[Ga],l=Na(o,Ld)&&!tm[Ld],c=Na(o,Fd)&&!tm[Fd];if(a){var u=r.pointers.length===1,h=r.distance<2,d=r.deltaTime<250;if(u&&h&&d)return}if(!(c&&l)&&(a||l&&s&ds||c&&s&Wa))return this.preventSrc(n)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},i})();function Wk(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function LJ(i){var e=i.length;if(e===1)return{x:Pc(i[0].clientX),y:Pc(i[0].clientY)};for(var t=0,r=0,n=0;n<e;)t+=i[n].clientX,r+=i[n].clientY,n++;return{x:Pc(t/e),y:Pc(r/e)}}function YG(i){for(var e=[],t=0;t<i.pointers.length;)e[t]={clientX:Pc(i.pointers[t].clientX),clientY:Pc(i.pointers[t].clientY)},t++;return{timeStamp:jk(),pointers:e,center:LJ(e),deltaX:i.deltaX,deltaY:i.deltaY}}function tg(i,e,t){t||(t=$J);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.sqrt(r*r+n*n)}function rD(i,e,t){t||(t=$J);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.atan2(n,r)*180/Math.PI}function qJ(i,e){return i===e?Jm:ol(i)>=ol(e)?i<0?Gf:Wf:e<0?Bf:fu}function fxe(i,e){var t=e.center,r=i.offsetDelta||{},n=i.prevDelta||{},s=i.prevInput||{};(e.eventType===Ji||s.eventType===ti)&&(n=i.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=i.offsetDelta={x:t.x,y:t.y}),e.deltaX=n.x+(t.x-r.x),e.deltaY=n.y+(t.y-r.y)}function jJ(i,e,t){return{x:e/i||0,y:t/i||0}}function pxe(i,e){return tg(e[0],e[1],eg)/tg(i[0],i[1],eg)}function mxe(i,e){return rD(e[1],e[0],eg)+rD(i[1],i[0],eg)}function gxe(i,e){var t=i.lastInterval||e,r=e.timeStamp-t.timeStamp,n,s,o,a;if(e.eventType!==vr&&(r>hxe||t.velocity===void 0)){var l=e.deltaX-t.deltaX,c=e.deltaY-t.deltaY,u=jJ(r,l,c);s=u.x,o=u.y,n=ol(u.x)>ol(u.y)?u.x:u.y,a=qJ(l,c),i.lastInterval=e}else n=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=n,e.velocityX=s,e.velocityY=o,e.direction=a}function vxe(i,e){var t=i.session,r=e.pointers,n=r.length;t.firstInput||(t.firstInput=YG(e)),n>1&&!t.firstMultiple?t.firstMultiple=YG(e):n===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,l=e.center=LJ(r);e.timeStamp=jk(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=rD(a,l),e.distance=tg(a,l),fxe(t,e),e.offsetDirection=qJ(e.deltaX,e.deltaY);var c=jJ(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=ol(c.x)>ol(c.y)?c.x:c.y,e.scale=o?pxe(o.pointers,r):1,e.rotation=o?mxe(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,gxe(t,e);var u=i.element,h=e.srcEvent,d;h.composedPath?d=h.composedPath()[0]:h.path?d=h.path[0]:d=h.target,Wk(d,u)&&(u=d),e.target=u}function yxe(i,e,t){var r=t.pointers.length,n=t.changedPointers.length,s=e&Ji&&r-n===0,o=e&(ti|vr)&&r-n===0;t.isFirst=!!s,t.isFinal=!!o,s&&(i.session={}),t.eventType=e,vxe(i,t),i.emit("hammer.input",t),i.recognize(t),i.session.prevInput=t}function qd(i){return i.trim().split(/\s+/g)}function nd(i,e,t){Qs(qd(e),function(r){i.addEventListener(r,t,!1)})}function sd(i,e,t){Qs(qd(e),function(r){i.removeEventListener(r,t,!1)})}function UG(i){var e=i.ownerDocument||i;return e.defaultView||e.parentWindow||window}var Qu=(function(){function i(t,r){var n=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){$v(t.options.enable,[t])&&n.handler(s)},this.init()}var e=i.prototype;return e.handler=function(){},e.init=function(){this.evEl&&nd(this.element,this.evEl,this.domHandler),this.evTarget&&nd(this.target,this.evTarget,this.domHandler),this.evWin&&nd(UG(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&sd(this.element,this.evEl,this.domHandler),this.evTarget&&sd(this.target,this.evTarget,this.domHandler),this.evWin&&sd(UG(this.element),this.evWin,this.domHandler)},i})();function al(i,e,t){if(i.indexOf&&!t)return i.indexOf(e);for(var r=0;r<i.length;){if(t&&i[r][t]==e||!t&&i[r]===e)return r;r++}return-1}var bxe={pointerdown:Ji,pointermove:Pl,pointerup:ti,pointercancel:vr,pointerout:vr},_xe={2:jf,3:cxe,4:Gk,5:uxe},GJ="pointerdown",WJ="pointermove pointerup pointercancel";Zs.MSPointerEvent&&!Zs.PointerEvent&&(GJ="MSPointerDown",WJ="MSPointerMove MSPointerUp MSPointerCancel");var BJ=(function(i){un(e,i);function e(){var r,n=e.prototype;return n.evEl=GJ,n.evWin=WJ,r=i.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(n){var s=this.store,o=!1,a=n.type.toLowerCase().replace("ms",""),l=bxe[a],c=_xe[n.pointerType]||n.pointerType,u=c===jf,h=al(s,n.pointerId,"pointerId");l&Ji&&(n.button===0||u)?h<0&&(s.push(n),h=s.length-1):l&(ti|vr)&&(o=!0),!(h<0)&&(s[h]=n,this.callback(this.manager,l,{pointers:s,changedPointers:[n],pointerType:c,srcEvent:n}),o&&s.splice(h,1))},e})(Qu);function jd(i){return Array.prototype.slice.call(i,0)}function Bk(i,e,t){for(var r=[],n=[],s=0;s<i.length;){var o=e?i[s][e]:i[s];al(n,o)<0&&r.push(i[s]),n[s]=o,s++}return t&&(e?r=r.sort(function(a,l){return a[e]>l[e]}):r=r.sort()),r}var wxe={touchstart:Ji,touchmove:Pl,touchend:ti,touchcancel:vr},xxe="touchstart touchmove touchend touchcancel",zk=(function(i){un(e,i);function e(){var r;return e.prototype.evTarget=xxe,r=i.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(n){var s=wxe[n.type],o=Sxe.call(this,n,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:jf,srcEvent:n})},e})(Qu);function Sxe(i,e){var t=jd(i.touches),r=this.targetIds;if(e&(Ji|Pl)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var n,s,o=jd(i.changedTouches),a=[],l=this.target;if(s=t.filter(function(c){return Wk(c.target,l)}),e===Ji)for(n=0;n<s.length;)r[s[n].identifier]=!0,n++;for(n=0;n<o.length;)r[o[n].identifier]&&a.push(o[n]),e&(ti|vr)&&delete r[o[n].identifier],n++;if(a.length)return[Bk(s.concat(a),"identifier",!0),a]}var Exe={mousedown:Ji,mousemove:Pl,mouseup:ti},Cxe="mousedown",Txe="mousemove mouseup",Hk=(function(i){un(e,i);function e(){var r,n=e.prototype;return n.evEl=Cxe,n.evWin=Txe,r=i.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(n){var s=Exe[n.type];s&Ji&&n.button===0&&(this.pressed=!0),s&Pl&&n.which!==1&&(s=ti),this.pressed&&(s&ti&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[n],changedPointers:[n],pointerType:Gk,srcEvent:n}))},e})(Qu),Oxe=2500,VG=25;function XG(i){var e=i.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},n=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=n.indexOf(r);a>-1&&n.splice(a,1)};setTimeout(s,Oxe)}}function Rxe(i,e){i&Ji?(this.primaryTouch=e.changedPointers[0].identifier,XG.call(this,e)):i&(ti|vr)&&XG.call(this,e)}function Pxe(i){for(var e=i.srcEvent.clientX,t=i.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],s=Math.abs(e-n.x),o=Math.abs(t-n.y);if(s<=VG&&o<=VG)return!0}return!1}var zJ=(function(){var i=(function(e){un(t,e);function t(n,s){var o;return o=e.call(this,n,s)||this,o.handler=function(a,l,c){var u=c.pointerType===jf,h=c.pointerType===Gk;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(u)Rxe.call(em(em(o)),l,c);else if(h&&Pxe.call(em(em(o)),c))return;o.callback(a,l,c)}},o.touch=new zk(o.manager,o.handler),o.mouse=new Hk(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t})(Qu);return i})();function Dxe(i){var e,t=i.options.inputClass;return t?e=t:axe?e=BJ:lxe?e=zk:AJ?e=zJ:e=Hk,new e(i,yxe)}function Dc(i,e,t){return Array.isArray(i)?(Qs(i,t[e],t),!0):!1}var Tm=1,sn=2,pu=4,Yo=8,Js=Yo,Gd=16,ss=32,Ixe=1;function kxe(){return Ixe++}function im(i,e){var t=e.manager;return t?t.get(i):i}function KG(i){return i&Gd?"cancel":i&Yo?"end":i&pu?"move":i&sn?"start":""}var zf=(function(){function i(t){t===void 0&&(t={}),this.options=Nn({enable:!0},t),this.id=kxe(),this.manager=null,this.state=Tm,this.simultaneous={},this.requireFail=[]}var e=i.prototype;return e.set=function(r){return sl(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(Dc(r,"recognizeWith",this))return this;var n=this.simultaneous;return r=im(r,this),n[r.id]||(n[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return Dc(r,"dropRecognizeWith",this)?this:(r=im(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(Dc(r,"requireFailure",this))return this;var n=this.requireFail;return r=im(r,this),al(n,r)===-1&&(n.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(Dc(r,"dropRequireFailure",this))return this;r=im(r,this);var n=al(this.requireFail,r);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var n=this,s=this.state;function o(a){n.manager.emit(a,r)}s<Yo&&o(n.options.event+KG(s)),o(n.options.event),r.additionalEvent&&o(r.additionalEvent),s>=Yo&&o(n.options.event+KG(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=ss},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(ss|Tm)))return!1;r++}return!0},e.recognize=function(r){var n=sl({},r);if(!$v(this.options.enable,[this,n])){this.reset(),this.state=ss;return}this.state&(Js|Gd|ss)&&(this.state=Tm),this.state=this.process(n),this.state&(sn|pu|Yo|Gd)&&this.tryEmit(n)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},i})(),nD=(function(i){un(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Nn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var t=e.prototype;return t.getTouchAction=function(){return[iD]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,l=n.distance<o.threshold,c=n.deltaTime<o.time;if(this.reset(),n.eventType&Ji&&this.count===0)return this.failTimeout();if(l&&c&&a){if(n.eventType!==ti)return this.failTimeout();var u=this.pTime?n.timeStamp-this.pTime<o.interval:!0,h=!this.pCenter||tg(this.pCenter,n.center)<o.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!h||!u?this.count=1:this.count+=1,this._input=n;var d=this.count%o.taps;if(d===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Js,s.tryEmit()},o.interval),sn):Js}return ss},t.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=ss},this.options.interval),ss},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===Js&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e})(zf),mu=(function(i){un(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Nn({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(n){var s=this.options.pointers;return s===0||n.pointers.length===s},t.process=function(n){var s=this.state,o=n.eventType,a=s&(sn|pu),l=this.attrTest(n);return a&&(o&vr||!l)?s|Gd:a||l?o&ti?s|Yo:s&sn?s|pu:sn:ss},e})(zf);function HJ(i){return i===fu?"down":i===Bf?"up":i===Gf?"left":i===Wf?"right":""}var Yk=(function(i){un(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Nn({event:"pan",threshold:10,pointers:1,direction:NJ},r))||this,n.pX=null,n.pY=null,n}var t=e.prototype;return t.getTouchAction=function(){var n=this.options.direction,s=[];return n&ds&&s.push(Ld),n&Wa&&s.push(Fd),s},t.directionTest=function(n){var s=this.options,o=!0,a=n.distance,l=n.direction,c=n.deltaX,u=n.deltaY;return l&s.direction||(s.direction&ds?(l=c===0?Jm:c<0?Gf:Wf,o=c!==this.pX,a=Math.abs(n.deltaX)):(l=u===0?Jm:u<0?Bf:fu,o=u!==this.pY,a=Math.abs(n.deltaY))),n.direction=l,o&&a>s.threshold&&l&s.direction},t.attrTest=function(n){return mu.prototype.attrTest.call(this,n)&&(this.state&sn||!(this.state&sn)&&this.directionTest(n))},t.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var s=HJ(n.direction);s&&(n.additionalEvent=this.options.event+s),i.prototype.emit.call(this,n)},e})(mu),YJ=(function(i){un(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Nn({event:"swipe",threshold:10,velocity:.3,direction:ds|Wa,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return Yk.prototype.getTouchAction.call(this)},t.attrTest=function(n){var s=this.options.direction,o;return s&(ds|Wa)?o=n.overallVelocity:s&ds?o=n.overallVelocityX:s&Wa&&(o=n.overallVelocityY),i.prototype.attrTest.call(this,n)&&s&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&ol(o)>this.options.velocity&&n.eventType&ti},t.emit=function(n){var s=HJ(n.offsetDirection);s&&this.manager.emit(this.options.event+s,n),this.manager.emit(this.options.event,n)},e})(mu),UJ=(function(i){un(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Nn({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Ga]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&sn)},t.emit=function(n){if(n.scale!==1){var s=n.scale<1?"in":"out";n.additionalEvent=this.options.event+s}i.prototype.emit.call(this,n)},e})(mu),VJ=(function(i){un(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Nn({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Ga]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&sn)},e})(mu),XJ=(function(i){un(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Nn({event:"press",pointers:1,time:251,threshold:9},r))||this,n._timer=null,n._input=null,n}var t=e.prototype;return t.getTouchAction=function(){return[MJ]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,l=n.distance<o.threshold,c=n.deltaTime>o.time;if(this._input=n,!l||!a||n.eventType&(ti|vr)&&!c)this.reset();else if(n.eventType&Ji)this.reset(),this._timer=setTimeout(function(){s.state=Js,s.tryEmit()},o.time);else if(n.eventType&ti)return Js;return ss},t.reset=function(){clearTimeout(this._timer)},t.emit=function(n){this.state===Js&&(n&&n.eventType&ti?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=jk(),this.manager.emit(this.options.event,this._input)))},e})(zf),KJ={domEvents:!1,touchAction:kJ,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ZG=[[VJ,{enable:!1}],[UJ,{enable:!1},["rotate"]],[YJ,{direction:ds}],[Yk,{direction:ds},["swipe"]],[nD],[nD,{event:"doubletap",taps:2},["tap"]],[XJ]],Mxe=1,QG=2;function JG(i,e){var t=i.element;if(t.style){var r;Qs(i.options.cssProps,function(n,s){r=Nv(t.style,s),e?(i.oldCssProps[r]=t.style[r],t.style[r]=n):t.style[r]=i.oldCssProps[r]||""}),e||(i.oldCssProps={})}}function Axe(i,e){var t=document.createEvent("Event");t.initEvent(i,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var eW=(function(){function i(t,r){var n=this;this.options=sl({},KJ,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=Dxe(this),this.touchAction=new FJ(this,this.options.touchAction),JG(this,!0),Qs(this.options.recognizers,function(s){var o=n.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=i.prototype;return e.set=function(r){return sl(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?QG:Mxe},e.recognize=function(r){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=n.curRecognizer;(!a||a&&a.state&Js)&&(n.curRecognizer=null,a=null);for(var l=0;l<o.length;)s=o[l],n.stopped!==QG&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(sn|pu|Yo)&&(n.curRecognizer=s,a=s),l++}},e.get=function(r){if(r instanceof zf)return r;for(var n=this.recognizers,s=0;s<n.length;s++)if(n[s].options.event===r)return n[s];return null},e.add=function(r){if(Dc(r,"add",this))return this;var n=this.get(r.options.event);return n&&this.remove(n),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(Dc(r,"remove",this))return this;var n=this.get(r);if(r){var s=this.recognizers,o=al(s,n);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,n){if(r===void 0||n===void 0)return this;var s=this.handlers;return Qs(qd(r),function(o){s[o]=s[o]||[],s[o].push(n)}),this},e.off=function(r,n){if(r===void 0)return this;var s=this.handlers;return Qs(qd(r),function(o){n?s[o]&&s[o].splice(al(s[o],n),1):delete s[o]}),this},e.emit=function(r,n){this.options.domEvents&&Axe(r,n);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){n.type=r,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](n),o++}},e.destroy=function(){this.element&&JG(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},i})(),Nxe={touchstart:Ji,touchmove:Pl,touchend:ti,touchcancel:vr},$xe="touchstart",Fxe="touchstart touchmove touchend touchcancel",Lxe=(function(i){un(e,i);function e(){var r,n=e.prototype;return n.evTarget=$xe,n.evWin=Fxe,r=i.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(n){var s=Nxe[n.type];if(s===Ji&&(this.started=!0),!!this.started){var o=qxe.call(this,n,s);s&(ti|vr)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:jf,srcEvent:n})}},e})(Qu);function qxe(i,e){var t=jd(i.touches),r=jd(i.changedTouches);return e&(ti|vr)&&(t=Bk(t.concat(r),"identifier",!0)),[t,r]}function ZJ(i,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var n=new Error("get-stack-trace"),s=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),i.apply(this,arguments)}}var QJ=ZJ(function(i,e,t){for(var r=Object.keys(e),n=0;n<r.length;)(!t||t&&i[r[n]]===void 0)&&(i[r[n]]=e[r[n]]),n++;return i},"extend","Use `assign`."),jxe=ZJ(function(i,e){return QJ(i,e,!0)},"merge","Use `assign`.");function Gxe(i,e,t){var r=e.prototype,n;n=i.prototype=Object.create(r),n.constructor=i,n._super=r,t&&sl(n,t)}function tW(i,e){return function(){return i.apply(e,arguments)}}var Wxe=(function(){var i=function(t,r){return r===void 0&&(r={}),new eW(t,Nn({recognizers:ZG.concat()},r))};return i.VERSION="2.0.17-rc",i.DIRECTION_ALL=NJ,i.DIRECTION_DOWN=fu,i.DIRECTION_LEFT=Gf,i.DIRECTION_RIGHT=Wf,i.DIRECTION_UP=Bf,i.DIRECTION_HORIZONTAL=ds,i.DIRECTION_VERTICAL=Wa,i.DIRECTION_NONE=Jm,i.DIRECTION_DOWN=fu,i.INPUT_START=Ji,i.INPUT_MOVE=Pl,i.INPUT_END=ti,i.INPUT_CANCEL=vr,i.STATE_POSSIBLE=Tm,i.STATE_BEGAN=sn,i.STATE_CHANGED=pu,i.STATE_ENDED=Yo,i.STATE_RECOGNIZED=Js,i.STATE_CANCELLED=Gd,i.STATE_FAILED=ss,i.Manager=eW,i.Input=Qu,i.TouchAction=FJ,i.TouchInput=zk,i.MouseInput=Hk,i.PointerEventInput=BJ,i.TouchMouseInput=zJ,i.SingleTouchInput=Lxe,i.Recognizer=zf,i.AttrRecognizer=mu,i.Tap=nD,i.Pan=Yk,i.Swipe=YJ,i.Pinch=UJ,i.Rotate=VJ,i.Press=XJ,i.on=nd,i.off=sd,i.each=Qs,i.merge=jxe,i.extend=QJ,i.bindFn=tW,i.assign=sl,i.inherit=Gxe,i.bindFn=tW,i.prefixed=Nv,i.toArray=jd,i.inArray=al,i.uniqueArray=Bk,i.splitStr=qd,i.boolOrFn=$v,i.hasParent=Wk,i.addEventListeners=nd,i.removeEventListeners=sd,i.defaults=sl({},KJ,{preset:ZG}),i})();const JJ=Owe("DELETE");function Bxe(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return eee({},i,...t)}function eee(){const i=ig(...arguments);return iee(i),i}function ig(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];if(e.length<2)return e[0];if(e.length>2)return ig(eee(e[0],e[1]),...Awe(e).call(e,2));const r=e[0],n=e[1];if(r instanceof Date&&n instanceof Date)return r.setTime(n.getTime()),r;for(const s of jwe(n))Object.prototype.propertyIsEnumerable.call(n,s)&&(n[s]===JJ?delete r[s]:r[s]!==null&&n[s]!==null&&typeof r[s]=="object"&&typeof n[s]=="object"&&!Zn(r[s])&&!Zn(n[s])?r[s]=ig(r[s],n[s]):r[s]=tee(n[s]));return r}function tee(i){return Zn(i)?Kr(i).call(i,e=>tee(e)):typeof i=="object"&&i!==null?i instanceof Date?new Date(i.getTime()):ig({},i):i}function iee(i){for(const e of qk(i))i[e]===JJ?delete i[e]:typeof i[e]=="object"&&i[e]!==null&&iee(i[e])}function zxe(){const i=()=>{};return{on:i,off:i,destroy:i,emit:i,get(){return{set:i}}}}const Hxe=typeof window<"u"?window.Hammer||Wxe:function(){return zxe()};function zs(i){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:i,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const t=Hxe(this._dom.overlay);t.on("tap",rd(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{t.destroy()});const r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];nl(r).call(r,n=>{t.on(n,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=n=>{Yxe(n.target,i)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=n=>{("key"in n?n.key==="Escape":n.keyCode===27)&&this.deactivate()}}ixe(zs.prototype);zs.current=null;zs.prototype.destroy=function(){this.deactivate();for(const t of u1e(i=RJ(e=this._cleanupQueue).call(e,0)).call(i)){var i,e;t()}};zs.prototype.activate=function(){zs.current&&zs.current.deactivate(),zs.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};zs.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};zs.prototype._onTapOverlay=function(i){this.activate(),i.srcEvent.stopPropagation()};function Yxe(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}var c1,iW;function Uxe(){if(iW)return c1;iW=1,dJ();var i=fi();return c1=i.Object.getOwnPropertySymbols,c1}var u1,rW;function Vxe(){if(rW)return u1;rW=1;var i=Uxe();return u1=i,u1}var h1,nW;function Xxe(){return nW||(nW=1,h1=Vxe()),h1}var Kxe=Xxe(),sW=Ne(Kxe),d1={exports:{}},oW={},aW;function Zxe(){if(aW)return oW;aW=1;var i=Ee(),e=ut(),t=xs(),r=Cv().f,n=si(),s=!n||e(function(){r(1)});return i({target:"Object",stat:!0,forced:s,sham:!n},{getOwnPropertyDescriptor:function(a,l){return r(t(a),l)}}),oW}var lW;function Qxe(){if(lW)return d1.exports;lW=1,Zxe();var i=fi(),e=i.Object,t=d1.exports=function(n,s){return e.getOwnPropertyDescriptor(n,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),d1.exports}var f1,cW;function Jxe(){if(cW)return f1;cW=1;var i=Qxe();return f1=i,f1}var p1,uW;function eSe(){return uW||(uW=1,p1=Jxe()),p1}var tSe=eSe(),ree=Ne(tSe),hW={},dW;function iSe(){if(dW)return hW;dW=1;var i=Ee(),e=si(),t=TJ(),r=xs(),n=Cv(),s=Tv();return i({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var l=r(a),c=n.f,u=t(l),h={},d=0,f,p;u.length>d;)p=c(l,f=u[d++]),p!==void 0&&s(h,f,p);return h}}),hW}var m1,fW;function rSe(){if(fW)return m1;fW=1,iSe();var i=fi();return m1=i.Object.getOwnPropertyDescriptors,m1}var g1,pW;function nSe(){if(pW)return g1;pW=1;var i=rSe();return g1=i,g1}var v1,mW;function sSe(){return mW||(mW=1,v1=nSe()),v1}var oSe=sSe(),gW=Ne(oSe),y1={exports:{}},vW={},yW;function aSe(){if(yW)return vW;yW=1;var i=Ee(),e=si(),t=Nk().f;return i({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),vW}var bW;function lSe(){if(bW)return y1.exports;bW=1,aSe();var i=fi(),e=i.Object,t=y1.exports=function(n,s){return e.defineProperties(n,s)};return e.defineProperties.sham&&(t.sham=!0),y1.exports}var b1,_W;function cSe(){if(_W)return b1;_W=1;var i=lSe();return b1=i,b1}var _1,wW;function uSe(){return wW||(wW=1,_1=cSe()),_1}var hSe=uSe(),dSe=Ne(hSe),w1,xW;function fSe(){return xW||(xW=1,w1=rJ()),w1}var pSe=fSe(),mSe=Ne(pSe),SW={},EW={},x1={exports:{}},S1,CW;function gSe(){if(CW)return S1;CW=1;var i=ut();return S1=i(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),S1}var E1,TW;function vSe(){if(TW)return E1;TW=1;var i=ut(),e=ir(),t=go(),r=gSe(),n=Object.isExtensible,s=i(function(){});return E1=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:n?n(a):!0}:n,E1}var C1,OW;function ySe(){if(OW)return C1;OW=1;var i=ut();return C1=!i(function(){return Object.isExtensible(Object.preventExtensions({}))}),C1}var RW;function nee(){if(RW)return x1.exports;RW=1;var i=Ee(),e=wt(),t=$f(),r=ir(),n=xi(),s=cn().f,o=Dv(),a=lJ(),l=vSe(),c=Ev(),u=ySe(),h=!1,d=c("meta"),f=0,p=function(b){s(b,d,{value:{objectID:"O"+f++,weakData:{}}})},m=function(b,w){if(!r(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!n(b,d)){if(!l(b))return"F";if(!w)return"E";p(b)}return b[d].objectID},g=function(b,w){if(!n(b,d)){if(!l(b))return!0;if(!w)return!1;p(b)}return b[d].weakData},v=function(b){return u&&h&&l(b)&&!n(b,d)&&p(b),b},y=function(){_.enable=function(){},h=!0;var b=o.f,w=e([].splice),S={};S[d]=1,b(S).length&&(o.f=function(E){for(var x=b(E),T=0,R=x.length;T<R;T++)if(x[T]===d){w(x,T,1);break}return x},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},_=x1.exports={enable:y,fastKey:m,getWeakData:g,onFreeze:v};return t[d]=!0,x1.exports}var T1,PW;function bSe(){if(PW)return T1;PW=1;var i=Si(),e=Zu(),t=i("iterator"),r=Array.prototype;return T1=function(n){return n!==void 0&&(e.Array===n||r[t]===n)},T1}var O1,DW;function see(){if(DW)return O1;DW=1;var i=oa(),e=Rk(),t=If(),r=Zu(),n=Si(),s=n("iterator");return O1=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[i(o)]},O1}var R1,IW;function oee(){if(IW)return R1;IW=1;var i=wr(),e=Ss(),t=vo(),r=zu(),n=see(),s=TypeError;return R1=function(o,a){var l=arguments.length<2?n(o):a;if(e(l))return t(i(l,o));throw new s(r(o)+" is not iterable")},R1}var P1,kW;function Uk(){if(kW)return P1;kW=1;var i=wr(),e=vo(),t=Rk();return P1=function(r,n,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(n==="throw")throw s;return s}o=i(o,r)}catch(l){a=!0,o=l}if(n==="throw")throw s;if(a)throw o;return e(o),s},P1}var D1,MW;function Vk(){if(MW)return D1;MW=1;var i=Af(),e=wr(),t=vo(),r=zu(),n=bSe(),s=Es(),o=pi(),a=oee(),l=see(),c=Uk(),u=TypeError,h=function(f,p){this.stopped=f,this.result=p},d=h.prototype;return D1=function(f,p,m){var g=m&&m.that,v=!!(m&&m.AS_ENTRIES),y=!!(m&&m.IS_RECORD),_=!!(m&&m.IS_ITERATOR),b=!!(m&&m.INTERRUPTED),w=i(p,g),S,E,x,T,R,P,I,$=function(W){return S&&c(S,"normal"),new h(!0,W)},F=function(W){return v?(t(W),b?w(W[0],W[1],$):w(W[0],W[1])):b?w(W,$):w(W)};if(y)S=f.iterator;else if(_)S=f;else{if(E=l(f),!E)throw new u(r(f)+" is not iterable");if(n(E)){for(x=0,T=s(f);T>x;x++)if(R=F(f[x]),R&&o(d,R))return R;return new h(!1)}S=a(f,E)}for(P=y?f.next:S.next;!(I=e(P,S)).done;){try{R=F(I.value)}catch(W){c(S,"throw",W)}if(typeof R=="object"&&R&&o(d,R))return R}return new h(!1)},D1}var I1,AW;function aee(){if(AW)return I1;AW=1;var i=pi(),e=TypeError;return I1=function(t,r){if(i(r,t))return t;throw new e("Incorrect invocation")},I1}var k1,NW;function lee(){if(NW)return k1;NW=1;var i=Ee(),e=ni(),t=nee(),r=ut(),n=Uu(),s=Vk(),o=aee(),a=wi(),l=ir(),c=If(),u=Rl(),h=cn().f,d=Ku().forEach,f=si(),p=qf(),m=p.set,g=p.getterFor;return k1=function(v,y,_){var b=v.indexOf("Map")!==-1,w=v.indexOf("Weak")!==-1,S=b?"set":"add",E=e[v],x=E&&E.prototype,T={},R;if(!f||!a(E)||!(w||x.forEach&&!r(function(){new E().entries().next()})))R=_.getConstructor(y,v,b,S),t.enable();else{R=y(function($,F){m(o($,P),{type:v,collection:new E}),c(F)||s(F,$[S],{that:$,AS_ENTRIES:b})});var P=R.prototype,I=g(v);d(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function($){var F=$==="add"||$==="set";$ in x&&!(w&&$==="clear")&&n(P,$,function(W,N){var q=I(this).collection;if(!F&&w&&!l(W))return $==="get"?void 0:!1;var D=q[$](W===0?0:W,N);return F?this:D})}),w||h(P,"size",{configurable:!0,get:function(){return I(this).collection.size}})}return u(R,v,!1,!0),T[v]=R,i({global:!0,forced:!0},T),w||_.setStrong(R,v,b),R},k1}var M1,$W;function _Se(){if($W)return M1;$W=1;var i=Lf();return M1=function(e,t,r){for(var n in t)r&&r.unsafe&&e[n]?e[n]=t[n]:i(e,n,t[n],r);return e},M1}var A1,FW;function wSe(){if(FW)return A1;FW=1;var i=Br(),e=$k(),t=Si(),r=si(),n=t("species");return A1=function(s){var o=i(s);r&&o&&!o[n]&&e(o,n,{configurable:!0,get:function(){return this}})},A1}var N1,LW;function cee(){if(LW)return N1;LW=1;var i=Ff(),e=$k(),t=_Se(),r=Af(),n=aee(),s=If(),o=Vk(),a=Fk(),l=Lk(),c=wSe(),u=si(),h=nee().fastKey,d=qf(),f=d.set,p=d.getterFor;return N1={getConstructor:function(m,g,v,y){var _=m(function(x,T){n(x,b),f(x,{type:g,index:i(null),first:null,last:null,size:0}),u||(x.size=0),s(T)||o(T,x[y],{that:x,AS_ENTRIES:v})}),b=_.prototype,w=p(g),S=function(x,T,R){var P=w(x),I=E(x,T),$,F;return I?I.value=R:(P.last=I={index:F=h(T,!0),key:T,value:R,previous:$=P.last,next:null,removed:!1},P.first||(P.first=I),$&&($.next=I),u?P.size++:x.size++,F!=="F"&&(P.index[F]=I)),x},E=function(x,T){var R=w(x),P=h(T),I;if(P!=="F")return R.index[P];for(I=R.first;I;I=I.next)if(I.key===T)return I};return t(b,{clear:function(){for(var T=this,R=w(T),P=R.first;P;)P.removed=!0,P.previous&&(P.previous=P.previous.next=null),P=P.next;R.first=R.last=null,R.index=i(null),u?R.size=0:T.size=0},delete:function(x){var T=this,R=w(T),P=E(T,x);if(P){var I=P.next,$=P.previous;delete R.index[P.index],P.removed=!0,$&&($.next=I),I&&(I.previous=$),R.first===P&&(R.first=I),R.last===P&&(R.last=$),u?R.size--:T.size--}return!!P},forEach:function(T){for(var R=w(this),P=r(T,arguments.length>1?arguments[1]:void 0),I;I=I?I.next:R.first;)for(P(I.value,I.key,this);I&&I.removed;)I=I.previous},has:function(T){return!!E(this,T)}}),t(b,v?{get:function(T){var R=E(this,T);return R&&R.value},set:function(T,R){return S(this,T===0?0:T,R)}}:{add:function(T){return S(this,T=T===0?0:T,T)}}),u&&e(b,"size",{configurable:!0,get:function(){return w(this).size}}),_},setStrong:function(m,g,v){var y=g+" Iterator",_=p(g),b=p(y);a(m,g,function(w,S){f(this,{type:y,target:w,state:_(w),kind:S,last:null})},function(){for(var w=b(this),S=w.kind,E=w.last;E&&E.removed;)E=E.previous;return!w.target||!(w.last=E=E?E.next:w.state.first)?(w.target=null,l(void 0,!0)):l(S==="keys"?E.key:S==="values"?E.value:[E.key,E.value],!1)},v?"entries":"values",!v,!0),c(g)}},N1}var qW;function xSe(){if(qW)return EW;qW=1;var i=lee(),e=cee();return i("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),EW}var jW;function SSe(){return jW||(jW=1,xSe()),SW}var GW={},$1,WW;function uee(){return WW||(WW=1,$1=function(i,e){return e===1?function(t,r){return t[i](r)}:function(t,r,n){return t[i](r,n)}}),$1}var F1,BW;function ESe(){if(BW)return F1;BW=1;var i=Br(),e=uee(),t=i("Map");return F1={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},F1}var zW;function CSe(){if(zW)return GW;zW=1;var i=Ee(),e=wt(),t=Ss(),r=Ol(),n=Vk(),s=ESe(),o=Hu(),a=ut(),l=s.Map,c=s.has,u=s.get,h=s.set,d=e([].push),f=o||a(function(){return l.groupBy("ab",function(p){return p}).get("a").length!==1});return i({target:"Map",stat:!0,forced:o||f},{groupBy:function(m,g){r(m),t(g);var v=new l,y=0;return n(m,function(_){var b=g(_,y++);c(v,b)?d(u(v,b),_):h(v,b,[_])}),v}}),GW}var L1,HW;function TSe(){if(HW)return L1;HW=1,la(),SSe(),CSe(),Mv();var i=fi();return L1=i.Map,L1}var q1,YW;function OSe(){if(YW)return q1;YW=1;var i=TSe();return ca(),q1=i,q1}var j1,UW;function RSe(){return UW||(UW=1,j1=OSe()),j1}var PSe=RSe(),hee=Ne(PSe),VW={},XW;function DSe(){if(XW)return VW;XW=1;var i=Ee(),e=Ku().some,t=Av(),r=t("some");return i({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),VW}var G1,KW;function ISe(){if(KW)return G1;KW=1,DSe();var i=rr();return G1=i("Array","some"),G1}var W1,ZW;function kSe(){if(ZW)return W1;ZW=1;var i=pi(),e=ISe(),t=Array.prototype;return W1=function(r){var n=r.some;return r===t||i(t,r)&&n===t.some?e:n},W1}var B1,QW;function MSe(){if(QW)return B1;QW=1;var i=kSe();return B1=i,B1}var z1,JW;function ASe(){return JW||(JW=1,z1=MSe()),z1}var NSe=ASe(),$Se=Ne(NSe),H1,eB;function FSe(){if(eB)return H1;eB=1,la();var i=rr();return H1=i("Array","keys"),H1}var Y1,tB;function LSe(){if(tB)return Y1;tB=1;var i=FSe();return Y1=i,Y1}var U1,iB;function qSe(){if(iB)return U1;iB=1,ca();var i=oa(),e=xi(),t=pi(),r=LSe(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return U1=function(o){var a=o.keys;return o===n||t(n,o)&&a===n.keys||e(s,i(o))?r:a},U1}var V1,rB;function jSe(){return rB||(rB=1,V1=qSe()),V1}var GSe=jSe(),sc=Ne(GSe),nB={},X1,sB;function WSe(){if(sB)return X1;sB=1;var i=Xu(),e=Math.floor,t=function(r,n){var s=r.length;if(s<8)for(var o=1,a,l;o<s;){for(l=o,a=r[o];l&&n(r[l-1],a)>0;)r[l]=r[--l];l!==o++&&(r[l]=a)}else for(var c=e(s/2),u=t(i(r,0,c),n),h=t(i(r,c),n),d=u.length,f=h.length,p=0,m=0;p<d||m<f;)r[p+m]=p<d&&m<f?n(u[p],h[m])<=0?u[p++]:h[m++]:p<d?u[p++]:h[m++];return r};return X1=t,X1}var K1,oB;function BSe(){if(oB)return K1;oB=1;var i=Wu(),e=i.match(/firefox\/(\d+)/i);return K1=!!e&&+e[1],K1}var Z1,aB;function zSe(){if(aB)return Z1;aB=1;var i=Wu();return Z1=/MSIE|Trident/.test(i),Z1}var Q1,lB;function HSe(){if(lB)return Q1;lB=1;var i=Wu(),e=i.match(/AppleWebKit\/(\d+)\./);return Q1=!!e&&+e[1],Q1}var cB;function YSe(){if(cB)return nB;cB=1;var i=Ee(),e=wt(),t=Ss(),r=ln(),n=Es(),s=OJ(),o=aa(),a=ut(),l=WSe(),c=Av(),u=BSe(),h=zSe(),d=kf(),f=HSe(),p=[],m=e(p.sort),g=e(p.push),v=a(function(){p.sort(void 0)}),y=a(function(){p.sort(null)}),_=c("sort"),b=!a(function(){if(d)return d<70;if(!(u&&u>3)){if(h)return!0;if(f)return f<603;var E="",x,T,R,P;for(x=65;x<76;x++){switch(T=String.fromCharCode(x),x){case 66:case 69:case 70:case 72:R=3;break;case 68:case 71:R=4;break;default:R=2}for(P=0;P<47;P++)p.push({k:T+P,v:R})}for(p.sort(function(I,$){return $.v-I.v}),P=0;P<p.length;P++)T=p[P].k.charAt(0),E.charAt(E.length-1)!==T&&(E+=T);return E!=="DGBEFHACIJK"}}),w=v||!y||!_||!b,S=function(E){return function(x,T){return T===void 0?-1:x===void 0?1:E!==void 0?+E(x,T)||0:o(x)>o(T)?1:-1}};return i({target:"Array",proto:!0,forced:w},{sort:function(x){x!==void 0&&t(x);var T=r(this);if(b)return x===void 0?m(T):m(T,x);var R=[],P=n(T),I,$;for($=0;$<P;$++)$ in T&&g(R,T[$]);for(l(R,S(x)),I=n(R),$=0;$<I;)T[$]=R[$++];for(;$<P;)s(T,$++);return T}}),nB}var J1,uB;function USe(){if(uB)return J1;uB=1,YSe();var i=rr();return J1=i("Array","sort"),J1}var ex,hB;function VSe(){if(hB)return ex;hB=1;var i=pi(),e=USe(),t=Array.prototype;return ex=function(r){var n=r.sort;return r===t||i(t,r)&&n===t.sort?e:n},ex}var tx,dB;function XSe(){if(dB)return tx;dB=1;var i=VSe();return tx=i,tx}var ix,fB;function KSe(){return fB||(fB=1,ix=XSe()),ix}var ZSe=KSe(),sD=Ne(ZSe),rx,pB;function QSe(){if(pB)return rx;pB=1,la();var i=rr();return rx=i("Array","values"),rx}var nx,mB;function JSe(){if(mB)return nx;mB=1;var i=QSe();return nx=i,nx}var sx,gB;function eEe(){if(gB)return sx;gB=1,ca();var i=oa(),e=xi(),t=pi(),r=JSe(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return sx=function(o){var a=o.values;return o===n||t(n,o)&&a===n.values||e(s,i(o))?r:a},sx}var ox,vB;function tEe(){return vB||(vB=1,ox=eEe()),ox}var iEe=tEe(),yB=Ne(iEe),ax,bB;function rEe(){return bB||(bB=1,ax=SJ()),ax}var nEe=rEe(),Ic=Ne(nEe),lx,_B;function sEe(){if(_B)return lx;_B=1,la();var i=rr();return lx=i("Array","entries"),lx}var cx,wB;function oEe(){if(wB)return cx;wB=1;var i=sEe();return cx=i,cx}var ux,xB;function aEe(){if(xB)return ux;xB=1,ca();var i=oa(),e=xi(),t=pi(),r=oEe(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return ux=function(o){var a=o.entries;return o===n||t(n,o)&&a===n.entries||e(s,i(o))?r:a},ux}var hx,SB;function lEe(){return SB||(SB=1,hx=aEe()),hx}var cEe=lEe(),uEe=Ne(cEe);const Oi=[];for(let i=0;i<256;++i)Oi.push((i+256).toString(16).slice(1));function hEe(i,e=0){return(Oi[i[e+0]]+Oi[i[e+1]]+Oi[i[e+2]]+Oi[i[e+3]]+"-"+Oi[i[e+4]]+Oi[i[e+5]]+"-"+Oi[i[e+6]]+Oi[i[e+7]]+"-"+Oi[i[e+8]]+Oi[i[e+9]]+"-"+Oi[i[e+10]]+Oi[i[e+11]]+Oi[i[e+12]]+Oi[i[e+13]]+Oi[i[e+14]]+Oi[i[e+15]]).toLowerCase()}let dx;const dEe=new Uint8Array(16);function fEe(){if(!dx){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");dx=crypto.getRandomValues.bind(crypto)}return dx(dEe)}const pEe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var EB={randomUUID:pEe};function mEe(i,e,t){i=i||{};const r=i.random??i.rng?.()??fEe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,hEe(r)}function gEe(i,e,t){return EB.randomUUID&&!i?EB.randomUUID():mEe(i)}function CB(i){return typeof i=="string"||typeof i=="number"}let vEe=class dee{constructor(e){hs(this,"_queue",[]),hs(this,"_timeout",null),hs(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,t){const r=new dee(t);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{r.flush()};const n=[{name:"flush",original:void 0}];if(t&&t.replace)for(let s=0;s<t.replace.length;s++){const o=t.replace[s];n.push({name:o,original:e[o]}),r.replace(e,o)}return r._extended={object:e,methods:n},r}destroy(){if(this.flush(),this._extended){const e=this._extended.object,t=this._extended.methods;for(let r=0;r<t.length;r++){const n=t[r];n.original?e[n.name]=n.original:delete e[n.name]}this._extended=null}}replace(e,t){const r=this,n=e[t];if(!n)throw new Error("Method "+t+" undefined");e[t]=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];r.queue({args:o,fn:n,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=J1e(()=>{this.flush()},this.delay))}flush(){var e,t;nl(e=RJ(t=this._queue).call(t,0)).call(e,r=>{r.fn.apply(r.context||r.fn,r.args||[])})}},yEe=class oD{constructor(){hs(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),hs(this,"subscribe",oD.prototype.on),hs(this,"unsubscribe",oD.prototype.off)}_trigger(e,t,r){var n;if(e==="*")throw new Error("Cannot trigger event *");nl(n=[...this._subscribers[e],...this._subscribers["*"]]).call(n,s=>{s(e,t,r??null)})}on(e,t){typeof t=="function"&&this._subscribers[e].push(t)}off(e,t){var r;this._subscribers[e]=Aa(r=this._subscribers[e]).call(r,n=>n!==t)}};var TB={},OB={},RB;function bEe(){if(RB)return OB;RB=1;var i=lee(),e=cee();return i("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),OB}var PB;function _Ee(){return PB||(PB=1,bEe()),TB}var DB={},fx,IB;function Dl(){if(IB)return fx;IB=1;var i=zu(),e=TypeError;return fx=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(i(t)+" is not a set")},fx}var px,kB;function Il(){if(kB)return px;kB=1;var i=Br(),e=uee(),t=i("Set"),r=t.prototype;return px={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},px}var mx,MB;function kl(){if(MB)return mx;MB=1;var i=wr();return mx=function(e,t,r){for(var n=r?e:e.iterator,s=e.next,o,a;!(o=i(s,n)).done;)if(a=t(o.value),a!==void 0)return a},mx}var gx,AB;function Hf(){if(AB)return gx;AB=1;var i=kl();return gx=function(e,t,r){return r?i(e.keys(),t,!0):e.forEach(t)},gx}var vx,NB;function Xk(){if(NB)return vx;NB=1;var i=Il(),e=Hf(),t=i.Set,r=i.add;return vx=function(n){var s=new t;return e(n,function(o){r(s,o)}),s},vx}var yx,$B;function Yf(){return $B||($B=1,yx=function(i){return i.size}),yx}var bx,FB;function wEe(){return FB||(FB=1,bx=function(i){return{iterator:i,next:i.next,done:!1}}),bx}var _x,LB;function Ml(){if(LB)return _x;LB=1;var i=Ss(),e=vo(),t=wr(),r=Vu(),n=wEe(),s="Invalid size",o=RangeError,a=TypeError,l=Math.max,c=function(u,h){this.set=u,this.size=l(h,0),this.has=i(u.has),this.keys=i(u.keys)};return c.prototype={getIterator:function(){return n(e(t(this.keys,this.set)))},includes:function(u){return t(this.has,this.set,u)}},_x=function(u){e(u);var h=+u.size;if(h!==h)throw new a(s);var d=r(h);if(d<0)throw new o(s);return new c(u,d)},_x}var wx,qB;function xEe(){if(qB)return wx;qB=1;var i=Dl(),e=Il(),t=Xk(),r=Yf(),n=Ml(),s=Hf(),o=kl(),a=e.has,l=e.remove;return wx=function(u){var h=i(this),d=n(u),f=t(h);return r(h)<=d.size?s(h,function(p){d.includes(p)&&l(f,p)}):o(d.getIterator(),function(p){a(f,p)&&l(f,p)}),f},wx}var xx,jB;function Al(){return jB||(jB=1,xx=function(){return!1}),xx}var GB;function SEe(){if(GB)return DB;GB=1;var i=Ee(),e=xEe(),t=ut(),r=Al(),n=!r("difference",function(o){return o.size===0}),s=n||t(function(){var o={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var c=l++>1;return a.has(1)&&a.clear(),{done:c,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return i({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),DB}var WB={},Sx,BB;function EEe(){if(BB)return Sx;BB=1;var i=Dl(),e=Il(),t=Yf(),r=Ml(),n=Hf(),s=kl(),o=e.Set,a=e.add,l=e.has;return Sx=function(u){var h=i(this),d=r(u),f=new o;return t(h)>d.size?s(d.getIterator(),function(p){l(h,p)&&a(f,p)}):n(h,function(p){d.includes(p)&&a(f,p)}),f},Sx}var zB;function CEe(){if(zB)return WB;zB=1;var i=Ee(),e=ut(),t=EEe(),r=Al(),n=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return i({target:"Set",proto:!0,real:!0,forced:n},{intersection:t}),WB}var HB={},Ex,YB;function TEe(){if(YB)return Ex;YB=1;var i=Dl(),e=Il().has,t=Yf(),r=Ml(),n=Hf(),s=kl(),o=Uk();return Ex=function(l){var c=i(this),u=r(l);if(t(c)<=u.size)return n(c,function(d){if(u.includes(d))return!1},!0)!==!1;var h=u.getIterator();return s(h,function(d){if(e(c,d))return o(h,"normal",!1)})!==!1},Ex}var UB;function OEe(){if(UB)return HB;UB=1;var i=Ee(),e=TEe(),t=Al(),r=!t("isDisjointFrom",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),HB}var VB={},Cx,XB;function REe(){if(XB)return Cx;XB=1;var i=Dl(),e=Yf(),t=Hf(),r=Ml();return Cx=function(s){var o=i(this),a=r(s);return e(o)>a.size?!1:t(o,function(l){if(!a.includes(l))return!1},!0)!==!1},Cx}var KB;function PEe(){if(KB)return VB;KB=1;var i=Ee(),e=REe(),t=Al(),r=!t("isSubsetOf",function(n){return n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),VB}var ZB={},Tx,QB;function DEe(){if(QB)return Tx;QB=1;var i=Dl(),e=Il().has,t=Yf(),r=Ml(),n=kl(),s=Uk();return Tx=function(a){var l=i(this),c=r(a);if(t(l)<c.size)return!1;var u=c.getIterator();return n(u,function(h){if(!e(l,h))return s(u,"normal",!1)})!==!1},Tx}var JB;function IEe(){if(JB)return ZB;JB=1;var i=Ee(),e=DEe(),t=Al(),r=!t("isSupersetOf",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),ZB}var ez={},Ox,tz;function kEe(){if(tz)return Ox;tz=1;var i=Dl(),e=Il(),t=Xk(),r=Ml(),n=kl(),s=e.add,o=e.has,a=e.remove;return Ox=function(c){var u=i(this),h=r(c).getIterator(),d=t(u);return n(h,function(f){o(u,f)?a(d,f):s(d,f)}),d},Ox}var Rx,iz;function fee(){return iz||(iz=1,Rx=function(i){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[i](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),Rx}var rz;function MEe(){if(rz)return ez;rz=1;var i=Ee(),e=kEe(),t=fee(),r=Al(),n=!r("symmetricDifference")||!t("symmetricDifference");return i({target:"Set",proto:!0,real:!0,forced:n},{symmetricDifference:e}),ez}var nz={},Px,sz;function AEe(){if(sz)return Px;sz=1;var i=Dl(),e=Il().add,t=Xk(),r=Ml(),n=kl();return Px=function(o){var a=i(this),l=r(o).getIterator(),c=t(a);return n(l,function(u){e(c,u)}),c},Px}var oz;function NEe(){if(oz)return nz;oz=1;var i=Ee(),e=AEe(),t=fee(),r=Al(),n=!r("union")||!t("union");return i({target:"Set",proto:!0,real:!0,forced:n},{union:e}),nz}var Dx,az;function $Ee(){if(az)return Dx;az=1,la(),_Ee(),SEe(),CEe(),OEe(),PEe(),IEe(),MEe(),NEe(),Mv();var i=fi();return Dx=i.Set,Dx}var Ix,lz;function FEe(){if(lz)return Ix;lz=1;var i=$Ee();return ca(),Ix=i,Ix}var kx,cz;function LEe(){return cz||(cz=1,kx=FEe()),kx}var qEe=LEe(),Mx=Ne(qEe),Ax,uz;function jEe(){if(uz)return Ax;uz=1,la(),Mv();var i=oee();return Ax=i,Ax}var Nx,hz;function GEe(){if(hz)return Nx;hz=1;var i=jEe();return ca(),Nx=i,Nx}var $x,dz;function WEe(){if(dz)return $x;dz=1;var i=GEe();return $x=i,$x}var Fx,fz;function BEe(){if(fz)return Fx;fz=1;var i=WEe();return Fx=i,Fx}var Lx,pz;function zEe(){return pz||(pz=1,Lx=BEe()),Lx}var qx,mz;function HEe(){return mz||(mz=1,qx=zEe()),qx}var YEe=HEe(),jx=Ne(YEe);let gz=class Hh{constructor(e){this._pairs=e}*[Ic](){for(const[e,t]of this._pairs)yield[e,t]}*entries(){for(const[e,t]of this._pairs)yield[e,t]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Kr(e=[...this._pairs]).call(e,t=>t[0])}toItemArray(){var e;return Kr(e=[...this._pairs]).call(e,t=>t[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=$1e(null);for(const[t,r]of this._pairs)e[t]=r;return e}toMap(){return new hee(this._pairs)}toIdSet(){return new Mx(this.toIdArray())}toItemSet(){return new Mx(this.toItemArray())}cache(){return new Hh([...this._pairs])}distinct(e){const t=new Mx;for(const[r,n]of this._pairs)t.add(e(n,r));return t}filter(e){const t=this._pairs;return new Hh({*[Ic](){for(const[r,n]of t)e(n,r)&&(yield[r,n])}})}forEach(e){for(const[t,r]of this._pairs)e(r,t)}map(e){const t=this._pairs;return new Hh({*[Ic](){for(const[r,n]of t)yield[r,e(n,r)]}})}max(e){const t=jx(this._pairs);let r=t.next();if(r.done)return null;let n=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,l=e(a,o);l>s&&(s=l,n=a)}return n}min(e){const t=jx(this._pairs);let r=t.next();if(r.done)return null;let n=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,l=e(a,o);l<s&&(s=l,n=a)}return n}reduce(e,t){for(const[r,n]of this._pairs)t=e(t,n,r);return t}sort(e){return new Hh({[Ic]:()=>{var t;return jx(sD(t=[...this._pairs]).call(t,(r,n)=>{let[s,o]=r,[a,l]=n;return e(o,l,s,a)}))}})}};function vz(i,e){var t=qk(i);if(sW){var r=sW(i);e&&(r=Aa(r).call(r,function(n){return ree(i,n).enumerable})),t.push.apply(t,r)}return t}function yz(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?nl(t=vz(Object(n),!0)).call(t,function(s){hs(i,s,n[s])}):gW?dSe(i,gW(n)):nl(r=vz(Object(n))).call(r,function(s){mSe(i,s,ree(n,s))})}return i}function UEe(i,e){return i[e]==null&&(i[e]=gEe()),i}let ll=class extends yEe{get idProp(){return this._idProp}constructor(e,t){super(),hs(this,"_queue",null),e&&!Zn(e)&&(t=e,e=[]),this._options=t||{},this._data=new hee,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(t)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=vEe.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,t){const r=[];let n;if(Zn(e)){const s=Kr(e).call(e,o=>o[this._idProp]);if($Se(s).call(s,o=>this._data.has(o)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,a=e.length;o<a;o++)n=this._addItem(e[o]),r.push(n)}else if(e&&typeof e=="object")n=this._addItem(e),r.push(n);else throw new Error("Unknown dataType");return r.length&&this._trigger("add",{items:r},t),r}update(e,t){const r=[],n=[],s=[],o=[],a=this._idProp,l=c=>{const u=c[a];if(u!=null&&this._data.has(u)){const h=c,d=E1e({},this._data.get(u)),f=this._updateItem(h);n.push(f),o.push(h),s.push(d)}else{const h=this._addItem(c);r.push(h)}};if(Zn(e))for(let c=0,u=e.length;c<u;c++)e[c]&&typeof e[c]=="object"?l(e[c]):console.warn("Ignoring input item, which is not an object at index "+c);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(r.length&&this._trigger("add",{items:r},t),n.length){const c={items:n,oldData:s,data:o};this._trigger("update",c,t)}return D1e(r).call(r,n)}updateOnly(e,t){var r;Zn(e)||(e=[e]);const n=Kr(r=Kr(e).call(e,s=>{const o=this._data.get(s[this._idProp]);if(o==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:o,update:s}})).call(r,s=>{let{oldData:o,update:a}=s;const l=o[this._idProp],c=Bxe(o,a);return this._data.set(l,c),{id:l,oldData:o,updatedData:c}});if(n.length){const s={items:Kr(n).call(n,o=>o.id),oldData:Kr(n).call(n,o=>o.oldData),data:Kr(n).call(n,o=>o.updatedData)};return this._trigger("update",s,t),s.items}else return[]}get(e,t){let r,n,s;CB(e)?(r=e,s=t):Zn(e)?(n=e,s=t):s=e;const o=s&&s.returnType==="Object"?"Object":"Array",a=s&&Aa(s),l=[];let c,u,h;if(r!=null)c=this._data.get(r),c&&a&&!a(c)&&(c=void 0);else if(n!=null)for(let f=0,p=n.length;f<p;f++)c=this._data.get(n[f]),c!=null&&(!a||a(c))&&l.push(c);else{var d;u=[...sc(d=this._data).call(d)];for(let f=0,p=u.length;f<p;f++)h=u[f],c=this._data.get(h),c!=null&&(!a||a(c))&&l.push(c)}if(s&&s.order&&r==null&&this._sort(l,s.order),s&&s.fields){const f=s.fields;if(r!=null&&c!=null)c=this._filterFields(c,f);else for(let p=0,m=l.length;p<m;p++)l[p]=this._filterFields(l[p],f)}if(o=="Object"){const f={};for(let p=0,m=l.length;p<m;p++){const g=l[p],v=g[this._idProp];f[v]=g}return f}else return r!=null?c??null:l}getIds(e){const t=this._data,r=e&&Aa(e),n=e&&e.order,s=[...sc(t).call(t)],o=[];if(r)if(n){const a=[];for(let l=0,c=s.length;l<c;l++){const u=s[l],h=this._data.get(u);h!=null&&r(h)&&a.push(h)}this._sort(a,n);for(let l=0,c=a.length;l<c;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const c=s[a],u=this._data.get(c);u!=null&&r(u)&&o.push(u[this._idProp])}else if(n){const a=[];for(let l=0,c=s.length;l<c;l++){const u=s[l];a.push(t.get(u))}this._sort(a,n);for(let l=0,c=a.length;l<c;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const c=s[a],u=t.get(c);u!=null&&o.push(u[this._idProp])}return o}getDataSet(){return this}forEach(e,t){const r=t&&Aa(t),n=this._data,s=[...sc(n).call(n)];if(t&&t.order){const o=this.get(t);for(let a=0,l=o.length;a<l;a++){const c=o[a],u=c[this._idProp];e(c,u)}}else for(let o=0,a=s.length;o<a;o++){const l=s[o],c=this._data.get(l);c!=null&&(!r||r(c))&&e(c,l)}}map(e,t){const r=t&&Aa(t),n=[],s=this._data,o=[...sc(s).call(s)];for(let a=0,l=o.length;a<l;a++){const c=o[a],u=this._data.get(c);u!=null&&(!r||r(u))&&n.push(e(u,c))}return t&&t.order&&this._sort(n,t.order),n}_filterFields(e,t){var r;return e&&CJ(r=Zn(t)?t:qk(t)).call(r,(n,s)=>(n[s]=e[s],n),{})}_sort(e,t){if(typeof t=="string"){const r=t;sD(e).call(e,(n,s)=>{const o=n[r],a=s[r];return o>a?1:o<a?-1:0})}else if(typeof t=="function")sD(e).call(e,t);else throw new TypeError("Order must be a function or a string")}remove(e,t){const r=[],n=[],s=Zn(e)?e:[e];for(let o=0,a=s.length;o<a;o++){const l=this._remove(s[o]);if(l){const c=l[this._idProp];c!=null&&(r.push(c),n.push(l))}}return r.length&&this._trigger("remove",{items:r,oldData:n},t),r}_remove(e){let t;if(CB(e)?t=e:e&&typeof e=="object"&&(t=e[this._idProp]),t!=null&&this._data.has(t)){const r=this._data.get(t)||null;return this._data.delete(t),--this.length,r}return null}clear(e){var t;const r=[...sc(t=this._data).call(t)],n=[];for(let s=0,o=r.length;s<o;s++)n.push(this._data.get(r[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:r,oldData:n},e),r}max(e){let t=null,r=null;for(const s of yB(n=this._data).call(n)){var n;const o=s[e];typeof o=="number"&&(r==null||o>r)&&(t=s,r=o)}return t||null}min(e){let t=null,r=null;for(const s of yB(n=this._data).call(n)){var n;const o=s[e];typeof o=="number"&&(r==null||o<r)&&(t=s,r=o)}return t||null}distinct(e){const t=this._data,r=[...sc(t).call(t)],n=[];let s=0;for(let o=0,a=r.length;o<a;o++){const l=r[o],u=t.get(l)[e];let h=!1;for(let d=0;d<s;d++)if(n[d]==u){h=!0;break}!h&&u!==void 0&&(n[s]=u,s++)}return n}_addItem(e){const t=UEe(e,this._idProp),r=t[this._idProp];if(this._data.has(r))throw new Error("Cannot add item: item with id "+r+" already exists");return this._data.set(r,t),++this.length,r}_updateItem(e){const t=e[this._idProp];if(t==null)throw new Error("Cannot update item: item has no id (item: "+H1e(e)+")");const r=this._data.get(t);if(!r)throw new Error("Cannot update item: no item with id "+t+" found");return this._data.set(t,yz(yz({},r),e)),t}stream(e){if(e){const r=this._data;return new gz({*[Ic](){for(const n of e){const s=r.get(n);s!=null&&(yield[n,s])}}})}else{var t;return new gz({[Ic]:rd(t=uEe(this._data)).call(t,this._data)})}}};function VEe(i,e){return typeof e=="object"&&e!==null&&i===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof nl(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Kr(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function XEe(i,e){return typeof e=="object"&&e!==null&&i===e.idProp&&typeof nl(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Kr(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&VEe(i,e.getDataSet())}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var pee;function K(){return pee.apply(null,arguments)}function KEe(i){pee=i}function $n(i){return i instanceof Array||Object.prototype.toString.call(i)==="[object Array]"}function Ba(i){return i!=null&&Object.prototype.toString.call(i)==="[object Object]"}function Ze(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Kk(i){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(i).length===0;var e;for(e in i)if(Ze(i,e))return!1;return!0}function cr(i){return i===void 0}function fo(i){return typeof i=="number"||Object.prototype.toString.call(i)==="[object Number]"}function Uf(i){return i instanceof Date||Object.prototype.toString.call(i)==="[object Date]"}function mee(i,e){var t=[],r,n=i.length;for(r=0;r<n;++r)t.push(e(i[r],r));return t}function Wo(i,e){for(var t in e)Ze(e,t)&&(i[t]=e[t]);return Ze(e,"toString")&&(i.toString=e.toString),Ze(e,"valueOf")&&(i.valueOf=e.valueOf),i}function Cs(i,e,t,r){return Lee(i,e,t,r,!0).utc()}function ZEe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function De(i){return i._pf==null&&(i._pf=ZEe()),i._pf}var aD;Array.prototype.some?aD=Array.prototype.some:aD=function(i){var e=Object(this),t=e.length>>>0,r;for(r=0;r<t;r++)if(r in e&&i.call(this,e[r],r,e))return!0;return!1};function Zk(i){var e=null,t=!1,r=i._d&&!isNaN(i._d.getTime());if(r&&(e=De(i),t=aD.call(e.parsedDateParts,function(n){return n!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t),i._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(i))i._isValid=r;else return r;return i._isValid}function Fv(i){var e=Cs(NaN);return i!=null?Wo(De(e),i):De(e).userInvalidated=!0,e}var bz=K.momentProperties=[],Gx=!1;function Qk(i,e){var t,r,n,s=bz.length;if(cr(e._isAMomentObject)||(i._isAMomentObject=e._isAMomentObject),cr(e._i)||(i._i=e._i),cr(e._f)||(i._f=e._f),cr(e._l)||(i._l=e._l),cr(e._strict)||(i._strict=e._strict),cr(e._tzm)||(i._tzm=e._tzm),cr(e._isUTC)||(i._isUTC=e._isUTC),cr(e._offset)||(i._offset=e._offset),cr(e._pf)||(i._pf=De(e)),cr(e._locale)||(i._locale=e._locale),s>0)for(t=0;t<s;t++)r=bz[t],n=e[r],cr(n)||(i[r]=n);return i}function Vf(i){Qk(this,i),this._d=new Date(i._d!=null?i._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Gx===!1&&(Gx=!0,K.updateOffset(this),Gx=!1)}function Fn(i){return i instanceof Vf||i!=null&&i._isAMomentObject!=null}function gee(i){K.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+i)}function hn(i,e){var t=!0;return Wo(function(){if(K.deprecationHandler!=null&&K.deprecationHandler(null,i),t){var r=[],n,s,o,a=arguments.length;for(s=0;s<a;s++){if(n="",typeof arguments[s]=="object"){n+=`
[`+s+"] ";for(o in arguments[0])Ze(arguments[0],o)&&(n+=o+": "+arguments[0][o]+", ");n=n.slice(0,-2)}else n=arguments[s];r.push(n)}gee(i+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),t=!1}return e.apply(this,arguments)},e)}var _z={};function vee(i,e){K.deprecationHandler!=null&&K.deprecationHandler(i,e),_z[i]||(gee(e),_z[i]=!0)}K.suppressDeprecationWarnings=!1;K.deprecationHandler=null;function Ts(i){return typeof Function<"u"&&i instanceof Function||Object.prototype.toString.call(i)==="[object Function]"}function QEe(i){var e,t;for(t in i)Ze(i,t)&&(e=i[t],Ts(e)?this[t]=e:this["_"+t]=e);this._config=i,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function lD(i,e){var t=Wo({},i),r;for(r in e)Ze(e,r)&&(Ba(i[r])&&Ba(e[r])?(t[r]={},Wo(t[r],i[r]),Wo(t[r],e[r])):e[r]!=null?t[r]=e[r]:delete t[r]);for(r in i)Ze(i,r)&&!Ze(e,r)&&Ba(i[r])&&(t[r]=Wo({},t[r]));return t}function Jk(i){i!=null&&this.set(i)}var cD;Object.keys?cD=Object.keys:cD=function(i){var e,t=[];for(e in i)Ze(i,e)&&t.push(e);return t};var JEe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function eCe(i,e,t){var r=this._calendar[i]||this._calendar.sameElse;return Ts(r)?r.call(e,t):r}function bs(i,e,t){var r=""+Math.abs(i),n=e-r.length,s=i>=0;return(s?t?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+r}var eM=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,rm=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wx={},Uc={};function de(i,e,t,r){var n=r;typeof r=="string"&&(n=function(){return this[r]()}),i&&(Uc[i]=n),e&&(Uc[e[0]]=function(){return bs(n.apply(this,arguments),e[1],e[2])}),t&&(Uc[t]=function(){return this.localeData().ordinal(n.apply(this,arguments),i)})}function tCe(i){return i.match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"")}function iCe(i){var e=i.match(eM),t,r;for(t=0,r=e.length;t<r;t++)Uc[e[t]]?e[t]=Uc[e[t]]:e[t]=tCe(e[t]);return function(n){var s="",o;for(o=0;o<r;o++)s+=Ts(e[o])?e[o].call(n,i):e[o];return s}}function Om(i,e){return i.isValid()?(e=yee(e,i.localeData()),Wx[e]=Wx[e]||iCe(e),Wx[e](i)):i.localeData().invalidDate()}function yee(i,e){var t=5;function r(n){return e.longDateFormat(n)||n}for(rm.lastIndex=0;t>=0&&rm.test(i);)i=i.replace(rm,r),rm.lastIndex=0,t-=1;return i}var rCe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function nCe(i){var e=this._longDateFormat[i],t=this._longDateFormat[i.toUpperCase()];return e||!t?e:(this._longDateFormat[i]=t.match(eM).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[i])}var sCe="Invalid date";function oCe(){return this._invalidDate}var aCe="%d",lCe=/\d{1,2}/;function cCe(i){return this._ordinal.replace("%d",i)}var uCe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function hCe(i,e,t,r){var n=this._relativeTime[t];return Ts(n)?n(i,e,t,r):n.replace(/%d/i,i)}function dCe(i,e){var t=this._relativeTime[i>0?"future":"past"];return Ts(t)?t(e):t.replace(/%s/i,e)}var wz={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function dn(i){return typeof i=="string"?wz[i]||wz[i.toLowerCase()]:void 0}function tM(i){var e={},t,r;for(r in i)Ze(i,r)&&(t=dn(r),t&&(e[t]=i[r]));return e}var fCe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function pCe(i){var e=[],t;for(t in i)Ze(i,t)&&e.push({unit:t,priority:fCe[t]});return e.sort(function(r,n){return r.priority-n.priority}),e}var bee=/\d/,zr=/\d\d/,_ee=/\d{3}/,iM=/\d{4}/,Lv=/[+-]?\d{6}/,Ct=/\d\d?/,wee=/\d\d\d\d?/,xee=/\d\d\d\d\d\d?/,qv=/\d{1,3}/,rM=/\d{1,4}/,jv=/[+-]?\d{1,6}/,Ju=/\d+/,Gv=/[+-]?\d+/,mCe=/Z|[+-]\d\d:?\d\d/gi,Wv=/Z|[+-]\d\d(?::?\d\d)?/gi,gCe=/[+-]?\d+(\.\d{1,3})?/,Xf=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,eh=/^[1-9]\d?/,nM=/^([1-9]\d|\d)/,rg;rg={};function se(i,e,t){rg[i]=Ts(e)?e:function(r,n){return r&&t?t:e}}function vCe(i,e){return Ze(rg,i)?rg[i](e._strict,e._locale):new RegExp(yCe(i))}function yCe(i){return eo(i.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,r,n,s){return t||r||n||s}))}function eo(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Zr(i){return i<0?Math.ceil(i)||0:Math.floor(i)}function Fe(i){var e=+i,t=0;return e!==0&&isFinite(e)&&(t=Zr(e)),t}var uD={};function vt(i,e){var t,r=e,n;for(typeof i=="string"&&(i=[i]),fo(e)&&(r=function(s,o){o[e]=Fe(s)}),n=i.length,t=0;t<n;t++)uD[i[t]]=r}function Kf(i,e){vt(i,function(t,r,n,s){n._w=n._w||{},e(t,n._w,n,s)})}function bCe(i,e,t){e!=null&&Ze(uD,i)&&uD[i](e,t._a,t,i)}function Bv(i){return i%4===0&&i%100!==0||i%400===0}var Gi=0,Hs=1,ts=2,hi=3,Cn=4,Ys=5,$a=6,_Ce=7,wCe=8;de("Y",0,0,function(){var i=this.year();return i<=9999?bs(i,4):"+"+i});de(0,["YY",2],0,function(){return this.year()%100});de(0,["YYYY",4],0,"year");de(0,["YYYYY",5],0,"year");de(0,["YYYYYY",6,!0],0,"year");se("Y",Gv);se("YY",Ct,zr);se("YYYY",rM,iM);se("YYYYY",jv,Lv);se("YYYYYY",jv,Lv);vt(["YYYYY","YYYYYY"],Gi);vt("YYYY",function(i,e){e[Gi]=i.length===2?K.parseTwoDigitYear(i):Fe(i)});vt("YY",function(i,e){e[Gi]=K.parseTwoDigitYear(i)});vt("Y",function(i,e){e[Gi]=parseInt(i,10)});function od(i){return Bv(i)?366:365}K.parseTwoDigitYear=function(i){return Fe(i)+(Fe(i)>68?1900:2e3)};var See=th("FullYear",!0);function xCe(){return Bv(this.year())}function th(i,e){return function(t){return t!=null?(Eee(this,i,t),K.updateOffset(this,e),this):Wd(this,i)}}function Wd(i,e){if(!i.isValid())return NaN;var t=i._d,r=i._isUTC;switch(e){case"Milliseconds":return r?t.getUTCMilliseconds():t.getMilliseconds();case"Seconds":return r?t.getUTCSeconds():t.getSeconds();case"Minutes":return r?t.getUTCMinutes():t.getMinutes();case"Hours":return r?t.getUTCHours():t.getHours();case"Date":return r?t.getUTCDate():t.getDate();case"Day":return r?t.getUTCDay():t.getDay();case"Month":return r?t.getUTCMonth():t.getMonth();case"FullYear":return r?t.getUTCFullYear():t.getFullYear();default:return NaN}}function Eee(i,e,t){var r,n,s,o,a;if(!(!i.isValid()||isNaN(t))){switch(r=i._d,n=i._isUTC,e){case"Milliseconds":return void(n?r.setUTCMilliseconds(t):r.setMilliseconds(t));case"Seconds":return void(n?r.setUTCSeconds(t):r.setSeconds(t));case"Minutes":return void(n?r.setUTCMinutes(t):r.setMinutes(t));case"Hours":return void(n?r.setUTCHours(t):r.setHours(t));case"Date":return void(n?r.setUTCDate(t):r.setDate(t));case"FullYear":break;default:return}s=t,o=i.month(),a=i.date(),a=a===29&&o===1&&!Bv(s)?28:a,n?r.setUTCFullYear(s,o,a):r.setFullYear(s,o,a)}}function SCe(i){return i=dn(i),Ts(this[i])?this[i]():this}function ECe(i,e){if(typeof i=="object"){i=tM(i);var t=pCe(i),r,n=t.length;for(r=0;r<n;r++)this[t[r].unit](i[t[r].unit])}else if(i=dn(i),Ts(this[i]))return this[i](e);return this}function CCe(i,e){return(i%e+e)%e}var Ut;Array.prototype.indexOf?Ut=Array.prototype.indexOf:Ut=function(i){var e;for(e=0;e<this.length;++e)if(this[e]===i)return e;return-1};function sM(i,e){if(isNaN(i)||isNaN(e))return NaN;var t=CCe(e,12);return i+=(e-t)/12,t===1?Bv(i)?29:28:31-t%7%2}de("M",["MM",2],"Mo",function(){return this.month()+1});de("MMM",0,0,function(i){return this.localeData().monthsShort(this,i)});de("MMMM",0,0,function(i){return this.localeData().months(this,i)});se("M",Ct,eh);se("MM",Ct,zr);se("MMM",function(i,e){return e.monthsShortRegex(i)});se("MMMM",function(i,e){return e.monthsRegex(i)});vt(["M","MM"],function(i,e){e[Hs]=Fe(i)-1});vt(["MMM","MMMM"],function(i,e,t,r){var n=t._locale.monthsParse(i,r,t._strict);n!=null?e[Hs]=n:De(t).invalidMonth=i});var TCe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Cee="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Tee=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,OCe=Xf,RCe=Xf;function PCe(i,e){return i?$n(this._months)?this._months[i.month()]:this._months[(this._months.isFormat||Tee).test(e)?"format":"standalone"][i.month()]:$n(this._months)?this._months:this._months.standalone}function DCe(i,e){return i?$n(this._monthsShort)?this._monthsShort[i.month()]:this._monthsShort[Tee.test(e)?"format":"standalone"][i.month()]:$n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ICe(i,e,t){var r,n,s,o=i.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=Cs([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return t?e==="MMM"?(n=Ut.call(this._shortMonthsParse,o),n!==-1?n:null):(n=Ut.call(this._longMonthsParse,o),n!==-1?n:null):e==="MMM"?(n=Ut.call(this._shortMonthsParse,o),n!==-1?n:(n=Ut.call(this._longMonthsParse,o),n!==-1?n:null)):(n=Ut.call(this._longMonthsParse,o),n!==-1?n:(n=Ut.call(this._shortMonthsParse,o),n!==-1?n:null))}function kCe(i,e,t){var r,n,s;if(this._monthsParseExact)return ICe.call(this,i,e,t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(n=Cs([2e3,r]),t&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),!t&&!this._monthsParse[r]&&(s="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),t&&e==="MMMM"&&this._longMonthsParse[r].test(i))return r;if(t&&e==="MMM"&&this._shortMonthsParse[r].test(i))return r;if(!t&&this._monthsParse[r].test(i))return r}}function Oee(i,e){if(!i.isValid())return i;if(typeof e=="string"){if(/^\d+$/.test(e))e=Fe(e);else if(e=i.localeData().monthsParse(e),!fo(e))return i}var t=e,r=i.date();return r=r<29?r:Math.min(r,sM(i.year(),t)),i._isUTC?i._d.setUTCMonth(t,r):i._d.setMonth(t,r),i}function Ree(i){return i!=null?(Oee(this,i),K.updateOffset(this,!0),this):Wd(this,"Month")}function MCe(){return sM(this.year(),this.month())}function ACe(i){return this._monthsParseExact?(Ze(this,"_monthsRegex")||Pee.call(this),i?this._monthsShortStrictRegex:this._monthsShortRegex):(Ze(this,"_monthsShortRegex")||(this._monthsShortRegex=OCe),this._monthsShortStrictRegex&&i?this._monthsShortStrictRegex:this._monthsShortRegex)}function NCe(i){return this._monthsParseExact?(Ze(this,"_monthsRegex")||Pee.call(this),i?this._monthsStrictRegex:this._monthsRegex):(Ze(this,"_monthsRegex")||(this._monthsRegex=RCe),this._monthsStrictRegex&&i?this._monthsStrictRegex:this._monthsRegex)}function Pee(){function i(l,c){return c.length-l.length}var e=[],t=[],r=[],n,s,o,a;for(n=0;n<12;n++)s=Cs([2e3,n]),o=eo(this.monthsShort(s,"")),a=eo(this.months(s,"")),e.push(o),t.push(a),r.push(a),r.push(o);e.sort(i),t.sort(i),r.sort(i),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function $Ce(i,e,t,r,n,s,o){var a;return i<100&&i>=0?(a=new Date(i+400,e,t,r,n,s,o),isFinite(a.getFullYear())&&a.setFullYear(i)):a=new Date(i,e,t,r,n,s,o),a}function Bd(i){var e,t;return i<100&&i>=0?(t=Array.prototype.slice.call(arguments),t[0]=i+400,e=new Date(Date.UTC.apply(null,t)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(i)):e=new Date(Date.UTC.apply(null,arguments)),e}function ng(i,e,t){var r=7+e-t,n=(7+Bd(i,0,r).getUTCDay()-e)%7;return-n+r-1}function Dee(i,e,t,r,n){var s=(7+t-r)%7,o=ng(i,r,n),a=1+7*(e-1)+s+o,l,c;return a<=0?(l=i-1,c=od(l)+a):a>od(i)?(l=i+1,c=a-od(i)):(l=i,c=a),{year:l,dayOfYear:c}}function zd(i,e,t){var r=ng(i.year(),e,t),n=Math.floor((i.dayOfYear()-r-1)/7)+1,s,o;return n<1?(o=i.year()-1,s=n+to(o,e,t)):n>to(i.year(),e,t)?(s=n-to(i.year(),e,t),o=i.year()+1):(o=i.year(),s=n),{week:s,year:o}}function to(i,e,t){var r=ng(i,e,t),n=ng(i+1,e,t);return(od(i)-r+n)/7}de("w",["ww",2],"wo","week");de("W",["WW",2],"Wo","isoWeek");se("w",Ct,eh);se("ww",Ct,zr);se("W",Ct,eh);se("WW",Ct,zr);Kf(["w","ww","W","WW"],function(i,e,t,r){e[r.substr(0,1)]=Fe(i)});function FCe(i){return zd(i,this._week.dow,this._week.doy).week}var LCe={dow:0,doy:6};function qCe(){return this._week.dow}function jCe(){return this._week.doy}function GCe(i){var e=this.localeData().week(this);return i==null?e:this.add((i-e)*7,"d")}function WCe(i){var e=zd(this,1,4).week;return i==null?e:this.add((i-e)*7,"d")}de("d",0,"do","day");de("dd",0,0,function(i){return this.localeData().weekdaysMin(this,i)});de("ddd",0,0,function(i){return this.localeData().weekdaysShort(this,i)});de("dddd",0,0,function(i){return this.localeData().weekdays(this,i)});de("e",0,0,"weekday");de("E",0,0,"isoWeekday");se("d",Ct);se("e",Ct);se("E",Ct);se("dd",function(i,e){return e.weekdaysMinRegex(i)});se("ddd",function(i,e){return e.weekdaysShortRegex(i)});se("dddd",function(i,e){return e.weekdaysRegex(i)});Kf(["dd","ddd","dddd"],function(i,e,t,r){var n=t._locale.weekdaysParse(i,r,t._strict);n!=null?e.d=n:De(t).invalidWeekday=i});Kf(["d","e","E"],function(i,e,t,r){e[r]=Fe(i)});function BCe(i,e){return typeof i!="string"?i:isNaN(i)?(i=e.weekdaysParse(i),typeof i=="number"?i:null):parseInt(i,10)}function zCe(i,e){return typeof i=="string"?e.weekdaysParse(i)%7||7:isNaN(i)?null:i}function oM(i,e){return i.slice(e,7).concat(i.slice(0,e))}var HCe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Iee="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),YCe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),UCe=Xf,VCe=Xf,XCe=Xf;function KCe(i,e){var t=$n(this._weekdays)?this._weekdays:this._weekdays[i&&i!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return i===!0?oM(t,this._week.dow):i?t[i.day()]:t}function ZCe(i){return i===!0?oM(this._weekdaysShort,this._week.dow):i?this._weekdaysShort[i.day()]:this._weekdaysShort}function QCe(i){return i===!0?oM(this._weekdaysMin,this._week.dow):i?this._weekdaysMin[i.day()]:this._weekdaysMin}function JCe(i,e,t){var r,n,s,o=i.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=Cs([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return t?e==="dddd"?(n=Ut.call(this._weekdaysParse,o),n!==-1?n:null):e==="ddd"?(n=Ut.call(this._shortWeekdaysParse,o),n!==-1?n:null):(n=Ut.call(this._minWeekdaysParse,o),n!==-1?n:null):e==="dddd"?(n=Ut.call(this._weekdaysParse,o),n!==-1||(n=Ut.call(this._shortWeekdaysParse,o),n!==-1)?n:(n=Ut.call(this._minWeekdaysParse,o),n!==-1?n:null)):e==="ddd"?(n=Ut.call(this._shortWeekdaysParse,o),n!==-1||(n=Ut.call(this._weekdaysParse,o),n!==-1)?n:(n=Ut.call(this._minWeekdaysParse,o),n!==-1?n:null)):(n=Ut.call(this._minWeekdaysParse,o),n!==-1||(n=Ut.call(this._weekdaysParse,o),n!==-1)?n:(n=Ut.call(this._shortWeekdaysParse,o),n!==-1?n:null))}function eTe(i,e,t){var r,n,s;if(this._weekdaysParseExact)return JCe.call(this,i,e,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(n=Cs([2e3,1]).day(r),t&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(n,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(n,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(n,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),t&&e==="dddd"&&this._fullWeekdaysParse[r].test(i))return r;if(t&&e==="ddd"&&this._shortWeekdaysParse[r].test(i))return r;if(t&&e==="dd"&&this._minWeekdaysParse[r].test(i))return r;if(!t&&this._weekdaysParse[r].test(i))return r}}function tTe(i){if(!this.isValid())return i!=null?this:NaN;var e=Wd(this,"Day");return i!=null?(i=BCe(i,this.localeData()),this.add(i-e,"d")):e}function iTe(i){if(!this.isValid())return i!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return i==null?e:this.add(i-e,"d")}function rTe(i){if(!this.isValid())return i!=null?this:NaN;if(i!=null){var e=zCe(i,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function nTe(i){return this._weekdaysParseExact?(Ze(this,"_weekdaysRegex")||aM.call(this),i?this._weekdaysStrictRegex:this._weekdaysRegex):(Ze(this,"_weekdaysRegex")||(this._weekdaysRegex=UCe),this._weekdaysStrictRegex&&i?this._weekdaysStrictRegex:this._weekdaysRegex)}function sTe(i){return this._weekdaysParseExact?(Ze(this,"_weekdaysRegex")||aM.call(this),i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ze(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=VCe),this._weekdaysShortStrictRegex&&i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function oTe(i){return this._weekdaysParseExact?(Ze(this,"_weekdaysRegex")||aM.call(this),i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ze(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=XCe),this._weekdaysMinStrictRegex&&i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function aM(){function i(u,h){return h.length-u.length}var e=[],t=[],r=[],n=[],s,o,a,l,c;for(s=0;s<7;s++)o=Cs([2e3,1]).day(s),a=eo(this.weekdaysMin(o,"")),l=eo(this.weekdaysShort(o,"")),c=eo(this.weekdays(o,"")),e.push(a),t.push(l),r.push(c),n.push(a),n.push(l),n.push(c);e.sort(i),t.sort(i),r.sort(i),n.sort(i),this._weekdaysRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function lM(){return this.hours()%12||12}function aTe(){return this.hours()||24}de("H",["HH",2],0,"hour");de("h",["hh",2],0,lM);de("k",["kk",2],0,aTe);de("hmm",0,0,function(){return""+lM.apply(this)+bs(this.minutes(),2)});de("hmmss",0,0,function(){return""+lM.apply(this)+bs(this.minutes(),2)+bs(this.seconds(),2)});de("Hmm",0,0,function(){return""+this.hours()+bs(this.minutes(),2)});de("Hmmss",0,0,function(){return""+this.hours()+bs(this.minutes(),2)+bs(this.seconds(),2)});function kee(i,e){de(i,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}kee("a",!0);kee("A",!1);function Mee(i,e){return e._meridiemParse}se("a",Mee);se("A",Mee);se("H",Ct,nM);se("h",Ct,eh);se("k",Ct,eh);se("HH",Ct,zr);se("hh",Ct,zr);se("kk",Ct,zr);se("hmm",wee);se("hmmss",xee);se("Hmm",wee);se("Hmmss",xee);vt(["H","HH"],hi);vt(["k","kk"],function(i,e,t){var r=Fe(i);e[hi]=r===24?0:r});vt(["a","A"],function(i,e,t){t._isPm=t._locale.isPM(i),t._meridiem=i});vt(["h","hh"],function(i,e,t){e[hi]=Fe(i),De(t).bigHour=!0});vt("hmm",function(i,e,t){var r=i.length-2;e[hi]=Fe(i.substr(0,r)),e[Cn]=Fe(i.substr(r)),De(t).bigHour=!0});vt("hmmss",function(i,e,t){var r=i.length-4,n=i.length-2;e[hi]=Fe(i.substr(0,r)),e[Cn]=Fe(i.substr(r,2)),e[Ys]=Fe(i.substr(n)),De(t).bigHour=!0});vt("Hmm",function(i,e,t){var r=i.length-2;e[hi]=Fe(i.substr(0,r)),e[Cn]=Fe(i.substr(r))});vt("Hmmss",function(i,e,t){var r=i.length-4,n=i.length-2;e[hi]=Fe(i.substr(0,r)),e[Cn]=Fe(i.substr(r,2)),e[Ys]=Fe(i.substr(n))});function lTe(i){return(i+"").toLowerCase().charAt(0)==="p"}var cTe=/[ap]\.?m?\.?/i,uTe=th("Hours",!0);function hTe(i,e,t){return i>11?t?"pm":"PM":t?"am":"AM"}var Aee={calendar:JEe,longDateFormat:rCe,invalidDate:sCe,ordinal:aCe,dayOfMonthOrdinalParse:lCe,relativeTime:uCe,months:TCe,monthsShort:Cee,week:LCe,weekdays:HCe,weekdaysMin:YCe,weekdaysShort:Iee,meridiemParse:cTe},kt={},Oh={},Hd;function dTe(i,e){var t,r=Math.min(i.length,e.length);for(t=0;t<r;t+=1)if(i[t]!==e[t])return t;return r}function xz(i){return i&&i.toLowerCase().replace("_","-")}function fTe(i){for(var e=0,t,r,n,s;e<i.length;){for(s=xz(i[e]).split("-"),t=s.length,r=xz(i[e+1]),r=r?r.split("-"):null;t>0;){if(n=zv(s.slice(0,t).join("-")),n)return n;if(r&&r.length>=t&&dTe(s,r)>=t-1)break;t--}e++}return Hd}function pTe(i){return!!(i&&i.match("^[^/\\\\]*$"))}function zv(i){var e=null,t;if(kt[i]===void 0&&typeof module<"u"&&module&&module.exports&&pTe(i))try{e=Hd._abbr,t=require,t("./locale/"+i),Uo(e)}catch{kt[i]=null}return kt[i]}function Uo(i,e){var t;return i&&(cr(e)?t=yo(i):t=cM(i,e),t?Hd=t:typeof console<"u"&&console.warn&&console.warn("Locale "+i+" not found. Did you forget to load it?")),Hd._abbr}function cM(i,e){if(e!==null){var t,r=Aee;if(e.abbr=i,kt[i]!=null)vee("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=kt[i]._config;else if(e.parentLocale!=null)if(kt[e.parentLocale]!=null)r=kt[e.parentLocale]._config;else if(t=zv(e.parentLocale),t!=null)r=t._config;else return Oh[e.parentLocale]||(Oh[e.parentLocale]=[]),Oh[e.parentLocale].push({name:i,config:e}),null;return kt[i]=new Jk(lD(r,e)),Oh[i]&&Oh[i].forEach(function(n){cM(n.name,n.config)}),Uo(i),kt[i]}else return delete kt[i],null}function mTe(i,e){if(e!=null){var t,r,n=Aee;kt[i]!=null&&kt[i].parentLocale!=null?kt[i].set(lD(kt[i]._config,e)):(r=zv(i),r!=null&&(n=r._config),e=lD(n,e),r==null&&(e.abbr=i),t=new Jk(e),t.parentLocale=kt[i],kt[i]=t),Uo(i)}else kt[i]!=null&&(kt[i].parentLocale!=null?(kt[i]=kt[i].parentLocale,i===Uo()&&Uo(i)):kt[i]!=null&&delete kt[i]);return kt[i]}function yo(i){var e;if(i&&i._locale&&i._locale._abbr&&(i=i._locale._abbr),!i)return Hd;if(!$n(i)){if(e=zv(i),e)return e;i=[i]}return fTe(i)}function gTe(){return cD(kt)}function uM(i){var e,t=i._a;return t&&De(i).overflow===-2&&(e=t[Hs]<0||t[Hs]>11?Hs:t[ts]<1||t[ts]>sM(t[Gi],t[Hs])?ts:t[hi]<0||t[hi]>24||t[hi]===24&&(t[Cn]!==0||t[Ys]!==0||t[$a]!==0)?hi:t[Cn]<0||t[Cn]>59?Cn:t[Ys]<0||t[Ys]>59?Ys:t[$a]<0||t[$a]>999?$a:-1,De(i)._overflowDayOfYear&&(e<Gi||e>ts)&&(e=ts),De(i)._overflowWeeks&&e===-1&&(e=_Ce),De(i)._overflowWeekday&&e===-1&&(e=wCe),De(i).overflow=e),i}var vTe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yTe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bTe=/Z|[+-]\d\d(?::?\d\d)?/,nm=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Bx=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],_Te=/^\/?Date\((-?\d+)/i,wTe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,xTe={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Nee(i){var e,t,r=i._i,n=vTe.exec(r)||yTe.exec(r),s,o,a,l,c=nm.length,u=Bx.length;if(n){for(De(i).iso=!0,e=0,t=c;e<t;e++)if(nm[e][1].exec(n[1])){o=nm[e][0],s=nm[e][2]!==!1;break}if(o==null){i._isValid=!1;return}if(n[3]){for(e=0,t=u;e<t;e++)if(Bx[e][1].exec(n[3])){a=(n[2]||" ")+Bx[e][0];break}if(a==null){i._isValid=!1;return}}if(!s&&a!=null){i._isValid=!1;return}if(n[4])if(bTe.exec(n[4]))l="Z";else{i._isValid=!1;return}i._f=o+(a||"")+(l||""),dM(i)}else i._isValid=!1}function STe(i,e,t,r,n,s){var o=[ETe(i),Cee.indexOf(e),parseInt(t,10),parseInt(r,10),parseInt(n,10)];return s&&o.push(parseInt(s,10)),o}function ETe(i){var e=parseInt(i,10);return e<=49?2e3+e:e<=999?1900+e:e}function CTe(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function TTe(i,e,t){if(i){var r=Iee.indexOf(i),n=new Date(e[0],e[1],e[2]).getDay();if(r!==n)return De(t).weekdayMismatch=!0,t._isValid=!1,!1}return!0}function OTe(i,e,t){if(i)return xTe[i];if(e)return 0;var r=parseInt(t,10),n=r%100,s=(r-n)/100;return s*60+n}function $ee(i){var e=wTe.exec(CTe(i._i)),t;if(e){if(t=STe(e[4],e[3],e[2],e[5],e[6],e[7]),!TTe(e[1],t,i))return;i._a=t,i._tzm=OTe(e[8],e[9],e[10]),i._d=Bd.apply(null,i._a),i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),De(i).rfc2822=!0}else i._isValid=!1}function RTe(i){var e=_Te.exec(i._i);if(e!==null){i._d=new Date(+e[1]);return}if(Nee(i),i._isValid===!1)delete i._isValid;else return;if($ee(i),i._isValid===!1)delete i._isValid;else return;i._strict?i._isValid=!1:K.createFromInputFallback(i)}K.createFromInputFallback=hn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(i){i._d=new Date(i._i+(i._useUTC?" UTC":""))});function xc(i,e,t){return i??e??t}function PTe(i){var e=new Date(K.now());return i._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function hM(i){var e,t,r=[],n,s,o;if(!i._d){for(n=PTe(i),i._w&&i._a[ts]==null&&i._a[Hs]==null&&DTe(i),i._dayOfYear!=null&&(o=xc(i._a[Gi],n[Gi]),(i._dayOfYear>od(o)||i._dayOfYear===0)&&(De(i)._overflowDayOfYear=!0),t=Bd(o,0,i._dayOfYear),i._a[Hs]=t.getUTCMonth(),i._a[ts]=t.getUTCDate()),e=0;e<3&&i._a[e]==null;++e)i._a[e]=r[e]=n[e];for(;e<7;e++)i._a[e]=r[e]=i._a[e]==null?e===2?1:0:i._a[e];i._a[hi]===24&&i._a[Cn]===0&&i._a[Ys]===0&&i._a[$a]===0&&(i._nextDay=!0,i._a[hi]=0),i._d=(i._useUTC?Bd:$Ce).apply(null,r),s=i._useUTC?i._d.getUTCDay():i._d.getDay(),i._tzm!=null&&i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),i._nextDay&&(i._a[hi]=24),i._w&&typeof i._w.d<"u"&&i._w.d!==s&&(De(i).weekdayMismatch=!0)}}function DTe(i){var e,t,r,n,s,o,a,l,c;e=i._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,t=xc(e.GG,i._a[Gi],zd(Et(),1,4).year),r=xc(e.W,1),n=xc(e.E,1),(n<1||n>7)&&(l=!0)):(s=i._locale._week.dow,o=i._locale._week.doy,c=zd(Et(),s,o),t=xc(e.gg,i._a[Gi],c.year),r=xc(e.w,c.week),e.d!=null?(n=e.d,(n<0||n>6)&&(l=!0)):e.e!=null?(n=e.e+s,(e.e<0||e.e>6)&&(l=!0)):n=s),r<1||r>to(t,s,o)?De(i)._overflowWeeks=!0:l!=null?De(i)._overflowWeekday=!0:(a=Dee(t,r,n,s,o),i._a[Gi]=a.year,i._dayOfYear=a.dayOfYear)}K.ISO_8601=function(){};K.RFC_2822=function(){};function dM(i){if(i._f===K.ISO_8601){Nee(i);return}if(i._f===K.RFC_2822){$ee(i);return}i._a=[],De(i).empty=!0;var e=""+i._i,t,r,n,s,o,a=e.length,l=0,c,u;for(n=yee(i._f,i._locale).match(eM)||[],u=n.length,t=0;t<u;t++)s=n[t],r=(e.match(vCe(s,i))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&De(i).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),Uc[s]?(r?De(i).empty=!1:De(i).unusedTokens.push(s),bCe(s,r,i)):i._strict&&!r&&De(i).unusedTokens.push(s);De(i).charsLeftOver=a-l,e.length>0&&De(i).unusedInput.push(e),i._a[hi]<=12&&De(i).bigHour===!0&&i._a[hi]>0&&(De(i).bigHour=void 0),De(i).parsedDateParts=i._a.slice(0),De(i).meridiem=i._meridiem,i._a[hi]=ITe(i._locale,i._a[hi],i._meridiem),c=De(i).era,c!==null&&(i._a[Gi]=i._locale.erasConvertYear(c,i._a[Gi])),hM(i),uM(i)}function ITe(i,e,t){var r;return t==null?e:i.meridiemHour!=null?i.meridiemHour(e,t):(i.isPM!=null&&(r=i.isPM(t),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function kTe(i){var e,t,r,n,s,o,a=!1,l=i._f.length;if(l===0){De(i).invalidFormat=!0,i._d=new Date(NaN);return}for(n=0;n<l;n++)s=0,o=!1,e=Qk({},i),i._useUTC!=null&&(e._useUTC=i._useUTC),e._f=i._f[n],dM(e),Zk(e)&&(o=!0),s+=De(e).charsLeftOver,s+=De(e).unusedTokens.length*10,De(e).score=s,a?s<r&&(r=s,t=e):(r==null||s<r||o)&&(r=s,t=e,o&&(a=!0));Wo(i,t||e)}function MTe(i){if(!i._d){var e=tM(i._i),t=e.day===void 0?e.date:e.day;i._a=mee([e.year,e.month,t,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),hM(i)}}function ATe(i){var e=new Vf(uM(Fee(i)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Fee(i){var e=i._i,t=i._f;return i._locale=i._locale||yo(i._l),e===null||t===void 0&&e===""?Fv({nullInput:!0}):(typeof e=="string"&&(i._i=e=i._locale.preparse(e)),Fn(e)?new Vf(uM(e)):(Uf(e)?i._d=e:$n(t)?kTe(i):t?dM(i):NTe(i),Zk(i)||(i._d=null),i))}function NTe(i){var e=i._i;cr(e)?i._d=new Date(K.now()):Uf(e)?i._d=new Date(e.valueOf()):typeof e=="string"?RTe(i):$n(e)?(i._a=mee(e.slice(0),function(t){return parseInt(t,10)}),hM(i)):Ba(e)?MTe(i):fo(e)?i._d=new Date(e):K.createFromInputFallback(i)}function Lee(i,e,t,r,n){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(t===!0||t===!1)&&(r=t,t=void 0),(Ba(i)&&Kk(i)||$n(i)&&i.length===0)&&(i=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=n,s._l=t,s._i=i,s._f=e,s._strict=r,ATe(s)}function Et(i,e,t,r){return Lee(i,e,t,r,!1)}var $Te=hn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=Et.apply(null,arguments);return this.isValid()&&i.isValid()?i<this?this:i:Fv()}),FTe=hn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=Et.apply(null,arguments);return this.isValid()&&i.isValid()?i>this?this:i:Fv()});function qee(i,e){var t,r;if(e.length===1&&$n(e[0])&&(e=e[0]),!e.length)return Et();for(t=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][i](t))&&(t=e[r]);return t}function LTe(){var i=[].slice.call(arguments,0);return qee("isBefore",i)}function qTe(){var i=[].slice.call(arguments,0);return qee("isAfter",i)}var jTe=function(){return Date.now?Date.now():+new Date},Rh=["year","quarter","month","week","day","hour","minute","second","millisecond"];function GTe(i){var e,t=!1,r,n=Rh.length;for(e in i)if(Ze(i,e)&&!(Ut.call(Rh,e)!==-1&&(i[e]==null||!isNaN(i[e]))))return!1;for(r=0;r<n;++r)if(i[Rh[r]]){if(t)return!1;parseFloat(i[Rh[r]])!==Fe(i[Rh[r]])&&(t=!0)}return!0}function WTe(){return this._isValid}function BTe(){return zn(NaN)}function Hv(i){var e=tM(i),t=e.year||0,r=e.quarter||0,n=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=GTe(e),this._milliseconds=+u+c*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+n+r*3+t*12,this._data={},this._locale=yo(),this._bubble()}function Rm(i){return i instanceof Hv}function hD(i){return i<0?Math.round(-1*i)*-1:Math.round(i)}function zTe(i,e,t){var r=Math.min(i.length,e.length),n=Math.abs(i.length-e.length),s=0,o;for(o=0;o<r;o++)Fe(i[o])!==Fe(e[o])&&s++;return s+n}function jee(i,e){de(i,0,0,function(){var t=this.utcOffset(),r="+";return t<0&&(t=-t,r="-"),r+bs(~~(t/60),2)+e+bs(~~t%60,2)})}jee("Z",":");jee("ZZ","");se("Z",Wv);se("ZZ",Wv);vt(["Z","ZZ"],function(i,e,t){t._useUTC=!0,t._tzm=fM(Wv,i)});var HTe=/([\+\-]|\d\d)/gi;function fM(i,e){var t=(e||"").match(i),r,n,s;return t===null?null:(r=t[t.length-1]||[],n=(r+"").match(HTe)||["-",0,0],s=+(n[1]*60)+Fe(n[2]),s===0?0:n[0]==="+"?s:-s)}function pM(i,e){var t,r;return e._isUTC?(t=e.clone(),r=(Fn(i)||Uf(i)?i.valueOf():Et(i).valueOf())-t.valueOf(),t._d.setTime(t._d.valueOf()+r),K.updateOffset(t,!1),t):Et(i).local()}function dD(i){return-Math.round(i._d.getTimezoneOffset())}K.updateOffset=function(){};function YTe(i,e,t){var r=this._offset||0,n;if(!this.isValid())return i!=null?this:NaN;if(i!=null){if(typeof i=="string"){if(i=fM(Wv,i),i===null)return this}else Math.abs(i)<16&&!t&&(i=i*60);return!this._isUTC&&e&&(n=dD(this)),this._offset=i,this._isUTC=!0,n!=null&&this.add(n,"m"),r!==i&&(!e||this._changeInProgress?Bee(this,zn(i-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,K.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:dD(this)}function UTe(i,e){return i!=null?(typeof i!="string"&&(i=-i),this.utcOffset(i,e),this):-this.utcOffset()}function VTe(i){return this.utcOffset(0,i)}function XTe(i){return this._isUTC&&(this.utcOffset(0,i),this._isUTC=!1,i&&this.subtract(dD(this),"m")),this}function KTe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var i=fM(mCe,this._i);i!=null?this.utcOffset(i):this.utcOffset(0,!0)}return this}function ZTe(i){return this.isValid()?(i=i?Et(i).utcOffset():0,(this.utcOffset()-i)%60===0):!1}function QTe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function JTe(){if(!cr(this._isDSTShifted))return this._isDSTShifted;var i={},e;return Qk(i,this),i=Fee(i),i._a?(e=i._isUTC?Cs(i._a):Et(i._a),this._isDSTShifted=this.isValid()&&zTe(i._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function eOe(){return this.isValid()?!this._isUTC:!1}function tOe(){return this.isValid()?this._isUTC:!1}function Gee(){return this.isValid()?this._isUTC&&this._offset===0:!1}var iOe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,rOe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function zn(i,e){var t=i,r=null,n,s,o;return Rm(i)?t={ms:i._milliseconds,d:i._days,M:i._months}:fo(i)||!isNaN(+i)?(t={},e?t[e]=+i:t.milliseconds=+i):(r=iOe.exec(i))?(n=r[1]==="-"?-1:1,t={y:0,d:Fe(r[ts])*n,h:Fe(r[hi])*n,m:Fe(r[Cn])*n,s:Fe(r[Ys])*n,ms:Fe(hD(r[$a]*1e3))*n}):(r=rOe.exec(i))?(n=r[1]==="-"?-1:1,t={y:_a(r[2],n),M:_a(r[3],n),w:_a(r[4],n),d:_a(r[5],n),h:_a(r[6],n),m:_a(r[7],n),s:_a(r[8],n)}):t==null?t={}:typeof t=="object"&&("from"in t||"to"in t)&&(o=nOe(Et(t.from),Et(t.to)),t={},t.ms=o.milliseconds,t.M=o.months),s=new Hv(t),Rm(i)&&Ze(i,"_locale")&&(s._locale=i._locale),Rm(i)&&Ze(i,"_isValid")&&(s._isValid=i._isValid),s}zn.fn=Hv.prototype;zn.invalid=BTe;function _a(i,e){var t=i&&parseFloat(i.replace(",","."));return(isNaN(t)?0:t)*e}function Sz(i,e){var t={};return t.months=e.month()-i.month()+(e.year()-i.year())*12,i.clone().add(t.months,"M").isAfter(e)&&--t.months,t.milliseconds=+e-+i.clone().add(t.months,"M"),t}function nOe(i,e){var t;return i.isValid()&&e.isValid()?(e=pM(e,i),i.isBefore(e)?t=Sz(i,e):(t=Sz(e,i),t.milliseconds=-t.milliseconds,t.months=-t.months),t):{milliseconds:0,months:0}}function Wee(i,e){return function(t,r){var n,s;return r!==null&&!isNaN(+r)&&(vee(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=t,t=r,r=s),n=zn(t,r),Bee(this,n,i),this}}function Bee(i,e,t,r){var n=e._milliseconds,s=hD(e._days),o=hD(e._months);i.isValid()&&(r=r??!0,o&&Oee(i,Wd(i,"Month")+o*t),s&&Eee(i,"Date",Wd(i,"Date")+s*t),n&&i._d.setTime(i._d.valueOf()+n*t),r&&K.updateOffset(i,s||o))}var sOe=Wee(1,"add"),oOe=Wee(-1,"subtract");function zee(i){return typeof i=="string"||i instanceof String}function aOe(i){return Fn(i)||Uf(i)||zee(i)||fo(i)||cOe(i)||lOe(i)||i===null||i===void 0}function lOe(i){var e=Ba(i)&&!Kk(i),t=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],n,s,o=r.length;for(n=0;n<o;n+=1)s=r[n],t=t||Ze(i,s);return e&&t}function cOe(i){var e=$n(i),t=!1;return e&&(t=i.filter(function(r){return!fo(r)&&zee(i)}).length===0),e&&t}function uOe(i){var e=Ba(i)&&!Kk(i),t=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],n,s;for(n=0;n<r.length;n+=1)s=r[n],t=t||Ze(i,s);return e&&t}function hOe(i,e){var t=i.diff(e,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"}function dOe(i,e){arguments.length===1&&(arguments[0]?aOe(arguments[0])?(i=arguments[0],e=void 0):uOe(arguments[0])&&(e=arguments[0],i=void 0):(i=void 0,e=void 0));var t=i||Et(),r=pM(t,this).startOf("day"),n=K.calendarFormat(this,r)||"sameElse",s=e&&(Ts(e[n])?e[n].call(this,t):e[n]);return this.format(s||this.localeData().calendar(n,this,Et(t)))}function fOe(){return new Vf(this)}function pOe(i,e){var t=Fn(i)?i:Et(i);return this.isValid()&&t.isValid()?(e=dn(e)||"millisecond",e==="millisecond"?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf()):!1}function mOe(i,e){var t=Fn(i)?i:Et(i);return this.isValid()&&t.isValid()?(e=dn(e)||"millisecond",e==="millisecond"?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf()):!1}function gOe(i,e,t,r){var n=Fn(i)?i:Et(i),s=Fn(e)?e:Et(e);return this.isValid()&&n.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(n,t):!this.isBefore(n,t))&&(r[1]===")"?this.isBefore(s,t):!this.isAfter(s,t))):!1}function vOe(i,e){var t=Fn(i)?i:Et(i),r;return this.isValid()&&t.isValid()?(e=dn(e)||"millisecond",e==="millisecond"?this.valueOf()===t.valueOf():(r=t.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function yOe(i,e){return this.isSame(i,e)||this.isAfter(i,e)}function bOe(i,e){return this.isSame(i,e)||this.isBefore(i,e)}function _Oe(i,e,t){var r,n,s;if(!this.isValid())return NaN;if(r=pM(i,this),!r.isValid())return NaN;switch(n=(r.utcOffset()-this.utcOffset())*6e4,e=dn(e),e){case"year":s=Pm(this,r)/12;break;case"month":s=Pm(this,r);break;case"quarter":s=Pm(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-n)/864e5;break;case"week":s=(this-r-n)/6048e5;break;default:s=this-r}return t?s:Zr(s)}function Pm(i,e){if(i.date()<e.date())return-Pm(e,i);var t=(e.year()-i.year())*12+(e.month()-i.month()),r=i.clone().add(t,"months"),n,s;return e-r<0?(n=i.clone().add(t-1,"months"),s=(e-r)/(r-n)):(n=i.clone().add(t+1,"months"),s=(e-r)/(n-r)),-(t+s)||0}K.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";K.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function wOe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function xOe(i){if(!this.isValid())return null;var e=i!==!0,t=e?this.clone().utc():this;return t.year()<0||t.year()>9999?Om(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ts(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Om(t,"Z")):Om(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function SOe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var i="moment",e="",t,r,n,s;return this.isLocal()||(i=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),t="["+i+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(t+r+n+s)}function EOe(i){i||(i=this.isUtc()?K.defaultFormatUtc:K.defaultFormat);var e=Om(this,i);return this.localeData().postformat(e)}function COe(i,e){return this.isValid()&&(Fn(i)&&i.isValid()||Et(i).isValid())?zn({to:this,from:i}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function TOe(i){return this.from(Et(),i)}function OOe(i,e){return this.isValid()&&(Fn(i)&&i.isValid()||Et(i).isValid())?zn({from:this,to:i}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ROe(i){return this.to(Et(),i)}function Hee(i){var e;return i===void 0?this._locale._abbr:(e=yo(i),e!=null&&(this._locale=e),this)}var Yee=hn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(i){return i===void 0?this.localeData():this.locale(i)});function Uee(){return this._locale}var sg=1e3,Vc=60*sg,og=60*Vc,Vee=(365*400+97)*24*og;function Xc(i,e){return(i%e+e)%e}function Xee(i,e,t){return i<100&&i>=0?new Date(i+400,e,t)-Vee:new Date(i,e,t).valueOf()}function Kee(i,e,t){return i<100&&i>=0?Date.UTC(i+400,e,t)-Vee:Date.UTC(i,e,t)}function POe(i){var e,t;if(i=dn(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?Kee:Xee,i){case"year":e=t(this.year(),0,1);break;case"quarter":e=t(this.year(),this.month()-this.month()%3,1);break;case"month":e=t(this.year(),this.month(),1);break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=t(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Xc(e+(this._isUTC?0:this.utcOffset()*Vc),og);break;case"minute":e=this._d.valueOf(),e-=Xc(e,Vc);break;case"second":e=this._d.valueOf(),e-=Xc(e,sg);break}return this._d.setTime(e),K.updateOffset(this,!0),this}function DOe(i){var e,t;if(i=dn(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?Kee:Xee,i){case"year":e=t(this.year()+1,0,1)-1;break;case"quarter":e=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=t(this.year(),this.month()+1,1)-1;break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=og-Xc(e+(this._isUTC?0:this.utcOffset()*Vc),og)-1;break;case"minute":e=this._d.valueOf(),e+=Vc-Xc(e,Vc)-1;break;case"second":e=this._d.valueOf(),e+=sg-Xc(e,sg)-1;break}return this._d.setTime(e),K.updateOffset(this,!0),this}function IOe(){return this._d.valueOf()-(this._offset||0)*6e4}function kOe(){return Math.floor(this.valueOf()/1e3)}function MOe(){return new Date(this.valueOf())}function AOe(){var i=this;return[i.year(),i.month(),i.date(),i.hour(),i.minute(),i.second(),i.millisecond()]}function NOe(){var i=this;return{years:i.year(),months:i.month(),date:i.date(),hours:i.hours(),minutes:i.minutes(),seconds:i.seconds(),milliseconds:i.milliseconds()}}function $Oe(){return this.isValid()?this.toISOString():null}function FOe(){return Zk(this)}function LOe(){return Wo({},De(this))}function qOe(){return De(this).overflow}function jOe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}de("N",0,0,"eraAbbr");de("NN",0,0,"eraAbbr");de("NNN",0,0,"eraAbbr");de("NNNN",0,0,"eraName");de("NNNNN",0,0,"eraNarrow");de("y",["y",1],"yo","eraYear");de("y",["yy",2],0,"eraYear");de("y",["yyy",3],0,"eraYear");de("y",["yyyy",4],0,"eraYear");se("N",mM);se("NN",mM);se("NNN",mM);se("NNNN",ZOe);se("NNNNN",QOe);vt(["N","NN","NNN","NNNN","NNNNN"],function(i,e,t,r){var n=t._locale.erasParse(i,r,t._strict);n?De(t).era=n:De(t).invalidEra=i});se("y",Ju);se("yy",Ju);se("yyy",Ju);se("yyyy",Ju);se("yo",JOe);vt(["y","yy","yyy","yyyy"],Gi);vt(["yo"],function(i,e,t,r){var n;t._locale._eraYearOrdinalRegex&&(n=i.match(t._locale._eraYearOrdinalRegex)),t._locale.eraYearOrdinalParse?e[Gi]=t._locale.eraYearOrdinalParse(i,n):e[Gi]=parseInt(i,10)});function GOe(i,e){var t,r,n,s=this._eras||yo("en")._eras;for(t=0,r=s.length;t<r;++t){switch(typeof s[t].since){case"string":n=K(s[t].since).startOf("day"),s[t].since=n.valueOf();break}switch(typeof s[t].until){case"undefined":s[t].until=1/0;break;case"string":n=K(s[t].until).startOf("day").valueOf(),s[t].until=n.valueOf();break}}return s}function WOe(i,e,t){var r,n,s=this.eras(),o,a,l;for(i=i.toUpperCase(),r=0,n=s.length;r<n;++r)if(o=s[r].name.toUpperCase(),a=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),t)switch(e){case"N":case"NN":case"NNN":if(a===i)return s[r];break;case"NNNN":if(o===i)return s[r];break;case"NNNNN":if(l===i)return s[r];break}else if([o,a,l].indexOf(i)>=0)return s[r]}function BOe(i,e){var t=i.since<=i.until?1:-1;return e===void 0?K(i.since).year():K(i.since).year()+(e-i.offset)*t}function zOe(){var i,e,t,r=this.localeData().eras();for(i=0,e=r.length;i<e;++i)if(t=this.clone().startOf("day").valueOf(),r[i].since<=t&&t<=r[i].until||r[i].until<=t&&t<=r[i].since)return r[i].name;return""}function HOe(){var i,e,t,r=this.localeData().eras();for(i=0,e=r.length;i<e;++i)if(t=this.clone().startOf("day").valueOf(),r[i].since<=t&&t<=r[i].until||r[i].until<=t&&t<=r[i].since)return r[i].narrow;return""}function YOe(){var i,e,t,r=this.localeData().eras();for(i=0,e=r.length;i<e;++i)if(t=this.clone().startOf("day").valueOf(),r[i].since<=t&&t<=r[i].until||r[i].until<=t&&t<=r[i].since)return r[i].abbr;return""}function UOe(){var i,e,t,r,n=this.localeData().eras();for(i=0,e=n.length;i<e;++i)if(t=n[i].since<=n[i].until?1:-1,r=this.clone().startOf("day").valueOf(),n[i].since<=r&&r<=n[i].until||n[i].until<=r&&r<=n[i].since)return(this.year()-K(n[i].since).year())*t+n[i].offset;return this.year()}function VOe(i){return Ze(this,"_erasNameRegex")||gM.call(this),i?this._erasNameRegex:this._erasRegex}function XOe(i){return Ze(this,"_erasAbbrRegex")||gM.call(this),i?this._erasAbbrRegex:this._erasRegex}function KOe(i){return Ze(this,"_erasNarrowRegex")||gM.call(this),i?this._erasNarrowRegex:this._erasRegex}function mM(i,e){return e.erasAbbrRegex(i)}function ZOe(i,e){return e.erasNameRegex(i)}function QOe(i,e){return e.erasNarrowRegex(i)}function JOe(i,e){return e._eraYearOrdinalRegex||Ju}function gM(){var i=[],e=[],t=[],r=[],n,s,o,a,l,c=this.eras();for(n=0,s=c.length;n<s;++n)o=eo(c[n].name),a=eo(c[n].abbr),l=eo(c[n].narrow),e.push(o),i.push(a),t.push(l),r.push(o),r.push(a),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+t.join("|")+")","i")}de(0,["gg",2],0,function(){return this.weekYear()%100});de(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Yv(i,e){de(0,[i,i.length],0,e)}Yv("gggg","weekYear");Yv("ggggg","weekYear");Yv("GGGG","isoWeekYear");Yv("GGGGG","isoWeekYear");se("G",Gv);se("g",Gv);se("GG",Ct,zr);se("gg",Ct,zr);se("GGGG",rM,iM);se("gggg",rM,iM);se("GGGGG",jv,Lv);se("ggggg",jv,Lv);Kf(["gggg","ggggg","GGGG","GGGGG"],function(i,e,t,r){e[r.substr(0,2)]=Fe(i)});Kf(["gg","GG"],function(i,e,t,r){e[r]=K.parseTwoDigitYear(i)});function eRe(i){return Zee.call(this,i,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function tRe(i){return Zee.call(this,i,this.isoWeek(),this.isoWeekday(),1,4)}function iRe(){return to(this.year(),1,4)}function rRe(){return to(this.isoWeekYear(),1,4)}function nRe(){var i=this.localeData()._week;return to(this.year(),i.dow,i.doy)}function sRe(){var i=this.localeData()._week;return to(this.weekYear(),i.dow,i.doy)}function Zee(i,e,t,r,n){var s;return i==null?zd(this,r,n).year:(s=to(i,r,n),e>s&&(e=s),oRe.call(this,i,e,t,r,n))}function oRe(i,e,t,r,n){var s=Dee(i,e,t,r,n),o=Bd(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}de("Q",0,"Qo","quarter");se("Q",bee);vt("Q",function(i,e){e[Hs]=(Fe(i)-1)*3});function aRe(i){return i==null?Math.ceil((this.month()+1)/3):this.month((i-1)*3+this.month()%3)}de("D",["DD",2],"Do","date");se("D",Ct,eh);se("DD",Ct,zr);se("Do",function(i,e){return i?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});vt(["D","DD"],ts);vt("Do",function(i,e){e[ts]=Fe(i.match(Ct)[0])});var Qee=th("Date",!0);de("DDD",["DDDD",3],"DDDo","dayOfYear");se("DDD",qv);se("DDDD",_ee);vt(["DDD","DDDD"],function(i,e,t){t._dayOfYear=Fe(i)});function lRe(i){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return i==null?e:this.add(i-e,"d")}de("m",["mm",2],0,"minute");se("m",Ct,nM);se("mm",Ct,zr);vt(["m","mm"],Cn);var cRe=th("Minutes",!1);de("s",["ss",2],0,"second");se("s",Ct,nM);se("ss",Ct,zr);vt(["s","ss"],Ys);var uRe=th("Seconds",!1);de("S",0,0,function(){return~~(this.millisecond()/100)});de(0,["SS",2],0,function(){return~~(this.millisecond()/10)});de(0,["SSS",3],0,"millisecond");de(0,["SSSS",4],0,function(){return this.millisecond()*10});de(0,["SSSSS",5],0,function(){return this.millisecond()*100});de(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});de(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});de(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});de(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});se("S",qv,bee);se("SS",qv,zr);se("SSS",qv,_ee);var Bo,Jee;for(Bo="SSSS";Bo.length<=9;Bo+="S")se(Bo,Ju);function hRe(i,e){e[$a]=Fe(("0."+i)*1e3)}for(Bo="S";Bo.length<=9;Bo+="S")vt(Bo,hRe);Jee=th("Milliseconds",!1);de("z",0,0,"zoneAbbr");de("zz",0,0,"zoneName");function dRe(){return this._isUTC?"UTC":""}function fRe(){return this._isUTC?"Coordinated Universal Time":""}var Z=Vf.prototype;Z.add=sOe;Z.calendar=dOe;Z.clone=fOe;Z.diff=_Oe;Z.endOf=DOe;Z.format=EOe;Z.from=COe;Z.fromNow=TOe;Z.to=OOe;Z.toNow=ROe;Z.get=SCe;Z.invalidAt=qOe;Z.isAfter=pOe;Z.isBefore=mOe;Z.isBetween=gOe;Z.isSame=vOe;Z.isSameOrAfter=yOe;Z.isSameOrBefore=bOe;Z.isValid=FOe;Z.lang=Yee;Z.locale=Hee;Z.localeData=Uee;Z.max=FTe;Z.min=$Te;Z.parsingFlags=LOe;Z.set=ECe;Z.startOf=POe;Z.subtract=oOe;Z.toArray=AOe;Z.toObject=NOe;Z.toDate=MOe;Z.toISOString=xOe;Z.inspect=SOe;typeof Symbol<"u"&&Symbol.for!=null&&(Z[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Z.toJSON=$Oe;Z.toString=wOe;Z.unix=kOe;Z.valueOf=IOe;Z.creationData=jOe;Z.eraName=zOe;Z.eraNarrow=HOe;Z.eraAbbr=YOe;Z.eraYear=UOe;Z.year=See;Z.isLeapYear=xCe;Z.weekYear=eRe;Z.isoWeekYear=tRe;Z.quarter=Z.quarters=aRe;Z.month=Ree;Z.daysInMonth=MCe;Z.week=Z.weeks=GCe;Z.isoWeek=Z.isoWeeks=WCe;Z.weeksInYear=nRe;Z.weeksInWeekYear=sRe;Z.isoWeeksInYear=iRe;Z.isoWeeksInISOWeekYear=rRe;Z.date=Qee;Z.day=Z.days=tTe;Z.weekday=iTe;Z.isoWeekday=rTe;Z.dayOfYear=lRe;Z.hour=Z.hours=uTe;Z.minute=Z.minutes=cRe;Z.second=Z.seconds=uRe;Z.millisecond=Z.milliseconds=Jee;Z.utcOffset=YTe;Z.utc=VTe;Z.local=XTe;Z.parseZone=KTe;Z.hasAlignedHourOffset=ZTe;Z.isDST=QTe;Z.isLocal=eOe;Z.isUtcOffset=tOe;Z.isUtc=Gee;Z.isUTC=Gee;Z.zoneAbbr=dRe;Z.zoneName=fRe;Z.dates=hn("dates accessor is deprecated. Use date instead.",Qee);Z.months=hn("months accessor is deprecated. Use month instead",Ree);Z.years=hn("years accessor is deprecated. Use year instead",See);Z.zone=hn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",UTe);Z.isDSTShifted=hn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",JTe);function pRe(i){return Et(i*1e3)}function mRe(){return Et.apply(null,arguments).parseZone()}function ete(i){return i}var Qe=Jk.prototype;Qe.calendar=eCe;Qe.longDateFormat=nCe;Qe.invalidDate=oCe;Qe.ordinal=cCe;Qe.preparse=ete;Qe.postformat=ete;Qe.relativeTime=hCe;Qe.pastFuture=dCe;Qe.set=QEe;Qe.eras=GOe;Qe.erasParse=WOe;Qe.erasConvertYear=BOe;Qe.erasAbbrRegex=XOe;Qe.erasNameRegex=VOe;Qe.erasNarrowRegex=KOe;Qe.months=PCe;Qe.monthsShort=DCe;Qe.monthsParse=kCe;Qe.monthsRegex=NCe;Qe.monthsShortRegex=ACe;Qe.week=FCe;Qe.firstDayOfYear=jCe;Qe.firstDayOfWeek=qCe;Qe.weekdays=KCe;Qe.weekdaysMin=QCe;Qe.weekdaysShort=ZCe;Qe.weekdaysParse=eTe;Qe.weekdaysRegex=nTe;Qe.weekdaysShortRegex=sTe;Qe.weekdaysMinRegex=oTe;Qe.isPM=lTe;Qe.meridiem=hTe;function ag(i,e,t,r){var n=yo(),s=Cs().set(r,e);return n[t](s,i)}function tte(i,e,t){if(fo(i)&&(e=i,i=void 0),i=i||"",e!=null)return ag(i,e,t,"month");var r,n=[];for(r=0;r<12;r++)n[r]=ag(i,r,t,"month");return n}function vM(i,e,t,r){typeof i=="boolean"?(fo(e)&&(t=e,e=void 0),e=e||""):(e=i,t=e,i=!1,fo(e)&&(t=e,e=void 0),e=e||"");var n=yo(),s=i?n._week.dow:0,o,a=[];if(t!=null)return ag(e,(t+s)%7,r,"day");for(o=0;o<7;o++)a[o]=ag(e,(o+s)%7,r,"day");return a}function gRe(i,e){return tte(i,e,"months")}function vRe(i,e){return tte(i,e,"monthsShort")}function yRe(i,e,t){return vM(i,e,t,"weekdays")}function bRe(i,e,t){return vM(i,e,t,"weekdaysShort")}function _Re(i,e,t){return vM(i,e,t,"weekdaysMin")}Uo("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(i){var e=i%10,t=Fe(i%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return i+t}});K.lang=hn("moment.lang is deprecated. Use moment.locale instead.",Uo);K.langData=hn("moment.langData is deprecated. Use moment.localeData instead.",yo);var $s=Math.abs;function wRe(){var i=this._data;return this._milliseconds=$s(this._milliseconds),this._days=$s(this._days),this._months=$s(this._months),i.milliseconds=$s(i.milliseconds),i.seconds=$s(i.seconds),i.minutes=$s(i.minutes),i.hours=$s(i.hours),i.months=$s(i.months),i.years=$s(i.years),this}function ite(i,e,t,r){var n=zn(e,t);return i._milliseconds+=r*n._milliseconds,i._days+=r*n._days,i._months+=r*n._months,i._bubble()}function xRe(i,e){return ite(this,i,e,1)}function SRe(i,e){return ite(this,i,e,-1)}function Ez(i){return i<0?Math.floor(i):Math.ceil(i)}function ERe(){var i=this._milliseconds,e=this._days,t=this._months,r=this._data,n,s,o,a,l;return i>=0&&e>=0&&t>=0||i<=0&&e<=0&&t<=0||(i+=Ez(fD(t)+e)*864e5,e=0,t=0),r.milliseconds=i%1e3,n=Zr(i/1e3),r.seconds=n%60,s=Zr(n/60),r.minutes=s%60,o=Zr(s/60),r.hours=o%24,e+=Zr(o/24),l=Zr(rte(e)),t+=l,e-=Ez(fD(l)),a=Zr(t/12),t%=12,r.days=e,r.months=t,r.years=a,this}function rte(i){return i*4800/146097}function fD(i){return i*146097/4800}function CRe(i){if(!this.isValid())return NaN;var e,t,r=this._milliseconds;if(i=dn(i),i==="month"||i==="quarter"||i==="year")switch(e=this._days+r/864e5,t=this._months+rte(e),i){case"month":return t;case"quarter":return t/3;case"year":return t/12}else switch(e=this._days+Math.round(fD(this._months)),i){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+i)}}function bo(i){return function(){return this.as(i)}}var nte=bo("ms"),TRe=bo("s"),ORe=bo("m"),RRe=bo("h"),PRe=bo("d"),DRe=bo("w"),IRe=bo("M"),kRe=bo("Q"),MRe=bo("y"),ARe=nte;function NRe(){return zn(this)}function $Re(i){return i=dn(i),this.isValid()?this[i+"s"]():NaN}function Nl(i){return function(){return this.isValid()?this._data[i]:NaN}}var FRe=Nl("milliseconds"),LRe=Nl("seconds"),qRe=Nl("minutes"),jRe=Nl("hours"),GRe=Nl("days"),WRe=Nl("months"),BRe=Nl("years");function zRe(){return Zr(this.days()/7)}var qs=Math.round,kc={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function HRe(i,e,t,r,n){return n.relativeTime(e||1,!!t,i,r)}function YRe(i,e,t,r){var n=zn(i).abs(),s=qs(n.as("s")),o=qs(n.as("m")),a=qs(n.as("h")),l=qs(n.as("d")),c=qs(n.as("M")),u=qs(n.as("w")),h=qs(n.as("y")),d=s<=t.ss&&["s",s]||s<t.s&&["ss",s]||o<=1&&["m"]||o<t.m&&["mm",o]||a<=1&&["h"]||a<t.h&&["hh",a]||l<=1&&["d"]||l<t.d&&["dd",l];return t.w!=null&&(d=d||u<=1&&["w"]||u<t.w&&["ww",u]),d=d||c<=1&&["M"]||c<t.M&&["MM",c]||h<=1&&["y"]||["yy",h],d[2]=e,d[3]=+i>0,d[4]=r,HRe.apply(null,d)}function URe(i){return i===void 0?qs:typeof i=="function"?(qs=i,!0):!1}function VRe(i,e){return kc[i]===void 0?!1:e===void 0?kc[i]:(kc[i]=e,i==="s"&&(kc.ss=e-1),!0)}function XRe(i,e){if(!this.isValid())return this.localeData().invalidDate();var t=!1,r=kc,n,s;return typeof i=="object"&&(e=i,i=!1),typeof i=="boolean"&&(t=i),typeof e=="object"&&(r=Object.assign({},kc,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),n=this.localeData(),s=YRe(this,!t,r,n),t&&(s=n.pastFuture(+this,s)),n.postformat(s)}var zx=Math.abs;function oc(i){return(i>0)-(i<0)||+i}function Uv(){if(!this.isValid())return this.localeData().invalidDate();var i=zx(this._milliseconds)/1e3,e=zx(this._days),t=zx(this._months),r,n,s,o,a=this.asSeconds(),l,c,u,h;return a?(r=Zr(i/60),n=Zr(r/60),i%=60,r%=60,s=Zr(t/12),t%=12,o=i?i.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=oc(this._months)!==oc(a)?"-":"",u=oc(this._days)!==oc(a)?"-":"",h=oc(this._milliseconds)!==oc(a)?"-":"",l+"P"+(s?c+s+"Y":"")+(t?c+t+"M":"")+(e?u+e+"D":"")+(n||r||i?"T":"")+(n?h+n+"H":"")+(r?h+r+"M":"")+(i?h+o+"S":"")):"P0D"}var Be=Hv.prototype;Be.isValid=WTe;Be.abs=wRe;Be.add=xRe;Be.subtract=SRe;Be.as=CRe;Be.asMilliseconds=nte;Be.asSeconds=TRe;Be.asMinutes=ORe;Be.asHours=RRe;Be.asDays=PRe;Be.asWeeks=DRe;Be.asMonths=IRe;Be.asQuarters=kRe;Be.asYears=MRe;Be.valueOf=ARe;Be._bubble=ERe;Be.clone=NRe;Be.get=$Re;Be.milliseconds=FRe;Be.seconds=LRe;Be.minutes=qRe;Be.hours=jRe;Be.days=GRe;Be.weeks=zRe;Be.months=WRe;Be.years=BRe;Be.humanize=XRe;Be.toISOString=Uv;Be.toString=Uv;Be.toJSON=Uv;Be.locale=Hee;Be.localeData=Uee;Be.toIsoString=hn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Uv);Be.lang=Yee;de("X",0,0,"unix");de("x",0,0,"valueOf");se("x",Gv);se("X",gCe);vt("X",function(i,e,t){t._d=new Date(parseFloat(i)*1e3)});vt("x",function(i,e,t){t._d=new Date(Fe(i))});//! moment.js
K.version="2.30.1";KEe(Et);K.fn=Z;K.min=LTe;K.max=qTe;K.now=jTe;K.utc=Cs;K.unix=pRe;K.months=gRe;K.isDate=Uf;K.locale=Uo;K.invalid=Fv;K.duration=zn;K.isMoment=Fn;K.weekdays=yRe;K.parseZone=mRe;K.localeData=yo;K.isDuration=Rm;K.monthsShort=vRe;K.weekdaysMin=_Re;K.defineLocale=cM;K.updateLocale=mTe;K.locales=gTe;K.weekdaysShort=bRe;K.normalizeUnits=dn;K.relativeTimeRounding=URe;K.relativeTimeThreshold=VRe;K.calendarFormat=hOe;K.prototype=Z;K.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var Hx={exports:{}},Cz;function KRe(){return Cz||(Cz=1,(function(i){i.exports=e;function e(r){if(r)return t(r)}function t(r){for(var n in e.prototype)r[n]=e.prototype[n];return r}e.prototype.on=e.prototype.addEventListener=function(r,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(n),this},e.prototype.once=function(r,n){function s(){this.off(r,s),n.apply(this,arguments)}return s.fn=n,this.on(r,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(r,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var o,a=0;a<s.length;a++)if(o=s[a],o===n||o.fn===n){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+r],this},e.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),s=this._callbacks["$"+r],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,a=s.length;o<a;++o)s[o].apply(this,n)}return this},e.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},e.prototype.hasListeners=function(r){return!!this.listeners(r).length}})(Hx)),Hx.exports}var ZRe=KRe();const yM=ZD(ZRe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Ln(){return Ln=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Ln.apply(this,arguments)}function fn(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}function sm(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var pD;typeof Object.assign!="function"?pD=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!=null)for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s])}return t}:pD=Object.assign;var cl=pD,Tz=["","webkit","Moz","MS","ms","o"],QRe=typeof document>"u"?{style:{}}:document.createElement("div"),JRe="function",Mc=Math.round,ul=Math.abs,bM=Date.now;function Vv(i,e){for(var t,r,n=e[0].toUpperCase()+e.slice(1),s=0;s<Tz.length;){if(t=Tz[s],r=t?t+n:e,r in i)return r;s++}}var io;typeof window>"u"?io={}:io=window;var ste=Vv(QRe.style,"touchAction"),ote=ste!==void 0;function ePe(){if(!ote)return!1;var i={},e=io.CSS&&io.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return i[t]=e?io.CSS.supports("touch-action",t):!0}),i}var ate="compute",lte="auto",mD="manipulation",za="none",Yd="pan-x",Ud="pan-y",om=ePe(),tPe=/mobile|tablet|ip(ad|hone|od)|android/i,cte="ontouchstart"in io,iPe=Vv(io,"PointerEvent")!==void 0,rPe=cte&&tPe.test(navigator.userAgent),Zf="touch",nPe="pen",_M="mouse",sPe="kinect",oPe=25,er=1,$l=2,ii=4,yr=8,lg=1,Qf=2,Jf=4,ep=8,gu=16,fs=Qf|Jf,Ha=ep|gu,ute=fs|Ha,hte=["x","y"],cg=["clientX","clientY"];function ro(i,e,t){var r;if(i)if(i.forEach)i.forEach(e,t);else if(i.length!==void 0)for(r=0;r<i.length;)e.call(t,i[r],r,i),r++;else for(r in i)i.hasOwnProperty(r)&&e.call(t,i[r],r,i)}function Xv(i,e){return typeof i===JRe?i.apply(e&&e[0]||void 0,e):i}function Fa(i,e){return i.indexOf(e)>-1}function aPe(i){if(Fa(i,za))return za;var e=Fa(i,Yd),t=Fa(i,Ud);return e&&t?za:e||t?e?Yd:Ud:Fa(i,mD)?mD:lte}var dte=(function(){function i(t,r){this.manager=t,this.set(r)}var e=i.prototype;return e.set=function(r){r===ate&&(r=this.compute()),ote&&this.manager.element.style&&om[r]&&(this.manager.element.style[ste]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return ro(this.manager.recognizers,function(n){Xv(n.options.enable,[n])&&(r=r.concat(n.getTouchAction()))}),aPe(r.join(" "))},e.preventDefaults=function(r){var n=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var o=this.actions,a=Fa(o,za)&&!om[za],l=Fa(o,Ud)&&!om[Ud],c=Fa(o,Yd)&&!om[Yd];if(a){var u=r.pointers.length===1,h=r.distance<2,d=r.deltaTime<250;if(u&&h&&d)return}if(!(c&&l)&&(a||l&&s&fs||c&&s&Ha))return this.preventSrc(n)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},i})();function wM(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function fte(i){var e=i.length;if(e===1)return{x:Mc(i[0].clientX),y:Mc(i[0].clientY)};for(var t=0,r=0,n=0;n<e;)t+=i[n].clientX,r+=i[n].clientY,n++;return{x:Mc(t/e),y:Mc(r/e)}}function Oz(i){for(var e=[],t=0;t<i.pointers.length;)e[t]={clientX:Mc(i.pointers[t].clientX),clientY:Mc(i.pointers[t].clientY)},t++;return{timeStamp:bM(),pointers:e,center:fte(e),deltaX:i.deltaX,deltaY:i.deltaY}}function ug(i,e,t){t||(t=hte);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.sqrt(r*r+n*n)}function gD(i,e,t){t||(t=hte);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.atan2(n,r)*180/Math.PI}function pte(i,e){return i===e?lg:ul(i)>=ul(e)?i<0?Qf:Jf:e<0?ep:gu}function lPe(i,e){var t=e.center,r=i.offsetDelta||{},n=i.prevDelta||{},s=i.prevInput||{};(e.eventType===er||s.eventType===ii)&&(n=i.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=i.offsetDelta={x:t.x,y:t.y}),e.deltaX=n.x+(t.x-r.x),e.deltaY=n.y+(t.y-r.y)}function mte(i,e,t){return{x:e/i||0,y:t/i||0}}function cPe(i,e){return ug(e[0],e[1],cg)/ug(i[0],i[1],cg)}function uPe(i,e){return gD(e[1],e[0],cg)+gD(i[1],i[0],cg)}function hPe(i,e){var t=i.lastInterval||e,r=e.timeStamp-t.timeStamp,n,s,o,a;if(e.eventType!==yr&&(r>oPe||t.velocity===void 0)){var l=e.deltaX-t.deltaX,c=e.deltaY-t.deltaY,u=mte(r,l,c);s=u.x,o=u.y,n=ul(u.x)>ul(u.y)?u.x:u.y,a=pte(l,c),i.lastInterval=e}else n=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=n,e.velocityX=s,e.velocityY=o,e.direction=a}function dPe(i,e){var t=i.session,r=e.pointers,n=r.length;t.firstInput||(t.firstInput=Oz(e)),n>1&&!t.firstMultiple?t.firstMultiple=Oz(e):n===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,l=e.center=fte(r);e.timeStamp=bM(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=gD(a,l),e.distance=ug(a,l),lPe(t,e),e.offsetDirection=pte(e.deltaX,e.deltaY);var c=mte(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=ul(c.x)>ul(c.y)?c.x:c.y,e.scale=o?cPe(o.pointers,r):1,e.rotation=o?uPe(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,hPe(t,e);var u=i.element,h=e.srcEvent,d;h.composedPath?d=h.composedPath()[0]:h.path?d=h.path[0]:d=h.target,wM(d,u)&&(u=d),e.target=u}function fPe(i,e,t){var r=t.pointers.length,n=t.changedPointers.length,s=e&er&&r-n===0,o=e&(ii|yr)&&r-n===0;t.isFirst=!!s,t.isFinal=!!o,s&&(i.session={}),t.eventType=e,dPe(i,t),i.emit("hammer.input",t),i.recognize(t),i.session.prevInput=t}function Vd(i){return i.trim().split(/\s+/g)}function ad(i,e,t){ro(Vd(e),function(r){i.addEventListener(r,t,!1)})}function ld(i,e,t){ro(Vd(e),function(r){i.removeEventListener(r,t,!1)})}function Rz(i){var e=i.ownerDocument||i;return e.defaultView||e.parentWindow||window}var ih=(function(){function i(t,r){var n=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){Xv(t.options.enable,[t])&&n.handler(s)},this.init()}var e=i.prototype;return e.handler=function(){},e.init=function(){this.evEl&&ad(this.element,this.evEl,this.domHandler),this.evTarget&&ad(this.target,this.evTarget,this.domHandler),this.evWin&&ad(Rz(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&ld(this.element,this.evEl,this.domHandler),this.evTarget&&ld(this.target,this.evTarget,this.domHandler),this.evWin&&ld(Rz(this.element),this.evWin,this.domHandler)},i})();function hl(i,e,t){if(i.indexOf&&!t)return i.indexOf(e);for(var r=0;r<i.length;){if(t&&i[r][t]==e||!t&&i[r]===e)return r;r++}return-1}var pPe={pointerdown:er,pointermove:$l,pointerup:ii,pointercancel:yr,pointerout:yr},mPe={2:Zf,3:nPe,4:_M,5:sPe},gte="pointerdown",vte="pointermove pointerup pointercancel";io.MSPointerEvent&&!io.PointerEvent&&(gte="MSPointerDown",vte="MSPointerMove MSPointerUp MSPointerCancel");var yte=(function(i){fn(e,i);function e(){var r,n=e.prototype;return n.evEl=gte,n.evWin=vte,r=i.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(n){var s=this.store,o=!1,a=n.type.toLowerCase().replace("ms",""),l=pPe[a],c=mPe[n.pointerType]||n.pointerType,u=c===Zf,h=hl(s,n.pointerId,"pointerId");l&er&&(n.button===0||u)?h<0&&(s.push(n),h=s.length-1):l&(ii|yr)&&(o=!0),!(h<0)&&(s[h]=n,this.callback(this.manager,l,{pointers:s,changedPointers:[n],pointerType:c,srcEvent:n}),o&&s.splice(h,1))},e})(ih);function Xd(i){return Array.prototype.slice.call(i,0)}function xM(i,e,t){for(var r=[],n=[],s=0;s<i.length;){var o=e?i[s][e]:i[s];hl(n,o)<0&&r.push(i[s]),n[s]=o,s++}return t&&(e?r=r.sort(function(a,l){return a[e]>l[e]}):r=r.sort()),r}var gPe={touchstart:er,touchmove:$l,touchend:ii,touchcancel:yr},vPe="touchstart touchmove touchend touchcancel",SM=(function(i){fn(e,i);function e(){var r;return e.prototype.evTarget=vPe,r=i.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(n){var s=gPe[n.type],o=yPe.call(this,n,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Zf,srcEvent:n})},e})(ih);function yPe(i,e){var t=Xd(i.touches),r=this.targetIds;if(e&(er|$l)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var n,s,o=Xd(i.changedTouches),a=[],l=this.target;if(s=t.filter(function(c){return wM(c.target,l)}),e===er)for(n=0;n<s.length;)r[s[n].identifier]=!0,n++;for(n=0;n<o.length;)r[o[n].identifier]&&a.push(o[n]),e&(ii|yr)&&delete r[o[n].identifier],n++;if(a.length)return[xM(s.concat(a),"identifier",!0),a]}var bPe={mousedown:er,mousemove:$l,mouseup:ii},_Pe="mousedown",wPe="mousemove mouseup",EM=(function(i){fn(e,i);function e(){var r,n=e.prototype;return n.evEl=_Pe,n.evWin=wPe,r=i.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(n){var s=bPe[n.type];s&er&&n.button===0&&(this.pressed=!0),s&$l&&n.which!==1&&(s=ii),this.pressed&&(s&ii&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[n],changedPointers:[n],pointerType:_M,srcEvent:n}))},e})(ih),xPe=2500,Pz=25;function Dz(i){var e=i.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},n=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=n.indexOf(r);a>-1&&n.splice(a,1)};setTimeout(s,xPe)}}function SPe(i,e){i&er?(this.primaryTouch=e.changedPointers[0].identifier,Dz.call(this,e)):i&(ii|yr)&&Dz.call(this,e)}function EPe(i){for(var e=i.srcEvent.clientX,t=i.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],s=Math.abs(e-n.x),o=Math.abs(t-n.y);if(s<=Pz&&o<=Pz)return!0}return!1}var bte=(function(){var i=(function(e){fn(t,e);function t(n,s){var o;return o=e.call(this,n,s)||this,o.handler=function(a,l,c){var u=c.pointerType===Zf,h=c.pointerType===_M;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(u)SPe.call(sm(sm(o)),l,c);else if(h&&EPe.call(sm(sm(o)),c))return;o.callback(a,l,c)}},o.touch=new SM(o.manager,o.handler),o.mouse=new EM(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t})(ih);return i})();function CPe(i){var e,t=i.options.inputClass;return t?e=t:iPe?e=yte:rPe?e=SM:cte?e=bte:e=EM,new e(i,fPe)}function Ac(i,e,t){return Array.isArray(i)?(ro(i,t[e],t),!0):!1}var Dm=1,on=2,vu=4,Vo=8,no=Vo,Kd=16,os=32,TPe=1;function OPe(){return TPe++}function am(i,e){var t=e.manager;return t?t.get(i):i}function Iz(i){return i&Kd?"cancel":i&Vo?"end":i&vu?"move":i&on?"start":""}var tp=(function(){function i(t){t===void 0&&(t={}),this.options=Ln({enable:!0},t),this.id=OPe(),this.manager=null,this.state=Dm,this.simultaneous={},this.requireFail=[]}var e=i.prototype;return e.set=function(r){return cl(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(Ac(r,"recognizeWith",this))return this;var n=this.simultaneous;return r=am(r,this),n[r.id]||(n[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return Ac(r,"dropRecognizeWith",this)?this:(r=am(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(Ac(r,"requireFailure",this))return this;var n=this.requireFail;return r=am(r,this),hl(n,r)===-1&&(n.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(Ac(r,"dropRequireFailure",this))return this;r=am(r,this);var n=hl(this.requireFail,r);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var n=this,s=this.state;function o(a){n.manager.emit(a,r)}s<Vo&&o(n.options.event+Iz(s)),o(n.options.event),r.additionalEvent&&o(r.additionalEvent),s>=Vo&&o(n.options.event+Iz(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=os},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(os|Dm)))return!1;r++}return!0},e.recognize=function(r){var n=cl({},r);if(!Xv(this.options.enable,[this,n])){this.reset(),this.state=os;return}this.state&(no|Kd|os)&&(this.state=Dm),this.state=this.process(n),this.state&(on|vu|Vo|Kd)&&this.tryEmit(n)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},i})(),vD=(function(i){fn(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Ln({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var t=e.prototype;return t.getTouchAction=function(){return[mD]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,l=n.distance<o.threshold,c=n.deltaTime<o.time;if(this.reset(),n.eventType&er&&this.count===0)return this.failTimeout();if(l&&c&&a){if(n.eventType!==ii)return this.failTimeout();var u=this.pTime?n.timeStamp-this.pTime<o.interval:!0,h=!this.pCenter||ug(this.pCenter,n.center)<o.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!h||!u?this.count=1:this.count+=1,this._input=n;var d=this.count%o.taps;if(d===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=no,s.tryEmit()},o.interval),on):no}return os},t.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=os},this.options.interval),os},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===no&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e})(tp),yu=(function(i){fn(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Ln({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(n){var s=this.options.pointers;return s===0||n.pointers.length===s},t.process=function(n){var s=this.state,o=n.eventType,a=s&(on|vu),l=this.attrTest(n);return a&&(o&yr||!l)?s|Kd:a||l?o&ii?s|Vo:s&on?s|vu:on:os},e})(tp);function _te(i){return i===gu?"down":i===ep?"up":i===Qf?"left":i===Jf?"right":""}var CM=(function(i){fn(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Ln({event:"pan",threshold:10,pointers:1,direction:ute},r))||this,n.pX=null,n.pY=null,n}var t=e.prototype;return t.getTouchAction=function(){var n=this.options.direction,s=[];return n&fs&&s.push(Ud),n&Ha&&s.push(Yd),s},t.directionTest=function(n){var s=this.options,o=!0,a=n.distance,l=n.direction,c=n.deltaX,u=n.deltaY;return l&s.direction||(s.direction&fs?(l=c===0?lg:c<0?Qf:Jf,o=c!==this.pX,a=Math.abs(n.deltaX)):(l=u===0?lg:u<0?ep:gu,o=u!==this.pY,a=Math.abs(n.deltaY))),n.direction=l,o&&a>s.threshold&&l&s.direction},t.attrTest=function(n){return yu.prototype.attrTest.call(this,n)&&(this.state&on||!(this.state&on)&&this.directionTest(n))},t.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var s=_te(n.direction);s&&(n.additionalEvent=this.options.event+s),i.prototype.emit.call(this,n)},e})(yu),wte=(function(i){fn(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Ln({event:"swipe",threshold:10,velocity:.3,direction:fs|Ha,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return CM.prototype.getTouchAction.call(this)},t.attrTest=function(n){var s=this.options.direction,o;return s&(fs|Ha)?o=n.overallVelocity:s&fs?o=n.overallVelocityX:s&Ha&&(o=n.overallVelocityY),i.prototype.attrTest.call(this,n)&&s&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&ul(o)>this.options.velocity&&n.eventType&ii},t.emit=function(n){var s=_te(n.offsetDirection);s&&this.manager.emit(this.options.event+s,n),this.manager.emit(this.options.event,n)},e})(yu),xte=(function(i){fn(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Ln({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[za]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&on)},t.emit=function(n){if(n.scale!==1){var s=n.scale<1?"in":"out";n.additionalEvent=this.options.event+s}i.prototype.emit.call(this,n)},e})(yu),Ste=(function(i){fn(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Ln({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[za]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&on)},e})(yu),Ete=(function(i){fn(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Ln({event:"press",pointers:1,time:251,threshold:9},r))||this,n._timer=null,n._input=null,n}var t=e.prototype;return t.getTouchAction=function(){return[lte]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,l=n.distance<o.threshold,c=n.deltaTime>o.time;if(this._input=n,!l||!a||n.eventType&(ii|yr)&&!c)this.reset();else if(n.eventType&er)this.reset(),this._timer=setTimeout(function(){s.state=no,s.tryEmit()},o.time);else if(n.eventType&ii)return no;return os},t.reset=function(){clearTimeout(this._timer)},t.emit=function(n){this.state===no&&(n&&n.eventType&ii?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=bM(),this.manager.emit(this.options.event,this._input)))},e})(tp),Cte={domEvents:!1,touchAction:ate,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},kz=[[Ste,{enable:!1}],[xte,{enable:!1},["rotate"]],[wte,{direction:fs}],[CM,{direction:fs},["swipe"]],[vD],[vD,{event:"doubletap",taps:2},["tap"]],[Ete]],RPe=1,Mz=2;function Az(i,e){var t=i.element;if(t.style){var r;ro(i.options.cssProps,function(n,s){r=Vv(t.style,s),e?(i.oldCssProps[r]=t.style[r],t.style[r]=n):t.style[r]=i.oldCssProps[r]||""}),e||(i.oldCssProps={})}}function PPe(i,e){var t=document.createEvent("Event");t.initEvent(i,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var Nz=(function(){function i(t,r){var n=this;this.options=cl({},Cte,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=CPe(this),this.touchAction=new dte(this,this.options.touchAction),Az(this,!0),ro(this.options.recognizers,function(s){var o=n.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=i.prototype;return e.set=function(r){return cl(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?Mz:RPe},e.recognize=function(r){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=n.curRecognizer;(!a||a&&a.state&no)&&(n.curRecognizer=null,a=null);for(var l=0;l<o.length;)s=o[l],n.stopped!==Mz&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(on|vu|Vo)&&(n.curRecognizer=s,a=s),l++}},e.get=function(r){if(r instanceof tp)return r;for(var n=this.recognizers,s=0;s<n.length;s++)if(n[s].options.event===r)return n[s];return null},e.add=function(r){if(Ac(r,"add",this))return this;var n=this.get(r.options.event);return n&&this.remove(n),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(Ac(r,"remove",this))return this;var n=this.get(r);if(r){var s=this.recognizers,o=hl(s,n);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,n){if(r===void 0||n===void 0)return this;var s=this.handlers;return ro(Vd(r),function(o){s[o]=s[o]||[],s[o].push(n)}),this},e.off=function(r,n){if(r===void 0)return this;var s=this.handlers;return ro(Vd(r),function(o){n?s[o]&&s[o].splice(hl(s[o],n),1):delete s[o]}),this},e.emit=function(r,n){this.options.domEvents&&PPe(r,n);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){n.type=r,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](n),o++}},e.destroy=function(){this.element&&Az(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},i})(),DPe={touchstart:er,touchmove:$l,touchend:ii,touchcancel:yr},IPe="touchstart",kPe="touchstart touchmove touchend touchcancel",MPe=(function(i){fn(e,i);function e(){var r,n=e.prototype;return n.evTarget=IPe,n.evWin=kPe,r=i.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(n){var s=DPe[n.type];if(s===er&&(this.started=!0),!!this.started){var o=APe.call(this,n,s);s&(ii|yr)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Zf,srcEvent:n})}},e})(ih);function APe(i,e){var t=Xd(i.touches),r=Xd(i.changedTouches);return e&(ii|yr)&&(t=xM(t.concat(r),"identifier",!0)),[t,r]}function Tte(i,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var n=new Error("get-stack-trace"),s=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),i.apply(this,arguments)}}var Ote=Tte(function(i,e,t){for(var r=Object.keys(e),n=0;n<r.length;)(!t||t&&i[r[n]]===void 0)&&(i[r[n]]=e[r[n]]),n++;return i},"extend","Use `assign`."),NPe=Tte(function(i,e){return Ote(i,e,!0)},"merge","Use `assign`.");function $Pe(i,e,t){var r=e.prototype,n;n=i.prototype=Object.create(r),n.constructor=i,n._super=r,t&&cl(n,t)}function $z(i,e){return function(){return i.apply(e,arguments)}}var TM=(function(){var i=function(t,r){return r===void 0&&(r={}),new Nz(t,Ln({recognizers:kz.concat()},r))};return i.VERSION="2.0.17-rc",i.DIRECTION_ALL=ute,i.DIRECTION_DOWN=gu,i.DIRECTION_LEFT=Qf,i.DIRECTION_RIGHT=Jf,i.DIRECTION_UP=ep,i.DIRECTION_HORIZONTAL=fs,i.DIRECTION_VERTICAL=Ha,i.DIRECTION_NONE=lg,i.DIRECTION_DOWN=gu,i.INPUT_START=er,i.INPUT_MOVE=$l,i.INPUT_END=ii,i.INPUT_CANCEL=yr,i.STATE_POSSIBLE=Dm,i.STATE_BEGAN=on,i.STATE_CHANGED=vu,i.STATE_ENDED=Vo,i.STATE_RECOGNIZED=no,i.STATE_CANCELLED=Kd,i.STATE_FAILED=os,i.Manager=Nz,i.Input=ih,i.TouchAction=dte,i.TouchInput=SM,i.MouseInput=EM,i.PointerEventInput=yte,i.TouchMouseInput=bte,i.SingleTouchInput=MPe,i.Recognizer=tp,i.AttrRecognizer=yu,i.Tap=vD,i.Pan=CM,i.Swipe=wte,i.Pinch=xte,i.Rotate=Ste,i.Press=Ete,i.on=ad,i.off=ld,i.each=ro,i.merge=NPe,i.extend=Ote,i.bindFn=$z,i.assign=cl,i.inherit=$Pe,i.bindFn=$z,i.prefixed=Vv,i.toArray=Xd,i.inArray=hl,i.uniqueArray=xM,i.splitStr=Vd,i.boolOrFn=Xv,i.hasParent=wM,i.addEventListeners=ad,i.removeEventListeners=ld,i.defaults=cl({},Cte,{preset:kz}),i})();TM.defaults;/**
 * vis-util
 * https://github.com/visjs/vis-util
 *
 * utilitie collection for visjs
 *
 * @version 6.0.0
 * @date    2025-07-12T18:02:43.836Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */const OM=Symbol("DELETE");function Rte(i,...e){return RM({},i,...e)}function RM(...i){const e=hg(...i);return Dte(e),e}function hg(...i){if(i.length<2)return i[0];if(i.length>2)return hg(RM(i[0],i[1]),...i.slice(2));const e=i[0],t=i[1];if(e instanceof Date&&t instanceof Date)return e.setTime(t.getTime()),e;for(const r of Reflect.ownKeys(t))Object.prototype.propertyIsEnumerable.call(t,r)&&(t[r]===OM?delete e[r]:e[r]!==null&&t[r]!==null&&typeof e[r]=="object"&&typeof t[r]=="object"&&!Array.isArray(e[r])&&!Array.isArray(t[r])?e[r]=hg(e[r],t[r]):e[r]=Pte(t[r]));return e}function Pte(i){return Array.isArray(i)?i.map(e=>Pte(e)):typeof i=="object"&&i!==null?i instanceof Date?new Date(i.getTime()):hg({},i):i}function Dte(i){for(const e of Object.keys(i))i[e]===OM?delete i[e]:typeof i[e]=="object"&&i[e]!==null&&Dte(i[e])}function FPe(...i){return LPe(i.length?i:[Date.now()])}function LPe(i){let[e,t,r]=qPe(i),n=1;const s=()=>{const o=2091639*e+n*23283064365386963e-26;return e=t,t=r,r=o-(n=o|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=i,s.version="0.9",s}function qPe(...i){const e=jPe();let t=e(" "),r=e(" "),n=e(" ");for(let s=0;s<i.length;s++)t-=e(i[s]),t<0&&(t+=1),r-=e(i[s]),r<0&&(r+=1),n-=e(i[s]),n<0&&(n+=1);return[t,r,n]}function jPe(){let i=4022871197;return function(e){const t=e.toString();for(let r=0;r<t.length;r++){i+=t.charCodeAt(r);let n=.02519603282416938*i;i=n>>>0,n-=i,n*=i,i=n>>>0,n-=i,i+=n*4294967296}return(i>>>0)*23283064365386963e-26}}function GPe(){const i=()=>{};return{on:i,off:i,destroy:i,emit:i,get(){return{set:i}}}}const PM=typeof window<"u"?window.Hammer||TM:function(){return GPe()};function as(i){this._cleanupQueue=[],this.active=!1,this._dom={container:i,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const e=PM(this._dom.overlay);e.on("tap",this._onTapOverlay.bind(this)),this._cleanupQueue.push(()=>{e.destroy()}),["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(r=>{e.on(r,n=>{n.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=r=>{WPe(r.target,i)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=r=>{("key"in r?r.key==="Escape":r.keyCode===27)&&this.deactivate()}}yM(as.prototype);as.current=null;as.prototype.destroy=function(){this.deactivate();for(const i of this._cleanupQueue.splice(0).reverse())i()};as.prototype.activate=function(){as.current&&as.current.deactivate(),as.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};as.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};as.prototype._onTapOverlay=function(i){this.activate(),i.srcEvent.stopPropagation()};function WPe(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}const BPe=/^\/?Date\((-?\d+)/i,zPe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,HPe=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,YPe=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,UPe=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function cd(i){return i instanceof Number||typeof i=="number"}function Ite(i){if(i)for(;i.hasChildNodes()===!0;){const e=i.firstChild;e&&(Ite(e),i.removeChild(e))}}function Mr(i){return i instanceof String||typeof i=="string"}function yD(i){return typeof i=="object"&&i!==null}function VPe(i){if(i instanceof Date)return!0;if(Mr(i)){if(BPe.exec(i))return!0;if(!isNaN(Date.parse(i)))return!0}return!1}function dl(i,e,t,r){let n=!1;r===!0&&(n=e[t]===null&&i[t]!==void 0),n?delete i[t]:i[t]=e[t]}function kte(i,e,t=!1){for(const r in i)if(e[r]!==void 0)if(e[r]===null||typeof e[r]!="object")dl(i,e,r,t);else{const n=i[r],s=e[r];yD(n)&&yD(s)&&kte(n,s,t)}}const XPe=Object.assign;function KPe(i,e,...t){if(!Array.isArray(i))throw new Error("Array with property names expected as first argument");for(const r of t)for(let n=0;n<i.length;n++){const s=i[n];r&&Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}function ZPe(i,e,t,r=!1){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(let n=0;n<i.length;n++){const s=i[n];if(Object.prototype.hasOwnProperty.call(t,s))if(t[s]&&t[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?Zd(e[s],t[s],!1,r):dl(e,t,s,r);else{if(Array.isArray(t[s]))throw new TypeError("Arrays are not supported by deepExtend");dl(e,t,s,r)}}return e}function QPe(i,e,t,r=!1){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!i.includes(n))if(t[n]&&t[n].constructor===Object)e[n]===void 0&&(e[n]={}),e[n].constructor===Object?Zd(e[n],t[n]):dl(e,t,n,r);else if(Array.isArray(t[n])){e[n]=[];for(let s=0;s<t[n].length;s++)e[n].push(t[n][s])}else dl(e,t,n,r);return e}function Zd(i,e,t=!1,r=!1){for(const n in e)(Object.prototype.hasOwnProperty.call(e,n)||t===!0)&&(typeof e[n]=="object"&&e[n]!==null&&Object.getPrototypeOf(e[n])===Object.prototype?i[n]===void 0?i[n]=Zd({},e[n],t):typeof i[n]=="object"&&i[n]!==null&&Object.getPrototypeOf(i[n])===Object.prototype?Zd(i[n],e[n],t):dl(i,e,n,r):Array.isArray(e[n])?i[n]=e[n].slice():dl(i,e,n,r));return i}function JPe(i,e){if(i.length!==e.length)return!1;for(let t=0,r=i.length;t<r;t++)if(i[t]!=e[t])return!1;return!0}function Yh(i){const e=typeof i;return e==="object"?i===null?"null":i instanceof Boolean?"Boolean":i instanceof Number?"Number":i instanceof String?"String":Array.isArray(i)?"Array":i instanceof Date?"Date":"Object":e==="number"?"Number":e==="boolean"?"Boolean":e==="string"?"String":e===void 0?"undefined":e}function Qd(i,e){return[...i,e]}function Mte(i){return i.slice()}function eDe(i){return i.getBoundingClientRect().left}function tDe(i){return i.getBoundingClientRect().right}function iDe(i){return i.getBoundingClientRect().top}function rDe(i,e){let t=i.className.split(" ");const r=e.split(" ");t=t.concat(r.filter(function(n){return!t.includes(n)})),i.className=t.join(" ")}function nDe(i,e){let t=i.className.split(" ");const r=e.split(" ");t=t.filter(function(n){return!r.includes(n)}),i.className=t.join(" ")}function sDe(i,e){if(Array.isArray(i)){const t=i.length;for(let r=0;r<t;r++)e(i[r],r,i)}else for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(i[t],t,i)}const oDe=Object.values;function aDe(i,e,t){return i[e]!==t?(i[e]=t,!0):!1}function lDe(i){let e=!1;return()=>{e||(e=!0,requestAnimationFrame(()=>{e=!1,i()}))}}function cDe(i){i||(i=window.event),i&&(i.preventDefault?i.preventDefault():i.returnValue=!1)}function uDe(i=window.event){let e=null;return i&&(i.target?e=i.target:i.srcElement&&(e=i.srcElement)),!(e instanceof Element)||e.nodeType!=null&&e.nodeType==3&&(e=e.parentNode,!(e instanceof Element))?null:e}function hDe(i,e){let t=i;for(;t;){if(t===e)return!0;if(t.parentNode)t=t.parentNode;else return!1}return!1}const dDe={asBoolean(i,e){return typeof i=="function"&&(i=i()),i!=null?i!=!1:e||null},asNumber(i,e){return typeof i=="function"&&(i=i()),i!=null?Number(i)||e||null:e||null},asString(i,e){return typeof i=="function"&&(i=i()),i!=null?String(i):e||null},asSize(i,e){return typeof i=="function"&&(i=i()),Mr(i)?i:cd(i)?i+"px":e||null},asElement(i,e){return typeof i=="function"&&(i=i()),i||e||null}};function Kv(i){let e;switch(i.length){case 3:case 4:return e=HPe.exec(i),e?{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16)}:null;case 6:case 7:return e=zPe.exec(i),e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null;default:return null}}function fDe(i,e){if(i.includes("rgba"))return i;if(i.includes("rgb")){const t=i.substr(i.indexOf("(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}else{const t=Kv(i);return t==null?i:"rgba("+t.r+","+t.g+","+t.b+","+e+")"}}function DM(i,e,t){return"#"+((1<<24)+(i<<16)+(e<<8)+t).toString(16).slice(1)}function pDe(i,e){if(Mr(i)){let t=i;if(kM(t)){const r=t.substr(4).substr(0,t.length-5).split(",").map(function(n){return parseInt(n)});t=DM(r[0],r[1],r[2])}if(IM(t)===!0){const r=Nte(t),n={h:r.h,s:r.s*.8,v:Math.min(1,r.v*1.02)},s={h:r.h,s:Math.min(1,r.s*1.25),v:r.v*.8},o=bD(s.h,s.s,s.v),a=bD(n.h,n.s,n.v);return{background:t,border:o,highlight:{background:a,border:o},hover:{background:a,border:o}}}else return{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else return e?{background:i.background||e.background,border:i.border||e.border,highlight:Mr(i.highlight)?{border:i.highlight,background:i.highlight}:{background:i.highlight&&i.highlight.background||e.highlight.background,border:i.highlight&&i.highlight.border||e.highlight.border},hover:Mr(i.hover)?{border:i.hover,background:i.hover}:{border:i.hover&&i.hover.border||e.hover.border,background:i.hover&&i.hover.background||e.hover.background}}:{background:i.background||void 0,border:i.border||void 0,highlight:Mr(i.highlight)?{border:i.highlight,background:i.highlight}:{background:i.highlight&&i.highlight.background||void 0,border:i.highlight&&i.highlight.border||void 0},hover:Mr(i.hover)?{border:i.hover,background:i.hover}:{border:i.hover&&i.hover.border||void 0,background:i.hover&&i.hover.background||void 0}}}function Nc(i,e,t){i=i/255,e=e/255,t=t/255;const r=Math.min(i,Math.min(e,t)),n=Math.max(i,Math.max(e,t));if(r===n)return{h:0,s:0,v:r};const s=i===r?e-t:t===r?i-e:t-i,a=60*((i===r?3:t===r?1:5)-s/(n-r))/360,l=(n-r)/n;return{h:a,s:l,v:n}}function Ate(i){const e=document.createElement("div"),t={};e.style.cssText=i;for(let r=0;r<e.style.length;++r)t[e.style[r]]=e.style.getPropertyValue(e.style[r]);return t}function mDe(i,e){const t=Ate(e);for(const[r,n]of Object.entries(t))i.style.setProperty(r,n)}function gDe(i,e){const t=Ate(e);for(const r of Object.keys(t))i.style.removeProperty(r)}function ud(i,e,t){let r,n,s;const o=Math.floor(i*6),a=i*6-o,l=t*(1-e),c=t*(1-a*e),u=t*(1-(1-a)*e);switch(o%6){case 0:r=t,n=u,s=l;break;case 1:r=c,n=t,s=l;break;case 2:r=l,n=t,s=u;break;case 3:r=l,n=c,s=t;break;case 4:r=u,n=l,s=t;break;case 5:r=t,n=l,s=c;break}return{r:Math.floor(r*255),g:Math.floor(n*255),b:Math.floor(s*255)}}function bD(i,e,t){const r=ud(i,e,t);return DM(r.r,r.g,r.b)}function Nte(i){const e=Kv(i);if(!e)throw new TypeError(`'${i}' is not a valid color.`);return Nc(e.r,e.g,e.b)}function IM(i){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(i)}function kM(i){return YPe.test(i)}function $te(i){return UPe.test(i)}function vDe(i,e){if(e!==null&&typeof e=="object"){const t=Object.create(e);for(let r=0;r<i.length;r++)Object.prototype.hasOwnProperty.call(e,i[r])&&typeof e[i[r]]=="object"&&(t[i[r]]=MM(e[i[r]]));return t}else return null}function MM(i){if(i===null||typeof i!="object")return null;if(i instanceof Element)return i;const e=Object.create(i);for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&typeof i[t]=="object"&&(e[t]=MM(i[t]));return e}function yDe(i,e){for(let t=0;t<i.length;t++){const r=i[t];let n;for(n=t;n>0&&e(r,i[n-1])<0;n--)i[n]=i[n-1];i[n]=r}return i}function bDe(i,e,t,r={}){const n=function(f){return f!=null},s=function(f){return f!==null&&typeof f=="object"},o=function(f){for(const p in f)if(Object.prototype.hasOwnProperty.call(f,p))return!1;return!0};if(!s(i))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!n(t))throw new Error("Parameter option must have a value");if(!s(r))throw new Error("Parameter globalOptions must be an object");const a=function(f,p,m){s(f[m])||(f[m]={});const g=p[m],v=f[m];for(const y in g)Object.prototype.hasOwnProperty.call(g,y)&&(v[y]=g[y])},l=e[t],u=s(r)&&!o(r)?r[t]:void 0,h=u?u.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(i[t])||(i[t]={}),i[t].enabled=l;return}if(l===null&&!s(i[t]))if(n(u))i[t]=Object.create(u);else return;if(!s(l))return;let d=!0;l.enabled!==void 0?d=l.enabled:h!==void 0&&(d=u.enabled),a(i,e,t),i[t].enabled=d}function _De(i,e,t,r){let s=0,o=0,a=i.length-1;for(;o<=a&&s<1e4;){const l=Math.floor((o+a)/2),c=i[l],u=r===void 0?c[t]:c[t][r],h=e(u);if(h==0)return l;h==-1?o=l+1:a=l-1,s++}return-1}function wDe(i,e,t,r,n){let o=0,a=0,l=i.length-1,c,u,h,d;for(n=n??function(f,p){return f==p?0:f<p?-1:1};a<=l&&o<1e4;){if(d=Math.floor(.5*(l+a)),c=i[Math.max(0,d-1)][t],u=i[d][t],h=i[Math.min(i.length-1,d+1)][t],n(u,e)==0)return d;if(n(c,e)<0&&n(u,e)>0)return r=="before"?Math.max(0,d-1):d;if(n(u,e)<0&&n(h,e)>0)return r=="before"?d:Math.min(i.length-1,d+1);n(u,e)<0?a=d+1:l=d-1,o++}return-1}const xDe={linear(i){return i},easeInQuad(i){return i*i},easeOutQuad(i){return i*(2-i)},easeInOutQuad(i){return i<.5?2*i*i:-1+(4-2*i)*i},easeInCubic(i){return i*i*i},easeOutCubic(i){return--i*i*i+1},easeInOutCubic(i){return i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1},easeInQuart(i){return i*i*i*i},easeOutQuart(i){return 1- --i*i*i*i},easeInOutQuart(i){return i<.5?8*i*i*i*i:1-8*--i*i*i*i},easeInQuint(i){return i*i*i*i*i},easeOutQuint(i){return 1+--i*i*i*i*i},easeInOutQuint(i){return i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i}};function SDe(){const i=document.createElement("p");i.style.width="100%",i.style.height="200px";const e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(i),document.body.appendChild(e);const t=i.offsetWidth;e.style.overflow="scroll";let r=i.offsetWidth;return t==r&&(r=e.clientWidth),document.body.removeChild(e),t-r}function EDe(i,e){let t;Array.isArray(e)||(e=[e]);for(const r of i)if(r){t=r[e[0]];for(let n=1;n<e.length;n++)t&&(t=t[e[n]]);if(typeof t<"u")break}return t}const CDe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let Fte=class{constructor(e=1){this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return CDe[e]}setColor(e,t=!0){if(e==="none")return;let r;const n=this._isColorString(e);if(n!==void 0&&(e=n),Mr(e)===!0){if(kM(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");r={r:s[0],g:s[1],b:s[2],a:1}}else if($te(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");r={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(IM(e)===!0){const s=Kv(e);r={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:s}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(e=!0){e===!0&&(this.previousColor=Object.assign({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e,t=!0){t===!0&&(this.initialColor=Object.assign({},e)),this.color=e;const r=Nc(e.r,e.g,e.b),n=2*Math.PI,s=this.r*r.s,o=this.centerCoordinates.x+s*Math.sin(n*r.h),a=this.centerCoordinates.y+s*Math.cos(n*r.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const t=Nc(this.color.r,this.color.g,this.color.b);t.v=e/100;const r=ud(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(e=this.color){const t=Nc(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const n=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,n,s),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),r.fill(),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const e=this;this.opacityRange.onchange=function(){e._setOpacity(this.value)},this.opacityRange.oninput=function(){e._setOpacity(this.value)},this.brightnessRange.onchange=function(){e._setBrightness(this.value)},this.brightnessRange.oninput=function(){e._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new PM(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let n,s,o,a;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;const l=2*Math.PI/360,c=1/360,u=1/this.r;let h;for(o=0;o<360;o++)for(a=0;a<this.r;a++)n=this.centerCoordinates.x+a*Math.sin(l*o),s=this.centerCoordinates.y+a*Math.cos(l*o),h=ud(o*c,a*u,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(n-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){const t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,n=e.center.y-t.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=r-o,l=n-s,c=Math.atan2(a,l),u=.98*Math.min(Math.sqrt(a*a+l*l),o),h=Math.cos(c)*u+s,d=Math.sin(c)*u+o;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=d-.5*this.colorPickerSelector.clientWidth+"px";let f=c/(2*Math.PI);f=f<0?f+1:f;const p=u/this.r,m=Nc(this.color.r,this.color.g,this.color.b);m.h=f,m.s=p;const g=ud(m.h,m.s,m.v);g.a=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function _D(...i){if(i.length<1)throw new TypeError("Invalid arguments.");if(i.length===1)return document.createTextNode(i[0]);{const e=document.createElement(i[0]);return e.appendChild(_D(...i.slice(1))),e}}let TDe=class{constructor(e,t,r,n=1,s=()=>!1){this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Object.assign(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Fte(n),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(Array.isArray(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),e.filter!==void 0&&(this.options.filter=e.filter),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);this.options.filter===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=this.options.filter;let t=0,r=!1;for(const n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(n,[]),r=r||this._handleObject(this.configureOptions[n],[n],!0)):(e===!0||e.indexOf(n)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e,...t){if(this.allowCreation===!0){const r=document.createElement("div");return r.className="vis-configuration vis-config-item vis-config-s"+e.length,t.forEach(n=>{r.appendChild(n)}),this.domElements.push(r),this.domElements.length}return 0}_makeHeader(e){const t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}_makeLabel(e,t,r=!1){const n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(_D("i","b",e))}else n.innerText=e+":";return n}_makeDropdown(e,t,r){const n=document.createElement("select");n.className="vis-configuration vis-config-select";let s=0;t!==void 0&&e.indexOf(t)!==-1&&(s=e.indexOf(t));for(let l=0;l<e.length;l++){const c=document.createElement("option");c.value=e[l],l===s&&(c.selected="selected"),c.innerText=e[l],n.appendChild(c)}const o=this;n.onchange=function(){o._update(this.value,r)};const a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,n)}_makeRange(e,t,r){const n=e[0],s=e[1],o=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=o}catch{}l.step=a;let c="",u=0;t!==void 0?(t<0&&t*1.2<s?(l.min=Math.ceil(t*1.2),u=l.min,c="range increased"):t/1.2<s&&(l.min=Math.ceil(t/1.2),u=l.min,c="range increased"),t*1.2>o&&o!==1&&(l.max=Math.ceil(t*1.2),u=l.max,c="range increased"),l.value=t):l.value=n;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=l.value;const d=this;l.onchange=function(){h.value=this.value,d._update(Number(this.value),r)},l.oninput=function(){h.value=this.value};const f=this._makeLabel(r[r.length-1],r),p=this._makeItem(r,f,l,h);c!==""&&this.popupHistory[p]!==u&&(this.popupHistory[p]=u,this._setupPopup(c,p))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerText=e,r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){const n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=e,t!==void 0&&(n.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));const s=this;n.onchange=function(){s._update(this.checked,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,n)}_makeTextInput(e,t,r){const n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=t,t!==e&&this.changedOptions.push({path:r,value:t});const s=this;n.onchange=function(){s._update(this.value,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,n)}_makeColorField(e,t,r){const n=e[1],s=document.createElement("div");t=t===void 0?n:t,t!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?n:t,s.onclick=()=>{this._showColorPicker(t,s,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,s)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(n=>{const s="rgba("+n.r+","+n.g+","+n.b+","+n.a+")";t.style.backgroundColor=s,this._update(s,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e,t=[],r=!1){let n=!1;const s=this.options.filter;let o=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){n=!0;const l=e[a],c=Qd(t,a);if(typeof s=="function"&&(n=s(a,t),n===!1&&!Array.isArray(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,n=this._handleObject(l,c,!0),this.allowCreation=r===!1)),n!==!1){o=!0;const u=this._getValue(c);if(Array.isArray(l))this._handleArray(l,u,c);else if(typeof l=="string")this._makeTextInput(l,u,c);else if(typeof l=="boolean")this._makeCheckbox(l,u,c);else if(l instanceof Object){if(!this.hideOption(t,a,this.moduleOptions))if(l.enabled!==void 0){const h=Qd(c,"enabled"),d=this._getValue(h);if(d===!0){const f=this._makeLabel(a,c,!0);this._makeItem(c,f),o=this._handleObject(l,c)||o}else this._makeCheckbox(l,d,c)}else{const h=this._makeLabel(a,c,!0);this._makeItem(c,h),o=this._handleObject(l,c)||o}}else console.error("dont know how to handle",l,a,c)}}return o}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){const r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t,r={}){let n=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<t.length;s++)t[s]!=="global"&&(n[t[s]]===void 0&&(n[t[s]]={}),s!==t.length-1?n=n[t[s]]:n[t[s]]=e);return r}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(_D("pre","const options = "+JSON.stringify(e,null,2)))}getOptions(){const e={};for(let t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}},ODe=class{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=parseInt(e),this.y=parseInt(t)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const t=this.frame.clientHeight,r=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let o=0,a=0;if(this.overflowMethod=="flip"){let l=!1,c=!0;this.y-t<this.padding&&(c=!1),this.x+r>s-this.padding&&(l=!0),l?o=this.x-r:o=this.x,c?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>n&&(a=n-t-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+r+this.padding>s&&(o=s-r-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Ph=!1,Fz;const wD="background: #FFeeee; color: #dd0000";let RDe=class Gt{static validate(e,t,r){Ph=!1,Fz=t;let n=t;return r!==void 0&&(n=t[r]),Gt.parse(e,n,[]),Ph}static parse(e,t,r){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&Gt.check(n,e,t,r)}static check(e,t,r,n){if(r[e]===void 0&&r.__any__===void 0){Gt.getSuggestion(e,r,n);return}let s=e,o=!0;r[e]===void 0&&r.__any__!==void 0&&(s="__any__",o=Gt.getType(t[e])==="object");let a=r[s];o&&a.__type__!==void 0&&(a=a.__type__),Gt.checkFields(e,t,r,s,a,n)}static checkFields(e,t,r,n,s,o){const a=function(u){console.error("%c"+u+Gt.printLocation(o,e),wD)},l=Gt.getType(t[e]),c=s[l];c!==void 0?Gt.getType(c)==="array"&&c.indexOf(t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+Gt.print(c)+' not "'+t[e]+'". '),Ph=!0):l==="object"&&n!=="__any__"&&(o=Qd(o,e),Gt.parse(t[e],r[n],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+Gt.print(Object.keys(s))+". Received ["+l+'] "'+t[e]+'"'),Ph=!0)}static getType(e){const t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Array.isArray(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){const n=Gt.findInOptions(e,t,r,!1),s=Gt.findInOptions(e,Fz,[],!0),o=8,a=4;let l;n.indexMatch!==void 0?l=" in "+Gt.printLocation(n.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+`"?

`:s.distance<=a&&n.distance>s.distance?l=" in "+Gt.printLocation(n.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+Gt.printLocation(s.path,s.closestMatch,""):n.distance<=o?l='. Did you mean "'+n.closestMatch+'"?'+Gt.printLocation(n.path,e):l=". Did you mean one of these: "+Gt.print(Object.keys(t))+Gt.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+l,wD),Ph=!0}static findInOptions(e,t,r,n=!1){let s=1e9,o="",a=[];const l=e.toLowerCase();let c;for(const u in t){let h;if(t[u].__type__!==void 0&&n===!0){const d=Gt.findInOptions(e,t[u],Qd(r,u));s>d.distance&&(o=d.closestMatch,a=d.path,s=d.distance,c=d.indexMatch)}else u.toLowerCase().indexOf(l)!==-1&&(c=u),h=Gt.levenshteinDistance(e,u),s>h&&(o=u,a=Mte(r),s=h)}return{closestMatch:o,path:a,distance:s,indexMatch:c}}static printLocation(e,t,r=`Problem value found at: 
`){let n=`

`+r+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)n+="  ";n+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)n+="  ";n+=t+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)n+="  ";n+=`}
`}return n+`

`}static print(e){return JSON.stringify(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;const r=[];let n;for(n=0;n<=t.length;n++)r[n]=[n];let s;for(s=0;s<=e.length;s++)r[0][s]=s;for(n=1;n<=t.length;n++)for(s=1;s<=e.length;s++)t.charAt(n-1)==e.charAt(s-1)?r[n][s]=r[n-1][s-1]:r[n][s]=Math.min(r[n-1][s-1]+1,Math.min(r[n][s-1]+1,r[n-1][s]+1));return r[t.length][e.length]}};const PDe=as,DDe=Fte,IDe=TDe,kDe=PM,MDe=ODe,ADe=wD,NDe=RDe,$De=Object.freeze(Object.defineProperty({__proto__:null,Activator:PDe,Alea:FPe,ColorPicker:DDe,Configurator:IDe,DELETE:OM,HSVToHex:bD,HSVToRGB:ud,Hammer:kDe,Popup:MDe,RGBToHSV:Nc,RGBToHex:DM,VALIDATOR_PRINT_STYLE:ADe,Validator:NDe,addClassName:rDe,addCssText:mDe,binarySearchCustom:_De,binarySearchValue:wDe,bridgeObject:MM,copyAndExtendArray:Qd,copyArray:Mte,deepExtend:Zd,deepObjectAssign:RM,easingFunctions:xDe,equalArray:JPe,extend:XPe,fillIfDefined:kte,forEach:sDe,getAbsoluteLeft:eDe,getAbsoluteRight:tDe,getAbsoluteTop:iDe,getScrollBarWidth:SDe,getTarget:uDe,getType:Yh,hasParent:hDe,hexToHSV:Nte,hexToRGB:Kv,insertSort:yDe,isDate:VPe,isNumber:cd,isObject:yD,isString:Mr,isValidHex:IM,isValidRGB:kM,isValidRGBA:$te,mergeOptions:bDe,option:dDe,overrideOpacity:fDe,parseColor:pDe,preventDefault:cDe,pureDeepObjectAssign:Rte,recursiveDOMDelete:Ite,removeClassName:nDe,removeCssText:gDe,selectiveBridgeObject:vDe,selectiveDeepExtend:ZPe,selectiveExtend:KPe,selectiveNotDeepExtend:QPe,throttle:lDe,toArray:oDe,topMost:EDe,updateProperty:aDe},Symbol.toStringTag,{value:"Module"})),Ri=[];for(let i=0;i<256;++i)Ri.push((i+256).toString(16).slice(1));function FDe(i,e=0){return(Ri[i[e+0]]+Ri[i[e+1]]+Ri[i[e+2]]+Ri[i[e+3]]+"-"+Ri[i[e+4]]+Ri[i[e+5]]+"-"+Ri[i[e+6]]+Ri[i[e+7]]+"-"+Ri[i[e+8]]+Ri[i[e+9]]+"-"+Ri[i[e+10]]+Ri[i[e+11]]+Ri[i[e+12]]+Ri[i[e+13]]+Ri[i[e+14]]+Ri[i[e+15]]).toLowerCase()}let Yx;const LDe=new Uint8Array(16);function qDe(){if(!Yx){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Yx=crypto.getRandomValues.bind(crypto)}return Yx(LDe)}const jDe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Lz={randomUUID:jDe};function GDe(i,e,t){i=i||{};const r=i.random??i.rng?.()??qDe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,FDe(r)}function Ya(i,e,t){return Lz.randomUUID&&!i?Lz.randomUUID():GDe(i)}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function WDe(i){return new zDe(i)}class BDe{_source;_transformers;_target;_listeners={add:this._add.bind(this),remove:this._remove.bind(this),update:this._update.bind(this)};constructor(e,t,r){this._source=e,this._transformers=t,this._target=r}all(){return this._target.update(this._transformItems(this._source.get())),this}start(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}stop(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}_transformItems(e){return this._transformers.reduce((t,r)=>r(t),e)}_add(e,t){t!=null&&this._target.add(this._transformItems(this._source.get(t.items)))}_update(e,t){t!=null&&this._target.update(this._transformItems(this._source.get(t.items)))}_remove(e,t){t!=null&&this._target.remove(this._transformItems(t.oldData))}}class zDe{_source;_transformers=[];constructor(e){this._source=e}filter(e){return this._transformers.push(t=>t.filter(e)),this}map(e){return this._transformers.push(t=>t.map(e)),this}flatMap(e){return this._transformers.push(t=>t.flatMap(e)),this}to(e){return new BDe(this._source,this._transformers,e)}}function xD(i){return typeof i=="string"||typeof i=="number"}class AM{delay;max;_queue=[];_timeout=null;_extended=null;constructor(e){this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,t){const r=new AM(t);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{r.flush()};const n=[{name:"flush",original:void 0}];if(t&&t.replace)for(let s=0;s<t.replace.length;s++){const o=t.replace[s];n.push({name:o,original:e[o]}),r.replace(e,o)}return r._extended={object:e,methods:n},r}destroy(){if(this.flush(),this._extended){const e=this._extended.object,t=this._extended.methods;for(let r=0;r<t.length;r++){const n=t[r];n.original?e[n.name]=n.original:delete e[n.name]}this._extended=null}}replace(e,t){const r=this,n=e[t];if(!n)throw new Error("Method "+t+" undefined");e[t]=function(...s){r.queue({args:s,fn:n,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=setTimeout(()=>{this.flush()},this.delay))}flush(){this._queue.splice(0).forEach(e=>{e.fn.apply(e.context||e.fn,e.args||[])})}}class Jd{_subscribers={"*":[],add:[],remove:[],update:[]};_trigger(e,t,r){if(e==="*")throw new Error("Cannot trigger event *");[...this._subscribers[e],...this._subscribers["*"]].forEach(n=>{n(e,t,r??null)})}on(e,t){typeof t=="function"&&this._subscribers[e].push(t)}off(e,t){this._subscribers[e]=this._subscribers[e].filter(r=>r!==t)}subscribe=Jd.prototype.on;unsubscribe=Jd.prototype.off}class La{_pairs;constructor(e){this._pairs=e}*[Symbol.iterator](){for(const[e,t]of this._pairs)yield[e,t]}*entries(){for(const[e,t]of this._pairs)yield[e,t]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){return[...this._pairs].map(e=>e[0])}toItemArray(){return[...this._pairs].map(e=>e[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=Object.create(null);for(const[t,r]of this._pairs)e[t]=r;return e}toMap(){return new Map(this._pairs)}toIdSet(){return new Set(this.toIdArray())}toItemSet(){return new Set(this.toItemArray())}cache(){return new La([...this._pairs])}distinct(e){const t=new Set;for(const[r,n]of this._pairs)t.add(e(n,r));return t}filter(e){const t=this._pairs;return new La({*[Symbol.iterator](){for(const[r,n]of t)e(n,r)&&(yield[r,n])}})}forEach(e){for(const[t,r]of this._pairs)e(r,t)}map(e){const t=this._pairs;return new La({*[Symbol.iterator](){for(const[r,n]of t)yield[r,e(n,r)]}})}max(e){const t=this._pairs[Symbol.iterator]();let r=t.next();if(r.done)return null;let n=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,l=e(a,o);l>s&&(s=l,n=a)}return n}min(e){const t=this._pairs[Symbol.iterator]();let r=t.next();if(r.done)return null;let n=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,l=e(a,o);l<s&&(s=l,n=a)}return n}reduce(e,t){for(const[r,n]of this._pairs)t=e(t,n,r);return t}sort(e){return new La({[Symbol.iterator]:()=>[...this._pairs].sort(([t,r],[n,s])=>e(r,s,t,n))[Symbol.iterator]()})}}function HDe(i,e){return i[e]==null&&(i[e]=Ya()),i}class bu extends Jd{flush;length;get idProp(){return this._idProp}_options;_data;_idProp;_queue=null;constructor(e,t){super(),e&&!Array.isArray(e)&&(t=e,e=[]),this._options=t||{},this._data=new Map,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(t)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=AM.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,t){const r=[];let n;if(Array.isArray(e)){if(e.map(o=>o[this._idProp]).some(o=>this._data.has(o)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,a=e.length;o<a;o++)n=this._addItem(e[o]),r.push(n)}else if(e&&typeof e=="object")n=this._addItem(e),r.push(n);else throw new Error("Unknown dataType");return r.length&&this._trigger("add",{items:r},t),r}update(e,t){const r=[],n=[],s=[],o=[],a=this._idProp,l=c=>{const u=c[a];if(u!=null&&this._data.has(u)){const h=c,d=Object.assign({},this._data.get(u)),f=this._updateItem(h);n.push(f),o.push(h),s.push(d)}else{const h=this._addItem(c);r.push(h)}};if(Array.isArray(e))for(let c=0,u=e.length;c<u;c++)e[c]&&typeof e[c]=="object"?l(e[c]):console.warn("Ignoring input item, which is not an object at index "+c);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(r.length&&this._trigger("add",{items:r},t),n.length){const c={items:n,oldData:s,data:o};this._trigger("update",c,t)}return r.concat(n)}updateOnly(e,t){Array.isArray(e)||(e=[e]);const r=e.map(n=>{const s=this._data.get(n[this._idProp]);if(s==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:s,update:n}}).map(({oldData:n,update:s})=>{const o=n[this._idProp],a=Rte(n,s);return this._data.set(o,a),{id:o,oldData:n,updatedData:a}});if(r.length){const n={items:r.map(s=>s.id),oldData:r.map(s=>s.oldData),data:r.map(s=>s.updatedData)};return this._trigger("update",n,t),n.items}else return[]}get(e,t){let r,n,s;xD(e)?(r=e,s=t):Array.isArray(e)?(n=e,s=t):s=e;const o=s&&s.returnType==="Object"?"Object":"Array",a=s&&s.filter,l=[];let c,u,h;if(r!=null)c=this._data.get(r),c&&a&&!a(c)&&(c=void 0);else if(n!=null)for(let d=0,f=n.length;d<f;d++)c=this._data.get(n[d]),c!=null&&(!a||a(c))&&l.push(c);else{u=[...this._data.keys()];for(let d=0,f=u.length;d<f;d++)h=u[d],c=this._data.get(h),c!=null&&(!a||a(c))&&l.push(c)}if(s&&s.order&&r==null&&this._sort(l,s.order),s&&s.fields){const d=s.fields;if(r!=null&&c!=null)c=this._filterFields(c,d);else for(let f=0,p=l.length;f<p;f++)l[f]=this._filterFields(l[f],d)}if(o=="Object"){const d={};for(let f=0,p=l.length;f<p;f++){const m=l[f],g=m[this._idProp];d[g]=m}return d}else return r!=null?c??null:l}getIds(e){const t=this._data,r=e&&e.filter,n=e&&e.order,s=[...t.keys()],o=[];if(r)if(n){const a=[];for(let l=0,c=s.length;l<c;l++){const u=s[l],h=this._data.get(u);h!=null&&r(h)&&a.push(h)}this._sort(a,n);for(let l=0,c=a.length;l<c;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const c=s[a],u=this._data.get(c);u!=null&&r(u)&&o.push(u[this._idProp])}else if(n){const a=[];for(let l=0,c=s.length;l<c;l++){const u=s[l];a.push(t.get(u))}this._sort(a,n);for(let l=0,c=a.length;l<c;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const c=s[a],u=t.get(c);u!=null&&o.push(u[this._idProp])}return o}getDataSet(){return this}forEach(e,t){const r=t&&t.filter,s=[...this._data.keys()];if(t&&t.order){const o=this.get(t);for(let a=0,l=o.length;a<l;a++){const c=o[a],u=c[this._idProp];e(c,u)}}else for(let o=0,a=s.length;o<a;o++){const l=s[o],c=this._data.get(l);c!=null&&(!r||r(c))&&e(c,l)}}map(e,t){const r=t&&t.filter,n=[],o=[...this._data.keys()];for(let a=0,l=o.length;a<l;a++){const c=o[a],u=this._data.get(c);u!=null&&(!r||r(u))&&n.push(e(u,c))}return t&&t.order&&this._sort(n,t.order),n}_filterFields(e,t){return e&&(Array.isArray(t)?t:Object.keys(t)).reduce((r,n)=>(r[n]=e[n],r),{})}_sort(e,t){if(typeof t=="string"){const r=t;e.sort((n,s)=>{const o=n[r],a=s[r];return o>a?1:o<a?-1:0})}else if(typeof t=="function")e.sort(t);else throw new TypeError("Order must be a function or a string")}remove(e,t){const r=[],n=[],s=Array.isArray(e)?e:[e];for(let o=0,a=s.length;o<a;o++){const l=this._remove(s[o]);if(l){const c=l[this._idProp];c!=null&&(r.push(c),n.push(l))}}return r.length&&this._trigger("remove",{items:r,oldData:n},t),r}_remove(e){let t;if(xD(e)?t=e:e&&typeof e=="object"&&(t=e[this._idProp]),t!=null&&this._data.has(t)){const r=this._data.get(t)||null;return this._data.delete(t),--this.length,r}return null}clear(e){const t=[...this._data.keys()],r=[];for(let n=0,s=t.length;n<s;n++)r.push(this._data.get(t[n]));return this._data.clear(),this.length=0,this._trigger("remove",{items:t,oldData:r},e),t}max(e){let t=null,r=null;for(const n of this._data.values()){const s=n[e];typeof s=="number"&&(r==null||s>r)&&(t=n,r=s)}return t||null}min(e){let t=null,r=null;for(const n of this._data.values()){const s=n[e];typeof s=="number"&&(r==null||s<r)&&(t=n,r=s)}return t||null}distinct(e){const t=this._data,r=[...t.keys()],n=[];let s=0;for(let o=0,a=r.length;o<a;o++){const l=r[o],u=t.get(l)[e];let h=!1;for(let d=0;d<s;d++)if(n[d]==u){h=!0;break}!h&&u!==void 0&&(n[s]=u,s++)}return n}_addItem(e){const t=HDe(e,this._idProp),r=t[this._idProp];if(this._data.has(r))throw new Error("Cannot add item: item with id "+r+" already exists");return this._data.set(r,t),++this.length,r}_updateItem(e){const t=e[this._idProp];if(t==null)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(e)+")");const r=this._data.get(t);if(!r)throw new Error("Cannot update item: no item with id "+t+" found");return this._data.set(t,{...r,...e}),t}stream(e){if(e){const t=this._data;return new La({*[Symbol.iterator](){for(const r of e){const n=t.get(r);n!=null&&(yield[r,n])}}})}else return new La({[Symbol.iterator]:this._data.entries.bind(this._data)})}}class NM extends Jd{length=0;get idProp(){return this.getDataSet().idProp}_listener;_data;_ids=new Set;_options;constructor(e,t){super(),this._options=t||{},this._listener=this._onEvent.bind(this),this.setData(e)}setData(e){if(this._data){this._data.off&&this._data.off("*",this._listener);const t=this._data.getIds({filter:this._options.filter}),r=this._data.get(t);this._ids.clear(),this.length=0,this._trigger("remove",{items:t,oldData:r})}if(e!=null){this._data=e;const t=this._data.getIds({filter:this._options.filter});for(let r=0,n=t.length;r<n;r++){const s=t[r];this._ids.add(s)}this.length=t.length,this._trigger("add",{items:t})}else this._data=new bu;this._data.on&&this._data.on("*",this._listener)}refresh(){const e=this._data.getIds({filter:this._options.filter}),t=[...this._ids],r={},n=[],s=[],o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];r[c]=!0,this._ids.has(c)||(n.push(c),this._ids.add(c))}for(let a=0,l=t.length;a<l;a++){const c=t[a],u=this._data.get(c);u==null?console.error("If you see this, report it please."):r[c]||(s.push(c),o.push(u),this._ids.delete(c))}this.length+=n.length-s.length,n.length&&this._trigger("add",{items:n}),s.length&&this._trigger("remove",{items:s,oldData:o})}get(e,t){if(this._data==null)return null;let r=null,n;xD(e)||Array.isArray(e)?(r=e,n=t):n=e;const s=Object.assign({},this._options,n),o=this._options.filter,a=n&&n.filter;return o&&a&&(s.filter=l=>o(l)&&a(l)),r==null?this._data.get(s):this._data.get(r,s)}getIds(e){if(this._data.length){const t=this._options.filter,r=e!=null?e.filter:null;let n;return r?t?n=s=>t(s)&&r(s):n=r:n=t,this._data.getIds({filter:n,order:e&&e.order})}else return[]}forEach(e,t){if(this._data){const r=this._options.filter,n=t&&t.filter;let s;n?r?s=function(o){return r(o)&&n(o)}:s=n:s=r,this._data.forEach(e,{filter:s,order:t&&t.order})}}map(e,t){if(this._data){const r=this._options.filter,n=t&&t.filter;let s;return n?r?s=o=>r(o)&&n(o):s=n:s=r,this._data.map(e,{filter:s,order:t&&t.order})}else return[]}getDataSet(){return this._data.getDataSet()}stream(e){return this._data.stream(e||{[Symbol.iterator]:this._ids.keys.bind(this._ids)})}dispose(){this._data?.off&&this._data.off("*",this._listener);const e="This data view has already been disposed of.",t={get:()=>{throw new Error(e)},set:()=>{throw new Error(e)},configurable:!1};for(const r of Reflect.ownKeys(NM.prototype))Object.defineProperty(this,r,t)}_onEvent(e,t,r){if(!t||!t.items||!this._data)return;const n=t.items,s=[],o=[],a=[],l=[],c=[],u=[];switch(e){case"add":for(let h=0,d=n.length;h<d;h++){const f=n[h];this.get(f)&&(this._ids.add(f),s.push(f))}break;case"update":for(let h=0,d=n.length;h<d;h++){const f=n[h];this.get(f)?this._ids.has(f)?(o.push(f),c.push(t.data[h]),l.push(t.oldData[h])):(this._ids.add(f),s.push(f)):this._ids.has(f)&&(this._ids.delete(f),a.push(f),u.push(t.oldData[h]))}break;case"remove":for(let h=0,d=n.length;h<d;h++){const f=n[h];this._ids.has(f)&&(this._ids.delete(f),a.push(f),u.push(t.oldData[h]))}break}this.length+=s.length-a.length,s.length&&this._trigger("add",{items:s},r),o.length&&this._trigger("update",{items:o,oldData:l,data:c},r),a.length&&this._trigger("remove",{items:a,oldData:u},r)}}function YDe(i,e){return typeof e=="object"&&e!==null&&i===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof e.forEach=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof e.map=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function UDe(i,e){return typeof e=="object"&&e!==null&&i===e.idProp&&typeof e.forEach=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof e.map=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&YDe(i,e.getDataSet())}var lm={exports:{}},Rt={},cm={exports:{}},wa={},qz;function Lte(){if(qz)return wa;qz=1;function i(){var s={};return s["align-content"]=!1,s["align-items"]=!1,s["align-self"]=!1,s["alignment-adjust"]=!1,s["alignment-baseline"]=!1,s.all=!1,s["anchor-point"]=!1,s.animation=!1,s["animation-delay"]=!1,s["animation-direction"]=!1,s["animation-duration"]=!1,s["animation-fill-mode"]=!1,s["animation-iteration-count"]=!1,s["animation-name"]=!1,s["animation-play-state"]=!1,s["animation-timing-function"]=!1,s.azimuth=!1,s["backface-visibility"]=!1,s.background=!0,s["background-attachment"]=!0,s["background-clip"]=!0,s["background-color"]=!0,s["background-image"]=!0,s["background-origin"]=!0,s["background-position"]=!0,s["background-repeat"]=!0,s["background-size"]=!0,s["baseline-shift"]=!1,s.binding=!1,s.bleed=!1,s["bookmark-label"]=!1,s["bookmark-level"]=!1,s["bookmark-state"]=!1,s.border=!0,s["border-bottom"]=!0,s["border-bottom-color"]=!0,s["border-bottom-left-radius"]=!0,s["border-bottom-right-radius"]=!0,s["border-bottom-style"]=!0,s["border-bottom-width"]=!0,s["border-collapse"]=!0,s["border-color"]=!0,s["border-image"]=!0,s["border-image-outset"]=!0,s["border-image-repeat"]=!0,s["border-image-slice"]=!0,s["border-image-source"]=!0,s["border-image-width"]=!0,s["border-left"]=!0,s["border-left-color"]=!0,s["border-left-style"]=!0,s["border-left-width"]=!0,s["border-radius"]=!0,s["border-right"]=!0,s["border-right-color"]=!0,s["border-right-style"]=!0,s["border-right-width"]=!0,s["border-spacing"]=!0,s["border-style"]=!0,s["border-top"]=!0,s["border-top-color"]=!0,s["border-top-left-radius"]=!0,s["border-top-right-radius"]=!0,s["border-top-style"]=!0,s["border-top-width"]=!0,s["border-width"]=!0,s.bottom=!1,s["box-decoration-break"]=!0,s["box-shadow"]=!0,s["box-sizing"]=!0,s["box-snap"]=!0,s["box-suppress"]=!0,s["break-after"]=!0,s["break-before"]=!0,s["break-inside"]=!0,s["caption-side"]=!1,s.chains=!1,s.clear=!0,s.clip=!1,s["clip-path"]=!1,s["clip-rule"]=!1,s.color=!0,s["color-interpolation-filters"]=!0,s["column-count"]=!1,s["column-fill"]=!1,s["column-gap"]=!1,s["column-rule"]=!1,s["column-rule-color"]=!1,s["column-rule-style"]=!1,s["column-rule-width"]=!1,s["column-span"]=!1,s["column-width"]=!1,s.columns=!1,s.contain=!1,s.content=!1,s["counter-increment"]=!1,s["counter-reset"]=!1,s["counter-set"]=!1,s.crop=!1,s.cue=!1,s["cue-after"]=!1,s["cue-before"]=!1,s.cursor=!1,s.direction=!1,s.display=!0,s["display-inside"]=!0,s["display-list"]=!0,s["display-outside"]=!0,s["dominant-baseline"]=!1,s.elevation=!1,s["empty-cells"]=!1,s.filter=!1,s.flex=!1,s["flex-basis"]=!1,s["flex-direction"]=!1,s["flex-flow"]=!1,s["flex-grow"]=!1,s["flex-shrink"]=!1,s["flex-wrap"]=!1,s.float=!1,s["float-offset"]=!1,s["flood-color"]=!1,s["flood-opacity"]=!1,s["flow-from"]=!1,s["flow-into"]=!1,s.font=!0,s["font-family"]=!0,s["font-feature-settings"]=!0,s["font-kerning"]=!0,s["font-language-override"]=!0,s["font-size"]=!0,s["font-size-adjust"]=!0,s["font-stretch"]=!0,s["font-style"]=!0,s["font-synthesis"]=!0,s["font-variant"]=!0,s["font-variant-alternates"]=!0,s["font-variant-caps"]=!0,s["font-variant-east-asian"]=!0,s["font-variant-ligatures"]=!0,s["font-variant-numeric"]=!0,s["font-variant-position"]=!0,s["font-weight"]=!0,s.grid=!1,s["grid-area"]=!1,s["grid-auto-columns"]=!1,s["grid-auto-flow"]=!1,s["grid-auto-rows"]=!1,s["grid-column"]=!1,s["grid-column-end"]=!1,s["grid-column-start"]=!1,s["grid-row"]=!1,s["grid-row-end"]=!1,s["grid-row-start"]=!1,s["grid-template"]=!1,s["grid-template-areas"]=!1,s["grid-template-columns"]=!1,s["grid-template-rows"]=!1,s["hanging-punctuation"]=!1,s.height=!0,s.hyphens=!1,s.icon=!1,s["image-orientation"]=!1,s["image-resolution"]=!1,s["ime-mode"]=!1,s["initial-letters"]=!1,s["inline-box-align"]=!1,s["justify-content"]=!1,s["justify-items"]=!1,s["justify-self"]=!1,s.left=!1,s["letter-spacing"]=!0,s["lighting-color"]=!0,s["line-box-contain"]=!1,s["line-break"]=!1,s["line-grid"]=!1,s["line-height"]=!1,s["line-snap"]=!1,s["line-stacking"]=!1,s["line-stacking-ruby"]=!1,s["line-stacking-shift"]=!1,s["line-stacking-strategy"]=!1,s["list-style"]=!0,s["list-style-image"]=!0,s["list-style-position"]=!0,s["list-style-type"]=!0,s.margin=!0,s["margin-bottom"]=!0,s["margin-left"]=!0,s["margin-right"]=!0,s["margin-top"]=!0,s["marker-offset"]=!1,s["marker-side"]=!1,s.marks=!1,s.mask=!1,s["mask-box"]=!1,s["mask-box-outset"]=!1,s["mask-box-repeat"]=!1,s["mask-box-slice"]=!1,s["mask-box-source"]=!1,s["mask-box-width"]=!1,s["mask-clip"]=!1,s["mask-image"]=!1,s["mask-origin"]=!1,s["mask-position"]=!1,s["mask-repeat"]=!1,s["mask-size"]=!1,s["mask-source-type"]=!1,s["mask-type"]=!1,s["max-height"]=!0,s["max-lines"]=!1,s["max-width"]=!0,s["min-height"]=!0,s["min-width"]=!0,s["move-to"]=!1,s["nav-down"]=!1,s["nav-index"]=!1,s["nav-left"]=!1,s["nav-right"]=!1,s["nav-up"]=!1,s["object-fit"]=!1,s["object-position"]=!1,s.opacity=!1,s.order=!1,s.orphans=!1,s.outline=!1,s["outline-color"]=!1,s["outline-offset"]=!1,s["outline-style"]=!1,s["outline-width"]=!1,s.overflow=!1,s["overflow-wrap"]=!1,s["overflow-x"]=!1,s["overflow-y"]=!1,s.padding=!0,s["padding-bottom"]=!0,s["padding-left"]=!0,s["padding-right"]=!0,s["padding-top"]=!0,s.page=!1,s["page-break-after"]=!1,s["page-break-before"]=!1,s["page-break-inside"]=!1,s["page-policy"]=!1,s.pause=!1,s["pause-after"]=!1,s["pause-before"]=!1,s.perspective=!1,s["perspective-origin"]=!1,s.pitch=!1,s["pitch-range"]=!1,s["play-during"]=!1,s.position=!1,s["presentation-level"]=!1,s.quotes=!1,s["region-fragment"]=!1,s.resize=!1,s.rest=!1,s["rest-after"]=!1,s["rest-before"]=!1,s.richness=!1,s.right=!1,s.rotation=!1,s["rotation-point"]=!1,s["ruby-align"]=!1,s["ruby-merge"]=!1,s["ruby-position"]=!1,s["shape-image-threshold"]=!1,s["shape-outside"]=!1,s["shape-margin"]=!1,s.size=!1,s.speak=!1,s["speak-as"]=!1,s["speak-header"]=!1,s["speak-numeral"]=!1,s["speak-punctuation"]=!1,s["speech-rate"]=!1,s.stress=!1,s["string-set"]=!1,s["tab-size"]=!1,s["table-layout"]=!1,s["text-align"]=!0,s["text-align-last"]=!0,s["text-combine-upright"]=!0,s["text-decoration"]=!0,s["text-decoration-color"]=!0,s["text-decoration-line"]=!0,s["text-decoration-skip"]=!0,s["text-decoration-style"]=!0,s["text-emphasis"]=!0,s["text-emphasis-color"]=!0,s["text-emphasis-position"]=!0,s["text-emphasis-style"]=!0,s["text-height"]=!0,s["text-indent"]=!0,s["text-justify"]=!0,s["text-orientation"]=!0,s["text-overflow"]=!0,s["text-shadow"]=!0,s["text-space-collapse"]=!0,s["text-transform"]=!0,s["text-underline-position"]=!0,s["text-wrap"]=!0,s.top=!1,s.transform=!1,s["transform-origin"]=!1,s["transform-style"]=!1,s.transition=!1,s["transition-delay"]=!1,s["transition-duration"]=!1,s["transition-property"]=!1,s["transition-timing-function"]=!1,s["unicode-bidi"]=!1,s["vertical-align"]=!1,s.visibility=!1,s["voice-balance"]=!1,s["voice-duration"]=!1,s["voice-family"]=!1,s["voice-pitch"]=!1,s["voice-range"]=!1,s["voice-rate"]=!1,s["voice-stress"]=!1,s["voice-volume"]=!1,s.volume=!1,s["white-space"]=!1,s.widows=!1,s.width=!0,s["will-change"]=!1,s["word-break"]=!0,s["word-spacing"]=!0,s["word-wrap"]=!0,s["wrap-flow"]=!1,s["wrap-through"]=!1,s["writing-mode"]=!1,s["z-index"]=!1,s}function e(s,o,a){}function t(s,o,a){}var r=/javascript\s*\:/img;function n(s,o){return r.test(o)?"":o}return wa.whiteList=i(),wa.getDefaultWhiteList=i,wa.onAttr=e,wa.onIgnoreAttr=t,wa.safeAttrValue=n,wa}var Ux,jz;function qte(){return jz||(jz=1,Ux={indexOf:function(i,e){var t,r;if(Array.prototype.indexOf)return i.indexOf(e);for(t=0,r=i.length;t<r;t++)if(i[t]===e)return t;return-1},forEach:function(i,e,t){var r,n;if(Array.prototype.forEach)return i.forEach(e,t);for(r=0,n=i.length;r<n;r++)e.call(t,i[r],r,i)},trim:function(i){return String.prototype.trim?i.trim():i.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(i){return String.prototype.trimRight?i.trimRight():i.replace(/(\s*$)/g,"")}}),Ux}var Vx,Gz;function VDe(){if(Gz)return Vx;Gz=1;var i=qte();function e(t,r){t=i.trimRight(t),t[t.length-1]!==";"&&(t+=";");var n=t.length,s=!1,o=0,a=0,l="";function c(){if(!s){var d=i.trim(t.slice(o,a)),f=d.indexOf(":");if(f!==-1){var p=i.trim(d.slice(0,f)),m=i.trim(d.slice(f+1));if(p){var g=r(o,l.length,p,m,d);g&&(l+=g+"; ")}}}o=a+1}for(;a<n;a++){var u=t[a];if(u==="/"&&t[a+1]==="*"){var h=t.indexOf("*/",a+2);if(h===-1)break;a=h+1,o=a+1,s=!1}else u==="("?s=!0:u===")"?s=!1:u===";"?s||c():u===`
`&&c()}return i.trim(l)}return Vx=e,Vx}var Xx,Wz;function XDe(){if(Wz)return Xx;Wz=1;var i=Lte(),e=VDe();qte();function t(s){return s==null}function r(s){var o={};for(var a in s)o[a]=s[a];return o}function n(s){s=r(s||{}),s.whiteList=s.whiteList||i.whiteList,s.onAttr=s.onAttr||i.onAttr,s.onIgnoreAttr=s.onIgnoreAttr||i.onIgnoreAttr,s.safeAttrValue=s.safeAttrValue||i.safeAttrValue,this.options=s}return n.prototype.process=function(s){if(s=s||"",s=s.toString(),!s)return"";var o=this,a=o.options,l=a.whiteList,c=a.onAttr,u=a.onIgnoreAttr,h=a.safeAttrValue,d=e(s,function(f,p,m,g,v){var y=l[m],_=!1;if(y===!0?_=y:typeof y=="function"?_=y(g):y instanceof RegExp&&(_=y.test(g)),_!==!0&&(_=!1),g=h(m,g),!!g){var b={position:p,sourcePosition:f,source:v,isWhite:_};if(_){var w=c(m,g,b);return t(w)?m+":"+g:w}else{var w=u(m,g,b);if(!t(w))return w}}});return d},Xx=n,Xx}var Bz;function SD(){return Bz||(Bz=1,(function(i,e){var t=Lte(),r=XDe();function n(o,a){var l=new r(a);return l.process(o)}e=i.exports=n,e.FilterCSS=r;for(var s in t)e[s]=t[s];typeof window<"u"&&(window.filterCSS=i.exports)})(cm,cm.exports)),cm.exports}var Kx,zz;function $M(){return zz||(zz=1,Kx={indexOf:function(i,e){var t,r;if(Array.prototype.indexOf)return i.indexOf(e);for(t=0,r=i.length;t<r;t++)if(i[t]===e)return t;return-1},forEach:function(i,e,t){var r,n;if(Array.prototype.forEach)return i.forEach(e,t);for(r=0,n=i.length;r<n;r++)e.call(t,i[r],r,i)},trim:function(i){return String.prototype.trim?i.trim():i.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(i){var e=/\s|\n|\t/,t=e.exec(i);return t?t.index:-1}}),Kx}var Hz;function jte(){if(Hz)return Rt;Hz=1;var i=SD().FilterCSS,e=SD().getDefaultWhiteList,t=$M();function r(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var n=new i;function s(N,q,D){}function o(N,q,D){}function a(N,q,D){}function l(N,q,D){}function c(N){return N.replace(h,"&lt;").replace(d,"&gt;")}function u(N,q,D,j){if(D=R(D),q==="href"||q==="src"){if(D=t.trim(D),D==="#")return"#";if(!(D.substr(0,7)==="http://"||D.substr(0,8)==="https://"||D.substr(0,7)==="mailto:"||D.substr(0,4)==="tel:"||D.substr(0,11)==="data:image/"||D.substr(0,6)==="ftp://"||D.substr(0,2)==="./"||D.substr(0,3)==="../"||D[0]==="#"||D[0]==="/"))return""}else if(q==="background"){if(y.lastIndex=0,y.test(D))return""}else if(q==="style"){if(_.lastIndex=0,_.test(D)||(b.lastIndex=0,b.test(D)&&(y.lastIndex=0,y.test(D))))return"";j!==!1&&(j=j||n,D=j.process(D))}return D=P(D),D}var h=/</g,d=/>/g,f=/"/g,p=/&quot;/g,m=/&#([a-zA-Z0-9]*);?/gim,g=/&colon;?/gim,v=/&newline;?/gim,y=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,_=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,b=/u\s*r\s*l\s*\(.*/gi;function w(N){return N.replace(f,"&quot;")}function S(N){return N.replace(p,'"')}function E(N){return N.replace(m,function(D,j){return j[0]==="x"||j[0]==="X"?String.fromCharCode(parseInt(j.substr(1),16)):String.fromCharCode(parseInt(j,10))})}function x(N){return N.replace(g,":").replace(v," ")}function T(N){for(var q="",D=0,j=N.length;D<j;D++)q+=N.charCodeAt(D)<32?" ":N.charAt(D);return t.trim(q)}function R(N){return N=S(N),N=E(N),N=x(N),N=T(N),N}function P(N){return N=w(N),N=c(N),N}function I(){return""}function $(N,q){typeof q!="function"&&(q=function(){});var D=!Array.isArray(N);function j(M){return D?!0:t.indexOf(N,M)!==-1}var X=[],U=!1;return{onIgnoreTag:function(M,L,G){if(j(M))if(G.isClosing){var B="[/removed]",H=G.position+B.length;return X.push([U!==!1?U:G.position,H]),U=!1,B}else return U||(U=G.position),"[removed]";else return q(M,L,G)},remove:function(M){var L="",G=0;return t.forEach(X,function(B){L+=M.slice(G,B[0]),G=B[1]}),L+=M.slice(G),L}}}function F(N){for(var q="",D=0;D<N.length;){var j=N.indexOf("<!--",D);if(j===-1){q+=N.slice(D);break}q+=N.slice(D,j);var X=N.indexOf("-->",j);if(X===-1)break;D=X+3}return q}function W(N){var q=N.split("");return q=q.filter(function(D){var j=D.charCodeAt(0);return j===127?!1:j<=31?j===10||j===13:!0}),q.join("")}return Rt.whiteList=r(),Rt.getDefaultWhiteList=r,Rt.onTag=s,Rt.onIgnoreTag=o,Rt.onTagAttr=a,Rt.onIgnoreTagAttr=l,Rt.safeAttrValue=u,Rt.escapeHtml=c,Rt.escapeQuote=w,Rt.unescapeQuote=S,Rt.escapeHtmlEntities=E,Rt.escapeDangerHtml5Entities=x,Rt.clearNonPrintableCharacter=T,Rt.friendlyAttrValue=R,Rt.escapeAttrValue=P,Rt.onIgnoreTagStripAll=I,Rt.StripTagBody=$,Rt.stripCommentTag=F,Rt.stripBlankChar=W,Rt.attributeWrapSign='"',Rt.cssFilter=n,Rt.getDefaultCSSWhiteList=e,Rt}var um={},Yz;function Gte(){if(Yz)return um;Yz=1;var i=$M();function e(h){var d=i.spaceIndex(h),f;return d===-1?f=h.slice(1,-1):f=h.slice(1,d+1),f=i.trim(f).toLowerCase(),f.slice(0,1)==="/"&&(f=f.slice(1)),f.slice(-1)==="/"&&(f=f.slice(0,-1)),f}function t(h){return h.slice(0,2)==="</"}function r(h,d,f){var p="",m=0,g=!1,v=!1,y=0,_=h.length,b="",w="";e:for(y=0;y<_;y++){var S=h.charAt(y);if(g===!1){if(S==="<"){g=y;continue}}else if(v===!1){if(S==="<"){p+=f(h.slice(m,y)),g=y,m=y;continue}if(S===">"||y===_-1){p+=f(h.slice(m,g)),w=h.slice(g,y+1),b=e(w),p+=d(g,p.length,b,w,t(w)),m=y+1,g=!1;continue}if(S==='"'||S==="'")for(var E=1,x=h.charAt(y-E);x.trim()===""||x==="=";){if(x==="="){v=S;continue e}x=h.charAt(y-++E)}}else if(S===v){v=!1;continue}}return m<_&&(p+=f(h.substr(m))),p}var n=/[^a-zA-Z0-9\\_:.-]/gim;function s(h,d){var f=0,p=0,m=[],g=!1,v=h.length;function y(E,x){if(E=i.trim(E),E=E.replace(n,"").toLowerCase(),!(E.length<1)){var T=d(E,x||"");T&&m.push(T)}}for(var _=0;_<v;_++){var b=h.charAt(_),w,S;if(g===!1&&b==="="){g=h.slice(f,_),f=_+1,p=h.charAt(f)==='"'||h.charAt(f)==="'"?f:a(h,_+1);continue}if(g!==!1&&_===p){if(S=h.indexOf(b,_+1),S===-1)break;w=i.trim(h.slice(p+1,S)),y(g,w),g=!1,_=S,f=_+1;continue}if(/\s|\n|\t/.test(b))if(h=h.replace(/\s|\n|\t/g," "),g===!1)if(S=o(h,_),S===-1){w=i.trim(h.slice(f,_)),y(w),g=!1,f=_+1;continue}else{_=S-1;continue}else if(S=l(h,_-1),S===-1){w=i.trim(h.slice(f,_)),w=u(w),y(g,w),g=!1,f=_+1;continue}else continue}return f<h.length&&(g===!1?y(h.slice(f)):y(g,u(i.trim(h.slice(f))))),i.trim(m.join(" "))}function o(h,d){for(;d<h.length;d++){var f=h[d];if(f!==" ")return f==="="?d:-1}}function a(h,d){for(;d<h.length;d++){var f=h[d];if(f!==" ")return f==="'"||f==='"'?d:-1}}function l(h,d){for(;d>0;d--){var f=h[d];if(f!==" ")return f==="="?d:-1}}function c(h){return h[0]==='"'&&h[h.length-1]==='"'||h[0]==="'"&&h[h.length-1]==="'"}function u(h){return c(h)?h.substr(1,h.length-2):h}return um.parseTag=r,um.parseAttr=s,um}var Zx,Uz;function KDe(){if(Uz)return Zx;Uz=1;var i=SD().FilterCSS,e=jte(),t=Gte(),r=t.parseTag,n=t.parseAttr,s=$M();function o(h){return h==null}function a(h){var d=s.spaceIndex(h);if(d===-1)return{html:"",closing:h[h.length-2]==="/"};h=s.trim(h.slice(d+1,-1));var f=h[h.length-1]==="/";return f&&(h=s.trim(h.slice(0,-1))),{html:h,closing:f}}function l(h){var d={};for(var f in h)d[f]=h[f];return d}function c(h){var d={};for(var f in h)Array.isArray(h[f])?d[f.toLowerCase()]=h[f].map(function(p){return p.toLowerCase()}):d[f.toLowerCase()]=h[f];return d}function u(h){h=l(h||{}),h.stripIgnoreTag&&(h.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),h.onIgnoreTag=e.onIgnoreTagStripAll),h.whiteList||h.allowList?h.whiteList=c(h.whiteList||h.allowList):h.whiteList=e.whiteList,this.attributeWrapSign=h.singleQuotedAttributeValue===!0?"'":e.attributeWrapSign,h.onTag=h.onTag||e.onTag,h.onTagAttr=h.onTagAttr||e.onTagAttr,h.onIgnoreTag=h.onIgnoreTag||e.onIgnoreTag,h.onIgnoreTagAttr=h.onIgnoreTagAttr||e.onIgnoreTagAttr,h.safeAttrValue=h.safeAttrValue||e.safeAttrValue,h.escapeHtml=h.escapeHtml||e.escapeHtml,this.options=h,h.css===!1?this.cssFilter=!1:(h.css=h.css||{},this.cssFilter=new i(h.css))}return u.prototype.process=function(h){if(h=h||"",h=h.toString(),!h)return"";var d=this,f=d.options,p=f.whiteList,m=f.onTag,g=f.onIgnoreTag,v=f.onTagAttr,y=f.onIgnoreTagAttr,_=f.safeAttrValue,b=f.escapeHtml,w=d.attributeWrapSign,S=d.cssFilter;f.stripBlankChar&&(h=e.stripBlankChar(h)),f.allowCommentTag||(h=e.stripCommentTag(h));var E=!1;f.stripIgnoreTagBody&&(E=e.StripTagBody(f.stripIgnoreTagBody,g),g=E.onIgnoreTag);var x=r(h,function(T,R,P,I,$){var F={sourcePosition:T,position:R,isClosing:$,isWhite:Object.prototype.hasOwnProperty.call(p,P)},W=m(P,I,F);if(!o(W))return W;if(F.isWhite){if(F.isClosing)return"</"+P+">";var N=a(I),q=p[P],D=n(N.html,function(j,X){var U=s.indexOf(q,j)!==-1,M=v(P,j,X,U);return o(M)?U?(X=_(P,j,X,S),X?j+"="+w+X+w:j):(M=y(P,j,X,U),o(M)?void 0:M):M});return I="<"+P,D&&(I+=" "+D),N.closing&&(I+=" /"),I+=">",I}else return W=g(P,I,F),o(W)?b(I):W},b);return E&&(x=E.remove(x)),x},Zx=u,Zx}var Vz;function ZDe(){return Vz||(Vz=1,(function(i,e){var t=jte(),r=Gte(),n=KDe();function s(a,l){var c=new n(l);return c.process(a)}e=i.exports=s,e.filterXSS=s,e.FilterXSS=n,(function(){for(var a in t)e[a]=t[a];for(var l in r)e[l]=r[l]})(),typeof window<"u"&&(window.filterXSS=i.exports);function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=i.exports)})(lm,lm.exports)),lm.exports}var QDe=ZDe();const JDe=ZD(QDe);var Dh=null;function ED(i,e){var t=e||{preventDefault:!1};if(i.Manager){var r=i,n=function(c,u){var h=Object.create(t);return u&&r.assign(h,u),ED(new r(c,h),h)};return r.assign(n,r),n.Manager=function(c,u){var h=Object.create(t);return u&&r.assign(h,u),ED(new r.Manager(c,h),h)},n}var s=Object.create(i),o=i.element;o.hammer||(o.hammer=[]),o.hammer.push(s),i.on("hammer.input",function(c){(t.preventDefault===!0||t.preventDefault===c.pointerType)&&c.preventDefault(),c.isFirst&&(Dh=c.target)}),s._handlers={},s.on=function(c,u){return a(c).forEach(function(h){var d=s._handlers[h];d||(s._handlers[h]=d=[],i.on(h,l)),d.push(u)}),s},s.off=function(c,u){return a(c).forEach(function(h){var d=s._handlers[h];d&&(d=u?d.filter(function(f){return f!==u}):[],d.length>0?s._handlers[h]=d:(i.off(h,l),delete s._handlers[h]))}),s},s.emit=function(c,u){Dh=u.target,i.emit(c,u)},s.destroy=function(){var c=i.element.hammer,u=c.indexOf(s);u!==-1&&c.splice(u,1),c.length||delete i.element.hammer,s._handlers={},i.destroy()};function a(c){return c.match(/[^ ]+/g)}function l(c){if(c.type!=="hammer.input"){if(c.srcEvent._handled||(c.srcEvent._handled={}),c.srcEvent._handled[c.type])return;c.srcEvent._handled[c.type]=!0}var u=!1;c.stopPropagation=function(){u=!0};var h=c.srcEvent.stopPropagation.bind(c.srcEvent);typeof h=="function"&&(c.srcEvent.stopPropagation=function(){h(),c.stopPropagation()}),c.firstTarget=Dh;for(var d=Dh.isConnected?Dh:c.target;d&&!u;){var f=d.hammer;if(f){for(var p,m=0;m<f.length;m++)if(p=f[m]._handlers[c.type],p)for(var g=0;g<p.length&&!u;g++)p[g](c)}d=d.parentNode}}return s}function eIe(i){var e=window,t={},r={keydown:{},keyup:{}},n={},s;for(s=97;s<=122;s++)n[String.fromCharCode(s)]={code:65+(s-97),shift:!1};for(s=65;s<=90;s++)n[String.fromCharCode(s)]={code:s,shift:!0};for(s=0;s<=9;s++)n[""+s]={code:48+s,shift:!1};for(s=1;s<=12;s++)n["F"+s]={code:111+s,shift:!1};for(s=0;s<=9;s++)n["num"+s]={code:96+s,shift:!1};n["num*"]={code:106,shift:!1},n["num+"]={code:107,shift:!1},n["num-"]={code:109,shift:!1},n["num/"]={code:111,shift:!1},n["num."]={code:110,shift:!1},n.left={code:37,shift:!1},n.up={code:38,shift:!1},n.right={code:39,shift:!1},n.down={code:40,shift:!1},n.space={code:32,shift:!1},n.enter={code:13,shift:!1},n.shift={code:16,shift:void 0},n.esc={code:27,shift:!1},n.backspace={code:8,shift:!1},n.tab={code:9,shift:!1},n.ctrl={code:17,shift:!1},n.alt={code:18,shift:!1},n.delete={code:46,shift:!1},n.pageup={code:33,shift:!1},n.pagedown={code:34,shift:!1},n["="]={code:187,shift:!1},n["-"]={code:189,shift:!1},n["]"]={code:221,shift:!1},n["["]={code:219,shift:!1};var o=function(c){l(c,"keydown")},a=function(c){l(c,"keyup")},l=function(c,u){if(r[u][c.keyCode]!==void 0)for(var h=r[u][c.keyCode],d=0;d<h.length;d++)(h[d].shift===void 0||h[d].shift==!0&&c.shiftKey==!0||h[d].shift==!1&&c.shiftKey==!1)&&h[d].fn(c)};return t.bind=function(c,u,h){if(h===void 0&&(h="keydown"),n[c]===void 0)throw new Error("unsupported key: "+c);r[h][n[c].code]===void 0&&(r[h][n[c].code]=[]),r[h][n[c].code].push({fn:u,shift:n[c].shift})},t.bindAll=function(c,u){u===void 0&&(u="keydown");for(var h in n)n.hasOwnProperty(h)&&t.bind(h,c,u)},t.getKey=function(c){for(var u in n)if(n.hasOwnProperty(u)){if(c.shiftKey==!0&&n[u].shift==!0&&c.keyCode==n[u].code)return u;if(c.shiftKey==!1&&n[u].shift==!1&&c.keyCode==n[u].code)return u;if(c.keyCode==n[u].code&&u=="shift")return u}return"unknown key, currently not supported"},t.unbind=function(c,u,h){if(h===void 0&&(h="keydown"),n[c]===void 0)throw new Error("unsupported key: "+c);if(u!==void 0){var d=[],f=r[h][n[c].code];if(f!==void 0)for(var p=0;p<f.length;p++)f[p].fn==u&&f[p].shift==n[c].shift||d.push(r[h][n[c].code][p]);r[h][n[c].code]=d}else r[h][n[c].code]=[]},t.reset=function(){r={keydown:{},keyup:{}}},t.destroy=function(){r={keydown:{},keyup:{}},e.removeEventListener("keydown",o,!0),e.removeEventListener("keyup",a,!0)},e.addEventListener("keydown",o,!0),e.addEventListener("keyup",a,!0),t}/**
 * vis-timeline and vis-graph2d
 * https://visjs.github.io/vis-timeline/
 *
 * Create a fully customizable, interactive timeline with items and ranges.
 *
 * @version 8.3.1
 * @date    2025-09-15T17:43:30.491Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */const pr=typeof window<"u"&&window.moment||K;function po(i){if(!i)return!1;let e=i.idProp??i._idProp;return e?UDe(e,i):!1}const Qx=/^\/?Date\((-?\d+)/i,tIe=/^\d+$/;function FM(i,e){let t;if(i!==void 0){if(i===null)return null;if(!e)return i;if(typeof e!="string"&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return!!i;case"number":case"Number":return Mr(i)&&!isNaN(Date.parse(i))?K(i).valueOf():Number(i.valueOf());case"string":case"String":return String(i);case"Date":try{return FM(i,"Moment").toDate()}catch(r){throw r instanceof TypeError?new TypeError("Cannot convert object of type "+Yh(i)+" to type "+e):r}case"Moment":if(cd(i))return K(i);if(i instanceof Date)return K(i.valueOf());if(K.isMoment(i))return K(i);if(Mr(i))return t=Qx.exec(i),t?K(Number(t[1])):(t=tIe.exec(i),K(t?Number(i):i));throw new TypeError("Cannot convert object of type "+Yh(i)+" to type "+e);case"ISODate":if(cd(i))return new Date(i);if(i instanceof Date)return i.toISOString();if(K.isMoment(i))return i.toDate().toISOString();if(Mr(i))return t=Qx.exec(i),t?new Date(Number(t[1])).toISOString():K(i).format();throw new Error("Cannot convert object of type "+Yh(i)+" to type ISODate");case"ASPDate":if(cd(i))return"/Date("+i+")/";if(i instanceof Date||K.isMoment(i))return"/Date("+i.valueOf()+")/";if(Mr(i)){t=Qx.exec(i);let r;return t?r=new Date(Number(t[1])).valueOf():r=new Date(i).valueOf(),"/Date("+r+")/"}else throw new Error("Cannot convert object of type "+Yh(i)+" to type ASPDate");default:throw new Error(`Unknown type ${e}`)}}}function _u(i,e={start:"Date",end:"Date"}){const t=i._idProp,r=new bu({fieldId:t}),n=WDe(i).map(s=>Object.keys(s).reduce((o,a)=>(o[a]=FM(s[a],e[a]),o),{})).to(r);return n.all().start(),{add:(...s)=>i.getDataSet().add(...s),remove:(...s)=>i.getDataSet().remove(...s),update:(...s)=>i.getDataSet().update(...s),updateOnly:(...s)=>i.getDataSet().updateOnly(...s),clear:(...s)=>i.getDataSet().clear(...s),forEach:r.forEach.bind(r),get:r.get.bind(r),getIds:r.getIds.bind(r),off:r.off.bind(r),on:r.on.bind(r),get length(){return r.length},idProp:t,type:e,rawDS:i,coercedDS:r,dispose:()=>n.stop()}}const Wte=i=>{const e=new JDe.FilterXSS(i);return t=>typeof t=="string"?e.process(t):t},iIe=i=>i;let CD=Wte();const rIe=i=>{i&&(i.disabled===!0?(CD=iIe,console.warn("You disabled XSS protection for vis-Timeline. I sure hope you know what you're doing!")):i.filterOptions&&(CD=Wte(i.filterOptions)))},A={...$De,convert:FM,setupXSSProtection:rIe};Object.defineProperty(A,"xss",{get:function(){return CD}});let ua=class{constructor(){this.options=null,this.props=null}setOptions(e){e&&A.extend(this.options,e)}redraw(){return!1}destroy(){}_isResized(){const e=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,e}};function LM(i,e,t){if(t&&!Array.isArray(t))return LM(i,e,[t]);if(e.hiddenDates=[],t&&Array.isArray(t)==!0){for(let r=0;r<t.length;r++)if(t[r].repeat===void 0){const n={};n.start=i(t[r].start).toDate().valueOf(),n.end=i(t[r].end).toDate().valueOf(),e.hiddenDates.push(n)}e.hiddenDates.sort((r,n)=>r.start-n.start)}}function dg(i,e,t){if(t&&!Array.isArray(t))return dg(i,e,[t]);if(t&&e.domProps.centerContainer.width!==void 0){LM(i,e,t);const r=i(e.range.start),n=i(e.range.end),o=(e.range.end-e.range.start)/e.domProps.centerContainer.width;for(let h=0;h<t.length;h++)if(t[h].repeat!==void 0){let d=i(t[h].start),f=i(t[h].end);if(d._d=="Invalid Date")throw new Error(`Supplied start date is not valid: ${t[h].start}`);if(f._d=="Invalid Date")throw new Error(`Supplied end date is not valid: ${t[h].end}`);if(f-d>=4*o){let m=0,g=n.clone();switch(t[h].repeat){case"daily":d.day()!=f.day()&&(m=1),d=d.dayOfYear(r.dayOfYear()).year(r.year()).subtract(7,"days"),f=f.dayOfYear(r.dayOfYear()).year(r.year()).subtract(7-m,"days"),g.add(1,"weeks");break;case"weekly":{const v=f.diff(d,"days"),y=d.day();d=d.date(r.date()).month(r.month()).year(r.year()),f=d.clone(),d=d.day(y).subtract(1,"weeks"),f=f.day(y).add(v,"days").subtract(1,"weeks"),g.add(1,"weeks");break}case"monthly":d.month()!=f.month()&&(m=1),d=d.month(r.month()).year(r.year()).subtract(1,"months"),f=f.month(r.month()).year(r.year()).subtract(1,"months").add(m,"months"),g.add(1,"months");break;case"yearly":d.year()!=f.year()&&(m=1),d=d.year(r.year()).subtract(1,"years"),f=f.year(r.year()).subtract(1,"years").add(m,"years"),g.add(1,"years");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",t[h].repeat);return}for(;d<g;)switch(e.hiddenDates.push({start:d.valueOf(),end:f.valueOf()}),t[h].repeat){case"daily":d=d.add(1,"days"),f=f.add(1,"days");break;case"weekly":d=d.add(1,"weeks"),f=f.add(1,"weeks");break;case"monthly":d=d.add(1,"months"),f=f.add(1,"months");break;case"yearly":d=d.add(1,"y"),f=f.add(1,"y");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",t[h].repeat);return}e.hiddenDates.push({start:d.valueOf(),end:f.valueOf()})}}nIe(e);const a=pg(e.range.start,e.hiddenDates),l=pg(e.range.end,e.hiddenDates);let c=e.range.start,u=e.range.end;a.hidden==!0&&(c=e.range.startToFront==!0?a.startDate-1:a.endDate+1),l.hidden==!0&&(u=e.range.endToFront==!0?l.startDate-1:l.endDate+1),(a.hidden==!0||l.hidden==!0)&&e.range._applyRange(c,u)}}function nIe(i){const e=i.hiddenDates,t=[];for(var r=0;r<e.length;r++)for(let n=0;n<e.length;n++)r!=n&&e[n].remove!=!0&&e[r].remove!=!0&&(e[n].start>=e[r].start&&e[n].end<=e[r].end?e[n].remove=!0:e[n].start>=e[r].start&&e[n].start<=e[r].end?(e[r].end=e[n].end,e[n].remove=!0):e[n].end>=e[r].start&&e[n].end<=e[r].end&&(e[r].start=e[n].start,e[n].remove=!0));for(r=0;r<e.length;r++)e[r].remove!==!0&&t.push(e[r]);i.hiddenDates=t,i.hiddenDates.sort((n,s)=>n.start-s.start)}function sIe(i,e,t){let r=!1;const n=e.current.valueOf();for(let o=0;o<e.hiddenDates.length;o++){const a=e.hiddenDates[o].start;var s=e.hiddenDates[o].end;if(n>=a&&n<s){r=!0;break}}if(r==!0&&n<e._end.valueOf()&&n!=t){const o=i(t),a=i(s);o.year()!=a.year()?e.switchedYear=!0:o.month()!=a.month()?e.switchedMonth=!0:o.dayOfYear()!=a.dayOfYear()&&(e.switchedDay=!0),e.current=a}}function Xz(i,e,t){let r;if(i.body.hiddenDates.length==0)return r=i.range.conversion(t),(e.valueOf()-r.offset)*r.scale;{const n=pg(e,i.body.hiddenDates);n.hidden==!0&&(e=n.startDate);const s=hd(i.body.hiddenDates,i.range.start,i.range.end);if(e<i.range.start){r=i.range.conversion(t,s);const o=oIe(i.body.hiddenDates,e,r.offset);return e=i.options.moment(e).toDate().valueOf(),e=e+o,-(r.offset-e.valueOf())*r.scale}else if(e>i.range.end){const o={start:i.range.start,end:e};return e=Zz(i.options.moment,i.body.hiddenDates,o,e),r=i.range.conversion(t,s),(e.valueOf()-r.offset)*r.scale}else return e=Zz(i.options.moment,i.body.hiddenDates,i.range,e),r=i.range.conversion(t,s),(e.valueOf()-r.offset)*r.scale}}function Kz(i,e,t){if(i.body.hiddenDates.length==0){const r=i.range.conversion(t);return new Date(e/r.scale+r.offset)}else{const r=hd(i.body.hiddenDates,i.range.start,i.range.end),s=(i.range.end-i.range.start-r)*e/t,o=aIe(i.body.hiddenDates,i.range,s);return new Date(o+s+i.range.start)}}function hd(i,e,t){let r=0;for(let n=0;n<i.length;n++){const s=i[n].start,o=i[n].end;s>=e&&o<t&&(r+=o-s)}return r}function oIe(i,e,t){let r=0;for(let n=0;n<i.length;n++){const s=i[n].start,o=i[n].end;s>=e&&o<=t&&(r+=o-s)}return r}function Zz(i,e,t,r){return r=i(r).toDate().valueOf(),r-=fg(i,e,t,r),r}function fg(i,e,t,r){let n=0;r=i(r).toDate().valueOf();for(let s=0;s<e.length;s++){const o=e[s].start,a=e[s].end;o>=t.start&&a<t.end&&r>=a&&(n+=a-o)}return n}function aIe(i,e,t){let r=0,n=0,s=e.start;for(let o=0;o<i.length;o++){const a=i[o].start,l=i[o].end;if(a>=e.start&&l<e.end){if(n+=a-s,s=l,n>=t)break;r+=l-a}}return r}function Ta(i,e,t,r){const n=pg(e,i);return n.hidden==!0?t<0?r==!0?n.startDate-(n.endDate-e)-1:n.startDate-1:r==!0?n.endDate+(e-n.startDate)+1:n.endDate+1:e}function pg(i,e){for(let n=0;n<e.length;n++){var t=e[n].start,r=e[n].end;if(i>=t&&i<r)return{hidden:!0,startDate:t,endDate:r}}return{hidden:!1,startDate:t,endDate:r}}let Bte=class zte extends ua{constructor(e,t){super();const r=pr().hours(0).minutes(0).seconds(0).milliseconds(0),n=r.clone().add(-3,"days").valueOf(),s=r.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,t===void 0?(this.start=n,this.end=s):(this.start=t.start||n,this.end=t.end||s),this.rolling=!1,this.body=e,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:pr,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:1e3*60*60*24*365*1e4,rollingMode:{follow:!1,offset:.5}},this.options=A.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(t)}setOptions(e){if(e){const t=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","zoomFriction","rtl","showCurrentTime","rollingMode","horizontalScroll","horizontalScrollKey","horizontalScrollInvert","verticalScroll"];A.selectiveExtend(t,this.options,e),e.rollingMode&&e.rollingMode.follow&&this.startRolling(),("start"in e||"end"in e)&&this.setRange(e.start,e.end)}}startRolling(){const e=this;function t(){e.stopRolling(),e.rolling=!0;let r=e.end-e.start;const n=A.convert(new Date,"Date").valueOf(),s=e.options.rollingMode&&e.options.rollingMode.offset||.5,o=n-r*s,a=n+r*(1-s),l={animation:!1};e.setRange(o,a,l),r=1/e.conversion(e.body.domProps.center.width).scale/10,r<30&&(r=30),r>1e3&&(r=1e3),e.body.dom.rollingModeBtn.style.visibility="hidden",e.currentTimeTimer=setTimeout(t,r)}t()}stopRolling(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")}setRange(e,t,r,n,s){r||(r={}),r.byUser!==!0&&(r.byUser=!1);const o=this,a=e!=null?A.convert(e,"Date").valueOf():null,l=t!=null?A.convert(t,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,r.animation){const u=this.start,h=this.end,d=typeof r.animation=="object"&&"duration"in r.animation?r.animation.duration:500,f=typeof r.animation=="object"&&"easingFunction"in r.animation?r.animation.easingFunction:"easeInOutQuad",p=A.easingFunctions[f];if(!p)throw new Error(`Unknown easing function ${JSON.stringify(f)}. Choose from: ${Object.keys(A.easingFunctions).join(", ")}`);const m=Date.now();let g=!1;const v=()=>{if(!o.props.touch.dragging){const _=Date.now()-m,b=p(_/d),w=_>d,S=w||a===null?a:u+(a-u)*b,E=w||l===null?l:h+(l-h)*b;c=o._applyRange(S,E),dg(o.options.moment,o.body,o.options.hiddenDates),g=g||c;const x={start:new Date(o.start),end:new Date(o.end),byUser:r.byUser,event:r.event};if(s&&s(b,c,w),c&&o.body.emitter.emit("rangechange",x),w){if(g&&(o.body.emitter.emit("rangechanged",x),n))return n()}else o.animationTimer=setTimeout(v,20)}};return v()}else{var c=this._applyRange(a,l);if(dg(this.options.moment,this.body,this.options.hiddenDates),c){const u={start:new Date(this.start),end:new Date(this.end),byUser:r.byUser,event:r.event};if(this.body.emitter.emit("rangechange",u),clearTimeout(o.timeoutID),o.timeoutID=setTimeout(()=>{o.body.emitter.emit("rangechanged",u)},200),n)return n()}}}getMillisecondsPerPixel(){return this.millisecondsPerPixelCache===void 0&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache}_cancelAnimation(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)}_applyRange(e,t){let r=e!=null?A.convert(e,"Date").valueOf():this.start,n=t!=null?A.convert(t,"Date").valueOf():this.end;const s=this.options.max!=null?A.convert(this.options.max,"Date").valueOf():null,o=this.options.min!=null?A.convert(this.options.min,"Date").valueOf():null;let a;if(isNaN(r)||r===null)throw new Error(`Invalid start "${e}"`);if(isNaN(n)||n===null)throw new Error(`Invalid end "${t}"`);if(n<r&&(n=r),o!==null&&r<o&&(a=o-r,r+=a,n+=a,s!=null&&n>s&&(n=s)),s!==null&&n>s&&(a=n-s,r-=a,n-=a,o!=null&&r<o&&(r=o)),this.options.zoomMin!==null){let c=parseFloat(this.options.zoomMin);c<0&&(c=0),n-r<c&&(this.end-this.start===c&&r>=this.start-.5&&n<=this.end?(r=this.start,n=this.end):(a=c-(n-r),r-=a/2,n+=a/2))}if(this.options.zoomMax!==null){let c=parseFloat(this.options.zoomMax);c<0&&(c=0),n-r>c&&(this.end-this.start===c&&r<this.start&&n>this.end?(r=this.start,n=this.end):(a=n-r-c,r+=a/2,n-=a/2))}const l=this.start!=r||this.end!=n;return!(r>=this.start&&r<=this.end||n>=this.start&&n<=this.end)&&!(this.start>=r&&this.start<=n||this.end>=r&&this.end<=n)&&this.body.emitter.emit("checkRangedItems"),this.start=r,this.end=n,l}getRange(){return{start:this.start,end:this.end}}conversion(e,t){return zte.conversion(this.start,this.end,e,t)}static conversion(e,t,r,n){return n===void 0&&(n=0),r!=0&&t-e!=0?{offset:e,scale:r/(t-e-n)}:{offset:0,scale:1}}_onDragStart(e){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(e)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))}_onDrag(e){if(!e||!this.props.touch.dragging||!this.options.moveable||!this.props.touch.allowDragging)return;const t=this.options.direction;Qz(t);let r=t=="horizontal"?e.deltaX:e.deltaY;r-=this.deltaDifference;let n=this.props.touch.end-this.props.touch.start;const s=hd(this.body.hiddenDates,this.start,this.end);n-=s;const o=t=="horizontal"?this.body.domProps.center.width:this.body.domProps.center.height;let a;this.options.rtl?a=r/o*n:a=-r/o*n;const l=this.props.touch.start+a,c=this.props.touch.end+a,u=Ta(this.body.hiddenDates,l,this.previousDelta-r,!0),h=Ta(this.body.hiddenDates,c,this.previousDelta-r,!0);if(u!=l||h!=c){this.deltaDifference+=r,this.props.touch.start=u,this.props.touch.end=h,this._onDrag(e);return}this.previousDelta=r,this._applyRange(l,c);const d=new Date(this.start),f=new Date(this.end);this.body.emitter.emit("rangechange",{start:d,end:f,byUser:!0,event:e}),this.body.emitter.emit("panmove")}_onDragEnd(e){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:e}))}_onMouseWheel(e){let t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail?t=-e.detail/3:e.deltaY&&(t=-e.deltaY/3),!(this.options.zoomKey&&!e[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(e)&&t){const r=this.options.zoomFriction||5;let n;t<0?n=1-t/r:n=1/(1+t/r);let s;if(this.rolling){const o=this.options.rollingMode&&this.options.rollingMode.offset||.5;s=this.start+(this.end-this.start)*o}else{const o=this.getPointer({x:e.clientX,y:e.clientY},this.body.dom.center);s=this._pointerToDate(o)}this.zoom(n,s,t,e),e.preventDefault()}}_onTouch(e){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.props.touch.centerDate=null,this.scaleOffset=0,this.deltaDifference=0,A.preventDefault(e)}_onPinch(e){if(!(this.options.zoomable&&this.options.moveable))return;A.preventDefault(e),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(e.center,this.body.dom.center),this.props.touch.centerDate=this._pointerToDate(this.props.touch.center)),this.stopRolling();const t=1/(e.scale+this.scaleOffset),r=this.props.touch.centerDate,n=hd(this.body.hiddenDates,this.start,this.end),s=fg(this.options.moment,this.body.hiddenDates,this,r),o=n-s;let a=r-s+(this.props.touch.start-(r-s))*t,l=r+o+(this.props.touch.end-(r+o))*t;this.startToFront=1-t<=0,this.endToFront=t-1<=0;const c=Ta(this.body.hiddenDates,a,1-t,!0),u=Ta(this.body.hiddenDates,l,t-1,!0);(c!=a||u!=l)&&(this.props.touch.start=c,this.props.touch.end=u,this.scaleOffset=1-e.scale,a=c,l=u);const h={animation:!1,byUser:!0,event:e};this.setRange(a,l,h),this.startToFront=!1,this.endToFront=!0}_isInsideRange(e){const t=e.center?e.center.x:e.clientX,r=this.body.dom.centerContainer.getBoundingClientRect(),n=this.options.rtl?t-r.left:r.right-t,s=this.body.util.toTime(n);return s>=this.start&&s<=this.end}_pointerToDate(e){let t;const r=this.options.direction;if(Qz(r),r=="horizontal")return this.body.util.toTime(e.x).valueOf();{const n=this.body.domProps.center.height;return t=this.conversion(n),e.y/t.scale+t.offset}}getPointer(e,t){const r=t.getBoundingClientRect();return this.options.rtl?{x:r.right-e.x,y:e.y-r.top}:{x:e.x-r.left,y:e.y-r.top}}zoom(e,t,r,n){t==null&&(t=(this.start+this.end)/2);const s=hd(this.body.hiddenDates,this.start,this.end),o=fg(this.options.moment,this.body.hiddenDates,this,t),a=s-o;let l=t-o+(this.start-(t-o))*e,c=t+a+(this.end-(t+a))*e;this.startToFront=!(r>0),this.endToFront=!(-r>0);const u=Ta(this.body.hiddenDates,l,r,!0),h=Ta(this.body.hiddenDates,c,-r,!0);(u!=l||h!=c)&&(l=u,c=h);const d={animation:!1,byUser:!0,event:n};this.setRange(l,c,d),this.startToFront=!1,this.endToFront=!0}move(e){const t=this.end-this.start,r=this.start+t*e,n=this.end+t*e;this.start=r,this.end=n}moveTo(e){const r=(this.start+this.end)/2-e,n=this.start-r,s=this.end-r,o={animation:!1,byUser:!0,event:null};this.setRange(n,s,o)}destroy(){this.stopRolling()}};function Qz(i){if(i!="horizontal"&&i!="vertical")throw new TypeError(`Unknown direction "${i}". Choose "horizontal" or "vertical".`)}function lIe(){const i=()=>{};return{on:i,off:i,destroy:i,emit:i,get(){return{set:i}}}}let TD;if(typeof window<"u"){const i=window.Hammer||TM;TD=ED(i,{preventDefault:"mouse"})}else TD=function(){return lIe()};var Ui=TD;function Hte(i,e){e.inputHandler=function(t){t.isFirst&&e(t)},i.on("hammer.input",e.inputHandler)}function cIe(i,e){return e.inputHandler=function(t){t.isFinal&&e(t)},i.on("hammer.input",e.inputHandler)}function uIe(i){const e="pan-y";return i.getTouchAction=function(){return[e]},i}let mg=class OD{constructor(e,t,r,n,s){this.moment=s&&s.moment||pr,this.options=s||{},this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(e,t,r),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(n)?this.hiddenDates=n:n!=null?this.hiddenDates=[n]:this.hiddenDates=[],this.format=OD.FORMAT}setMoment(e){this.moment=e,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())}setFormat(e){const t=A.deepExtend({},OD.FORMAT);this.format=A.deepExtend(t,e)}setRange(e,t,r){if(!(e instanceof Date)||!(t instanceof Date))throw"No legal start or end date in method setRange";this._start=e!=null?this.moment(e.valueOf()):Date.now(),this._end=t!=null?this.moment(t.valueOf()):Date.now(),this.autoScale&&this.setMinimumStep(r)}start(){this.current=this._start.clone(),this.roundToMinor()}roundToMinor(){switch(this.scale=="week"&&this.current.weekday(0),this.scale){case"year":this.current=this.current.year(this.step*Math.floor(this.current.year()/this.step)).month(0);case"month":this.current=this.current.date(1);case"week":case"day":case"weekday":this.current=this.current.hours(0);case"hour":this.current=this.current.minutes(0);case"minute":this.current=this.current.seconds(0);case"second":this.current=this.current.milliseconds(0)}if(this.step!=1){let e=this.current.clone();switch(this.scale){case"millisecond":this.current=this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current=this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current=this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current=this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current=this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current=this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current=this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current=this.current.subtract(this.current.year()%this.step,"year");break}e.isSame(this.current)||(this.current=this.moment(Ta(this.hiddenDates,this.current.valueOf(),-1,!0)))}}hasNext(){return this.current.valueOf()<=this._end.valueOf()}next(){const e=this.current.valueOf();switch(this.scale){case"millisecond":this.current=this.current.add(this.step,"millisecond");break;case"second":this.current=this.current.add(this.step,"second");break;case"minute":this.current=this.current.add(this.step,"minute");break;case"hour":this.current=this.current.add(this.step,"hour"),this.current.month()<6?this.current=this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!==0&&(this.current=this.current.add(this.step-this.current.hours()%this.step,"hour"));break;case"weekday":case"day":this.current=this.current.add(this.step,"day");break;case"week":if(this.current.weekday()!==0)this.current=this.current.weekday(0).add(this.step,"week");else if(this.options.showMajorLabels===!1)this.current=this.current.add(this.step,"week");else{const t=this.current.clone();t.add(1,"week"),t.isSame(this.current,"month")?this.current=this.current.add(this.step,"week"):this.current=this.current.add(this.step,"week").date(1)}break;case"month":this.current=this.current.add(this.step,"month");break;case"year":this.current=this.current.add(this.step,"year");break}if(this.step!=1)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&(this.current=this.current.milliseconds(0));break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&(this.current=this.current.seconds(0));break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&(this.current=this.current.minutes(0));break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&(this.current=this.current.hours(0));break;case"weekday":case"day":this.current.date()<this.step+1&&(this.current=this.current.date(1));break;case"week":this.current.week()<this.step&&(this.current=this.current.week(1));break;case"month":this.current.month()<this.step&&(this.current=this.current.month(0));break}this.current.valueOf()==e&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,sIe(this.moment,this,e)}getCurrent(){return this.current.clone()}setScale(e){e&&typeof e.scale=="string"&&(this.scale=e.scale,this.step=e.step>0?e.step:1,this.autoScale=!1)}setAutoScale(e){this.autoScale=e}setMinimumStep(e){if(e==null)return;const t=1e3*60*60*24*30*12,r=1e3*60*60*24*30,n=1e3*60*60*24,s=1e3*60*60,o=1e3*60,a=1e3,l=1;t*1e3>e&&(this.scale="year",this.step=1e3),t*500>e&&(this.scale="year",this.step=500),t*100>e&&(this.scale="year",this.step=100),t*50>e&&(this.scale="year",this.step=50),t*10>e&&(this.scale="year",this.step=10),t*5>e&&(this.scale="year",this.step=5),t>e&&(this.scale="year",this.step=1),r*3>e&&(this.scale="month",this.step=3),r>e&&(this.scale="month",this.step=1),n*7>e&&this.options.showWeekScale&&(this.scale="week",this.step=1),n*2>e&&(this.scale="day",this.step=2),n>e&&(this.scale="day",this.step=1),n/2>e&&(this.scale="weekday",this.step=1),s*4>e&&(this.scale="hour",this.step=4),s>e&&(this.scale="hour",this.step=1),o*15>e&&(this.scale="minute",this.step=15),o*10>e&&(this.scale="minute",this.step=10),o*5>e&&(this.scale="minute",this.step=5),o>e&&(this.scale="minute",this.step=1),a*15>e&&(this.scale="second",this.step=15),a*10>e&&(this.scale="second",this.step=10),a*5>e&&(this.scale="second",this.step=5),a>e&&(this.scale="second",this.step=1),l*200>e&&(this.scale="millisecond",this.step=200),l*100>e&&(this.scale="millisecond",this.step=100),l*50>e&&(this.scale="millisecond",this.step=50),l*10>e&&(this.scale="millisecond",this.step=10),l*5>e&&(this.scale="millisecond",this.step=5),l>e&&(this.scale="millisecond",this.step=1)}static snap(e,t,r){let n=pr(e);if(t=="year"){const s=n.year()+Math.round(n.month()/12);n=n.year(Math.round(s/r)*r).month(0).date(0).hours(0).minutes(0).seconds(0).milliseconds(0)}else if(t=="month")n.date()>15?n=n.date(1).add(1,"month"):n=n.date(1),n=n.hours(0).minutes(0).seconds(0).milliseconds(0);else if(t=="week")n.weekday()>2?n=n.weekday(0).add(1,"week"):n=n.weekday(0),n=n.hours(0).minutes(0).seconds(0).milliseconds(0);else if(t=="day"){switch(r){case 5:case 2:n=n.hours(Math.round(n.hours()/24)*24);break;default:n=n.hours(Math.round(n.hours()/12)*12);break}n=n.minutes(0).seconds(0).milliseconds(0)}else if(t=="weekday"){switch(r){case 5:case 2:n=n.hours(Math.round(n.hours()/12)*12);break;default:n=n.hours(Math.round(n.hours()/6)*6);break}n=n.minutes(0).seconds(0).milliseconds(0)}else if(t=="hour"){switch(r){case 4:n=n.minutes(Math.round(n.minutes()/60)*60);break;default:n=n.minutes(Math.round(n.minutes()/30)*30);break}n=n.seconds(0).milliseconds(0)}else if(t=="minute"){switch(r){case 15:case 10:n=n.minutes(Math.round(n.minutes()/5)*5).seconds(0);break;case 5:n=n.seconds(Math.round(n.seconds()/60)*60);break;default:n=n.seconds(Math.round(n.seconds()/30)*30);break}n=n.milliseconds(0)}else if(t=="second")switch(r){case 15:case 10:n=n.seconds(Math.round(n.seconds()/5)*5).milliseconds(0);break;case 5:n=n.milliseconds(Math.round(n.milliseconds()/1e3)*1e3);break;default:n=n.milliseconds(Math.round(n.milliseconds()/500)*500);break}else if(t=="millisecond"){const s=r>5?r/2:1;n=n.milliseconds(Math.round(n.milliseconds()/s)*s)}return n}isMajor(){if(this.switchedYear==!0)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedMonth==!0)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedDay==!0)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}const e=this.moment(this.current);switch(this.scale){case"millisecond":return e.milliseconds()==0;case"second":return e.seconds()==0;case"minute":return e.hours()==0&&e.minutes()==0;case"hour":return e.hours()==0;case"weekday":case"day":return this.options.showWeekScale?e.isoWeekday()==1:e.date()==1;case"week":return e.date()==1;case"month":return e.month()==0;case"year":return!1;default:return!1}}getLabelMinor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.minorLabels=="function")return this.format.minorLabels(e,this.scale,this.step);const t=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(e.date()===1&&e.weekday()!==0)return"";default:return t&&t.length>0?this.moment(e).format(t):""}}getLabelMajor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.majorLabels=="function")return this.format.majorLabels(e,this.scale,this.step);const t=this.format.majorLabels[this.scale];return t&&t.length>0?this.moment(e).format(t):""}getClassName(){const e=this.moment,t=this.moment(this.current),r=t.locale?t.locale("en"):t.lang("en"),n=this.step,s=[];function o(h){return h/n%2==0?" vis-even":" vis-odd"}function a(h){return h.isSame(Date.now(),"day")?" vis-today":h.isSame(e().add(1,"day"),"day")?" vis-tomorrow":h.isSame(e().add(-1,"day"),"day")?" vis-yesterday":""}function l(h){return h.isSame(Date.now(),"week")?" vis-current-week":""}function c(h){return h.isSame(Date.now(),"month")?" vis-current-month":""}function u(h){return h.isSame(Date.now(),"year")?" vis-current-year":""}switch(this.scale){case"millisecond":s.push(a(r)),s.push(o(r.milliseconds()));break;case"second":s.push(a(r)),s.push(o(r.seconds()));break;case"minute":s.push(a(r)),s.push(o(r.minutes()));break;case"hour":s.push(`vis-h${r.hours()}${this.step==4?"-h"+(r.hours()+4):""}`),s.push(a(r)),s.push(o(r.hours()));break;case"weekday":s.push(`vis-${r.format("dddd").toLowerCase()}`),s.push(a(r)),s.push(l(r)),s.push(o(r.date()));break;case"day":s.push(`vis-day${r.date()}`),s.push(`vis-${r.format("MMMM").toLowerCase()}`),s.push(a(r)),s.push(c(r)),s.push(this.step<=2?a(r):""),s.push(this.step<=2?`vis-${r.format("dddd").toLowerCase()}`:""),s.push(o(r.date()-1));break;case"week":s.push(`vis-week${r.format("w")}`),s.push(l(r)),s.push(o(r.week()));break;case"month":s.push(`vis-${r.format("MMMM").toLowerCase()}`),s.push(c(r)),s.push(o(r.month()));break;case"year":s.push(`vis-year${r.year()}`),s.push(u(r)),s.push(o(r.year()));break}return s.filter(String).join(" ")}};mg.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}};let gg=class extends ua{constructor(e,t){super(),this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,maxMinorChars:7,format:A.extend({},mg.FORMAT),moment:pr,timeAxis:null},this.options=A.extend({},this.defaultOptions),this.body=e,this._create(),this.setOptions(t)}setOptions(e){e&&(A.selectiveExtend(["showMinorLabels","showMajorLabels","showWeekScale","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,e),A.selectiveDeepExtend(["format"],this.options,e),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.axis=e.orientation:typeof e.orientation=="object"&&"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis)),"locale"in e&&(typeof pr.locale=="function"?pr.locale(e.locale):pr.lang(e.locale)))}_create(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"}destroy(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null}redraw(){const e=this.props,t=this.dom.foreground,r=this.dom.background,n=this.options.orientation.axis=="top"?this.body.dom.top:this.body.dom.bottom,s=t.parentNode!==n;this._calculateCharSize();const o=this.options.showMinorLabels&&this.options.orientation.axis!=="none",a=this.options.showMajorLabels&&this.options.orientation.axis!=="none";e.minorLabelHeight=o?e.minorCharHeight:0,e.majorLabelHeight=a?e.majorCharHeight:0,e.height=e.minorLabelHeight+e.majorLabelHeight,e.width=t.offsetWidth,e.minorLineHeight=this.body.domProps.root.height-e.majorLabelHeight-(this.options.orientation.axis=="top"?this.body.domProps.bottom.height:this.body.domProps.top.height),e.minorLineWidth=1,e.majorLineHeight=e.minorLineHeight+e.majorLabelHeight,e.majorLineWidth=1;const l=t.nextSibling,c=r.nextSibling;return t.parentNode&&t.parentNode.removeChild(t),r.parentNode&&r.parentNode.removeChild(r),t.style.height=`${this.props.height}px`,this._repaintLabels(),l?n.insertBefore(t,l):n.appendChild(t),c?this.body.dom.backgroundVertical.insertBefore(r,c):this.body.dom.backgroundVertical.appendChild(r),this._isResized()||s}_repaintLabels(){const e=this.options.orientation.axis,t=A.convert(this.body.range.start,"Number"),r=A.convert(this.body.range.end,"Number"),n=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf();let s=n-fg(this.options.moment,this.body.hiddenDates,this.body.range,n);s-=this.body.util.toTime(0).valueOf();const o=new mg(new Date(t),new Date(r),s,this.body.hiddenDates,this.options);o.setMoment(this.options.moment),this.options.format&&o.setFormat(this.options.format),this.options.timeAxis&&o.setScale(this.options.timeAxis),this.step=o;const a=this.dom;a.redundant.lines=a.lines,a.redundant.majorTexts=a.majorTexts,a.redundant.minorTexts=a.minorTexts,a.lines=[],a.majorTexts=[],a.minorTexts=[];let l,c,u,h,d,f,p=0,m,g,v,y=0;const _=1e3;let b;for(o.start(),c=o.getCurrent(),h=this.body.util.toScreen(c);o.hasNext()&&y<_;){switch(y++,d=o.isMajor(),b=o.getClassName(),l=c,u=h,o.next(),c=o.getCurrent(),h=this.body.util.toScreen(c),m=p,p=h-u,o.scale){case"week":f=!0;break;default:f=p>=m*.4;break}if(this.options.showMinorLabels&&f){var w=this._repaintMinorText(u,o.getLabelMinor(l),e,b);w.style.width=`${p}px`}d&&this.options.showMajorLabels?(u>0&&(v==null&&(v=u),w=this._repaintMajorText(u,o.getLabelMajor(l),e,b)),g=this._repaintMajorLine(u,p,e,b)):f?g=this._repaintMinorLine(u,p,e,b):g&&(g.style.width=`${parseInt(g.style.width)+p}px`)}if(y===_&&!Jz&&(console.warn(`Something is wrong with the Timeline scale. Limited drawing of grid lines to ${_} lines.`),Jz=!0),this.options.showMajorLabels){const S=this.body.util.toTime(0),E=o.getLabelMajor(S),x=E.length*(this.props.majorCharWidth||10)+10;(v==null||x<v)&&this._repaintMajorText(0,E,e,b)}A.forEach(this.dom.redundant,S=>{for(;S.length;){const E=S.pop();E&&E.parentNode&&E.parentNode.removeChild(E)}})}_repaintMinorText(e,t,r,n){let s=this.dom.redundant.minorTexts.shift();if(!s){const a=document.createTextNode("");s=document.createElement("div"),s.appendChild(a),this.dom.foreground.appendChild(s)}this.dom.minorTexts.push(s),s.innerHTML=A.xss(t);let o=r=="top"?this.props.majorLabelHeight:0;return this._setXY(s,e,o),s.className=`vis-text vis-minor ${n}`,s}_repaintMajorText(e,t,r,n){let s=this.dom.redundant.majorTexts.shift();if(!s){const a=document.createElement("div");s=document.createElement("div"),s.appendChild(a),this.dom.foreground.appendChild(s)}s.childNodes[0].innerHTML=A.xss(t),s.className=`vis-text vis-major ${n}`;let o=r=="top"?0:this.props.minorLabelHeight;return this._setXY(s,e,o),this.dom.majorTexts.push(s),s}_setXY(e,t,r){const n=this.options.rtl?t*-1:t;e.style.transform=`translate(${n}px, ${r}px)`}_repaintMinorLine(e,t,r,n){let s=this.dom.redundant.lines.shift();s||(s=document.createElement("div"),this.dom.background.appendChild(s)),this.dom.lines.push(s);const o=this.props;s.style.width=`${t}px`,s.style.height=`${o.minorLineHeight}px`;let a=r=="top"?o.majorLabelHeight:this.body.domProps.top.height,l=e-o.minorLineWidth/2;return this._setXY(s,l,a),s.className=`vis-grid ${this.options.rtl?"vis-vertical-rtl":"vis-vertical"} vis-minor ${n}`,s}_repaintMajorLine(e,t,r,n){let s=this.dom.redundant.lines.shift();s||(s=document.createElement("div"),this.dom.background.appendChild(s)),this.dom.lines.push(s);const o=this.props;s.style.width=`${t}px`,s.style.height=`${o.majorLineHeight}px`;let a=r=="top"?0:this.body.domProps.top.height,l=e-o.majorLineWidth/2;return this._setXY(s,l,a),s.className=`vis-grid ${this.options.rtl?"vis-vertical-rtl":"vis-vertical"} vis-major ${n}`,s}_calculateCharSize(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth}};var Jz=!1;function en(i){this.active=!1,this.dom={container:i},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=Ui(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this,t=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];t.forEach(function(r){e.hammer.on(r,function(n){n.stopPropagation()})}),document&&document.body&&(this.onClick=function(r){hIe(r.target,i)||e.deactivate()},document.body.addEventListener("click",this.onClick)),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=eIe(),this.escListener=this.deactivate.bind(this)}yM(en.prototype);en.current=null;en.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null};en.prototype.activate=function(){en.current&&en.current.deactivate(),en.current=this,this.active=!0,this.dom.overlay.style.display="none",A.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)};en.prototype.deactivate=function(){en.current===this&&(en.current=null),this.active=!1,this.dom.overlay.style.display="",A.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")};en.prototype._onTapOverlay=function(i){this.activate(),i.stopPropagation()};function hIe(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}const qM={current:"current",time:"time",deleteSelected:"Delete selected"},dIe=qM,fIe=qM,jM={current:"attuale",time:"tempo",deleteSelected:"Cancella la selezione"},pIe=jM,mIe=jM,GM={current:"huidige",time:"tijd",deleteSelected:"Selectie verwijderen"},gIe=GM,vIe=GM,Yte={current:"Aktuelle",time:"Zeit",deleteSelected:"Lsche Auswahl"},yIe=Yte,Zv={current:"actuel",time:"heure",deleteSelected:"Effacer la selection"},bIe=Zv,_Ie=Zv,wIe=Zv,Ute={current:"corriente",time:"hora",deleteSelected:"Eliminar seleccin"},xIe=Ute,Vte={current:"",time:"",deleteSelected:" "},SIe=Vte,Xte={current:"",time:"",deleteSelected:" "},EIe=Xte,Kte={current:"aktualny",time:"czas",deleteSelected:"Usu wybrane"},CIe=Kte,WM={current:"atual",time:"data",deleteSelected:"Apagar selecionado"},TIe=WM,OIe=WM,Zte={current:"",time:"",deleteSelected:""},RIe=Zte,Qte={current:"nuvarande",time:"tid",deleteSelected:"Radera valda"},PIe=Qte,Qv={current:"nvrende",time:"tid",deleteSelected:"Slett valgte"},DIe=Qv,IIe=Qv,kIe=Qv,Jte={current:"einamas",time:"laikas",deleteSelected:"Paalinti pasirinkt"},MIe=Jte,wu={en:qM,en_EN:dIe,en_US:fIe,it:jM,it_IT:pIe,it_CH:mIe,nl:GM,nl_NL:gIe,nl_BE:vIe,de:Yte,de_DE:yIe,fr:Zv,fr_FR:bIe,fr_CA:_Ie,fr_BE:wIe,es:Ute,es_ES:xIe,uk:Vte,uk_UA:SIe,ru:Xte,ru_RU:EIe,pl:Kte,pl_PL:CIe,pt:WM,pt_BR:TIe,pt_PT:OIe,ja:Zte,ja_JP:RIe,lt:Jte,lt_LT:MIe,sv:Qte,sv_SE:PIe,nb:Qv,nn:IIe,nb_NO:DIe,nn_NO:kIe};let BM=class extends ua{constructor(e,t){super(),this.body=e,this.defaultOptions={moment:pr,locales:wu,locale:"en",id:void 0,title:void 0},this.options=A.extend({},this.defaultOptions),this.setOptions(t),this.options.locales=A.extend({},wu,this.options.locales);const r=this.defaultOptions.locales[this.defaultOptions.locale];Object.keys(this.options.locales).forEach(n=>{this.options.locales[n]=A.extend({},r,this.options.locales[n])}),t&&t.time!=null?this.customTime=t.time:this.customTime=new Date,this.eventParams={},this._create()}setOptions(e){e&&A.selectiveExtend(["moment","locale","locales","id","title","rtl","snap"],this.options,e)}_create(){const e=document.createElement("div");e["custom-time"]=this,e.className=`vis-custom-time ${this.options.id||""}`,e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e;const t=document.createElement("div");t.style.position="relative",t.style.top="0px",this.options.rtl?t.style.right="-10px":t.style.left="-10px",t.style.height="100%",t.style.width="20px";function r(n){this.body.range._onMouseWheel(n)}t.addEventListener?(t.addEventListener("mousewheel",r.bind(this),!1),t.addEventListener("DOMMouseScroll",r.bind(this),!1)):t.attachEvent("onmousewheel",r.bind(this)),e.appendChild(t),this.hammer=new Ui(t),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:Ui.DIRECTION_ALL}),this.hammer.get("press").set({time:1e4})}destroy(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null}redraw(){const e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar));const t=this.body.util.toScreen(this.customTime);let r=this.options.locales[this.options.locale];r||(this.warned||(console.warn(`WARNING: options.locales['${this.options.locale}'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization`),this.warned=!0),r=this.options.locales.en);let n=this.options.title;return n===void 0?(n=`${r.time}: ${this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")}`,n=n.charAt(0).toUpperCase()+n.substring(1)):typeof n=="function"&&(n=n.call(this,this.customTime)),this.options.rtl?this.bar.style.right=`${t}px`:this.bar.style.left=`${t}px`,this.bar.title=n,!1}hide(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)}setCustomTime(e){this.customTime=A.convert(e,"Date"),this.redraw()}getCustomTime(){return new Date(this.customTime.valueOf())}setCustomMarker(e,t){this.marker&&this.bar.removeChild(this.marker),this.marker=document.createElement("div"),this.marker.className="vis-custom-time-marker",this.marker.innerHTML=A.xss(e),this.marker.style.position="absolute",t&&(this.marker.setAttribute("contenteditable","true"),this.marker.addEventListener("pointerdown",()=>{this.marker.focus()}),this.marker.addEventListener("input",this._onMarkerChange.bind(this)),this.marker.title=e,this.marker.addEventListener("blur",r=>{this.title!=r.target.innerHTML&&(this._onMarkerChanged(r),this.title=r.target.innerHTML)})),this.bar.appendChild(this.marker)}setCustomTitle(e){this.options.title=e}_onDragStart(e){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,e.stopPropagation()}_onDrag(e){if(!this.eventParams.dragging)return;let t=this.options.rtl?-1*e.deltaX:e.deltaX;const r=this.body.util.toScreen(this.eventParams.customTime)+t,n=this.body.util.toTime(r),s=this.body.util.getScale(),o=this.body.util.getStep(),a=this.options.snap,l=a?a(n,s,o):n;this.setCustomTime(l),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation()}_onDragEnd(e){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation())}_onMarkerChange(e){this.body.emitter.emit("markerchange",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}_onMarkerChanged(e){this.body.emitter.emit("markerchanged",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}static customTimeFromTarget(e){let t=e.target;for(;t;){if(Object.prototype.hasOwnProperty.call(t,"custom-time"))return t["custom-time"];t=t.parentNode}return null}},Kc=class{_create(e){this.dom={},this.dom.container=e,this.dom.container.style.position="relative",this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.loadingScreen=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.loadingScreen.className="vis-loading-screen",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",()=>{this.initialDrawDone===!0&&this._redraw()}),this.on("rangechanged",()=>{this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));const t=this;this._origRedraw=this._redraw.bind(this),this._redraw=A.throttle(this._origRedraw),this.on("_change",h=>{t.itemSet&&t.itemSet.initialItemSetDrawn&&h&&h.queue==!0?t._redraw():t._origRedraw()}),this.hammer=new Ui(this.dom.root);const r=this.hammer.get("pinch").set({enable:!0});r&&uIe(r),this.hammer.get("pan").set({threshold:5,direction:Ui.DIRECTION_ALL}),this.timelineListeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(h=>{const d=f=>{t.isActive()&&t.emit(h,f)};t.hammer.on(h,d),t.timelineListeners[h]=d}),Hte(this.hammer,h=>{t.emit("touch",h)}),cIe(this.hammer,h=>{t.emit("release",h)});function s(h){if(!this.isActive())return;if(this.emit("mousewheel",h),this.options.preferZoom){if(!this.options.zoomKey||h[this.options.zoomKey])return}else if(this.options.zoomKey&&h[this.options.zoomKey])return;if(!this.options.verticalScroll&&!this.options.horizontalScroll)return;let d=0,f=0;"detail"in h&&(f=h.detail*-1),"wheelDelta"in h&&(f=h.wheelDelta),"wheelDeltaY"in h&&(f=h.wheelDeltaY),"wheelDeltaX"in h&&(d=h.wheelDeltaX*-1),"axis"in h&&h.axis===h.HORIZONTAL_AXIS&&(d=f*-1,f=0),"deltaY"in h&&(f=h.deltaY*-1),"deltaX"in h&&(d=h.deltaX);var p=40,m=800;h.deltaMode&&(h.deltaMode===1?(d*=p,f*=p):(d*=p,f*=m));const g=this.options.verticalScroll,v=Math.abs(f)>=Math.abs(d),y=this.options.horizontalScroll&&this.options.horizontalScrollKey&&h[this.options.horizontalScrollKey];if(g&&v&&!y){const _=this.props.scrollTop,b=_+f;this._setScrollTop(b)!==_&&(this._redraw(),this.emit("scroll",h),h.preventDefault());return}if(this.options.horizontalScroll){this.range.stopRolling();let b=(v?f:d)/120*(this.range.end-this.range.start)/20;this.options.horizontalScrollInvert&&v&&(b=-b);const w=this.range.start+b,S=this.range.end+b,E={animation:!1,byUser:!0,event:h};this.range.setRange(w,S,E),h.preventDefault();return}}const o="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":this.dom.centerContainer.addEventListener?"DOMMouseScroll":"onmousewheel";this.dom.top.addEventListener,this.dom.bottom.addEventListener,this.dom.centerContainer.addEventListener(o,s.bind(this),!1),this.dom.top.addEventListener(o,s.bind(this),!1),this.dom.bottom.addEventListener(o,s.bind(this),!1);function a(h){if(t.options.verticalScroll&&(h.preventDefault(),t.isActive())){const d=-h.target.scrollTop;t._setScrollTop(d),t._redraw(),t.emit("scrollSide",h)}}this.dom.left.parentNode.addEventListener("scroll",a.bind(this)),this.dom.right.parentNode.addEventListener("scroll",a.bind(this));let l=!1;function c(h){if(h.preventDefault&&(t.emit("dragover",t.getEventProperties(h)),h.preventDefault()),h.target.className.indexOf("timeline")>-1&&!l)return h.dataTransfer.dropEffect="move",l=!0,!1}function u(h){h.preventDefault&&h.preventDefault(),h.stopPropagation&&h.stopPropagation();try{var d=JSON.parse(h.dataTransfer.getData("text"));if(!d||!d.content)return}catch{return!1}return l=!1,h.center={x:h.clientX,y:h.clientY},d.target!=="item"?t.itemSet._onAddItem(h):t.itemSet._onDropObjectOnItem(h),t.emit("drop",t.getEventProperties(h)),!1}if(this.dom.center.addEventListener("dragover",c.bind(this),!1),this.dom.center.addEventListener("drop",u.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!e)throw new Error("No container provided");e.appendChild(this.dom.root),e.appendChild(this.dom.loadingScreen)}setOptions(e){if(e){const t=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","preferZoom","rtl","zoomKey","horizontalScroll","horizontalScrollKey","horizontalScrollInvert","verticalScroll","longSelectPressTime","snap"];if(A.selectiveExtend(t,this.options,e),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),typeof this.options.orientation!="object"&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation={item:e.orientation,axis:e.orientation}:typeof e.orientation=="object"&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),this.options.orientation.axis==="both"){if(!this.timeAxis2){const r=this.timeAxis2=new gg(this.body,this.options);r.setOptions=n=>{const s=n?A.extend({},n):{};s.orientation="top",gg.prototype.setOptions.call(r,s)},this.components.push(r)}}else if(this.timeAxis2){const r=this.components.indexOf(this.timeAxis2);r!==-1&&this.components.splice(r,1),this.timeAxis2.destroy(),this.timeAxis2=null}typeof e.drawPoints=="function"&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&LM(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new en(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize()}if(this.components.forEach(t=>t.setOptions(e)),"configure"in e){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure);const t=A.deepExtend({},this.options);this.components.forEach(r=>{A.deepExtend(t,r.options)}),this.configurator.setModuleOptions({global:t})}this._redraw()}isActive(){return!this.activator||this.activator.active}destroy(){this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(const e in this.timelineListeners)Object.prototype.hasOwnProperty.call(this.timelineListeners,e)&&delete this.timelineListeners[e];this.timelineListeners=null,this.hammer&&this.hammer.destroy(),this.hammer=null,this.components.forEach(e=>e.destroy()),this.body=null}setCustomTime(e,t){const r=this.customTimes.filter(n=>t===n.options.id);if(r.length===0)throw new Error(`No custom time bar found with id ${JSON.stringify(t)}`);r.length>0&&r[0].setCustomTime(e)}getCustomTime(e){const t=this.customTimes.filter(r=>r.options.id===e);if(t.length===0)throw new Error(`No custom time bar found with id ${JSON.stringify(e)}`);return t[0].getCustomTime()}setCustomTimeMarker(e,t,r){const n=this.customTimes.filter(s=>s.options.id===t);if(n.length===0)throw new Error(`No custom time bar found with id ${JSON.stringify(t)}`);n.length>0&&n[0].setCustomMarker(e,r)}setCustomTimeTitle(e,t){const r=this.customTimes.filter(n=>n.options.id===t);if(r.length===0)throw new Error(`No custom time bar found with id ${JSON.stringify(t)}`);if(r.length>0)return r[0].setCustomTitle(e)}getEventProperties(e){return{event:e}}addCustomTime(e,t){const r=e!==void 0?A.convert(e,"Date"):new Date;if(this.customTimes.some(o=>o.options.id===t))throw new Error(`A custom time with id ${JSON.stringify(t)} already exists`);const s=new BM(this.body,A.extend({},this.options,{time:r,id:t,snap:this.itemSet?this.itemSet.options.snap:this.options.snap}));return this.customTimes.push(s),this.components.push(s),this._redraw(),t}removeCustomTime(e){const t=this.customTimes.filter(r=>r.options.id===e);if(t.length===0)throw new Error(`No custom time bar found with id ${JSON.stringify(e)}`);t.forEach(r=>{this.customTimes.splice(this.customTimes.indexOf(r),1),this.components.splice(this.components.indexOf(r),1),r.destroy()})}getVisibleItems(){return this.itemSet&&this.itemSet.getVisibleItems()||[]}getItemsAtCurrentTime(e){return this.time=e,this.itemSet&&this.itemSet.getItemsAtCurrentTime(this.time)||[]}getVisibleGroups(){return this.itemSet&&this.itemSet.getVisibleGroups()||[]}fit(e,t){const r=this.getDataRange();if(r.min===null&&r.max===null)return;const n=r.max-r.min,s=new Date(r.min.valueOf()-n*.01),o=new Date(r.max.valueOf()+n*.01),a=e&&e.animation!==void 0?e.animation:!0;this.range.setRange(s,o,{animation:a},t)}getDataRange(){throw new Error("Cannot invoke abstract method getDataRange")}setWindow(e,t,r,n){typeof arguments[2]=="function"&&(n=arguments[2],r={});let s,o;arguments.length==1?(o=arguments[0],s=o.animation!==void 0?o.animation:!0,this.range.setRange(o.start,o.end,{animation:s})):arguments.length==2&&typeof arguments[1]=="function"?(o=arguments[0],n=arguments[1],s=o.animation!==void 0?o.animation:!0,this.range.setRange(o.start,o.end,{animation:s},n)):(s=r&&r.animation!==void 0?r.animation:!0,this.range.setRange(e,t,{animation:s},n))}moveTo(e,t,r){typeof arguments[1]=="function"&&(r=arguments[1],t={});const n=this.range.end-this.range.start,s=A.convert(e,"Date").valueOf(),o=s-n/2,a=s+n/2,l=t&&t.animation!==void 0?t.animation:!0;this.range.setRange(o,a,{animation:l},r)}getWindow(){const e=this.range.getRange();return{start:new Date(e.start),end:new Date(e.end)}}zoomIn(e,t,r){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(r=arguments[1],t={});const n=this.getWindow(),s=n.start.valueOf(),o=n.end.valueOf(),a=o-s,l=a/(1+e),c=(a-l)/2,u=s+c,h=o-c;this.setWindow(u,h,t,r)}zoomOut(e,t,r){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(r=arguments[1],t={});const n=this.getWindow(),s=n.start.valueOf(),o=n.end.valueOf(),a=o-s,l=s-a*e/2,c=o+a*e/2;this.setWindow(l,c,t,r)}redraw(){this._redraw()}_redraw(){this.redrawCount++;const e=this.dom;if(!e||!e.container||e.root.offsetWidth==0)return;let t=!1;const r=this.options,n=this.props;dg(this.options.moment,this.body,this.options.hiddenDates),r.orientation=="top"?(A.addClassName(e.root,"vis-top"),A.removeClassName(e.root,"vis-bottom")):(A.removeClassName(e.root,"vis-top"),A.addClassName(e.root,"vis-bottom")),r.rtl?(A.addClassName(e.root,"vis-rtl"),A.removeClassName(e.root,"vis-ltr")):(A.addClassName(e.root,"vis-ltr"),A.removeClassName(e.root,"vis-rtl")),e.root.style.maxHeight=A.option.asSize(r.maxHeight,""),e.root.style.minHeight=A.option.asSize(r.minHeight,""),e.root.style.width=A.option.asSize(r.width,"");const s=e.root.offsetWidth;n.border.left=1,n.border.right=1,n.border.top=1,n.border.bottom=1,n.center.height=e.center.offsetHeight,n.left.height=e.left.offsetHeight,n.right.height=e.right.offsetHeight,n.top.height=e.top.clientHeight||-n.border.top,n.bottom.height=Math.round(e.bottom.getBoundingClientRect().height)||e.bottom.clientHeight||-n.border.bottom;const o=Math.max(n.left.height,n.center.height,n.right.height),a=n.top.height+o+n.bottom.height+n.border.top+n.border.bottom;e.root.style.height=A.option.asSize(r.height,`${a}px`),n.root.height=e.root.offsetHeight,n.background.height=n.root.height;const l=n.root.height-n.top.height-n.bottom.height;n.centerContainer.height=l,n.leftContainer.height=l,n.rightContainer.height=n.leftContainer.height,n.root.width=s,n.background.width=n.root.width,this.initialDrawDone||(n.scrollbarWidth=A.getScrollBarWidth());const c=e.leftContainer.clientWidth,u=e.rightContainer.clientWidth;r.verticalScroll?r.rtl?(n.left.width=c||-n.border.left,n.right.width=u+n.scrollbarWidth||-n.border.right):(n.left.width=c+n.scrollbarWidth||-n.border.left,n.right.width=u||-n.border.right):(n.left.width=c||-n.border.left,n.right.width=u||-n.border.right),this._setDOM();let h=this._updateScrollTop();r.orientation.item!="top"&&(h+=Math.max(n.centerContainer.height-n.center.height-n.border.top-n.border.bottom,0)),e.center.style.transform=`translateY(${h}px)`;const d=n.scrollTop==0?"hidden":"",f=n.scrollTop==n.scrollTopMin?"hidden":"";e.shadowTop.style.visibility=d,e.shadowBottom.style.visibility=f,e.shadowTopLeft.style.visibility=d,e.shadowBottomLeft.style.visibility=f,e.shadowTopRight.style.visibility=d,e.shadowBottomRight.style.visibility=f,r.verticalScroll&&(e.rightContainer.className="vis-panel vis-right vis-vertical-scroll",e.leftContainer.className="vis-panel vis-left vis-vertical-scroll",e.shadowTopRight.style.visibility="hidden",e.shadowBottomRight.style.visibility="hidden",e.shadowTopLeft.style.visibility="hidden",e.shadowBottomLeft.style.visibility="hidden",e.left.style.top="0px",e.right.style.top="0px"),(!r.verticalScroll||n.center.height<n.centerContainer.height)&&(e.left.style.top=`${h}px`,e.right.style.top=`${h}px`,e.rightContainer.className=e.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),e.leftContainer.className=e.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),n.left.width=c||-n.border.left,n.right.width=u||-n.border.right,this._setDOM());const p=n.center.height>n.centerContainer.height;this.hammer.get("pan").set({direction:p?Ui.DIRECTION_ALL:Ui.DIRECTION_HORIZONTAL}),this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.components.forEach(g=>{t=g.redraw()||t});const m=5;if(t)if(this.redrawCount<m){this.body.emitter.emit("_change");return}else console.log("WARNING: infinite loop in redraw?");else this.redrawCount=0;this.body.emitter.emit("changed")}_setDOM(){const e=this.props,t=this.dom;e.leftContainer.width=e.left.width,e.rightContainer.width=e.right.width;const r=e.root.width-e.left.width-e.right.width;e.center.width=r,e.centerContainer.width=r,e.top.width=r,e.bottom.width=r,t.background.style.height=`${e.background.height}px`,t.backgroundVertical.style.height=`${e.background.height}px`,t.backgroundHorizontal.style.height=`${e.centerContainer.height}px`,t.centerContainer.style.height=`${e.centerContainer.height}px`,t.leftContainer.style.height=`${e.leftContainer.height}px`,t.rightContainer.style.height=`${e.rightContainer.height}px`,t.background.style.width=`${e.background.width}px`,t.backgroundVertical.style.width=`${e.centerContainer.width}px`,t.backgroundHorizontal.style.width=`${e.background.width}px`,t.centerContainer.style.width=`${e.center.width}px`,t.top.style.width=`${e.top.width}px`,t.bottom.style.width=`${e.bottom.width}px`,t.background.style.left="0",t.background.style.top="0",t.backgroundVertical.style.left=`${e.left.width+e.border.left}px`,t.backgroundVertical.style.top="0",t.backgroundHorizontal.style.left="0",t.backgroundHorizontal.style.top=`${e.top.height}px`,t.centerContainer.style.left=`${e.left.width}px`,t.centerContainer.style.top=`${e.top.height}px`,t.leftContainer.style.left="0",t.leftContainer.style.top=`${e.top.height}px`,t.rightContainer.style.left=`${e.left.width+e.center.width}px`,t.rightContainer.style.top=`${e.top.height}px`,t.top.style.left=`${e.left.width}px`,t.top.style.top="0",t.bottom.style.left=`${e.left.width}px`,t.bottom.style.top=`${e.top.height+e.centerContainer.height}px`,t.center.style.left="0",t.left.style.left="0",t.right.style.left="0"}setCurrentTime(e){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(e)}getCurrentTime(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()}_toTime(e){return Kz(this,e,this.props.center.width)}_toGlobalTime(e){return Kz(this,e,this.props.root.width)}_toScreen(e){return Xz(this,e,this.props.center.width)}_toGlobalScreen(e){return Xz(this,e,this.props.root.width)}_initAutoResize(){this.options.autoResize==!0?this._startAutoResize():this._stopAutoResize()}_startAutoResize(){const e=this;this._stopAutoResize(),this._onResize=()=>{if(e.options.autoResize!=!0){e._stopAutoResize();return}if(e.dom.root){const t=e.dom.root.offsetHeight,r=e.dom.root.offsetWidth;(r!=e.props.lastWidth||t!=e.props.lastHeight)&&(e.props.lastWidth=r,e.props.lastHeight=t,e.props.scrollbarWidth=A.getScrollBarWidth(),e.body.emitter.emit("_change"))}},window.addEventListener("resize",this._onResize),e.dom.root&&(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)}_stopAutoResize(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(window.removeEventListener("resize",this._onResize),this._onResize=null)}_onTouch(){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop}_onPinch(){this.touch.allowDragging=!1}_onDrag(e){if(!e||!this.touch.allowDragging)return;const t=e.deltaY,r=this._getScrollTop(),n=this._setScrollTop(this.touch.initialScrollTop+t);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),n!=r&&this.emit("verticalDrag")}_setScrollTop(e){return this.props.scrollTop=e,this._updateScrollTop(),this.props.scrollTop}_updateScrollTop(){const e=Math.min(this.props.centerContainer.height-this.props.border.top-this.props.border.bottom-this.props.center.height,0);return e!=this.props.scrollTopMin&&(this.options.orientation.item!="top"&&(this.props.scrollTop+=e-this.props.scrollTopMin),this.props.scrollTopMin=e),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<e&&(this.props.scrollTop=e),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop}_getScrollTop(){return this.props.scrollTop}_createConfigurator(){throw new Error("Cannot invoke abstract method _createConfigurator")}};yM(Kc.prototype);let eie=class extends ua{constructor(e,t){super(),this.body=e,this.defaultOptions={rtl:!1,showCurrentTime:!0,alignCurrentTime:void 0,moment:pr,locales:wu,locale:"en"},this.options=A.extend({},this.defaultOptions),this.setOptions(t),this.options.locales=A.extend({},wu,this.options.locales);const r=this.defaultOptions.locales[this.defaultOptions.locale];Object.keys(this.options.locales).forEach(n=>{this.options.locales[n]=A.extend({},r,this.options.locales[n])}),this.offset=0,this._create()}_create(){const e=document.createElement("div");e.className="vis-current-time",e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e}destroy(){this.options.showCurrentTime=!1,this.redraw(),this.body=null}setOptions(e){e&&A.selectiveExtend(["rtl","showCurrentTime","alignCurrentTime","moment","locale","locales"],this.options,e)}redraw(){if(this.options.showCurrentTime){const e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar),this.start());let t=this.options.moment(Date.now()+this.offset);this.options.alignCurrentTime&&(t=t.startOf(this.options.alignCurrentTime));const r=this.body.util.toScreen(t);let n=this.options.locales[this.options.locale];n||(this.warned||(console.warn(`WARNING: options.locales['${this.options.locale}'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization`),this.warned=!0),n=this.options.locales.en);let s=`${n.current} ${n.time}: ${t.format("dddd, MMMM Do YYYY, H:mm:ss")}`;s=s.charAt(0).toUpperCase()+s.substring(1),this.options.rtl?this.bar.style.transform=`translateX(${r*-1}px)`:this.bar.style.transform=`translateX(${r}px)`,this.bar.title=s}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1}start(){const e=this;function t(){e.stop();let n=1/e.body.range.conversion(e.body.domProps.center.width).scale/10;n<30&&(n=30),n>1e3&&(n=1e3),e.redraw(),e.body.emitter.emit("currentTimeTick"),e.currentTimeTimer=setTimeout(t,n)}t()}stop(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)}setCurrentTime(e){const t=A.convert(e,"Date").valueOf(),r=Date.now();this.offset=t-r,this.redraw()}getCurrentTime(){return new Date(Date.now()+this.offset)}};const Er=.001;function AIe(i){i.sort((e,t)=>e.data.start-t.data.start)}function NIe(i){i.sort((e,t)=>{const r="end"in e.data?e.data.end:e.data.start,n="end"in t.data?t.data.end:t.data.start;return r-n})}function eH(i,e,t,r){return zM(i,e.item,!1,s=>s.stack&&(t||s.top===null),s=>s.stack,()=>e.axis,r)===null}function $Ie(i,e,t){const r=zM(i,e.item,!1,n=>n.stack,()=>!0,n=>n.baseTop);t.height=r-t.top+.5*e.item.vertical}function FIe(i,e,t,r){for(let n=0;n<i.length;n++){if(i[n].data.subgroup==null){i[n].top=e.item.vertical;continue}if(i[n].data.subgroup===void 0||!r)continue;let s=0;for(const o in t)!Object.prototype.hasOwnProperty.call(t,o)||t[o].visible!==!0||t[o].index>=t[i[n].data.subgroup].index||(s+=t[o].height,t[i[n].data.subgroup].top=s);i[n].top=s+.5*e.item.vertical}r||LIe(i,e,t)}function LIe(i,e,t){zM(Object.values(t).sort((r,n)=>r.index>n.index?1:r.index<n.index?-1:0),{vertical:0},!0,()=>!0,()=>!0,()=>0);for(let r=0;r<i.length;r++)i[r].data.subgroup!==void 0&&(i[r].top=t[i[r].data.subgroup].top+.5*e.item.vertical)}function tH(i,e,t){let r=!1;const n=[];for(let s in t)Object.prototype.hasOwnProperty.call(t[s],"index")?n[t[s].index]=s:n.push(s);for(let s=0;s<n.length;s++){let o=n[s];if(!Object.prototype.hasOwnProperty.call(t,o))continue;r=r||t[o].stack,t[o].top=0;for(const l in t)t[l].visible&&t[o].index>t[l].index&&(t[o].top+=t[l].height);const a=i[o];for(let l=0;l<a.length;l++)a[l].data.subgroup!==void 0&&(a[l].top=t[a[l].data.subgroup].top+.5*e.item.vertical,t[o].stack&&(a[l].baseTop=a[l].top));r&&t[o].stack&&$Ie(i[o],e,t[o])}}function zM(i,e,t,r,n,s,o){let a=v=>v.start,l=v=>v.end;t||(!!(i[0]&&i[0].options.rtl)?a=y=>y.right:a=y=>y.left,l=y=>a(y)+y.width+e.horizontal);const c=[],u=[];let h=null,d=0;for(const v of i)if(r(v))c.push(v);else if(n(v)){const y=a(v);h!==null&&y<h-Er&&(d=0),h=y,d=hm(u,_=>a(_)-Er>y,d),u.splice(d,0,v),d++}h=null;let f=null;d=0;let p=0,m=0,g=0;for(;c.length>0;){const v=c.shift();v.top=s(v);const y=a(v),_=l(v);h!==null&&y<h-Er&&(p=0,m=0,d=0,f=null),(h===null||y>h+Er)&&(p=hm(u,S=>y<l(S)-Er,p)),h=y,(f===null||f<_-Er)&&(m=hm(u,S=>_<a(S)-Er,Math.max(p,m))),f!==null&&f-Er>_&&(m=jIe(u,S=>_+Er>=a(S),p,m)+1),f=_;const b=GIe(u,S=>y<l(S)-Er,p,m).sort((S,E)=>S.top-E.top);for(let S=0;S<b.length;S++){const E=b[S];qIe(v,E,e)&&(v.top=E.top+E.height+e.vertical)}n(v)&&(d=hm(u,S=>a(S)-Er>y,d),u.splice(d,0,v),d<p&&p++,d<=m&&m++,d++);const w=v.top+v.height;if(w>g&&(g=w),o&&o())return null}return g}function qIe(i,e,t){return i.top-t.vertical+Er<e.top+e.height&&i.top+i.height+t.vertical-Er>e.top}function hm(i,e,t){t||(t=0);for(let r=t;r<i.length;r++)if(e(i[r]))return r;return i.length}function jIe(i,e,t,r){t||(t=0),r||(r=i.length);for(let n=r-1;n>=t;n--)if(e(i[n]))return n;return t-1}function GIe(i,e,t,r){t||(t=0),r?r=Math.min(r,i.length):r=i.length;const n=[];for(let s=t;s<r;s++)e(i[s])&&n.push(i[s]);return n}const WIe="__background__",iH={BACKGROUND:WIe};let RD=class{constructor(e,t,r){if(this.groupId=e,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.subgroupVisibility={},this.doInnerStack=!1,this.shouldBailStackItems=!1,this.subgroupIndex=0,this.subgroupOrderer=t&&t.subgroupOrder,this.itemSet=r,this.isVisible=null,this.height=0,this.stackDirty=!0,this._disposeCallbacks=[],t&&t.nestedGroups&&(this.nestedGroups=t.nestedGroups,t.showNested==!1?this.showNested=!1:this.showNested=!0),t&&t.subgroupStack)if(typeof t.subgroupStack=="boolean")this.doInnerStack=t.subgroupStack,this.subgroupStackAll=t.subgroupStack;else for(const s in t.subgroupStack)Object.prototype.hasOwnProperty.call(t.subgroupStack,s)&&(this.subgroupStack[s]=t.subgroupStack[s],this.doInnerStack=this.doInnerStack||t.subgroupStack[s]);t&&t.heightMode?this.heightMode=t.heightMode:this.heightMode=r.options.groupHeightMode,this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;const n=()=>{this.checkRangedItems=!0};this.itemSet.body.emitter.on("checkRangedItems",n),this._disposeCallbacks.push(()=>{this.itemSet.body.emitter.off("checkRangedItems",n)}),this._create(),this.setData(t)}_create(){const e=document.createElement("div");this.itemSet.options.groupEditable.order?e.className="vis-label draggable":e.className="vis-label",this.dom.label=e;const t=document.createElement("div");t.className="vis-inner",e.appendChild(t),this.dom.inner=t;const r=document.createElement("div");r.className="vis-group",r["vis-group"]=this,this.dom.foreground=r,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)}setData(e){if(this.itemSet.groupTouchParams.isDragging)return;let t,r;if(e&&e.subgroupVisibility)for(const s in e.subgroupVisibility)Object.prototype.hasOwnProperty.call(e.subgroupVisibility,s)&&(this.subgroupVisibility[s]=e.subgroupVisibility[s]);if(this.itemSet.options&&this.itemSet.options.groupTemplate?(r=this.itemSet.options.groupTemplate.bind(this),t=r(e,this.dom.inner)):t=e&&e.content,t instanceof Element){for(;this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(t)}else t instanceof Object&&t.isReactComponent||(t instanceof Object?r(e,this.dom.inner):t!=null?this.dom.inner.innerHTML=A.xss(t):this.dom.inner.innerHTML=A.xss(this.groupId||""));this.dom.label.title=e&&e.title||"",this.dom.inner.firstChild?A.removeClassName(this.dom.inner,"vis-hidden"):A.addClassName(this.dom.inner,"vis-hidden"),e&&e.nestedGroups?((!this.nestedGroups||this.nestedGroups!=e.nestedGroups)&&(this.nestedGroups=e.nestedGroups),(e.showNested!==void 0||this.showNested===void 0)&&(e.showNested==!1?this.showNested=!1:this.showNested=!0),A.addClassName(this.dom.label,"vis-nesting-group"),this.showNested?(A.removeClassName(this.dom.label,"collapsed"),A.addClassName(this.dom.label,"expanded")):(A.removeClassName(this.dom.label,"expanded"),A.addClassName(this.dom.label,"collapsed"))):this.nestedGroups&&(this.nestedGroups=null,A.removeClassName(this.dom.label,"collapsed"),A.removeClassName(this.dom.label,"expanded"),A.removeClassName(this.dom.label,"vis-nesting-group")),e&&(e.treeLevel||e.nestedInGroup)?(A.addClassName(this.dom.label,"vis-nested-group"),e.treeLevel?A.addClassName(this.dom.label,"vis-group-level-"+e.treeLevel):A.addClassName(this.dom.label,"vis-group-level-unknown-but-gte1")):A.addClassName(this.dom.label,"vis-group-level-0");const n=e&&e.className||null;n!=this.className&&(this.className&&(A.removeClassName(this.dom.label,this.className),A.removeClassName(this.dom.foreground,this.className),A.removeClassName(this.dom.background,this.className),A.removeClassName(this.dom.axis,this.className)),A.addClassName(this.dom.label,n),A.addClassName(this.dom.foreground,n),A.addClassName(this.dom.background,n),A.addClassName(this.dom.axis,n),this.className=n),this.style&&(A.removeCssText(this.dom.label,this.style),this.style=null),e&&e.style&&(A.addCssText(this.dom.label,e.style),this.style=e.style)}getLabelWidth(){return this.props.label.width}_didMarkerHeightChange(){const e=this.dom.marker.clientHeight;if(e!=this.lastMarkerHeight){this.lastMarkerHeight=e;const t={};let r=0;if(A.forEach(this.items,(s,o)=>{s.dirty=!0,s.displayed&&(t[o]=s.redraw(!0),r=t[o].length)}),r>0)for(let s=0;s<r;s++)A.forEach(t,o=>{o[s]()});return!0}else return!1}_calculateGroupSizeAndPosition(){const{offsetTop:e,offsetLeft:t,offsetWidth:r}=this.dom.foreground;this.top=e,this.right=t,this.width=r}_shouldBailItemsRedraw(){const e=this,t=this.itemSet.options.onTimeout,r={relativeBailingTime:this.itemSet.itemsSettingTime,bailTimeMs:t&&t.timeoutMs,userBailFunction:t&&t.callback,shouldBailStackItems:this.shouldBailStackItems};let n=null;if(!this.itemSet.initialDrawDone){if(r.shouldBailStackItems)return!0;Math.abs(Date.now()-new Date(r.relativeBailingTime))>r.bailTimeMs&&(r.userBailFunction&&this.itemSet.userContinueNotBail==null?r.userBailFunction(s=>{e.itemSet.userContinueNotBail=s,n=!s}):e.itemSet.userContinueNotBail==!1?n=!0:n=!1)}return n}_redrawItems(e,t,r,n){if(e||this.stackDirty||this.isVisible&&!t){const o={byEnd:this.orderedItems.byEnd.filter(u=>!u.isCluster),byStart:this.orderedItems.byStart.filter(u=>!u.isCluster)},a={byEnd:[...new Set(this.orderedItems.byEnd.map(u=>u.cluster).filter(u=>!!u))],byStart:[...new Set(this.orderedItems.byStart.map(u=>u.cluster).filter(u=>!!u))]},l=()=>{const u=this._updateItemsInRange(o,this.visibleItems.filter(d=>!d.isCluster),n),h=this._updateClustersInRange(a,this.visibleItems.filter(d=>d.isCluster),n);return[...u,...h]},c=u=>{let h={};for(const d in this.subgroups){if(!Object.prototype.hasOwnProperty.call(this.subgroups,d))continue;const f=this.visibleItems.filter(p=>p.data.subgroup===d);h[d]=u?f.sort((p,m)=>u(p.data,m.data)):f}return h};if(typeof this.itemSet.options.order=="function"){const u=this;if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const h=c(this.itemSet.options.order);tH(h,r,this.subgroups),this.visibleItems=l(),this._updateSubGroupHeights(r)}else{this.visibleItems=l(),this._updateSubGroupHeights(r);const h=this.visibleItems.slice().filter(d=>d.isCluster||!d.isCluster&&!d.cluster).sort((d,f)=>u.itemSet.options.order(d.data,f.data));this.shouldBailStackItems=eH(h,r,!0,this._shouldBailItemsRedraw.bind(this))}}else if(this.visibleItems=l(),this._updateSubGroupHeights(r),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const u=c();tH(u,r,this.subgroups)}else this.shouldBailStackItems=eH(this.visibleItems,r,!0,this._shouldBailItemsRedraw.bind(this));else FIe(this.visibleItems,r,this.subgroups,this.itemSet.options.stackSubgroups);for(let u=0;u<this.visibleItems.length;u++)this.visibleItems[u].repositionX(),this.subgroupVisibility[this.visibleItems[u].data.subgroup]!==void 0&&(this.subgroupVisibility[this.visibleItems[u].data.subgroup]||this.visibleItems[u].hide());this.itemSet.options.cluster&&A.forEach(this.items,u=>{u.cluster&&u.displayed&&u.hide()}),this.shouldBailStackItems&&this.itemSet.body.emitter.emit("destroyTimeline"),this.stackDirty=!1}}_didResize(e,t){e=A.updateProperty(this,"height",t)||e;const r=this.dom.inner.clientWidth,n=this.dom.inner.clientHeight;return e=A.updateProperty(this.props.label,"width",r)||e,e=A.updateProperty(this.props.label,"height",n)||e,e}_applyGroupHeight(e){this.dom.background.style.height=`${e}px`,this.dom.foreground.style.height=`${e}px`,this.dom.label.style.height=`${e}px`}_updateItemsVerticalPosition(e){for(let t=0,r=this.visibleItems.length;t<r;t++){const n=this.visibleItems[t];n.repositionY(e),!this.isVisible&&this.groupId!=iH.BACKGROUND&&n.displayed&&n.hide()}}redraw(e,t,r,n){let s=!1;const o=this.isVisible;let a;const l=[()=>{r=this._didMarkerHeightChange.call(this)||r},this._updateSubGroupHeights.bind(this,t),this._calculateGroupSizeAndPosition.bind(this),()=>{this.isVisible=this._isGroupVisible.bind(this)(e,t)},()=>{this._redrawItems.bind(this)(r,o,t,e)},this._updateSubgroupsSizes.bind(this),()=>{a=this.height=this._calculateHeight.bind(this)(t)},this._calculateGroupSizeAndPosition.bind(this),()=>{s=this._didResize.bind(this)(s,a)},()=>{this._applyGroupHeight.bind(this)(a)},()=>{this._updateItemsVerticalPosition.bind(this)(t)},(()=>(!this.isVisible&&this.height&&(s=!1),s)).bind(this)];if(n)return l;{let c;return l.forEach(u=>{c=u()}),c}}_updateSubGroupHeights(e){if(Object.keys(this.subgroups).length>0){const t=this;this._resetSubgroups(),A.forEach(this.visibleItems,r=>{r.data.subgroup!==void 0&&(t.subgroups[r.data.subgroup].height=Math.max(t.subgroups[r.data.subgroup].height,r.height+e.item.vertical),t.subgroups[r.data.subgroup].visible=typeof this.subgroupVisibility[r.data.subgroup]>"u"?!0:!!this.subgroupVisibility[r.data.subgroup])})}}_isGroupVisible(e,t){return this.top<=e.body.domProps.centerContainer.height-e.body.domProps.scrollTop+t.axis&&this.top+this.height+t.axis>=-e.body.domProps.scrollTop}_calculateHeight(e){let t,r;if(this.heightMode==="fixed"?r=A.toArray(this.items):r=this.visibleItems,!this.isVisible&&this.height)t=Math.max(this.height,this.props.label.height);else if(r.length>0){let n=r[0].top,s=r[0].top+r[0].height;if(A.forEach(r,o=>{n=Math.min(n,o.top),s=Math.max(s,o.top+o.height)}),n>e.axis){const o=n-e.axis;s-=o,A.forEach(r,a=>{a.top-=o})}t=Math.ceil(s+e.item.vertical/2),this.heightMode!=="fitItems"&&(t=Math.max(t,this.props.label.height))}else t=this.props.label.height;return t}show(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)}hide(){const e=this.dom.label;e.parentNode&&e.parentNode.removeChild(e);const t=this.dom.foreground;t.parentNode&&t.parentNode.removeChild(t);const r=this.dom.background;r.parentNode&&r.parentNode.removeChild(r);const n=this.dom.axis;n.parentNode&&n.parentNode.removeChild(n)}add(e){if(this.items[e.id]=e,e.setParent(this),this.stackDirty=!0,e.data.subgroup!==void 0&&(this._addToSubgroup(e),this.orderSubgroups()),!this.visibleItems.includes(e)){const t=this.itemSet.body.range;this._checkIfVisible(e,this.visibleItems,t)}}_addToSubgroup(e,t=e.data.subgroup){t!=null&&this.subgroups[t]===void 0&&(this.subgroups[t]={height:0,top:0,start:e.data.start,end:e.data.end||e.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[t]||!1},this.subgroupIndex++),new Date(e.data.start)<new Date(this.subgroups[t].start)&&(this.subgroups[t].start=e.data.start);const r=e.data.end||e.data.start;new Date(r)>new Date(this.subgroups[t].end)&&(this.subgroups[t].end=r),this.subgroups[t].items.push(e)}_updateSubgroupsSizes(){const e=this;if(e.subgroups)for(const t in e.subgroups){if(!Object.prototype.hasOwnProperty.call(e.subgroups,t))continue;const r=e.subgroups[t].items[0].data.end||e.subgroups[t].items[0].data.start;let n=e.subgroups[t].items[0].data.start,s=r-1;e.subgroups[t].items.forEach(o=>{new Date(o.data.start)<new Date(n)&&(n=o.data.start);const a=o.data.end||o.data.start;new Date(a)>new Date(s)&&(s=a)}),e.subgroups[t].start=n,e.subgroups[t].end=new Date(s-1)}}orderSubgroups(){if(this.subgroupOrderer!==void 0){const e=[];if(typeof this.subgroupOrderer=="string"){for(const t in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,t)&&e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});e.sort((t,r)=>t.sortField-r.sortField)}else if(typeof this.subgroupOrderer=="function"){for(const t in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,t)&&e.push(this.subgroups[t].items[0].data);e.sort(this.subgroupOrderer)}if(e.length>0)for(let t=0;t<e.length;t++)this.subgroups[e[t].subgroup].index=t}}_resetSubgroups(){for(const e in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,e)&&(this.subgroups[e].visible=!1,this.subgroups[e].height=0)}remove(e){delete this.items[e.id],e.setParent(null),this.stackDirty=!0;const t=this.visibleItems.indexOf(e);t!=-1&&this.visibleItems.splice(t,1),e.data.subgroup!==void 0&&(this._removeFromSubgroup(e),this.orderSubgroups())}_removeFromSubgroup(e,t=e.data.subgroup){if(t!=null){const r=this.subgroups[t];if(r){const n=r.items.indexOf(e);n>=0&&(r.items.splice(n,1),r.items.length?this._updateSubgroupsSizes():delete this.subgroups[t])}}}removeFromDataSet(e){this.itemSet.removeItem(e.id)}order(){const e=A.toArray(this.items),t=[],r=[];for(let n=0;n<e.length;n++)e[n].data.end!==void 0&&r.push(e[n]),t.push(e[n]);this.orderedItems={byStart:t,byEnd:r},AIe(this.orderedItems.byStart),NIe(this.orderedItems.byEnd)}_updateItemsInRange(e,t,r){const n=[],s={};if(!this.isVisible&&this.height!==void 0&&this.groupId!=iH.BACKGROUND){for(let g=0;g<t.length;g++){var o=t[g];o.displayed&&o.hide()}return n}const a=(r.end-r.start)/4,l=r.start-a,c=r.end+a,u=g=>g<l?-1:g<=c?0:1,h=g=>{const{start:v,end:y}=g;return y<l?-1:v<=c?0:1};if(t.length>0)for(let g=0;g<t.length;g++)this._checkIfVisibleWithReference(t[g],n,s,r);const d=A.binarySearchCustom(e.byStart,u,"data","start");if(this._traceVisible(d,e.byStart,n,s,g=>g.data.start<l||g.data.start>c),this.checkRangedItems==!0){this.checkRangedItems=!1;for(let g=0;g<e.byEnd.length;g++)this._checkIfVisibleWithReference(e.byEnd[g],n,s,r)}else{const g=A.binarySearchCustom(e.byEnd,h,"data");this._traceVisible(g,e.byEnd,n,s,v=>v.data.end<l||v.data.start>c)}this._sortVisibleItems(e.byStart,n,s);const f={};let p=0;for(let g=0;g<n.length;g++){const v=n[g];v.displayed||(f[g]=v.redraw(!0),p=f[g].length)}if(p>0)for(let g=0;g<p;g++)A.forEach(f,v=>{v[g]()});for(let g=0;g<n.length;g++)n[g].repositionX();return n}_traceVisible(e,t,r,n,s){if(e!=-1){for(let o=e;o>=0;o--){let a=t[o];if(s(a))break;!(a.isCluster&&!a.hasItems())&&!a.cluster&&n[a.id]===void 0&&(n[a.id]=!0,r.unshift(a))}for(let o=e+1;o<t.length;o++){let a=t[o];if(s(a))break;!(a.isCluster&&!a.hasItems())&&!a.cluster&&n[a.id]===void 0&&(n[a.id]=!0,r.push(a))}}}_sortVisibleItems(e,t,r){t.length=0;for(let n=0;n<e.length;n++){let s=e[n];r[s.id]&&t.push(s)}}_checkIfVisible(e,t,r){e.isVisible(r)?(e.displayed||e.show(),e.repositionX(),t.push(e)):e.displayed&&e.hide()}_checkIfVisibleWithReference(e,t,r,n){e.isVisible(n)?r[e.id]===void 0&&(r[e.id]=!0,t.push(e)):e.displayed&&e.hide()}_updateClustersInRange(e,t,r){const n=[],s={};if(t.length>0)for(let u=0;u<t.length;u++)this._checkIfVisibleWithReference(t[u],n,s,r);for(let u=0;u<e.byStart.length;u++)this._checkIfVisibleWithReference(e.byStart[u],n,s,r);for(let u=0;u<e.byEnd.length;u++)this._checkIfVisibleWithReference(e.byEnd[u],n,s,r);const o={};let a=0;for(let u=0;u<n.length;u++){const h=n[u];h.displayed||(o[u]=h.redraw(!0),a=o[u].length)}if(a>0)for(var c=0;c<a;c++)A.forEach(o,function(u){u[c]()});for(let u=0;u<n.length;u++)n[u].repositionX();return n}changeSubgroup(e,t,r){this._removeFromSubgroup(e,t),this._addToSubgroup(e,r),this.orderSubgroups()}dispose(){this.hide();let e;for(;e=this._disposeCallbacks.pop();)e()}},tie=class extends RD{constructor(e,t,r){super(e,t,r),this.width=0,this.height=0,this.top=0,this.left=0}redraw(e,t){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,e),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(let n=0,s=this.visibleItems.length;n<s;n++)this.visibleItems[n].repositionY(t);return!1}show(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)}},rh=class{constructor(e,t,r){this.id=null,this.parent=null,this.data=e,this.dom=null,this.conversion=t||{},this.defaultOptions={locales:wu,locale:"en"},this.options=A.extend({},this.defaultOptions,r),this.options.locales=A.extend({},wu,this.options.locales);const n=this.defaultOptions.locales[this.defaultOptions.locale];Object.keys(this.options.locales).forEach(s=>{this.options.locales[s]=A.extend({},n,this.options.locales[s])}),this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.selectable=r&&r.selectable||!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.setSelectability(e),this.editable=null,this._updateEditStatus()}select(){this.selectable&&(this.selected=!0,this.dirty=!0,this.displayed&&this.redraw())}unselect(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()}setData(e){e.group!=null&&this.data.group!=e.group&&this.parent!=null&&this.parent.itemSet._moveToGroup(this,e.group),this.setSelectability(e),this.parent&&(this.parent.stackDirty=!0),e.subgroup!=null&&this.data.subgroup!=e.subgroup&&this.parent!=null&&this.parent.changeSubgroup(this,this.data.subgroup,e.subgroup),this.data=e,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()}setSelectability(e){e&&(this.selectable=typeof e.selectable>"u"?!0:!!e.selectable)}setParent(e){this.displayed?(this.hide(),this.parent=e,this.parent&&this.show()):this.parent=e}isVisible(){return!1}show(){return!1}hide(){return!1}redraw(){}repositionX(){}repositionY(){}_repaintDragCenter(){if(this.selected&&this.editable.updateTime&&!this.dom.dragCenter){const e=this,t=document.createElement("div");t.className="vis-drag-center",t.dragCenterItem=this,this.hammerDragCenter=new Ui(t),this.hammerDragCenter.on("tap",r=>{e.parent.itemSet.body.emitter.emit("click",{event:r,item:e.id})}),this.hammerDragCenter.on("doubletap",r=>{r.stopPropagation(),e.parent.itemSet._onUpdateItem(e),e.parent.itemSet.body.emitter.emit("doubleClick",{event:r,item:e.id})}),this.hammerDragCenter.on("panstart",r=>{r.stopPropagation(),e.parent.itemSet._onDragStart(r)}),this.hammerDragCenter.on("panmove",e.parent.itemSet._onDrag.bind(e.parent.itemSet)),this.hammerDragCenter.on("panend",e.parent.itemSet._onDragEnd.bind(e.parent.itemSet)),this.hammerDragCenter.get("press").set({time:1e4}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(t,this.dom.dragLeft):this.dom.box.appendChild(t):this.dom.point&&this.dom.point.appendChild(t),this.dom.dragCenter=t}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null,this.hammerDragCenter&&(this.hammerDragCenter.destroy(),this.hammerDragCenter=null))}_repaintDeleteButton(e){const t=(this.options.editable.overrideItems||this.editable==null)&&this.options.editable.remove||!this.options.editable.overrideItems&&this.editable!=null&&this.editable.remove;if(this.selected&&t&&!this.dom.deleteButton){const r=this,n=document.createElement("div");this.options.rtl?n.className="vis-delete-rtl":n.className="vis-delete";let s=this.options.locales[this.options.locale];s||(this.warned||(console.warn(`WARNING: options.locales['${this.options.locale}'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization`),this.warned=!0),s=this.options.locales.en),n.title=s.deleteSelected,this.hammerDeleteButton=new Ui(n).on("tap",o=>{o.stopPropagation(),r.parent.removeFromDataSet(r)}),e.appendChild(n),this.dom.deleteButton=n}else(!this.selected||!t)&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null,this.hammerDeleteButton&&(this.hammerDeleteButton.destroy(),this.hammerDeleteButton=null))}_repaintOnItemUpdateTimeTooltip(e){if(!this.options.tooltipOnItemUpdateTime)return;const t=(this.options.editable.updateTime||this.data.editable===!0)&&this.data.editable!==!1;if(this.selected&&t&&!this.dom.onItemUpdateTimeTooltip){const r=document.createElement("div");r.className="vis-onUpdateTime-tooltip",e.appendChild(r),this.dom.onItemUpdateTimeTooltip=r}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.dom.onItemUpdateTimeTooltip.style.transform="translateX(-50%)",this.dom.onItemUpdateTimeTooltip.style.left="50%";const r=50,n=this.parent.itemSet.body.domProps.scrollTop;let s;this.options.orientation.item=="top"?s=this.top:s=this.parent.height-this.top-this.height,s+this.parent.top-r<-n?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=`${this.height+2}px`):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=`${this.height+2}px`);let a,l;this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?(l=this.options.tooltipOnItemUpdateTime.template.bind(this),a=l(this.data)):(a=`start: ${pr(this.data.start).format("MM/DD/YYYY hh:mm")}`,this.data.end&&(a+=`<br> end: ${pr(this.data.end).format("MM/DD/YYYY hh:mm")}`)),this.dom.onItemUpdateTimeTooltip.innerHTML=A.xss(a)}}_getItemData(){return this.parent.itemSet.itemsData.get(this.id)}_updateContents(e){let t,r,n,s,o;const a=this._getItemData(),c=(this.dom.box||this.dom.point).getElementsByClassName("vis-item-visible-frame")[0];if(this.options.visibleFrameTemplate?(o=this.options.visibleFrameTemplate.bind(this),s=A.xss(o(a,c))):s="",c){if(s instanceof Object&&!(s instanceof Element))o(a,c);else if(r=this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(s),r){if(s instanceof Element)c.innerHTML="",c.appendChild(s);else if(s!=null)c.innerHTML=A.xss(s);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error(`Property "content" missing in item ${this.id}`);this.itemVisibleFrameContent=s}}if(this.options.template?(n=this.options.template.bind(this),t=n(a,e,this.data)):t=this.data.content,t instanceof Object&&!(t instanceof Element))n(a,e);else if(r=this._contentToString(this.content)!==this._contentToString(t),r){if(t instanceof Element)e.innerHTML="",e.appendChild(t);else if(t!=null)e.innerHTML=A.xss(t);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error(`Property "content" missing in item ${this.id}`);this.content=t}}_updateDataAttributes(e){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){let t=[];if(Array.isArray(this.options.dataAttributes))t=this.options.dataAttributes;else if(this.options.dataAttributes=="all")t=Object.keys(this.data);else return;for(const r of t){const n=this.data[r];n!=null?e.setAttribute(`data-${r}`,n):e.removeAttribute(`data-${r}`)}}}_updateStyle(e){this.style&&(A.removeCssText(e,this.style),this.style=null),this.data.style&&(A.addCssText(e,this.data.style),this.style=this.data.style)}_contentToString(e){return typeof e=="string"?e:e&&"outerHTML"in e?e.outerHTML:e}_updateEditStatus(){this.options&&(typeof this.options.editable=="boolean"?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:typeof this.options.editable=="object"&&(this.editable={},A.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),(!this.options||!this.options.editable||this.options.editable.overrideItems!==!0)&&this.data&&(typeof this.data.editable=="boolean"?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:typeof this.data.editable=="object"&&(this.editable={},A.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))}getWidthLeft(){return 0}getWidthRight(){return 0}getTitle(){return this.options.tooltip&&this.options.tooltip.template?this.options.tooltip.template.bind(this)(this._getItemData(),this.data):this.data.title}};rh.prototype.stack=!0;let BIe=class extends rh{constructor(e,t,r){if(super(e,t,r),this.props={dot:{width:0,height:0},line:{width:0,height:0}},e&&e.start==null)throw new Error(`Property "start" missing in item ${e}`)}isVisible(e){if(this.cluster)return!1;let t;const r=this.data.align||this.options.align,n=this.width*e.getMillisecondsPerPixel();return r=="right"?t=this.data.start.getTime()>e.start&&this.data.start.getTime()-n<e.end:r=="left"?t=this.data.start.getTime()+n>e.start&&this.data.start.getTime()<e.end:t=this.data.start.getTime()+n/2>e.start&&this.data.start.getTime()-n/2<e.end,t}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){const t=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");t.appendChild(this.dom.dot)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className=`vis-item vis-box${t}`,this.dom.line.className=`vis-item vis-line${t}`,this.dom.dot.className=`vis-item vis-dot${t}`}}_getDomComponentsSizes(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=e.dot.height,this.props.dot.width=e.dot.width,this.props.line.width=e.line.width,this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)}redraw(e){let t;const r=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),()=>{this.dirty&&(t=this._getDomComponentsSizes())},()=>{this.dirty&&this._updateDomComponentsSizes.bind(this)(t)},this._repaintDomAdditionals.bind(this)];if(e)return r;{let n;return r.forEach(s=>{n=s()}),n}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom;e.box.remove?e.box.remove():e.box.parentNode&&e.box.parentNode.removeChild(e.box),e.line.remove?e.line.remove():e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.remove?e.dot.remove():e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot),this.displayed=!1}}repositionXY(){const e=this.options.rtl,t=(r,n,s,o=!1)=>{if(n===void 0&&s===void 0)return;const a=o?n*-1:n;if(s===void 0){r.style.transform=`translateX(${a}px)`;return}if(n===void 0){r.style.transform=`translateY(${s}px)`;return}r.style.transform=`translate(${a}px, ${s}px)`};t(this.dom.box,this.boxX,this.boxY,e),t(this.dom.dot,this.dotX,this.dotY,e),t(this.dom.line,this.lineX,this.lineY,e)}repositionX(){const e=this.conversion.toScreen(this.data.start),t=this.data.align===void 0?this.options.align:this.data.align,r=this.props.line.width,n=this.props.dot.width;t=="right"?(this.boxX=e-this.width,this.lineX=e-r,this.dotX=e-r/2-n/2):t=="left"?(this.boxX=e,this.lineX=e,this.dotX=e+r/2-n/2):(this.boxX=e-this.width/2,this.lineX=this.options.rtl?e-r:e-r/2,this.dotX=e-n/2),this.options.rtl?this.right=this.boxX:this.left=this.boxX,this.repositionXY()}repositionY(){const e=this.options.orientation.item,t=this.dom.line.style;if(e=="top"){const r=this.parent.top+this.top+1;this.boxY=this.top||0,t.height=`${r}px`,t.bottom="",t.top="0"}else{const n=this.parent.itemSet.props.height-this.parent.top-this.parent.height+this.top;this.boxY=this.parent.height-this.top-(this.height||0),t.height=`${n}px`,t.top="",t.bottom="0"}this.dotY=-this.props.dot.height/2,this.repositionXY()}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}},zIe=class extends rh{constructor(e,t,r){if(super(e,t,r),this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},e&&e.start==null)throw new Error(`Property "start" missing in item ${e}`)}isVisible(e){if(this.cluster)return!1;const t=this.width*e.getMillisecondsPerPixel();return this.data.start.getTime()+t>e.start&&this.data.start<e.end}_createDomElement(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.point)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.point.className=`vis-item vis-point${t}`,this.dom.dot.className=`vis-item vis-dot${t}`}}_getDomComponentsSizes(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}}_updateDomComponentsSizes(e){this.props.dot.width=e.dot.width,this.props.dot.height=e.dot.height,this.props.content.height=e.content.height,this.options.rtl?this.dom.content.style.marginRight=`${this.props.dot.width/2}px`:this.dom.content.style.marginLeft=`${this.props.dot.width/2}px`,this.width=e.point.width,this.height=e.point.height,this.dom.dot.style.top=`${(this.height-this.props.dot.height)/2}px`;const t=this.props.dot.width,r=this.options.rtl?t/2:t/2*-1;this.dom.dot.style.transform=`translateX(${r}px`,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)}redraw(e){let t;const r=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),()=>{this.dirty&&(t=this._getDomComponentsSizes())},()=>{this.dirty&&this._updateDomComponentsSizes.bind(this)(t)},this._repaintDomAdditionals.bind(this)];if(e)return r;{let n;return r.forEach(s=>{n=s()}),n}}repositionXY(){const e=this.options.rtl;((r,n,s,o=!1)=>{if(n===void 0&&s===void 0)return;const a=o?n*-1:n;if(s===void 0){r.style.transform=`translateX(${a}px)`;return}if(n===void 0){r.style.transform=`translateY(${s}px)`;return}r.style.transform=`translate(${a}px, ${s}px)`})(this.dom.point,this.pointX,this.pointY,e)}show(e){if(!this.displayed)return this.redraw(e)}hide(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)}repositionX(){const e=this.conversion.toScreen(this.data.start);this.pointX=e,this.options.rtl?this.right=e-this.props.dot.width:this.left=e-this.props.dot.width,this.repositionXY()}repositionY(){this.options.orientation.item=="top"?this.pointY=this.top:this.pointY=this.parent.height-this.top-this.height,this.repositionXY()}getWidthLeft(){return this.props.dot.width}getWidthRight(){return this.props.dot.width}},fl=class extends rh{constructor(e,t,r){if(super(e,t,r),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error(`Property "start" missing in item ${e.id}`);if(e.end==null)throw new Error(`Property "end" missing in item ${e.id}`)}}isVisible(e){return this.cluster?!1:this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+t,this.dom.content.style.maxWidth="none"}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.frame).overflow!=="hidden",this.whiteSpace=window.getComputedStyle(this.dom.content).whiteSpace!=="nowrap",{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=e.box.height,this.dom.content.style.maxWidth="",this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()}redraw(e){let t;const r=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),()=>{this.dirty&&(t=this._getDomComponentsSizes.bind(this)())},()=>{this.dirty&&this._updateDomComponentsSizes.bind(this)(t)},this._repaintDomAdditionals.bind(this)];if(e)return r;{let n;return r.forEach(s=>{n=s()}),n}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom.box;e.parentNode&&e.parentNode.removeChild(e),this.displayed=!1}}repositionX(e){const t=this.parent.width;let r=this.conversion.toScreen(this.data.start),n=this.conversion.toScreen(this.data.end);const s=this.data.align===void 0?this.options.align:this.data.align;let o,a;this.data.limitSize!==!1&&(e===void 0||e===!0)&&(r<-t&&(r=-t),n>2*t&&(n=2*t));const l=Math.max(Math.round((n-r)*1e3)/1e3,1);switch(this.overflow?(this.options.rtl?this.right=r:this.left=r,this.width=l+this.props.content.width,a=this.props.content.width):(this.options.rtl?this.right=r:this.left=r,this.width=l,a=Math.min(n-r,this.props.content.width)),this.options.rtl?this.dom.box.style.transform=`translateX(${this.right*-1}px)`:this.dom.box.style.transform=`translateX(${this.left}px)`,this.dom.box.style.width=`${l}px`,this.whiteSpace&&(this.height=this.dom.box.offsetHeight),s){case"left":this.dom.content.style.transform="translateX(0)";break;case"right":if(this.options.rtl){const c=Math.max(l-a,0)*-1;this.dom.content.style.transform=`translateX(${c}px)`}else this.dom.content.style.transform=`translateX(${Math.max(l-a,0)}px)`;break;case"center":if(this.options.rtl){const c=Math.max((l-a)/2,0)*-1;this.dom.content.style.transform=`translateX(${c}px)`}else this.dom.content.style.transform=`translateX(${Math.max((l-a)/2,0)}px)`;break;default:if(this.overflow?n>0?o=Math.max(-r,0):o=-a:r<0?o=-r:o=0,this.options.rtl){const c=o*-1;this.dom.content.style.transform=`translateX(${c}px)`}else this.dom.content.style.transform=`translateX(${o}px)`}}repositionY(){const e=this.options.orientation.item,t=this.dom.box;e=="top"?t.style.top=`${this.top}px`:t.style.top=`${this.parent.height-this.top-this.height}px`}_repaintDragLeft(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragLeft){const e=document.createElement("div");e.className="vis-drag-left",e.dragLeftItem=this,this.dom.box.appendChild(e),this.dom.dragLeft=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)}_repaintDragRight(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragRight){const e=document.createElement("div");e.className="vis-drag-right",e.dragRightItem=this,this.dom.box.appendChild(e),this.dom.dragRight=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)}};fl.prototype.baseClassName="vis-item vis-range";let Fl=class extends rh{constructor(e,t,r){if(super(e,t,r),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error(`Property "start" missing in item ${e.id}`);if(e.end==null)throw new Error(`Property "end" missing in item ${e.id}`)}}isVisible(e){return this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);const e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+e}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.content).overflow!=="hidden",{content:{width:this.dom.content.offsetWidth}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=0,this.dirty=!1}_repaintDomAdditionals(){}redraw(e){let t;const r=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),()=>{this.dirty&&(t=this._getDomComponentsSizes.bind(this)())},()=>{this.dirty&&this._updateDomComponentsSizes.bind(this)(t)},this._repaintDomAdditionals.bind(this)];if(e)return r;{let n;return r.forEach(s=>{n=s()}),n}}repositionY(){let e;const t=this.options.orientation.item;if(this.data.subgroup!==void 0){const r=this.data.subgroup;this.dom.box.style.height=`${this.parent.subgroups[r].height}px`,t=="top"?this.dom.box.style.top=`${this.parent.top+this.parent.subgroups[r].top}px`:this.dom.box.style.top=`${this.parent.top+this.parent.height-this.parent.subgroups[r].top-this.parent.subgroups[r].height}px`,this.dom.box.style.bottom=""}else this.parent instanceof tie?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom=t=="bottom"?"0":"",this.dom.box.style.top=t=="top"?"0":""):(e=this.parent.height,this.dom.box.style.top=`${this.parent.top}px`,this.dom.box.style.bottom="");this.dom.box.style.height=`${e}px`}};Fl.prototype.baseClassName="vis-item vis-background";Fl.prototype.stack=!1;Fl.prototype.show=fl.prototype.show;Fl.prototype.hide=fl.prototype.hide;Fl.prototype.repositionX=fl.prototype.repositionX;let HIe=class{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=parseInt(e),this.y=parseInt(t)}setText(e){e instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(e)):this.frame.innerHTML=A.xss(e)}show(e){if(e===void 0&&(e=!0),e===!0){var t=this.frame.clientHeight,r=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth,o=0,a=0;if(this.overflowMethod=="flip"||this.overflowMethod=="none"){let l=!1,c=!0;this.overflowMethod=="flip"&&(this.y-t<this.padding&&(c=!1),this.x+r>s-this.padding&&(l=!0)),l?o=this.x-r:o=this.x,c?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>n&&(a=n-t-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+r+this.padding>s&&(o=s-r-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},iie=class rie extends rh{constructor(e,t,r){const n=Object.assign({},{fitOnDoubleClick:!0},r,{editable:!1});if(super(e,t,n),this.props={content:{width:0,height:0}},!e||e.uiItems==null)throw new Error('Property "uiItems" missing in item '+e.id);this.id=Ya(),this.group=e.group,this._setupRange(),this.emitter=this.data.eventEmitter,this.range=this.data.range,this.attached=!1,this.isCluster=!0,this.data.isCluster=!0}hasItems(){return this.data.uiItems&&this.data.uiItems.length&&this.attached}setUiItems(e){this.detach(),this.data.uiItems=e,this._setupRange(),this.attach()}isVisible(e){const t=this.data.end?this.data.end-this.data.start:0,r=this.width*e.getMillisecondsPerPixel(),n=Math.max(this.data.start.getTime()+t,this.data.start.getTime()+r);return this.data.start<e.end&&n>e.start&&this.hasItems()}getData(){return{isCluster:!0,id:this.id,items:this.data.items||[],data:this.data}}redraw(e){var t,r=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(t=this._getDomComponentsSizes())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(t)}).bind(this),this._repaintDomAdditionals.bind(this)];if(e)return r;var n;return r.forEach(function(s){n=s()}),n}show(){this.displayed||this.redraw()}hide(){if(this.displayed){var e=this.dom;e.box.parentNode&&e.box.parentNode.removeChild(e.box),this.options.showStipes&&(e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot)),this.displayed=!1}}repositionX(){let e=this.conversion.toScreen(this.data.start),t=this.data.end?this.conversion.toScreen(this.data.end):0;if(t)this.repositionXWithRanges(e,t);else{let r=this.data.align===void 0?this.options.align:this.data.align;this.repositionXWithoutRanges(e,r)}this.options.showStipes&&(this.dom.line.style.display=this._isStipeVisible()?"block":"none",this.dom.dot.style.display=this._isStipeVisible()?"block":"none",this._isStipeVisible()&&this.repositionStype(e,t))}repositionStype(e,t){this.dom.line.style.display="block",this.dom.dot.style.display="block";const r=this.dom.line.offsetWidth,n=this.dom.dot.offsetWidth;if(t){const s=r+e+(t-e)/2,o=s-n/2,a=this.options.rtl?s*-1:s,l=this.options.rtl?o*-1:o;this.dom.line.style.transform=`translateX(${a}px)`,this.dom.dot.style.transform=`translateX(${l}px)`}else{const s=this.options.rtl?e*-1:e,o=this.options.rtl?(e-n/2)*-1:e-n/2;this.dom.line.style.transform=`translateX(${s}px)`,this.dom.dot.style.transform=`translateX(${o}px)`}}repositionXWithoutRanges(e,t){t=="right"?this.options.rtl?(this.right=e-this.width,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width,this.dom.box.style.left=this.left+"px"):t=="left"?this.options.rtl?(this.right=e,this.dom.box.style.right=this.right+"px"):(this.left=e,this.dom.box.style.left=this.left+"px"):this.options.rtl?(this.right=e-this.width/2,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width/2,this.dom.box.style.left=this.left+"px")}repositionXWithRanges(e,t){let r=Math.round(Math.max(t-e+.5,1));this.options.rtl?this.right=e:this.left=e,this.width=Math.max(r,this.minWidth||0),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=r+"px"}repositionY(){var e=this.options.orientation.item,t=this.dom.box;if(e=="top"?t.style.top=(this.top||0)+"px":t.style.top=(this.parent.height-this.top-this.height||0)+"px",this.options.showStipes){if(e=="top")this.dom.line.style.top="0",this.dom.line.style.height=this.parent.top+this.top+1+"px",this.dom.line.style.bottom="";else{var r=this.parent.itemSet.props.height,n=r-this.parent.top-this.parent.height+this.top;this.dom.line.style.top=r-n+"px",this.dom.line.style.bottom="0"}this.dom.dot.style.top=-this.dom.dot.offsetHeight/2+"px"}}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}move(){this.repositionX(),this.repositionY()}attach(){for(let e of this.data.uiItems)e.cluster=this;this.data.items=this.data.uiItems.map(e=>e.data),this.attached=!0,this.dirty=!0}detach(e=!1){if(this.hasItems()){for(let t of this.data.uiItems)delete t.cluster;this.attached=!1,e&&this.group&&(this.group.remove(this),this.group=null),this.data.items=[],this.dirty=!0}}_onDoubleClick(){this._fit()}_setupRange(){const e=this.data.uiItems.map(n=>({start:n.data.start.valueOf(),end:n.data.end?n.data.end.valueOf():n.data.start.valueOf()}));this.data.min=Math.min(...e.map(n=>Math.min(n.start,n.end||n.start))),this.data.max=Math.max(...e.map(n=>Math.max(n.start,n.end||n.start)));const r=this.data.uiItems.map(n=>n.center).reduce((n,s)=>n+s,0)/this.data.uiItems.length;this.data.uiItems.some(n=>n.data.end)?(this.data.start=new Date(this.data.min),this.data.end=new Date(this.data.max)):(this.data.start=new Date(r),this.data.end=null)}_getUiItems(){return this.data.uiItems&&this.data.uiItems.length?this.data.uiItems.filter(e=>e.cluster===this):[]}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.options.showStipes&&(this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-cluster-line",this.dom.line.style.display="none",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-cluster-dot",this.dom.dot.style.display="none"),this.options.fitOnDoubleClick&&(this.dom.box.ondblclick=rie.prototype._onDoubleClick.bind(this)),this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const r=this.parent.dom.foreground;if(!r)throw new Error("Cannot redraw item: parent has no foreground container element");r.appendChild(this.dom.box)}const e=this.parent.dom.background;if(this.options.showStipes){if(!this.dom.line.parentNode){if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var t=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");t.appendChild(this.dom.dot)}}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.baseClassName+" "+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+" vis-readonly";this.dom.box.className="vis-item "+e,this.options.showStipes&&(this.dom.line.className="vis-item vis-cluster-line "+(this.selected?" vis-selected":""),this.dom.dot.className="vis-item vis-cluster-dot "+(this.selected?" vis-selected":"")),this.data.end&&(this.dom.content.style.maxWidth="none")}}_getDomComponentsSizes(){const e={previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}};return this.options.showStipes&&(e.dot={height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},e.line={width:this.dom.line.offsetWidth}),e}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.data.end?this.minWidth=e.box.width:this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box)}_isStipeVisible(){return this.minWidth>=this.width||!this.data.end}_getFitRange(){const e=.05*(this.data.max-this.data.min)/2;return{fitStart:this.data.min-e,fitEnd:this.data.max+e}}_fit(){if(this.emitter){const{fitStart:e,fitEnd:t}=this._getFitRange(),r={start:new Date(e),end:new Date(t),animation:!0};this.emitter.emit("fit",r)}}_getItemData(){return this.data}};iie.prototype.baseClassName="vis-item vis-range vis-cluster";const YIe="__ungrouped__",UIe={UNGROUPED:YIe};let VIe=class{constructor(e){this.itemSet=e,this.groups={},this.cache={},this.cache[-1]=[]}createClusterItem(e,t,r){return new iie(e,t,r)}setItems(e,t){this.items=e||[],this.dataChanged=!0,this.applyOnChangedLevel=!1,t&&t.applyOnChangedLevel&&(this.applyOnChangedLevel=t.applyOnChangedLevel)}updateData(){this.dataChanged=!0,this.applyOnChangedLevel=!1}getClusters(e,t,r){let{maxItems:n,clusterCriteria:s}=typeof r=="boolean"?{}:r;s||(s=()=>!0),n=n||1;let o=-1,a=2,l=0;if(t>0){if(t>=1)return[];o=Math.abs(Math.round(Math.log(100/t)/Math.log(a))),l=Math.abs(Math.pow(a,o))}if(this.dataChanged){const u=o!=this.cacheLevel;(this.applyOnChangedLevel?u:!0)&&(this._dropLevelsCache(),this._filterData())}this.cacheLevel=o;let c=this.cache[o];if(!c){c=[];for(let u in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,u))continue;const h=this.groups[u],d=h.length;let f=0;for(;f<d;){let p=h[f],m=1,g=f-1;for(;g>=0&&p.center-h[g].center<l/2;)!h[g].cluster&&s(p.data,h[g].data)&&m++,g--;let v=f+1;for(;v<h.length&&h[v].center-p.center<l/2;)s(p.data,h[v].data)&&m++,v++;let y=c.length-1;for(;y>=0&&p.center-c[y].center<l;)p.group==c[y].group&&s(p.data,c[y].data)&&m++,y--;if(m>n){const _=m-n+1,b=[];let w=f;for(;b.length<_&&w<h.length;)s(h[f].data,h[w].data)&&b.push(h[w]),w++;const S=this.itemSet.getGroupId(p.data),E=this.itemSet.groups[S]||this.itemSet.groups[UIe.UNGROUPED];let x=this._getClusterForItems(b,E,e,r);c.push(x),f+=_}else delete p.cluster,f+=1}}this.cache[o]=c}return c}_filterData(){const e={};this.groups=e;for(const t of Object.values(this.items)){const r=t.parent?t.parent.groupId:"";let n=e[r];n||(n=[],e[r]=n),n.push(t),t.data.start&&(t.data.end?t.center=(t.data.start.valueOf()+t.data.end.valueOf())/2:t.center=t.data.start.valueOf())}for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&e[t].sort((r,n)=>r.center-n.center);this.dataChanged=!1}_getClusterForItems(e,t,r,n){const s=(r||[]).map(f=>({cluster:f,itemsIds:new Set(f.data.uiItems.map(p=>p.id))}));let o;if(s.length){for(let f of s)if(f.itemsIds.size===e.length&&e.every(p=>f.itemsIds.has(p.id))){o=f.cluster;break}}if(o)return o.setUiItems(e),o.group!==t&&(o.group&&o.group.remove(o),t&&(t.add(o),o.group=t)),o;let a=n.titleTemplate||"";const l={toScreen:this.itemSet.body.util.toScreen,toTime:this.itemSet.body.util.toTime};let[c,u]=["",""];typeof a=="string"?(c=a.replace(/{count}/,e.length),u='<div title="'+c+'">'+e.length+"</div>"):typeof a=="function"&&([u,c]=a({items:e,group:t}));const h=Object.assign({},n,this.itemSet.options),d={content:u,title:c,group:t,uiItems:e,eventEmitter:this.itemSet.body.emitter,range:this.itemSet.body.range};return o=this.createClusterItem(d,l,h),t&&(t.add(o),o.group=t),o.attach(),o}_dropLevelsCache(){this.cache={},this.cacheLevel=-1,this.cache[this.cacheLevel]=[]}};const ac="__ungrouped__",Io="__background__";let vg=class PD extends ua{constructor(e,t){super(),this.body=e,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap(n,s){const o=s.order;s.order=n.order,n.order=o},groupOrder:"order",selectable:!0,multiselect:!1,longSelectPressTime:251,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:mg.snap,onDropObjectOnItem(n,s,o){o(s)},onAdd(n,s){s(n)},onUpdate(n,s){s(n)},onMove(n,s){s(n)},onRemove(n,s){s(n)},onMoving(n,s){s(n)},onAddGroup(n,s){s(n)},onMoveGroup(n,s){s(n)},onRemoveGroup(n,s){s(n)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:500},tooltipOnItemUpdateTime:!1},this.options=A.extend({},this.defaultOptions),this.options.rtl=t.rtl,this.options.onTimeout=t.onTimeout,this.conversion={toScreen:e.util.toScreen,toTime:e.util.toTime},this.dom={},this.props={},this.hammer=null;const r=this;this.itemsData=null,this.groupsData=null,this.itemsSettingTime=null,this.initialItemSetDrawn=!1,this.userContinueNotBail=null,this.sequentialSelection=!1,this.itemListeners={add(n,s){r._onAdd(s.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()},update(n,s){r._onUpdate(s.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()},remove(n,s){r._onRemove(s.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()}},this.groupListeners={add(n,s,o){if(r._onAddGroups(s.items),r.groupsData&&r.groupsData.length>0){const a=r.groupsData.getDataSet();a.get().forEach(l=>{if(l.nestedGroups){l.showNested!=!1&&(l.showNested=!0);let c=[];l.nestedGroups.forEach(u=>{const h=a.get(u);h&&(h.nestedInGroup=l.id,l.showNested==!1&&(h.visible=!1),c=c.concat(h))}),a.update(c,o)}})}},update(n,s){r._onUpdateGroups(s.items)},remove(n,s){r._onRemoveGroups(s.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.popupTimer=null,this.touchParams={},this.groupTouchParams={group:null,isDragging:!1},this._create(),this.setOptions(t),this.clusters=[]}_create(){const e=document.createElement("div");e.className="vis-itemset",e["vis-itemset"]=this,this.dom.frame=e;const t=document.createElement("div");t.className="vis-background",e.appendChild(t),this.dom.background=t;const r=document.createElement("div");r.className="vis-foreground",e.appendChild(r),this.dom.foreground=r;const n=document.createElement("div");n.className="vis-axis",this.dom.axis=n;const s=document.createElement("div");s.className="vis-labelset",this.dom.labelSet=s,this._updateUngrouped();const o=new tie(Io,null,this);o.show(),this.groups[Io]=o,this.hammer=new Ui(this.body.dom.centerContainer),this.hammer.on("hammer.input",a=>{a.isFirst&&this._onTouch(a)}),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:Ui.ALL}),this.hammer.get("press").set({time:1e4}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.get("press").set({time:1e4}),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.options.rtl?this.groupHammer=new Ui(this.body.dom.rightContainer):this.groupHammer=new Ui(this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:Ui.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()}setOptions(e){if(e){const t=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","sequentialSelection","multiselectPerGroup","longSelectPressTime","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime","groupHeightMode","onTimeout"];A.selectiveExtend(t,this.options,e),"itemsAlwaysDraggable"in e&&(typeof e.itemsAlwaysDraggable=="boolean"?(this.options.itemsAlwaysDraggable.item=e.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):typeof e.itemsAlwaysDraggable=="object"&&(A.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,e.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"sequentialSelection"in e&&typeof e.sequentialSelection=="boolean"&&(this.options.sequentialSelection=e.sequentialSelection),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.item=e.orientation==="top"?"top":"bottom":typeof e.orientation=="object"&&"item"in e.orientation&&(this.options.orientation.item=e.orientation.item)),"margin"in e&&(typeof e.margin=="number"?(this.options.margin.axis=e.margin,this.options.margin.item.horizontal=e.margin,this.options.margin.item.vertical=e.margin):typeof e.margin=="object"&&(A.selectiveExtend(["axis"],this.options.margin,e.margin),"item"in e.margin&&(typeof e.margin.item=="number"?(this.options.margin.item.horizontal=e.margin.item,this.options.margin.item.vertical=e.margin.item):typeof e.margin.item=="object"&&A.selectiveExtend(["horizontal","vertical"],this.options.margin.item,e.margin.item)))),["locale","locales"].forEach(n=>{n in e&&(this.options[n]=e[n])}),"editable"in e&&(typeof e.editable=="boolean"?(this.options.editable.updateTime=e.editable,this.options.editable.updateGroup=e.editable,this.options.editable.add=e.editable,this.options.editable.remove=e.editable,this.options.editable.overrideItems=!1):typeof e.editable=="object"&&A.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,e.editable)),"groupEditable"in e&&(typeof e.groupEditable=="boolean"?(this.options.groupEditable.order=e.groupEditable,this.options.groupEditable.add=e.groupEditable,this.options.groupEditable.remove=e.groupEditable):typeof e.groupEditable=="object"&&A.selectiveExtend(["order","add","remove"],this.options.groupEditable,e.groupEditable));const r=n=>{const s=e[n];if(s){if(typeof s!="function")throw new Error(`option ${n} must be a function ${n}(item, callback)`);this.options[n]=s}};["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(r),e.cluster?(Object.assign(this.options,{cluster:e.cluster}),this.clusterGenerator||(this.clusterGenerator=new VIe(this)),this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.clusterGenerator?(this._detachAllClusters(),this.clusters=[],this.clusterGenerator=null,this.options.cluster=void 0,this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.markDirty()}}markDirty(e){this.groupIds=[],e&&(e.refreshItems&&A.forEach(this.items,t=>{t.dirty=!0,t.displayed&&t.redraw()}),e.restackGroups&&A.forEach(this.groups,(t,r)=>{r!==Io&&(t.stackDirty=!0)}))}destroy(){this.clearPopupTimer(),this.hide(),this.setItems(null),this.setGroups(null),this.hammer&&this.hammer.destroy(),this.groupHammer&&this.groupHammer.destroy(),this.hammer=null,this.body=null,this.conversion=null}hide(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)}show(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))}setPopupTimer(e){if(this.clearPopupTimer(),e){const t=this.options.tooltip.delay||typeof this.options.tooltip.delay=="number"?this.options.tooltip.delay:500;this.popupTimer=setTimeout(function(){e.show()},t)}}clearPopupTimer(){this.popupTimer!=null&&(clearTimeout(this.popupTimer),this.popupTimer=null)}setSelection(e){e==null&&(e=[]),Array.isArray(e)||(e=[e]);const t=this.selection.filter(r=>e.indexOf(r)===-1);for(let r of t){const n=this.getItemById(r);n&&n.unselect()}this.selection=[...e];for(let r of e){const n=this.getItemById(r);n&&n.select()}}getSelection(){return this.selection.concat([])}getVisibleItems(){const e=this.body.range.getRange();let t,r;this.options.rtl?(t=this.body.util.toScreen(e.start),r=this.body.util.toScreen(e.end)):(r=this.body.util.toScreen(e.start),t=this.body.util.toScreen(e.end));const n=[];for(const s in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,s))continue;const o=this.groups[s],a=o.isVisible?o.visibleItems:[];for(const l of a)this.options.rtl?l.right<r&&l.right+l.width>t&&n.push(l.id):l.left<t&&l.left+l.width>r&&n.push(l.id)}return n}getItemsAtCurrentTime(e){let t,r;this.options.rtl?(t=this.body.util.toScreen(e),r=this.body.util.toScreen(e)):(r=this.body.util.toScreen(e),t=this.body.util.toScreen(e));const n=[];for(const s in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,s))continue;const o=this.groups[s],a=o.isVisible?o.visibleItems:[];for(const l of a)this.options.rtl?l.right<r&&l.right+l.width>t&&n.push(l.id):l.left<t&&l.left+l.width>r&&n.push(l.id)}return n}getVisibleGroups(){const e=[];for(const t in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,t))continue;this.groups[t].isVisible&&e.push(t)}return e}getItemById(e){return this.items[e]||this.clusters.find(t=>t.id===e)}_deselect(e){const t=this.selection;for(let r=0,n=t.length;r<n;r++)if(t[r]==e){t.splice(r,1);break}}redraw(){const e=this.options.margin,t=this.body.range,r=A.option.asSize,n=this.options,s=n.orientation.item;let o=!1;const a=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,a.className="vis-itemset",this.options.cluster&&this._clusterItems(),o=this._orderGroups()||o;const l=t.end-t.start,c=l!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,u=t.start!=this.lastRangeStart,h=n.stack!=this.lastStack,d=n.stackSubgroups!=this.lastStackSubgroups,f=c||u||h||d;this.lastVisibleInterval=l,this.lastRangeStart=t.start,this.lastStack=n.stack,this.lastStackSubgroups=n.stackSubgroups,this.props.lastWidth=this.props.width;const p=this._firstGroup(),m={item:e.item,axis:e.axis},g={item:e.item,axis:e.item.vertical/2};let v=0;const y=e.axis+e.item.vertical;this.groups[Io].redraw(t,g,f);const _={};let b=0;if(A.forEach(this.groups,(S,E)=>{if(E===Io)return;const x=S==p?m:g,T=!0;_[E]=S.redraw(t,x,f,T),b=_[E].length}),b>0){const S={};for(let E=0;E<b;E++)A.forEach(_,(x,T)=>{S[T]=x[E]()});A.forEach(this.groups,(E,x)=>{if(x===Io)return;o=S[x]||o,v+=E.height}),v=Math.max(v,y)}return v=Math.max(v,y),a.style.height=r(v),this.props.width=a.offsetWidth,this.props.height=v,this.dom.axis.style.top=r(s=="top"?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.initialItemSetDrawn=!0,o=this._isResized()||o,o}_firstGroup(){const e=this.options.orientation.item=="top"?0:this.groupIds.length-1,t=this.groupIds[e];return this.groups[t]||this.groups[ac]||null}_updateUngrouped(){let e=this.groups[ac],t,r;if(this.groupsData){if(e){e.dispose(),delete this.groups[ac];for(r in this.items){if(!Object.prototype.hasOwnProperty.call(this.items,r))continue;t=this.items[r],t.parent&&t.parent.remove(t);const n=this.getGroupId(t.data),s=this.groups[n];s&&s.add(t)||t.hide()}}}else if(!e){e=new RD(null,null,this),this.groups[ac]=e;for(r in this.items)Object.prototype.hasOwnProperty.call(this.items,r)&&(t=this.items[r],e.add(t));e.show()}}getLabelSet(){return this.dom.labelSet}setItems(e){this.itemsSettingTime=new Date;const t=this;let r;const n=this.itemsData;if(!e)this.itemsData=null;else if(po(e))this.itemsData=_u(e);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(n&&(A.forEach(this.itemListeners,(s,o)=>{n.off(o,s)}),n.dispose(),r=n.getIds(),this._onRemove(r)),this.itemsData){const s=this.id;A.forEach(this.itemListeners,(o,a)=>{t.itemsData.on(a,o,s)}),r=this.itemsData.getIds(),this._onAdd(r),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})}getItems(){return this.itemsData!=null?this.itemsData.rawDS:null}setGroups(e){const t=this;let r;if(this.groupsData&&(A.forEach(this.groupListeners,(n,s)=>{t.groupsData.off(s,n)}),r=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(r)),!e)this.groupsData=null;else if(po(e))this.groupsData=e;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){const n=this.groupsData.getDataSet();n.get().forEach(o=>{o.nestedGroups&&o.nestedGroups.forEach(a=>{const l=n.get(a);l.nestedInGroup=o.id,o.showNested==!1&&(l.visible=!1),n.update(l)})});const s=this.id;A.forEach(this.groupListeners,(o,a)=>{t.groupsData.on(a,o,s)}),r=this.groupsData.getIds(),this._onAddGroups(r)}this._updateUngrouped(),this._order(),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems(),this.markDirty({refreshItems:!0,restackGroups:!0})),this.body.emitter.emit("_change",{queue:!0})}getGroups(){return this.groupsData}removeItem(e){const t=this.itemsData.get(e);t&&this.options.onRemove(t,r=>{r&&this.itemsData.remove(e)})}_getType(e){return e.type||this.options.type||(e.end?"range":"box")}getGroupId(e){return this._getType(e)=="background"&&e.group==null?Io:this.groupsData?e.group:ac}_onUpdate(e){const t=this;e.forEach(r=>{const n=t.itemsData.get(r);let s=t.items[r];const o=n?t._getType(n):null,a=PD.types[o];let l;if(s&&(!a||!(s instanceof a)?(l=s.selected,t._removeItem(s),s=null):t._updateItem(s,n)),!s&&n)if(a)s=new a(n,t.conversion,t.options),s.id=r,t._addItem(s),l&&(this.selection.push(r),s.select());else throw new TypeError(`Unknown item type "${o}"`)}),this._order(),this.options.cluster&&(this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this._clusterItems()),this.body.emitter.emit("_change",{queue:!0})}_onRemove(e){let t=0;const r=this;e.forEach(n=>{const s=r.items[n];s&&(t++,r._removeItem(s))}),t&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))}_order(){A.forEach(this.groups,e=>{e.order()})}_onUpdateGroups(e){this._onAddGroups(e)}_onAddGroups(e){const t=this;e.forEach(r=>{const n=t.groupsData.get(r);let s=t.groups[r];if(s)s.setData(n);else{if(r==ac||r==Io)throw new Error(`Illegal group id. ${r} is a reserved id.`);const o=Object.create(t.options);A.extend(o,{height:null}),s=new RD(r,n,t),t.groups[r]=s;for(const a in t.items){if(!Object.prototype.hasOwnProperty.call(t.items,a))continue;const l=t.items[a];l.data.group==r&&s.add(l)}s.order(),s.show()}}),this.body.emitter.emit("_change",{queue:!0})}_onRemoveGroups(e){e.forEach(t=>{const r=this.groups[t];r&&(r.dispose(),delete this.groups[t])}),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems()),this.markDirty({restackGroups:!!this.options.cluster}),this.body.emitter.emit("_change",{queue:!0})}_orderGroups(){if(this.groupsData){let e=this.groupsData.getIds({order:this.options.groupOrder});e=this._orderNestedGroups(e);const t=!A.equalArray(e,this.groupIds);if(t){const r=this.groups;e.forEach(n=>{r[n].hide()}),e.forEach(n=>{r[n].show()}),this.groupIds=e}return t}else return!1}_orderNestedGroups(e){function t(n,s){let o=[];return s.forEach(a=>{if(o.push(a),n.groupsData.get(a).nestedGroups){const c=n.groupsData.get({filter(u){return u.nestedInGroup==a},order:n.options.groupOrder}).map(u=>u.id);o=o.concat(t(n,c))}}),o}const r=e.filter(n=>!this.groupsData.get(n).nestedInGroup);return t(this,r)}_addItem(e){this.items[e.id]=e;const t=this.getGroupId(e.data),r=this.groups[t];r?r&&r.data&&r.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1,r&&r.add(e)}_updateItem(e,t){e.setData(t);const r=this.getGroupId(e.data),n=this.groups[r];n?n&&n.data&&n.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1}_removeItem(e){e.hide(),delete this.items[e.id];const t=this.selection.indexOf(e.id);t!=-1&&this.selection.splice(t,1),e.parent&&e.parent.remove(e),this.popup!=null&&this.popup.hide()}_constructByEndArray(e){const t=[];for(let r=0;r<e.length;r++)e[r]instanceof fl&&t.push(e[r]);return t}_onTouch(e){this.touchParams.item=this.itemFromTarget(e),this.touchParams.dragLeftItem=e.target.dragLeftItem||!1,this.touchParams.dragRightItem=e.target.dragRightItem||!1,this.touchParams.itemProps=null}_getGroupIndex(e){for(let t=0;t<this.groupIds.length;t++)if(e==this.groupIds[t])return t}_onDragStart(e){if(this.touchParams.itemIsDragging)return;const t=this.touchParams.item||null,r=this;let n;if(t&&(t.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup||t.editable!=null&&!t.editable.updateTime&&!t.editable.updateGroup&&!this.options.editable.overrideItems)return;const s=this.touchParams.dragLeftItem,o=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=t,s)n={item:s,initialX:e.center.x,dragLeft:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[n];else if(o)n={item:o,initialX:e.center.x,dragRight:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[n];else if(this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey))this._onDragStartAddItem(e);else{this.groupIds.length<1&&this.redraw();const a=this._getGroupIndex(t.data.group),l=this.options.itemsAlwaysDraggable.item&&!t.selected?[t.id]:this.getSelection();this.touchParams.itemProps=l.map(c=>{const u=r.items[c],h=r._getGroupIndex(u.data.group);return{item:u,initialX:e.center.x,groupOffset:a-h,data:this._cloneItemData(u.data)}})}e.stopPropagation()}else this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey)&&this._onDragStartAddItem(e)}_onDragStartAddItem(e){const t=this.options.snap||null,r=this.dom.frame.getBoundingClientRect(),n=this.options.rtl?r.right-e.center.x+10:e.center.x-r.left-10,s=this.body.util.toTime(n),o=this.body.util.getScale(),a=this.body.util.getStep(),l=t?t(s,o,a):s,u={type:"range",start:l,end:l,content:"new item"},h=Ya();u[this.itemsData.idProp]=h;const d=this.groupFromTarget(e);d&&(u.group=d.groupId);const f=new fl(u,this.conversion,this.options);f.id=h,f.data=this._cloneItemData(u),this._addItem(f),this.touchParams.selectedItem=f;const p={item:f,initialX:e.center.x,data:f.data};this.options.rtl?p.dragLeft=!0:p.dragRight=!0,this.touchParams.itemProps=[p],e.stopPropagation()}_onDrag(e){if(this.popup!=null&&this.options.showTooltips&&!this.popup.hidden){const t=this.body.dom.centerContainer,r=t.getBoundingClientRect();this.popup.setPosition(e.center.x-r.left+t.offsetLeft,e.center.y-r.top+t.offsetTop),this.popup.show()}if(this.touchParams.itemProps){e.stopPropagation();const t=this,r=this.options.snap||null,n=this.body.dom.root.offsetLeft,s=this.options.rtl?n+this.body.domProps.right.width:n+this.body.domProps.left.width,o=this.body.util.getScale(),a=this.body.util.getStep(),l=this.touchParams.selectedItem,c=(this.options.editable.overrideItems||l.editable==null)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&l.editable!=null&&l.editable.updateGroup;let u=null;if(c&&l&&l.data.group!=null){const h=t.groupFromTarget(e);h&&(u=this._getGroupIndex(h.groupId))}this.touchParams.itemProps.forEach(h=>{const d=t.body.util.toTime(e.center.x-s),f=t.body.util.toTime(h.initialX-s);let p,m,g,v,y;this.options.rtl?p=-(d-f):p=d-f;let _=this._cloneItemData(h.item.data);if(h.item.editable!=null&&!h.item.editable.updateTime&&!h.item.editable.updateGroup&&!t.options.editable.overrideItems)return;if((this.options.editable.overrideItems||l.editable==null)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&l.editable!=null&&l.editable.updateTime){if(h.dragLeft)this.options.rtl?_.end!=null&&(g=A.convert(h.data.end,"Date"),y=new Date(g.valueOf()+p),_.end=r?r(y,o,a):y):_.start!=null&&(m=A.convert(h.data.start,"Date"),v=new Date(m.valueOf()+p),_.start=r?r(v,o,a):v);else if(h.dragRight)this.options.rtl?_.start!=null&&(m=A.convert(h.data.start,"Date"),v=new Date(m.valueOf()+p),_.start=r?r(v,o,a):v):_.end!=null&&(g=A.convert(h.data.end,"Date"),y=new Date(g.valueOf()+p),_.end=r?r(y,o,a):y);else if(_.start!=null)if(m=A.convert(h.data.start,"Date").valueOf(),v=new Date(m+p),_.end!=null){g=A.convert(h.data.end,"Date");const w=g.valueOf()-m.valueOf();_.start=r?r(v,o,a):v,_.end=new Date(_.start.valueOf()+w)}else _.start=r?r(v,o,a):v}if(c&&!h.dragLeft&&!h.dragRight&&u!=null&&_.group!=null){let w=u-h.groupOffset;w=Math.max(0,w),w=Math.min(t.groupIds.length-1,w),_.group=t.groupIds[w]}_=this._cloneItemData(_),t.options.onMoving(_,w=>{w&&h.item.setData(this._cloneItemData(w,"Date"))})}),this.body.emitter.emit("_change")}}_moveToGroup(e,t){const r=this.groups[t];if(r&&r.groupId!=e.data.group){const n=e.parent;n.remove(e),n.order(),e.data.group=r.groupId,r.add(e),r.order()}}_onDragEnd(e){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){e.stopPropagation();const t=this,r=this.touchParams.itemProps;this.touchParams.itemProps=null,r.forEach(n=>{const s=n.item.id;if(!(t.itemsData.get(s)!=null))t.options.onAdd(n.item.data,a=>{t._removeItem(n.item),a&&t.itemsData.add(a),t.body.emitter.emit("_change")});else{const a=this._cloneItemData(n.item.data);t.options.onMove(a,l=>{l?(l[this.itemsData.idProp]=s,this.itemsData.update(l)):(n.item.setData(n.data),t.body.emitter.emit("_change"))})}})}}_onGroupClick(e){const t=this.groupFromTarget(e);setTimeout(()=>{this.toggleGroupShowNested(t)},1)}toggleGroupShowNested(e,t=void 0){if(!e||!e.nestedGroups)return;const r=this.groupsData.getDataSet();t!=null?e.showNested=!!t:e.showNested=!e.showNested;let n=r.get(e.groupId);n.showNested=e.showNested;let s=e.nestedGroups,o=s;for(;o.length>0;){let c=o;o=[];for(let u=0;u<c.length;u++){let h=r.get(c[u]);h.nestedGroups&&(o=o.concat(h.nestedGroups))}o.length>0&&(s=s.concat(o))}var a;if(n.showNested){var l=r.get(n.nestedGroups);for(let c=0;c<l.length;c++){let u=l[c];u.nestedGroups&&u.nestedGroups.length>0&&(u.showNested==null||u.showNested==!0)&&l.push(...r.get(u.nestedGroups))}a=l.map(function(c){return c.visible==null&&(c.visible=!0),c.visible=!!n.showNested,c})}else a=r.get(s).map(function(c){return c.visible==null&&(c.visible=!0),c.visible=!!n.showNested,c});r.update(a.concat(n)),n.showNested?(A.removeClassName(e.dom.label,"collapsed"),A.addClassName(e.dom.label,"expanded")):(A.removeClassName(e.dom.label,"expanded"),A.addClassName(e.dom.label,"collapsed"))}toggleGroupDragClassName(e){e.dom.label.classList.toggle("vis-group-is-dragging"),e.dom.foreground.classList.toggle("vis-group-is-dragging")}_onGroupDragStart(e){this.groupTouchParams.isDragging||this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(e),this.groupTouchParams.group&&(e.stopPropagation(),this.groupTouchParams.isDragging=!0,this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))}_onGroupDrag(e){if(this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const t=this.groupsData.getDataSet(),r=this.groupFromTarget(e);if(r&&r.height!=this.groupTouchParams.group.height){const n=r.top<this.groupTouchParams.group.top,s=e.center?e.center.y:e.clientY,o=r.dom.foreground.getBoundingClientRect(),a=this.groupTouchParams.group.height;if(n){if(o.top+a<s)return}else{const l=r.height;if(o.top+l-a>s)return}}if(r&&r!=this.groupTouchParams.group){const n=t.get(r.groupId),s=t.get(this.groupTouchParams.group.groupId);s&&n&&(this.options.groupOrderSwap(s,n,t),t.update(s),t.update(n));const o=t.getIds({order:this.options.groupOrder});if(!A.equalArray(o,this.groupTouchParams.originalOrder)){const a=this.groupTouchParams.originalOrder,l=this.groupTouchParams.group.groupId,c=Math.min(a.length,o.length);let u=0,h=0,d=0;for(;u<c;){for(;u+h<c&&u+d<c&&o[u+h]==a[u+d];)u++;if(u+h>=c)break;if(o[u+h]==l)h=1;else if(a[u+d]==l)d=1;else{const f=o.indexOf(a[u+d]),p=t.get(o[u+h]),m=t.get(a[u+d]);this.options.groupOrderSwap(p,m,t),t.update(p),t.update(m);const g=o[u+h];o[u+h]=a[u+d],o[f]=g,u++}}}}}}_onGroupDragEnd(e){if(this.groupTouchParams.isDragging=!1,this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const t=this,r=t.groupTouchParams.group.groupId,n=t.groupsData.getDataSet(),s=A.extend({},n.get(r));t.options.onMoveGroup(s,o=>{if(o)o[n._idProp]=r,n.update(o);else{const a=n.getIds({order:t.options.groupOrder});if(!A.equalArray(a,t.groupTouchParams.originalOrder)){const l=t.groupTouchParams.originalOrder,c=Math.min(l.length,a.length);let u=0;for(;u<c;){for(;u<c&&a[u]==l[u];)u++;if(u>=c)break;const h=a.indexOf(l[u]),d=n.get(a[u]),f=n.get(l[u]);t.options.groupOrderSwap(d,f,n),n.update(d),n.update(f);const p=a[u];a[u]=l[u],a[h]=p,u++}}}}),t.body.emitter.emit("groupDragged",{groupId:r}),this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.group=null}}_onSelectItem(e){if(!this.options.selectable)return;const t=e.srcEvent&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey),r=e.srcEvent&&e.srcEvent.shiftKey;if(t||r){this._onMultiSelectItem(e);return}const n=this.getSelection(),s=this.itemFromTarget(e),o=s&&s.selectable?[s.id]:[];this.setSelection(o);const a=this.getSelection();(a.length>0||n.length>0)&&this.body.emitter.emit("select",{items:a,event:e})}_onMouseOver(e){const t=this.itemFromTarget(e);if(!t)return;const r=this.itemFromRelatedTarget(e);if(t===r)return;const n=t.getTitle();if(this.options.showTooltips&&n){this.popup==null&&(this.popup=new HIe(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(n);const s=this.body.dom.centerContainer,o=s.getBoundingClientRect();this.popup.setPosition(e.clientX-o.left+s.offsetLeft,e.clientY-o.top+s.offsetTop),this.setPopupTimer(this.popup)}else this.clearPopupTimer(),this.popup!=null&&this.popup.hide();this.body.emitter.emit("itemover",{item:t.id,event:e})}_onMouseOut(e){const t=this.itemFromTarget(e);if(!t)return;const r=this.itemFromRelatedTarget(e);t!==r&&(this.clearPopupTimer(),this.popup!=null&&this.popup.hide(),this.body.emitter.emit("itemout",{item:t.id,event:e}))}_onMouseMove(e){if(this.itemFromTarget(e)&&(this.popupTimer!=null&&this.setPopupTimer(this.popup),this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden)){const r=this.body.dom.centerContainer,n=r.getBoundingClientRect();this.popup.setPosition(e.clientX-n.left+r.offsetLeft,e.clientY-n.top+r.offsetTop),this.popup.show()}}_onMouseWheel(e){this.touchParams.itemIsDragging&&this._onDragEnd(e)}_onUpdateItem(e){if(!this.options.selectable||!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;const t=this;if(e){const r=t.itemsData.get(e.id);this.options.onUpdate(r,n=>{n&&t.itemsData.update(n)})}}_onDropObjectOnItem(e){const t=this.itemFromTarget(e),r=JSON.parse(e.dataTransfer.getData("text"));this.options.onDropObjectOnItem(r,t)}_onAddItem(e){if(!this.options.selectable||!this.options.editable.add)return;const t=this,r=this.options.snap||null,n=this.dom.frame.getBoundingClientRect(),s=this.options.rtl?n.right-e.center.x:e.center.x-n.left,o=this.body.util.toTime(s),a=this.body.util.getScale(),l=this.body.util.getStep();let c,u;e.type=="drop"?(u=JSON.parse(e.dataTransfer.getData("text")),u.content=u.content?u.content:"new item",u.start=u.start?u.start:r?r(o,a,l):o,u.type=u.type||"box",u[this.itemsData.idProp]=u.id||Ya(),u.type=="range"&&!u.end&&(c=this.body.util.toTime(s+this.props.width/5),u.end=r?r(c,a,l):c)):(u={start:r?r(o,a,l):o,content:"new item"},u[this.itemsData.idProp]=Ya(),this.options.type==="range"&&(c=this.body.util.toTime(s+this.props.width/5),u.end=r?r(c,a,l):c));const h=this.groupFromTarget(e);h&&(u.group=h.groupId),u=this._cloneItemData(u),this.options.onAdd(u,d=>{d&&(t.itemsData.add(d),e.type=="drop"&&t.setSelection([d.id]))})}_onMultiSelectItem(e){if(!this.options.selectable)return;const t=this.itemFromTarget(e);if(t){let r=this.options.multiselect?this.getSelection():[];if((e.srcEvent&&e.srcEvent.shiftKey||!1||this.options.sequentialSelection)&&this.options.multiselect){const o=this.itemsData.get(t.id).group;let a;this.options.multiselectPerGroup&&r.length>0&&(a=this.itemsData.get(r[0]).group),(!this.options.multiselectPerGroup||a==null||a==o)&&r.push(t.id);const l=PD._getItemRange(this.itemsData.get(r));if(!this.options.multiselectPerGroup||a==o){r=[];for(const c in this.items){if(!Object.prototype.hasOwnProperty.call(this.items,c))continue;const u=this.items[c],h=u.data.start,d=u.data.end!==void 0?u.data.end:h;h>=l.min&&d<=l.max&&(!this.options.multiselectPerGroup||a==this.itemsData.get(u.id).group)&&!(u instanceof Fl)&&r.push(u.id)}}}else{const o=r.indexOf(t.id);o==-1?r.push(t.id):r.splice(o,1)}const s=r.filter(o=>this.getItemById(o).selectable);this.setSelection(s),this.body.emitter.emit("select",{items:this.getSelection(),event:e})}}static _getItemRange(e){let t=null,r=null;return e.forEach(n=>{(r==null||n.start<r)&&(r=n.start),n.end!=null?(t==null||n.end>t)&&(t=n.end):(t==null||n.start>t)&&(t=n.start)}),{min:r,max:t}}itemFromElement(e){let t=e;for(;t;){if(Object.prototype.hasOwnProperty.call(t,"vis-item"))return t["vis-item"];t=t.parentNode}return null}itemFromTarget(e){return this.itemFromElement(e.target)}itemFromRelatedTarget(e){return this.itemFromElement(e.relatedTarget)}groupFromTarget(e){const t=e.center?e.center.y:e.clientY;let r=this.groupIds;r.length<=0&&this.groupsData&&(r=this.groupsData.getIds({order:this.options.groupOrder}));for(let n=0;n<r.length;n++){const s=r[n],o=this.groups[s],a=o.dom.foreground,l=a.getBoundingClientRect();if(t>=l.top&&t<l.top+a.offsetHeight)return o;if(this.options.orientation.item==="top"){if(n===this.groupIds.length-1&&t>l.top)return o}else if(n===0&&t<l.top+a.offset)return o}return null}static itemSetFromTarget(e){let t=e.target;for(;t;){if(Object.prototype.hasOwnProperty.call(t,"vis-itemset"))return t["vis-itemset"];t=t.parentNode}return null}_cloneItemData(e,t){const r=A.extend({},e);return t||(t=this.itemsData.type),r.start!=null&&(r.start=A.convert(r.start,t&&t.start||"Date")),r.end!=null&&(r.end=A.convert(r.end,t&&t.end||"Date")),r}_clusterItems(){if(!this.options.cluster)return;const{scale:e}=this.body.range.conversion(this.body.domProps.center.width),t=this.clusterGenerator.getClusters(this.clusters,e,this.options.cluster);if(this.clusters!=t){if(this._detachAllClusters(),t){for(let r of t)r.attach();this.clusters=t}this._updateClusters(t)}}_detachAllClusters(){if(this.options.cluster&&this.clusters&&this.clusters.length)for(let e of this.clusters)e.detach()}_updateClusters(e){if(this.clusters&&this.clusters.length){const t=new Set(e.map(s=>s.id)),r=this.clusters.filter(s=>!t.has(s.id));let n=!1;for(let s of r){const o=this.selection.indexOf(s.id);o!==-1&&(s.unselect(),this.selection.splice(o,1),n=!0)}if(n){const s=this.getSelection();this.body.emitter.emit("select",{items:s,event})}}this.clusters=e||[]}};vg.types={background:Fl,box:BIe,range:fl,point:zIe};vg.prototype._onAdd=vg.prototype._onUpdate;let Ih=!1,rH,yg="background: #FFeeee; color: #dd0000",nie=class Wt{constructor(){}static validate(e,t,r){Ih=!1,rH=t;let n=t;return r!==void 0&&(n=t[r]),Wt.parse(e,n,[]),Ih}static parse(e,t,r){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&Wt.check(n,e,t,r)}static check(e,t,r,n){if(r[e]===void 0&&r.__any__===void 0){Wt.getSuggestion(e,r,n);return}let s=e,o=!0;r[e]===void 0&&r.__any__!==void 0&&(s="__any__",o=Wt.getType(t[e])==="object");let a=r[s];o&&a.__type__!==void 0&&(a=a.__type__),Wt.checkFields(e,t,r,s,a,n)}static checkFields(e,t,r,n,s,o){let a=function(u){console.log("%c"+u+Wt.printLocation(o,e),yg)},l=Wt.getType(t[e]),c=s[l];c!==void 0?Wt.getType(c)==="array"&&c.indexOf(t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+Wt.print(c)+' not "'+t[e]+'". '),Ih=!0):l==="object"&&n!=="__any__"&&(o=A.copyAndExtendArray(o,e),Wt.parse(t[e],r[n],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+Wt.print(Object.keys(s))+". Received ["+l+'] "'+t[e]+'"'),Ih=!0)}static getType(e){var t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Array.isArray(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){let n=Wt.findInOptions(e,t,r,!1),s=Wt.findInOptions(e,rH,[],!0),o=8,a=4,l;n.indexMatch!==void 0?l=" in "+Wt.printLocation(n.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+`"?

`:s.distance<=a&&n.distance>s.distance?l=" in "+Wt.printLocation(n.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+Wt.printLocation(s.path,s.closestMatch,""):n.distance<=o?l='. Did you mean "'+n.closestMatch+'"?'+Wt.printLocation(n.path,e):l=". Did you mean one of these: "+Wt.print(Object.keys(t))+Wt.printLocation(r,e),console.log('%cUnknown option detected: "'+e+'"'+l,yg),Ih=!0}static findInOptions(e,t,r,n=!1){let s=1e9,o="",a=[],l=e.toLowerCase(),c;for(let u in t){if(!Object.prototype.hasOwnProperty.call(t,u))continue;let h;if(t[u].__type__!==void 0&&n===!0){let d=Wt.findInOptions(e,t[u],A.copyAndExtendArray(r,u));s>d.distance&&(o=d.closestMatch,a=d.path,s=d.distance,c=d.indexMatch)}else u.toLowerCase().indexOf(l)!==-1&&(c=u),h=Wt.levenshteinDistance(e,u),s>h&&(o=u,a=A.copyArray(r),s=h)}return{closestMatch:o,path:a,distance:s,indexMatch:c}}static printLocation(e,t,r=`Problem value found at: 
`){let n=`

`+r+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)n+="  ";n+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)n+="  ";n+=t+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)n+="  ";n+=`}
`}return n+`

`}static print(e){return JSON.stringify(e).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;var r=[],n;for(n=0;n<=t.length;n++)r[n]=[n];var s;for(s=0;s<=e.length;s++)r[0][s]=s;for(n=1;n<=t.length;n++)for(s=1;s<=e.length;s++)t.charAt(n-1)==e.charAt(s-1)?r[n][s]=r[n-1][s-1]:r[n][s]=Math.min(r[n-1][s-1]+1,Math.min(r[n][s-1]+1,r[n-1][s]+1));return r[t.length][e.length]}},Te="string",Se="boolean",xt="number",nH="array",lc="date",Yt="object",XIe="dom",cc="moment",Jx="any",KIe={configure:{enabled:{boolean:Se},filter:{boolean:Se,function:"function"},container:{dom:XIe},__type__:{object:Yt,boolean:Se,function:"function"}},align:{string:Te},alignCurrentTime:{string:Te,undefined:"undefined"},rtl:{boolean:Se,undefined:"undefined"},rollingMode:{follow:{boolean:Se},offset:{number:xt,undefined:"undefined"},__type__:{object:Yt}},onTimeout:{timeoutMs:{number:xt},callback:{function:"function"},__type__:{object:Yt}},verticalScroll:{boolean:Se,undefined:"undefined"},horizontalScroll:{boolean:Se,undefined:"undefined"},horizontalScrollKey:{string:Te,undefined:"undefined"},horizontalScrollInvert:{boolean:Se,undefined:"undefined"},autoResize:{boolean:Se},throttleRedraw:{number:xt},clickToUse:{boolean:Se},dataAttributes:{string:Te,array:nH},editable:{add:{boolean:Se,undefined:"undefined"},remove:{boolean:Se,undefined:"undefined"},updateGroup:{boolean:Se,undefined:"undefined"},updateTime:{boolean:Se,undefined:"undefined"},overrideItems:{boolean:Se,undefined:"undefined"},__type__:{boolean:Se,object:Yt}},end:{number:xt,date:lc,string:Te,moment:cc},format:{minorLabels:{millisecond:{string:Te,undefined:"undefined"},second:{string:Te,undefined:"undefined"},minute:{string:Te,undefined:"undefined"},hour:{string:Te,undefined:"undefined"},weekday:{string:Te,undefined:"undefined"},day:{string:Te,undefined:"undefined"},week:{string:Te,undefined:"undefined"},month:{string:Te,undefined:"undefined"},year:{string:Te,undefined:"undefined"},__type__:{object:Yt,function:"function"}},majorLabels:{millisecond:{string:Te,undefined:"undefined"},second:{string:Te,undefined:"undefined"},minute:{string:Te,undefined:"undefined"},hour:{string:Te,undefined:"undefined"},weekday:{string:Te,undefined:"undefined"},day:{string:Te,undefined:"undefined"},week:{string:Te,undefined:"undefined"},month:{string:Te,undefined:"undefined"},year:{string:Te,undefined:"undefined"},__type__:{object:Yt,function:"function"}},__type__:{object:Yt}},moment:{function:"function"},groupHeightMode:{string:Te},groupOrder:{string:Te,function:"function"},groupEditable:{add:{boolean:Se,undefined:"undefined"},remove:{boolean:Se,undefined:"undefined"},order:{boolean:Se,undefined:"undefined"},__type__:{boolean:Se,object:Yt}},groupOrderSwap:{function:"function"},height:{string:Te,number:xt},hiddenDates:{start:{date:lc,number:xt,string:Te,moment:cc},end:{date:lc,number:xt,string:Te,moment:cc},repeat:{string:Te},__type__:{object:Yt,array:nH}},itemsAlwaysDraggable:{item:{boolean:Se,undefined:"undefined"},range:{boolean:Se,undefined:"undefined"},__type__:{boolean:Se,object:Yt}},limitSize:{boolean:Se},locale:{string:Te},locales:{__any__:{any:Jx},__type__:{object:Yt}},longSelectPressTime:{number:xt},margin:{axis:{number:xt},item:{horizontal:{number:xt,undefined:"undefined"},vertical:{number:xt,undefined:"undefined"},__type__:{object:Yt,number:xt}},__type__:{object:Yt,number:xt}},max:{date:lc,number:xt,string:Te,moment:cc},maxHeight:{number:xt,string:Te},maxMinorChars:{number:xt},min:{date:lc,number:xt,string:Te,moment:cc},minHeight:{number:xt,string:Te},moveable:{boolean:Se},multiselect:{boolean:Se},multiselectPerGroup:{boolean:Se},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:Te,undefined:"undefined"},item:{string:Te,undefined:"undefined"},__type__:{string:Te,object:Yt}},selectable:{boolean:Se},sequentialSelection:{boolean:Se},showCurrentTime:{boolean:Se},showMajorLabels:{boolean:Se},showMinorLabels:{boolean:Se},showWeekScale:{boolean:Se},stack:{boolean:Se},stackSubgroups:{boolean:Se},cluster:{maxItems:{number:xt,undefined:"undefined"},titleTemplate:{any:Jx},clusterCriteria:{function:"function",undefined:"undefined"},showStipes:{boolean:Se,undefined:"undefined"},fitOnDoubleClick:{boolean:Se,undefined:"undefined"},__type__:{boolean:Se,object:Yt}},snap:{function:"function",null:"null"},start:{date:lc,number:xt,string:Te,moment:cc},template:{function:"function"},loadingScreenTemplate:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:Te,function:"function"},showTooltips:{boolean:Se},tooltip:{followMouse:{boolean:Se},overflowMethod:{string:["cap","flip","none"]},delay:{number:xt},template:{function:"function"},__type__:{object:Yt}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:Se,object:Yt}},timeAxis:{scale:{string:Te,undefined:"undefined"},step:{number:xt,undefined:"undefined"},__type__:{object:Yt}},type:{string:Te},width:{string:Te,number:xt},preferZoom:{boolean:Se},zoomable:{boolean:Se},zoomKey:{string:["ctrlKey","altKey","shiftKey","metaKey",""]},zoomFriction:{number:xt},zoomMax:{number:xt},zoomMin:{number:xt},xss:{disabled:{boolean:Se},filterOptions:{__any__:{any:Jx},__type__:{object:Yt}},__type__:{object:Yt}},__type__:{object:Yt}},ZIe={global:{align:["center","left","right"],alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupHeightMode:["auto","fixed","fitItems"],groupsDraggable:!1,height:"",locale:"",longSelectPressTime:251,margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},preferZoom:!1,selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,cluster:!1,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:[500,0,99999,100]},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","shiftKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],xss:{disabled:!1}}};var QIe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let JIe=class{constructor(e=1){this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return QIe[e]}setColor(e,t=!0){if(e==="none")return;let r;var n=this._isColorString(e);if(n!==void 0&&(e=n),A.isString(e)===!0){if(A.isValidRGB(e)===!0){let s=e.substr(4).substr(0,e.length-5).split(",");r={r:s[0],g:s[1],b:s[2],a:1}}else if(A.isValidRGBA(e)===!0){let s=e.substr(5).substr(0,e.length-6).split(",");r={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(A.isValidHex(e)===!0){let s=A.hexToRGB(e);r={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){let s=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:s}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(e=!0){e===!0&&(this.previousColor=A.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e,t=!0){t===!0&&(this.initialColor=A.extend({},e)),this.color=e;let r=A.RGBToHSV(e.r,e.g,e.b),n=2*Math.PI,s=this.r*r.s,o=this.centerCoordinates.x+s*Math.sin(n*r.h),a=this.centerCoordinates.y+s*Math.cos(n*r.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){let t=A.RGBToHSV(this.color.r,this.color.g,this.color.b);t.v=e/100;let r=A.HSVToRGB(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(e=this.color){let t=A.RGBToHSV(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let n=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,n,s),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),r.fill(),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){let t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{let t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var e=this;this.opacityRange.onchange=function(){e._setOpacity(this.value)},this.opacityRange.oninput=function(){e._setOpacity(this.value)},this.brightnessRange.onchange=function(){e._setBrightness(this.value)},this.brightnessRange.oninput=function(){e._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new Ui(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),Hte(this.hammer,e=>{this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){let e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let n,s,o,a;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;let l=2*Math.PI/360,c=1/360,u=1/this.r,h;for(o=0;o<360;o++)for(a=0;a<this.r;a++)n=this.centerCoordinates.x+a*Math.sin(l*o),s=this.centerCoordinates.y+a*Math.cos(l*o),h=A.HSVToRGB(o*c,a*u,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(n-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){let t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,n=e.center.y-t.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=r-o,l=n-s,c=Math.atan2(a,l),u=.98*Math.min(Math.sqrt(a*a+l*l),o),h=Math.cos(c)*u+s,d=Math.sin(c)*u+o;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=d-.5*this.colorPickerSelector.clientWidth+"px";let f=c/(2*Math.PI);f=f<0?f+1:f;let p=u/this.r,m=A.RGBToHSV(this.color.r,this.color.g,this.color.b);m.h=f,m.s=p;let g=A.HSVToRGB(m.h,m.s,m.v);g.a=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},sie=class{constructor(e,t,r,n=1){this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},A.extend(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new JIe(n),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(Array.isArray(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),e.filter!==void 0&&(this.options.filter=e.filter),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);this.options.filter===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];let e=this.options.filter,t=0,r=!1;for(let n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(n,[]),r=r||this._handleObject(this.configureOptions[n],[n],!0)):(e===!0||e.indexOf(n)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e,...t){if(this.allowCreation===!0){let r=document.createElement("div");return r.className="vis-configuration vis-config-item vis-config-s"+e.length,t.forEach(n=>{r.appendChild(n)}),this.domElements.push(r),this.domElements.length}return 0}_makeHeader(e){let t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerHTML=A.xss(e),this._makeItem([],t)}_makeLabel(e,t,r=!1){let n=document.createElement("div");return n.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0?n.innerHTML=A.xss("<i><b>"+e+":</b></i>"):n.innerHTML=A.xss(e+":"),n}_makeDropdown(e,t,r){let n=document.createElement("select");n.className="vis-configuration vis-config-select";let s=0;t!==void 0&&e.indexOf(t)!==-1&&(s=e.indexOf(t));for(let l=0;l<e.length;l++){let c=document.createElement("option");c.value=e[l],l===s&&(c.selected="selected"),c.innerHTML=e[l],n.appendChild(c)}let o=this;n.onchange=function(){o._update(this.value,r)};let a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,n)}_makeRange(e,t,r){let n=e[0],s=e[1],o=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=o}catch{}l.step=a;let c="",u=0;if(t!==void 0){let m=1.2;t<0&&t*m<s?(l.min=Math.ceil(t*m),u=l.min,c="range increased"):t/m<s&&(l.min=Math.ceil(t/m),u=l.min,c="range increased"),t*m>o&&o!==1&&(l.max=Math.ceil(t*m),u=l.max,c="range increased"),l.value=t}else l.value=n;let h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=Number(l.value);var d=this;l.onchange=function(){h.value=this.value,d._update(Number(this.value),r)},l.oninput=function(){h.value=this.value};let f=this._makeLabel(r[r.length-1],r),p=this._makeItem(r,f,l,h);c!==""&&this.popupHistory[p]!==u&&(this.popupHistory[p]=u,this._setupPopup(c,p))}_makeButton(){if(this.options.showButton===!0){let e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){let r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerHTML=A.xss(e),r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){let t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=e,t!==void 0&&(n.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));let s=this;n.onchange=function(){s._update(this.checked,r)};let o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,n)}_makeTextInput(e,t,r){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=t,t!==e&&this.changedOptions.push({path:r,value:t});let s=this;n.onchange=function(){s._update(this.value,r)};let o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,n)}_makeColorField(e,t,r){let n=e[1],s=document.createElement("div");t=t===void 0?n:t,t!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?n:t,s.onclick=()=>{this._showColorPicker(t,s,r)};let o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,s)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(n=>{let s="rgba("+n.r+","+n.g+","+n.b+","+n.a+")";t.style.backgroundColor=s,this._update(s,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e,t=[],r=!1){let n=!1,s=this.options.filter,o=!1;for(let a in e){if(!Object.prototype.hasOwnProperty.call(e,a))continue;n=!0;let l=e[a],c=A.copyAndExtendArray(t,a);if(typeof s=="function"&&(n=s(a,t),n===!1&&!Array.isArray(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,n=this._handleObject(l,c,!0),this.allowCreation=r===!1)),n!==!1){o=!0;let u=this._getValue(c);if(Array.isArray(l))this._handleArray(l,u,c);else if(typeof l=="string")this._makeTextInput(l,u,c);else if(typeof l=="boolean")this._makeCheckbox(l,u,c);else if(l instanceof Object){let h=!0;if(t.indexOf("physics")!==-1&&this.moduleOptions.physics.solver!==a&&(h=!1),h===!0)if(l.enabled!==void 0){let d=A.copyAndExtendArray(c,"enabled"),f=this._getValue(d);if(f===!0){let p=this._makeLabel(a,c,!0);this._makeItem(c,p),o=this._handleObject(l,c)||o}else this._makeCheckbox(l,f,c)}else{let d=this._makeLabel(a,c,!0);this._makeItem(c,d),o=this._handleObject(l,c)||o}}else console.error("dont know how to handle",l,a,c)}}return o}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){let r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t,r={}){let n=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<t.length;s++)t[s]!=="global"&&(n[t[s]]===void 0&&(n[t[s]]={}),s!==t.length-1?n=n[t[s]]:n[t[s]]=e);return r}_printOptions(){let e=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+JSON.stringify(e,null,2)+"</pre>"}getOptions(){let e={};for(var t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}};class HM extends Kc{constructor(e,t,r,n){if(super(),this.initTime=new Date,this.itemsDone=!1,!(this instanceof HM))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(r)||po(r))&&r instanceof Object){const l=n;n=r,r=l}n&&n.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');const s=this;if(this.defaultOptions={autoResize:!0,longSelectPressTime:251,orientation:{axis:"bottom",item:"bottom"},moment:pr},this.options=A.deepExtend({},this.defaultOptions),n&&A.setupXSSProtection(n.xss),this._create(e),!n||n&&typeof n.rtl>"u"){this.dom.root.style.visibility="hidden";let l,c=this.dom.root;for(;!l&&c;)l=window.getComputedStyle(c,null).direction,c=c.parentElement;this.options.rtl=l&&l.toLowerCase()=="rtl"}else this.options.rtl=n.rtl;n&&(n.rollingMode&&(this.options.rollingMode=n.rollingMode),n.onInitialDrawComplete&&(this.options.onInitialDrawComplete=n.onInitialDrawComplete),n.onTimeout&&(this.options.onTimeout=n.onTimeout),n.loadingScreenTemplate&&(this.options.loadingScreenTemplate=n.loadingScreenTemplate));const o=document.createElement("div");if(this.options.loadingScreenTemplate){const l=this.options.loadingScreenTemplate.bind(this),c=l(this.dom.loadingScreen);c instanceof Object&&!(c instanceof Element)?l(o):c instanceof Element?(o.innerHTML="",o.appendChild(c)):c!=null&&(o.innerHTML=A.xss(c))}this.dom.loadingScreen.appendChild(o),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale(){return s.timeAxis.step.scale},getStep(){return s.timeAxis.step.step},toScreen:s._toScreen.bind(s),toGlobalScreen:s._toGlobalScreen.bind(s),toTime:s._toTime.bind(s),toGlobalTime:s._toGlobalTime.bind(s)}},this.range=new Bte(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new gg(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new eie(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new vg(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null;function a(l,c){s.hasListeners(l)&&s.emit(l,s.getEventProperties(c))}this.dom.root.onclick=l=>a("click",l),this.dom.root.ondblclick=l=>a("doubleClick",l),this.dom.root.oncontextmenu=l=>a("contextmenu",l),this.dom.root.onmouseover=l=>a("mouseOver",l),window.PointerEvent?(this.dom.root.onpointerdown=l=>a("mouseDown",l),this.dom.root.onpointermove=l=>a("mouseMove",l),this.dom.root.onpointerup=l=>a("mouseUp",l)):(this.dom.root.onmousemove=l=>a("mouseMove",l),this.dom.root.onmousedown=l=>a("mouseDown",l),this.dom.root.onmouseup=l=>a("mouseUp",l)),this.initialFitDone=!1,this.on("changed",()=>{if(s.itemsData!=null){if(!s.initialFitDone&&!s.options.rollingMode)if(s.initialFitDone=!0,s.options.start!=null||s.options.end!=null){if(s.options.start==null||s.options.end==null)var l=s.getItemRange();const c=s.options.start!=null?s.options.start:l.min,u=s.options.end!=null?s.options.end:l.max;s.setWindow(c,u,{animation:!1})}else s.fit({animation:!1});!s.initialDrawDone&&(s.initialRangeChangeDone||!s.options.start&&!s.options.end||s.options.rollingMode)&&(s.initialDrawDone=!0,s.itemSet.initialDrawDone=!0,s.dom.root.style.visibility="visible",s.dom.loadingScreen.parentNode.removeChild(s.dom.loadingScreen),s.options.onInitialDrawComplete&&setTimeout(()=>s.options.onInitialDrawComplete(),0))}}),this.on("destroyTimeline",()=>{s.destroy()}),n&&this.setOptions(n),this.body.emitter.on("fit",l=>{this._onFit(l),this.redraw()}),r&&this.setGroups(r),t&&this.setItems(t),this._redraw()}_createConfigurator(){return new sie(this,this.dom.container,ZIe)}redraw(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()}setOptions(e){if(nie.validate(e,KIe)===!0&&console.log("%cErrors have been found in the supplied options object.",yg),Kc.prototype.setOptions.call(this,e),"type"in e&&e.type!==this.options.type){this.options.type=e.type;const r=this.itemsData;if(r){const n=this.getSelection();this.setItems(null),this.setItems(r.rawDS),this.setSelection(n)}}}setItems(e){this.itemsDone=!1;let t;e?po(e)?t=_u(e):t=_u(new bu(e)):t=null,this.itemsData&&this.itemsData.dispose(),this.itemsData=t,this.itemSet&&this.itemSet.setItems(t!=null?t.rawDS:null)}setGroups(e){let t;const r=n=>n.visible!==!1;e?(Array.isArray(e)&&(e=new bu(e)),t=new NM(e,{filter:r})):t=null,this.groupsData!=null&&typeof this.groupsData.setData=="function"&&this.groupsData.setData(null),this.groupsData=t,this.itemSet.setGroups(t)}setData(e){e&&e.groups&&this.setGroups(e.groups),e&&e.items&&this.setItems(e.items)}setSelection(e,t){this.itemSet&&this.itemSet.setSelection(e),t&&t.focus&&this.focus(e,t)}getSelection(){return this.itemSet&&this.itemSet.getSelection()||[]}focus(e,t){if(!this.itemsData||e==null)return;const r=Array.isArray(e)?e:[e],n=this.itemsData.get(r);let s=null,o=null;if(n.forEach(a=>{const l=a.start.valueOf(),c="end"in a?a.end.valueOf():a.start.valueOf();(s===null||l<s)&&(s=l),(o===null||c>o)&&(o=c)}),s!==null&&o!==null){const a=this,l=this.itemSet.items[r[0]];let c=this._getScrollTop()*-1,u=null;const h=(y,_,b)=>{const w=sH(a,l);if(w===!1||(u||(u=w),u.itemTop==w.itemTop&&!u.shouldScroll))return;u.itemTop!=w.itemTop&&w.shouldScroll&&(u=w,c=a._getScrollTop()*-1);const S=c,E=u.scrollOffset,x=b?E:S+(E-S)*y;a._setScrollTop(-x),_||a._redraw()},d=()=>{const y=sH(a,l);y.shouldScroll&&y.itemTop!=u.itemTop&&(a._setScrollTop(-y.scrollOffset),a._redraw())},f=()=>{d(),setTimeout(d,100)},p=t&&t.zoom!==void 0?t.zoom:!0,m=(s+o)/2,g=p?(o-s)*1.1:Math.max(this.range.end-this.range.start,(o-s)*1.1),v=t&&t.animation!==void 0?t.animation:!0;v||(u={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.stopRolling(),this.range.setRange(m-g/2,m+g/2,{animation:v},f,h)}}fit(e,t){const r=e&&e.animation!==void 0?e.animation:!0;let n;this.itemsData.length===1&&this.itemsData.get()[0].end===void 0?(n=this.getDataRange(),this.moveTo(n.min.valueOf(),{animation:r},t)):(n=this.getItemRange(),this.range.setRange(n.min,n.max,{animation:r},t))}getItemRange(){const e=this.getDataRange();let t=e.min!==null?e.min.valueOf():null,r=e.max!==null?e.max.valueOf():null,n=null,s=null;if(t!=null&&r!=null){let o=r-t;o<=0&&(o=10);const a=o/this.props.center.width,l={};let c=0;if(A.forEach(this.itemSet.items,(h,d)=>{h.groupShowing&&(l[d]=h.redraw(!0),c=l[d].length)}),c>0)for(let h=0;h<c;h++)A.forEach(l,d=>{d[h]()});if(A.forEach(this.itemSet.items,h=>{const d=eS(h),f=tS(h);let p,m;this.options.rtl?(p=d-(h.getWidthRight()+10)*a,m=f+(h.getWidthLeft()+10)*a):(p=d-(h.getWidthLeft()+10)*a,m=f+(h.getWidthRight()+10)*a),p<t&&(t=p,n=h),m>r&&(r=m,s=h)}),n&&s){const h=n.getWidthLeft()+10,d=s.getWidthRight()+10,f=this.props.center.width-h-d;f>0&&(this.options.rtl?(t=eS(n)-d*o/f,r=tS(s)+h*o/f):(t=eS(n)-h*o/f,r=tS(s)+d*o/f))}}return{min:t!=null?new Date(t):null,max:r!=null?new Date(r):null}}getDataRange(){let e=null,t=null;return this.itemsData&&this.itemsData.forEach(r=>{const n=A.convert(r.start,"Date").valueOf(),s=A.convert(r.end!=null?r.end:r.start,"Date").valueOf();(e===null||n<e)&&(e=n),(t===null||s>t)&&(t=s)}),{min:e!=null?new Date(e):null,max:t!=null?new Date(t):null}}getEventProperties(e){const t=e.center?e.center.x:e.clientX,r=e.center?e.center.y:e.clientY,n=this.dom.centerContainer.getBoundingClientRect(),s=this.options.rtl?n.right-t:t-n.left,o=r-n.top,a=this.itemSet.itemFromTarget(e),l=this.itemSet.groupFromTarget(e),c=BM.customTimeFromTarget(e),u=this.itemSet.options.snap||null,h=this.body.util.getScale(),d=this.body.util.getStep(),f=this._toTime(s),p=u?u(f,h,d):f,m=A.getTarget(e);let g=null;return a!=null?g="item":c!=null?g="custom-time":A.hasParent(m,this.timeAxis.dom.foreground)||this.timeAxis2&&A.hasParent(m,this.timeAxis2.dom.foreground)?g="axis":A.hasParent(m,this.itemSet.dom.labelSet)?g="group-label":A.hasParent(m,this.currentTime.bar)?g="current-time":A.hasParent(m,this.dom.center)&&(g="background"),{event:e,item:a?a.id:null,isCluster:a?!!a.isCluster:!1,items:a?a.items||[]:null,group:l?l.groupId:null,customTime:c?c.options.id:null,what:g,pageX:e.srcEvent?e.srcEvent.pageX:e.pageX,pageY:e.srcEvent?e.srcEvent.pageY:e.pageY,x:s,y:o,time:f,snappedTime:p}}toggleRollingMode(){this.range.rolling?this.range.stopRolling():(this.options.rollingMode==null&&this.setOptions(this.options),this.range.startRolling())}_redraw(){Kc.prototype._redraw.call(this)}_onFit(e){const{start:t,end:r,animation:n}=e;r?this.range.setRange(t,r,{animation:n}):this.moveTo(t.valueOf(),{animation:n})}}function eS(i){return A.convert(i.data.start,"Date").valueOf()}function tS(i){const e=i.data.end!=null?i.data.end:i.data.start;return A.convert(e,"Date").valueOf()}function sH(i,e){if(!e.parent)return!1;const t=i.options.rtl?i.props.rightContainer.height:i.props.leftContainer.height,r=i.props.center.height,n=e.parent;let s=n.top,o=!0;const a=i.timeAxis.options.orientation.axis,l=()=>a=="bottom"?n.height-e.top-e.height:e.top,c=i._getScrollTop()*-1,u=s+l(),h=e.height;return u<c?s+t<=s+l()+h&&(s+=l()-i.itemSet.options.margin.item.vertical):u+h>c+t?s+=l()+h-t+i.itemSet.options.margin.item.vertical:o=!1,s=Math.min(s,r-t),{shouldScroll:o,scrollOffset:s,itemTop:u}}function No(i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e].redundant=i[e].used,i[e].used=[])}function Vr(i){for(var e in i){if(!Object.prototype.hasOwnProperty.call(i,e))continue;const r=i[e];for(var t=0;t<r.redundant.length;t++)r.redundant[t].parentNode.removeChild(r.redundant[t]);r.redundant=[]}}function eke(i){No(i),Vr(i),No(i)}function Pn(i,e,t){var r;return Object.prototype.hasOwnProperty.call(e,i)?e[i].redundant.length>0?(r=e[i].redundant[0],e[i].redundant.shift()):(r=document.createElementNS("http://www.w3.org/2000/svg",i),t.appendChild(r)):(r=document.createElementNS("http://www.w3.org/2000/svg",i),e[i]={used:[],redundant:[]},t.appendChild(r)),e[i].used.push(r),r}function iS(i,e,t,r){var n;return Object.prototype.hasOwnProperty.call(e,i)?e[i].redundant.length>0?(n=e[i].redundant[0],e[i].redundant.shift()):(n=document.createElement(i),t.appendChild(n)):(n=document.createElement(i),e[i]={used:[],redundant:[]},t.appendChild(n)),e[i].used.push(n),n}function xu(i,e,t,r,n,s){var o;if(t.style=="circle"?(o=Pn("circle",r,n),o.setAttributeNS(null,"cx",i),o.setAttributeNS(null,"cy",e),o.setAttributeNS(null,"r",.5*t.size)):(o=Pn("rect",r,n),o.setAttributeNS(null,"x",i-.5*t.size),o.setAttributeNS(null,"y",e-.5*t.size),o.setAttributeNS(null,"width",t.size),o.setAttributeNS(null,"height",t.size)),t.styles!==void 0&&o.setAttributeNS(null,"style",t.styles),o.setAttributeNS(null,"class",t.className+" vis-point"),s){var a=Pn("text",r,n);s.xOffset&&(i=i+s.xOffset),s.yOffset&&(e=e+s.yOffset),s.content&&(a.textContent=s.content),s.className&&a.setAttributeNS(null,"class",s.className+" vis-label"),a.setAttributeNS(null,"x",i),a.setAttributeNS(null,"y",e)}return o}function DD(i,e,t,r,n,s,o,a){if(r!=0){r<0&&(r*=-1,e-=r);var l=Pn("rect",s,o);l.setAttributeNS(null,"x",i-.5*t),l.setAttributeNS(null,"y",e),l.setAttributeNS(null,"width",t),l.setAttributeNS(null,"height",r),l.setAttributeNS(null,"class",n),a&&l.setAttributeNS(null,"style",a)}}function tke(){try{return navigator?navigator.languages&&navigator.languages.length?navigator.languages:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en":"en"}catch{return"en"}}let ike=class{constructor(e,t,r,n,s,o,a=!1,l=!1){if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=s,this.majorCharHeight=o,this._start=e,this._end=t,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=a,this.autoScaleStart=r,this.autoScaleEnd=n,this.formattingFunction=l,r||n){const c=this,u=h=>{const d=h-h%(c.magnitudefactor*c.minorSteps[c.minorStepIdx]);return h%(c.magnitudefactor*c.minorSteps[c.minorStepIdx])>.5*(c.magnitudefactor*c.minorSteps[c.minorStepIdx])?d+c.magnitudefactor*c.minorSteps[c.minorStepIdx]:d};r&&(this._start-=this.magnitudefactor*2*this.minorSteps[this.minorStepIdx],this._start=u(this._start)),n&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=u(this._end)),this.determineScale()}}setCharHeight(e){this.majorCharHeight=e}setHeight(e){this.containerHeight=e}determineScale(){const e=this._end-this._start;this.scale=this.containerHeight/e;const t=this.majorCharHeight/this.scale,r=e>0?Math.round(Math.log(e)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,r);let n=0;r<0&&(n=r);let s=!1;for(let o=n;Math.abs(o)<=Math.abs(r);o++){this.magnitudefactor=Math.pow(10,o);for(let a=0;a<this.minorSteps.length;a++)if(this.magnitudefactor*this.minorSteps[a]>=t){s=!0,this.minorStepIdx=a;break}if(s===!0)break}}is_major(e){return e%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])===0}getStep(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]}getFirstMajor(){const e=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(e-this._start%e)%e)}formatValue(e){let t=e.toPrecision(5);return typeof this.formattingFunction=="function"&&(t=this.formattingFunction(e)),typeof t=="number"?`${t}`:typeof t=="string"?t:e.toPrecision(5)}getLines(){const e=[],t=this.getStep(),r=(t-this._start%t)%t;for(let n=this._start+r;this._end-n>1e-5;n+=t)n!=this._start&&e.push({major:this.is_major(n),y:this.convertValue(n),val:this.formatValue(n)});return e}followScale(e){const t=this.minorStepIdx,r=this._start,n=this._end,s=this,o=()=>{s.magnitudefactor*=2},a=()=>{s.magnitudefactor/=2};e.minorStepIdx<=1&&this.minorStepIdx<=1||e.minorStepIdx>1&&this.minorStepIdx>1||(e.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,t==2||o(),o()):(this.minorStepIdx=2,t==1||a(),a()));const l=e.convertValue(0),c=e.getStep()*e.scale;let u=!1,h=0;for(;!u&&h++<5;){this.scale=c/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);const d=this.containerHeight/this.scale;this._start=r,this._end=this._start+d;const f=this._end*this.scale,p=this.magnitudefactor*this.majorSteps[this.minorStepIdx],m=this.getFirstMajor()-e.getFirstMajor();if(this.zeroAlign){const g=l-f;this._end+=g/this.scale,this._start=this._end-d}else this.autoScaleStart?(this._start-=m/this.scale,this._end=this._start+d):(this._start+=p-m/this.scale,this._end=this._start+d);if(!this.autoScaleEnd&&this._end>n+1e-5){a(),u=!1;continue}if(!this.autoScaleStart&&this._start<r-1e-5)if(this.zeroAlign&&r>=0)console.warn("Can't adhere to given 'min' range, due to zeroalign");else{a(),u=!1;continue}if(this.autoScaleStart&&this.autoScaleEnd&&d<n-r){o(),u=!1;continue}u=!0}}convertValue(e){return this.containerHeight-(e-this._start)*this.scale}screenToValue(e){return(this.containerHeight-e)/this.scale+this._start}},oH=class extends ua{constructor(e,t,r,n){super(),this.id=Ya(),this.body=e,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format(o){return`${parseFloat(o.toPrecision(3))}`},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format(o){return`${parseFloat(o.toPrecision(3))}`},title:{text:void 0,style:void 0}}},this.linegraphOptions=n,this.linegraphSVG=r,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=A.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(t),this.width=Number(`${this.options.width}`.replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.scale==null&&this._redrawLabels(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};const s=this;this.body.emitter.on("verticalDrag",()=>{s.dom.lineContainer.style.top=`${s.body.domProps.scrollTop}px`})}addGroup(e,t){Object.prototype.hasOwnProperty.call(this.groups,e)||(this.groups[e]=t),this.amountOfGroups+=1}updateGroup(e,t){Object.prototype.hasOwnProperty.call(this.groups,e)||(this.amountOfGroups+=1),this.groups[e]=t}removeGroup(e){Object.prototype.hasOwnProperty.call(this.groups,e)&&(delete this.groups[e],this.amountOfGroups-=1)}setOptions(e){if(e){let t=!1;this.options.orientation!=e.orientation&&e.orientation!==void 0&&(t=!0);const r=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];A.selectiveDeepExtend(r,this.options,e),this.minWidth=Number(`${this.options.width}`.replace("px","")),t===!0&&this.dom.frame&&(this.hide(),this.show())}}_create(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.dom.lineContainer.style.visibility="visible",this.dom.lineContainer.style.display="block",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)}_redrawGroupIcons(){No(this.svgElements);let e;const t=this.options.iconWidth,r=15,n=4;let s=n+.5*r;this.options.orientation==="left"?e=n:e=this.width-t-n;const o=Object.keys(this.groups);o.sort((a,l)=>a<l?-1:1);for(const a of o)this.groups[a].visible===!0&&(this.linegraphOptions.visibility[a]===void 0||this.linegraphOptions.visibility[a]===!0)&&(this.groups[a].getLegend(t,r,this.framework,e,s),s+=r+n);Vr(this.svgElements),this.iconsRemoved=!1}_cleanupIcons(){this.iconsRemoved===!1&&(No(this.svgElements),Vr(this.svgElements),this.iconsRemoved=!0)}show(){this.hidden=!1,this.dom.frame.parentNode||(this.options.orientation==="left"?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer),this.dom.lineContainer.style.display="block"}hide(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.style.display="none"}setRange(e,t){this.range.start=e,this.range.end=t}redraw(){let e=!1,t=0;this.dom.lineContainer.style.top=`${this.body.domProps.scrollTop}px`;for(const r in this.groups)Object.prototype.hasOwnProperty.call(this.groups,r)&&this.groups[r].visible===!0&&(this.linegraphOptions.visibility[r]===void 0||this.linegraphOptions.visibility[r]===!0)&&t++;if(this.amountOfGroups===0||t===0)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=`${this.height}px`,this.width=this.options.visible===!0?Number(`${this.options.width}`.replace("px","")):0;const r=this.props,n=this.dom.frame;n.className="vis-data-axis",this._calculateCharSize();const s=this.options.orientation,o=this.options.showMinorLabels,a=this.options.showMajorLabels,l=this.body.dom.backgroundHorizontal.offsetWidth;r.minorLabelHeight=o?r.minorCharHeight:0,r.majorLabelHeight=a?r.majorCharHeight:0,r.minorLineWidth=l-this.lineOffset-this.width+2*this.options.minorLinesOffset,r.minorLineHeight=1,r.majorLineWidth=l-this.lineOffset-this.width+2*this.options.majorLinesOffset,r.majorLineHeight=1,s==="left"?(n.style.top="0",n.style.left="0",n.style.bottom="",n.style.width=`${this.width}px`,n.style.height=`${this.height}px`,this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(n.style.top="",n.style.bottom="0",n.style.left="0",n.style.width=`${this.width}px`,n.style.height=`${this.height}px`,this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),e=this._redrawLabels(),e=this._isResized()||e,this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(s)}return e}_redrawLabels(){let e=!1;No(this.DOMelements.lines),No(this.DOMelements.labels);const t=this.options.orientation,r=this.options[t].range!=null?this.options[t].range:{};let n=!0;r.max!=null&&(this.range.end=r.max,n=!1);let s=!0;r.min!=null&&(this.range.start=r.min,s=!1),this.scale=new ike(this.range.start,this.range.end,s,n,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[t].format),this.master===!1&&this.masterAxis!=null?(this.scale.followScale(this.masterAxis.scale),this.dom.lineContainer.style.display="none"):this.dom.lineContainer.style.display="block",this.maxLabelSize=0,this.scale.getLines().forEach(c=>{const u=c.y,h=c.major;this.options.showMinorLabels&&h===!1&&this._redrawLabel(u-2,c.val,t,"vis-y-axis vis-minor",this.props.minorCharHeight),h&&u>=0&&this._redrawLabel(u-2,c.val,t,"vis-y-axis vis-major",this.props.majorCharHeight),this.master===!0&&(h?this._redrawLine(u,t,"vis-grid vis-horizontal vis-major",this.options.majorLinesOffset,this.props.majorLineWidth):this._redrawLine(u,t,"vis-grid vis-horizontal vis-minor",this.options.minorLinesOffset,this.props.minorLineWidth))});let a=0;this.options[t].title!==void 0&&this.options[t].title.text!==void 0&&(a=this.props.titleCharHeight);const l=this.options.icons===!0?Math.max(this.options.iconWidth,a)+this.options.labelOffsetX+15:a+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-l&&this.options.visible===!0?(this.width=this.maxLabelSize+l,this.options.width=`${this.width}px`,Vr(this.DOMelements.lines),Vr(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-l&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+l),this.options.width=`${this.width}px`,Vr(this.DOMelements.lines),Vr(this.DOMelements.labels),this.redraw(),e=!0):(Vr(this.DOMelements.lines),Vr(this.DOMelements.labels),e=!1),e}convertValue(e){return this.scale.convertValue(e)}screenToValue(e){return this.scale.screenToValue(e)}_redrawLabel(e,t,r,n,s){const o=iS("div",this.DOMelements.labels,this.dom.frame);o.className=n,o.innerHTML=A.xss(t),r==="left"?(o.style.left=`-${this.options.labelOffsetX}px`,o.style.textAlign="right"):(o.style.right=`-${this.options.labelOffsetX}px`,o.style.textAlign="left"),o.style.top=`${e-.5*s+this.options.labelOffsetY}px`,t+="";const a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<t.length*a&&(this.maxLabelSize=t.length*a)}_redrawLine(e,t,r,n,s){if(this.master===!0){const o=iS("div",this.DOMelements.lines,this.dom.lineContainer);o.className=r,o.innerHTML="",t==="left"?o.style.left=`${this.width-n}px`:o.style.right=`${this.width-n}px`,o.style.width=`${s}px`,o.style.top=`${e}px`}}_redrawTitle(e){if(No(this.DOMelements.title),this.options[e].title!==void 0&&this.options[e].title.text!==void 0){const t=iS("div",this.DOMelements.title,this.dom.frame);t.className=`vis-y-axis vis-title vis-${e}`,t.innerHTML=A.xss(this.options[e].title.text),this.options[e].title.style!==void 0&&A.addCssText(t,this.options[e].title.style),e==="left"?t.style.left=`${this.props.titleCharHeight}px`:t.style.right=`${this.props.titleCharHeight}px`,t.style.width=`${this.height}px`}Vr(this.DOMelements.title)}_calculateCharSize(){if(!("minorCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-minor vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.minorCharHeight=t.clientHeight,this.props.minorCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}if(!("majorCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-major vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.majorCharHeight=t.clientHeight,this.props.majorCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}if(!("titleCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-title vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.titleCharHeight=t.clientHeight,this.props.titleCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}}};function ip(){}ip.draw=function(i,e,t,r){r=r||0;for(var n=rke(t,e),s=0;s<i.length;s++)if(!n)xu(i[s].screen_x+r,i[s].screen_y,ID(e),t.svgElements,t.svg,i[s].label);else{var o=n(i[s],e);(o===!0||typeof o=="object")&&xu(i[s].screen_x+r,i[s].screen_y,ID(e,o),t.svgElements,t.svg,i[s].label)}};ip.drawIcon=function(i,e,t,r,n,s){var o=n*.5,a=Pn("rect",s.svgElements,s.svg);a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",t-o),a.setAttributeNS(null,"width",r),a.setAttributeNS(null,"height",2*o),a.setAttributeNS(null,"class","vis-outline"),xu(e+.5*r,t,ID(i),s.svgElements,s.svg)};function ID(i,e){return e=typeof e>"u"?{}:e,{style:e.style||i.options.drawPoints.style,styles:e.styles||i.options.drawPoints.styles,size:e.size||i.options.drawPoints.size,className:e.className||i.className}}function rke(i,e){var t=void 0;return i.options&&i.options.drawPoints&&i.options.drawPoints.onRender&&typeof i.options.drawPoints.onRender=="function"&&(t=i.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&typeof e.group.options.drawPoints.onRender=="function"&&(t=e.group.options.drawPoints.onRender),t}function Ki(){}Ki.drawIcon=function(i,e,t,r,n,s){var o=n*.5,a=Pn("rect",s.svgElements,s.svg);a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",t-o),a.setAttributeNS(null,"width",r),a.setAttributeNS(null,"height",2*o),a.setAttributeNS(null,"class","vis-outline");var l=Math.round(.3*r),c=i.options.barChart.width,u=c/l,h=Math.round(.4*n),d=Math.round(.75*n),f=Math.round((r-2*l)/3);if(DD(e+.5*l+f,t+o-h-1,l,h,i.className+" vis-bar",s.svgElements,s.svg,i.style),DD(e+1.5*l+f+2,t+o-d-1,l,d,i.className+" vis-bar",s.svgElements,s.svg,i.style),i.options.drawPoints.enabled==!0){var p={style:i.options.drawPoints.style,styles:i.options.drawPoints.styles,size:i.options.drawPoints.size/u,className:i.className};xu(e+.5*l+f,t+o-h-1,p,s.svgElements,s.svg),xu(e+1.5*l+f+2,t+o-d-1,p,s.svgElements,s.svg)}};Ki.draw=function(i,e,t){var r=[],n={},s,o,a,l,c,u,h=0;for(c=0;c<i.length;c++)if(l=t.groups[i[c]],l.options.style==="bar"&&l.visible===!0&&(t.options.groups.visibility[i[c]]===void 0||t.options.groups.visibility[i[c]]===!0))for(u=0;u<e[i[c]].length;u++)r.push({screen_x:e[i[c]][u].screen_x,screen_end:e[i[c]][u].screen_end,screen_y:e[i[c]][u].screen_y,x:e[i[c]][u].x,end:e[i[c]][u].end,y:e[i[c]][u].y,groupId:i[c],label:e[i[c]][u].label}),h+=1;if(h!==0)for(r.sort(function(m,g){return m.screen_x===g.screen_x?m.groupId<g.groupId?-1:1:m.screen_x-g.screen_x}),Ki._getDataIntersections(n,r),c=0;c<r.length;c++){l=t.groups[r[c].groupId];var d=l.options.barChart.minWidth!=null?l.options.barChart.minWidth:.1*l.options.barChart.width;o=r[c].screen_x;var f=0;if(n[o]===void 0)c+1<r.length&&(s=Math.abs(r[c+1].screen_x-o)),a=Ki._getSafeDrawData(s,l,d);else{var p=c+(n[o].amount-n[o].resolved);p<r.length&&(s=Math.abs(r[p].screen_x-o)),a=Ki._getSafeDrawData(s,l,d),n[o].resolved+=1,l.options.stack===!0&&l.options.excludeFromStacking!==!0?r[c].screen_y<l.zeroPosition?(f=n[o].accumulatedNegative,n[o].accumulatedNegative+=l.zeroPosition-r[c].screen_y):(f=n[o].accumulatedPositive,n[o].accumulatedPositive+=l.zeroPosition-r[c].screen_y):l.options.barChart.sideBySide===!0&&(a.width=a.width/n[o].amount,a.offset+=n[o].resolved*a.width-.5*a.width*(n[o].amount+1))}let m=a.width,g=r[c].screen_x;if(r[c].screen_end!=null?(m=r[c].screen_end-r[c].screen_x,g+=m*.5):g+=a.offset,DD(g,r[c].screen_y-f,m,l.zeroPosition-r[c].screen_y,l.className+" vis-bar",t.svgElements,t.svg,l.style),l.options.drawPoints.enabled===!0){let v={screen_x:r[c].screen_x,screen_y:r[c].screen_y-f,x:r[c].x,y:r[c].y,groupId:r[c].groupId,label:r[c].label};ip.draw([v],l,t,a.offset)}}};Ki._getDataIntersections=function(i,e){for(var t,r=0;r<e.length;r++)r+1<e.length&&(t=Math.abs(e[r+1].screen_x-e[r].screen_x)),r>0&&(t=Math.min(t,Math.abs(e[r-1].screen_x-e[r].screen_x))),t===0&&(i[e[r].screen_x]===void 0&&(i[e[r].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),i[e[r].screen_x].amount+=1)};Ki._getSafeDrawData=function(i,e,t){var r,n;return i<e.options.barChart.width&&i>0?(r=i<t?t:i,n=0,e.options.barChart.align==="left"?n-=.5*i:e.options.barChart.align==="right"&&(n+=.5*i)):(r=e.options.barChart.width,n=0,e.options.barChart.align==="left"?n-=.5*e.options.barChart.width:e.options.barChart.align==="right"&&(n+=.5*e.options.barChart.width)),{width:r,offset:n}};Ki.getStackedYRange=function(i,e,t,r,n){if(i.length>0){i.sort(function(o,a){return o.screen_x===a.screen_x?o.groupId<a.groupId?-1:1:o.screen_x-a.screen_x});var s={};Ki._getDataIntersections(s,i),e[r]=Ki._getStackedYRange(s,i),e[r].yAxisOrientation=n,t.push(r)}};Ki._getStackedYRange=function(i,e){for(var t,r=e[0].screen_y,n=e[0].screen_y,s=0;s<e.length;s++)t=e[s].screen_x,i[t]===void 0?(r=r>e[s].screen_y?e[s].screen_y:r,n=n<e[s].screen_y?e[s].screen_y:n):e[s].screen_y<0?i[t].accumulatedNegative+=e[s].screen_y:i[t].accumulatedPositive+=e[s].screen_y;for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r=r>i[o].accumulatedNegative?i[o].accumulatedNegative:r,r=r>i[o].accumulatedPositive?i[o].accumulatedPositive:r,n=n<i[o].accumulatedNegative?i[o].accumulatedNegative:n,n=n<i[o].accumulatedPositive?i[o].accumulatedPositive:n);return{min:r,max:n}};function Di(){}Di.calcPath=function(i,e){if(i!=null&&i.length>0){var t=[];return e.options.interpolation.enabled==!0?t=Di._catmullRom(i,e):t=Di._linear(i),t}};Di.drawIcon=function(i,e,t,r,n,s){var o=n*.5,a,l,c=Pn("rect",s.svgElements,s.svg);if(c.setAttributeNS(null,"x",e),c.setAttributeNS(null,"y",t-o),c.setAttributeNS(null,"width",r),c.setAttributeNS(null,"height",2*o),c.setAttributeNS(null,"class","vis-outline"),a=Pn("path",s.svgElements,s.svg),a.setAttributeNS(null,"class",i.className),i.style!==void 0&&a.setAttributeNS(null,"style",i.style),a.setAttributeNS(null,"d","M"+e+","+t+" L"+(e+r)+","+t),i.options.shaded.enabled==!0&&(l=Pn("path",s.svgElements,s.svg),i.options.shaded.orientation=="top"?l.setAttributeNS(null,"d","M"+e+", "+(t-o)+"L"+e+","+t+" L"+(e+r)+","+t+" L"+(e+r)+","+(t-o)):l.setAttributeNS(null,"d","M"+e+","+t+" L"+e+","+(t+o)+" L"+(e+r)+","+(t+o)+"L"+(e+r)+","+t),l.setAttributeNS(null,"class",i.className+" vis-icon-fill"),i.options.shaded.style!==void 0&&i.options.shaded.style!==""&&l.setAttributeNS(null,"style",i.options.shaded.style)),i.options.drawPoints.enabled==!0){var u={style:i.options.drawPoints.style,styles:i.options.drawPoints.styles,size:i.options.drawPoints.size,className:i.className};xu(e+.5*r,t,u,s.svgElements,s.svg)}};Di.drawShading=function(i,e,t,r){if(e.options.shaded.enabled==!0){var n=Number(r.svg.style.height.replace("px","")),s=Pn("path",r.svgElements,r.svg),o="L";e.options.interpolation.enabled==!0&&(o="C");var a,l=0;e.options.shaded.orientation=="top"?l=0:e.options.shaded.orientation=="bottom"?l=n:l=Math.min(Math.max(0,e.zeroPosition),n),e.options.shaded.orientation=="group"&&t!=null&&t!=null?a="M"+i[0][0]+","+i[0][1]+" "+this.serializePath(i,o,!1)+" L"+t[t.length-1][0]+","+t[t.length-1][1]+" "+this.serializePath(t,o,!0)+t[0][0]+","+t[0][1]+" Z":a="M"+i[0][0]+","+i[0][1]+" "+this.serializePath(i,o,!1)+" V"+l+" H"+i[0][0]+" Z",s.setAttributeNS(null,"class",e.className+" vis-fill"),e.options.shaded.style!==void 0&&s.setAttributeNS(null,"style",e.options.shaded.style),s.setAttributeNS(null,"d",a)}};Di.draw=function(i,e,t){if(i!=null&&i!=null){var r=Pn("path",t.svgElements,t.svg);r.setAttributeNS(null,"class",e.className),e.style!==void 0&&r.setAttributeNS(null,"style",e.style);var n="L";e.options.interpolation.enabled==!0&&(n="C"),r.setAttributeNS(null,"d","M"+i[0][0]+","+i[0][1]+" "+this.serializePath(i,n,!1))}};Di.serializePath=function(i,e,t){if(i.length<2)return"";var r=e,n;if(t)for(n=i.length-2;n>0;n--)r+=i[n][0]+","+i[n][1]+" ";else for(n=1;n<i.length;n++)r+=i[n][0]+","+i[n][1]+" ";return r};Di._catmullRomUniform=function(i){var e,t,r,n,s,o,a=[];a.push([Math.round(i[0].screen_x),Math.round(i[0].screen_y)]);for(var l=1/6,c=i.length,u=0;u<c-1;u++)e=u==0?i[0]:i[u-1],t=i[u],r=i[u+1],n=u+2<c?i[u+2]:r,s={screen_x:(-e.screen_x+6*t.screen_x+r.screen_x)*l,screen_y:(-e.screen_y+6*t.screen_y+r.screen_y)*l},o={screen_x:(t.screen_x+6*r.screen_x-n.screen_x)*l,screen_y:(t.screen_y+6*r.screen_y-n.screen_y)*l},a.push([s.screen_x,s.screen_y]),a.push([o.screen_x,o.screen_y]),a.push([r.screen_x,r.screen_y]);return a};Di._catmullRom=function(i,e){var t=e.options.interpolation.alpha;if(t==0||t===void 0)return this._catmullRomUniform(i);var r,n,s,o,a,l,c,u,h,d,f,p,m,g,v,y,_,b,w,S=[];S.push([Math.round(i[0].screen_x),Math.round(i[0].screen_y)]);for(var E=i.length,x=0;x<E-1;x++)r=x==0?i[0]:i[x-1],n=i[x],s=i[x+1],o=x+2<E?i[x+2]:s,c=Math.sqrt(Math.pow(r.screen_x-n.screen_x,2)+Math.pow(r.screen_y-n.screen_y,2)),u=Math.sqrt(Math.pow(n.screen_x-s.screen_x,2)+Math.pow(n.screen_y-s.screen_y,2)),h=Math.sqrt(Math.pow(s.screen_x-o.screen_x,2)+Math.pow(s.screen_y-o.screen_y,2)),g=Math.pow(h,t),y=Math.pow(h,2*t),v=Math.pow(u,t),_=Math.pow(u,2*t),w=Math.pow(c,t),b=Math.pow(c,2*t),d=2*b+3*w*v+_,f=2*y+3*g*v+_,p=3*w*(w+v),p>0&&(p=1/p),m=3*g*(g+v),m>0&&(m=1/m),a={screen_x:(-_*r.screen_x+d*n.screen_x+b*s.screen_x)*p,screen_y:(-_*r.screen_y+d*n.screen_y+b*s.screen_y)*p},l={screen_x:(y*n.screen_x+f*s.screen_x-_*o.screen_x)*m,screen_y:(y*n.screen_y+f*s.screen_y-_*o.screen_y)*m},a.screen_x==0&&a.screen_y==0&&(a=n),l.screen_x==0&&l.screen_y==0&&(l=s),S.push([a.screen_x,a.screen_y]),S.push([l.screen_x,l.screen_y]),S.push([s.screen_x,s.screen_y]);return S};Di._linear=function(i){for(var e=[],t=0;t<i.length;t++)e.push([i[t].screen_x,i[t].screen_y]);return e};function ha(i,e,t,r){this.id=e;var n=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=A.selectiveBridgeObject(n,t),this.usingDefaultStyle=i.className===void 0,this.groupsUsingDefaultStyles=r,this.zeroPosition=0,this.update(i),this.usingDefaultStyle==!0&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=i.visible===void 0?!0:i.visible}ha.prototype.setItems=function(i){i!=null?(this.itemsData=i,this.options.sort==!0&&A.insertSort(this.itemsData,function(e,t){return e.x>t.x?1:-1})):this.itemsData=[]};ha.prototype.getItems=function(){return this.itemsData};ha.prototype.setZeroPosition=function(i){this.zeroPosition=i};ha.prototype.setOptions=function(i){if(i!==void 0){var e=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];A.selectiveDeepExtend(e,this.options,i),typeof i.drawPoints=="function"&&(i.drawPoints={onRender:i.drawPoints}),A.mergeOptions(this.options,i,"interpolation"),A.mergeOptions(this.options,i,"drawPoints"),A.mergeOptions(this.options,i,"shaded"),i.interpolation&&typeof i.interpolation=="object"&&i.interpolation.parametrization&&(i.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:i.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}};ha.prototype.update=function(i){this.group=i,this.content=i.content||"graph",this.className=i.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=i.visible===void 0?!0:i.visible,this.style=i.style,this.setOptions(i.options)};ha.prototype.getLegend=function(i,e,t,r,n){if(t==null||t==null){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");t={svg:s,svgElements:{},options:this.options,groups:[this]}}switch((r==null||r==null)&&(r=0),(n==null||n==null)&&(n=.5*e),this.options.style){case"line":Di.drawIcon(this,r,n,i,e,t);break;case"points":case"point":ip.drawIcon(this,r,n,i,e,t);break;case"bar":Ki.drawIcon(this,r,n,i,e,t);break}return{icon:t.svg,label:this.content,orientation:this.options.yAxisOrientation}};ha.prototype.getYRange=function(i){for(var e=i[0].y,t=i[0].y,r=0;r<i.length;r++)e=e>i[r].y?i[r].y:e,t=t<i[r].y?i[r].y:t;return{min:e,max:t,yAxisOrientation:this.options.yAxisOrientation}};function Gr(i,e,t,r){this.body=i,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=t,this.options=A.extend({},this.defaultOptions),this.linegraphOptions=r,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}Gr.prototype=new ua;Gr.prototype.clear=function(){this.groups={},this.amountOfGroups=0};Gr.prototype.addGroup=function(i,e){e.options.excludeFromLegend!=!0&&(Object.prototype.hasOwnProperty.call(this.groups,i)||(this.groups[i]=e),this.amountOfGroups+=1)};Gr.prototype.updateGroup=function(i,e){this.groups[i]=e};Gr.prototype.removeGroup=function(i){Object.prototype.hasOwnProperty.call(this.groups,i)&&(delete this.groups[i],this.amountOfGroups-=1)};Gr.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)};Gr.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};Gr.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};Gr.prototype.setOptions=function(i){var e=["enabled","orientation","icons","left","right"];A.selectiveDeepExtend(e,this.options,i)};Gr.prototype.redraw=function(){var i=0,e=Object.keys(this.groups);e.sort(function(o,a){return o<a?-1:1});for(var t=0;t<e.length;t++){var r=e[t];this.groups[r].visible==!0&&(this.linegraphOptions.visibility[r]===void 0||this.linegraphOptions.visibility[r]==!0)&&i++}if(this.options[this.side].visible==!1||this.amountOfGroups==0||this.options.enabled==!1||i==0)this.hide();else{if(this.show(),this.options[this.side].position=="top-left"||this.options[this.side].position=="bottom-left"?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),this.options[this.side].position=="top-left"||this.options[this.side].position=="top-right")this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var n=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+n+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}this.options.icons==!1?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var s="";for(t=0;t<e.length;t++)r=e[t],this.groups[r].visible==!0&&(this.linegraphOptions.visibility[r]===void 0||this.linegraphOptions.visibility[r]==!0)&&(s+=this.groups[r].content+"<br />");this.dom.textArea.innerHTML=A.xss(s),this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}};Gr.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var i=Object.keys(this.groups);i.sort(function(c,u){return c<u?-1:1}),eke(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,t=Number(e.replace("px","")),r=t,n=this.options.iconSize,s=.75*this.options.iconSize,o=t+.5*s+3;this.svg.style.width=n+5+t+"px";for(var a=0;a<i.length;a++){var l=i[a];this.groups[l].visible==!0&&(this.linegraphOptions.visibility[l]===void 0||this.linegraphOptions.visibility[l]==!0)&&(this.groups[l].getLegend(n,s,this.framework,r,o),o+=s+this.options.iconSpacing)}}};var bg="__ungrouped__";function yt(i,e){this.id=Ya(),this.body=i,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=A.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var t=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(r,n){t._onAdd(n.items)},update:function(r,n){t._onUpdate(n.items)},remove:function(r,n){t._onRemove(n.items)}},this.groupListeners={add:function(r,n){t._onAddGroups(n.items)},update:function(r,n){t._onUpdateGroups(n.items)},remove:function(r,n){t._onRemoveGroups(n.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){t.svg.style.left=A.option.asSize(-t.props.width),t.forceGraphUpdate=!0,t.redraw.call(t)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}yt.prototype=new ua;yt.prototype._create=function(){var i=document.createElement("div");i.className="vis-line-graph",this.dom.frame=i,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",i.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new oH(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new oH(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new Gr(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new Gr(this.body,this.options.legend,"right",this.options.groups),this.show()};yt.prototype.setOptions=function(i){if(i){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];i.graphHeight===void 0&&i.height!==void 0?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):this.body.domProps.centerContainer.height!==void 0&&i.graphHeight!==void 0&&parseInt((i.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),A.selectiveDeepExtend(e,this.options,i),A.mergeOptions(this.options,i,"interpolation"),A.mergeOptions(this.options,i,"drawPoints"),A.mergeOptions(this.options,i,"shaded"),A.mergeOptions(this.options,i,"legend"),i.interpolation&&typeof i.interpolation=="object"&&i.interpolation.parametrization&&(i.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:i.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&i.dataAxis!==void 0&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&i.legend!==void 0&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),Object.prototype.hasOwnProperty.call(this.groups,bg)&&this.groups[bg].setOptions(i)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))};yt.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};yt.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};yt.prototype.setItems=function(i){var e=this,t,r=this.itemsData;if(!i)this.itemsData=null;else if(po(i))this.itemsData=_u(i);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(r&&(A.forEach(this.itemListeners,function(s,o){r.off(o,s)}),r.dispose(),t=r.getIds(),this._onRemove(t)),this.itemsData){var n=this.id;A.forEach(this.itemListeners,function(s,o){e.itemsData.on(o,s,n)}),t=this.itemsData.getIds(),this._onAdd(t)}};yt.prototype.setGroups=function(i){var e=this,t;if(this.groupsData){A.forEach(this.groupListeners,function(s,o){e.groupsData.off(o,s)}),t=this.groupsData.getIds(),this.groupsData=null;for(var r=0;r<t.length;r++)this._removeGroup(t[r])}if(!i)this.groupsData=null;else if(po(i))this.groupsData=i;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){var n=this.id;A.forEach(this.groupListeners,function(s,o){e.groupsData.on(o,s,n)}),t=this.groupsData.getIds(),this._onAddGroups(t)}};yt.prototype._onUpdate=function(i){this._updateAllGroupData(i)};yt.prototype._onAdd=function(i){this._onUpdate(i)};yt.prototype._onRemove=function(i){this._onUpdate(i)};yt.prototype._onUpdateGroups=function(i){this._updateAllGroupData(null,i)};yt.prototype._onAddGroups=function(i){this._onUpdateGroups(i)};yt.prototype._onRemoveGroups=function(i){for(var e=0;e<i.length;e++)this._removeGroup(i[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})};yt.prototype._removeGroup=function(i){Object.prototype.hasOwnProperty.call(this.groups,i)&&(this.groups[i].options.yAxisOrientation=="right"?(this.yAxisRight.removeGroup(i),this.legendRight.removeGroup(i),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(i),this.legendLeft.removeGroup(i),this.legendLeft.redraw()),delete this.groups[i])};yt.prototype._updateGroup=function(i,e){Object.prototype.hasOwnProperty.call(this.groups,e)?(this.groups[e].update(i),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new ha(i,e,this.options,this.groupsUsingDefaultStyles),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()};yt.prototype._updateAllGroupData=function(i,e){if(this.itemsData!=null){var t={},r=this.itemsData.get(),n=this.itemsData.idProp,s={};i&&i.map(function(g){s[g]=g});for(var o={},a=0;a<r.length;a++){var l=r[a],c=l.group;c==null&&(c=bg),Object.prototype.hasOwnProperty.call(o,c)?o[c]++:o[c]=1}var u={};if(!e&&i){for(c in this.groups)if(Object.prototype.hasOwnProperty.call(this.groups,c)){m=this.groups[c];var h=m.getItems();t[c]=h.filter(function(g){return u[g[n]]=g[n],g[n]!==s[g[n]]});var d=o[c];o[c]-=t[c].length,t[c].length<d&&(t[c][d-1]={})}}for(a=0;a<r.length;a++)if(l=r[a],c=l.group,c==null&&(c=bg),!(!e&&i&&l[n]!==s[l[n]]&&Object.prototype.hasOwnProperty.call(u,l[n]))){Object.prototype.hasOwnProperty.call(t,c)||(t[c]=new Array(o[c]));var f=A.bridgeObject(l);f.x=A.convert(l.x,"Date"),f.end=A.convert(l.end,"Date"),f.orginalY=l.y,f.y=Number(l.y),f[n]=l[n];var p=t[c].length-o[c]--;t[c][p]=f}for(c in this.groups)!Object.prototype.hasOwnProperty.call(this.groups,c)||Object.prototype.hasOwnProperty.call(t,c)||(t[c]=new Array(0));for(c in t)if(Object.prototype.hasOwnProperty.call(t,c))if(t[c].length==0)Object.prototype.hasOwnProperty.call(this.groups,c)&&this._removeGroup(c);else{var m=void 0;this.groupsData!=null&&(m=this.groupsData.get(c)),m==null&&(m={id:c,content:this.options.defaultGroup+c}),this._updateGroup(m,c),this.groups[c].setItems(t[c])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}};yt.prototype.redraw=function(){var i=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,i=this._isResized()||i;var e=this.body.range.end-this.body.range.start,t=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,i==!0&&(this.svg.style.width=A.option.asSize(3*this.props.width),this.svg.style.left=A.option.asSize(-this.props.width),((this.options.height+"").indexOf("%")!=-1||this.updateSVGheightOnResize==!0)&&(this.updateSVGheight=!0)),this.updateSVGheight==!0?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",i==!0||t==!0||this.abortedGraphUpdate==!0||this.forceGraphUpdate==!0)i=this._updateGraph()||i,this.forceGraphUpdate=!1,this.lastStart=this.body.range.start,this.svg.style.left=-this.props.width+"px";else if(this.lastStart!=0){var r=this.body.range.start-this.lastStart,n=this.body.range.end-this.body.range.start;if(this.props.width!=0){var s=this.props.width/n,o=r*s;this.svg.style.left=-this.props.width-o+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),i};yt.prototype._getSortedGroupIds=function(){var i=[];for(var e in this.groups)if(Object.prototype.hasOwnProperty.call(this.groups,e)){var t=this.groups[e];t.visible==!0&&(this.options.groups.visibility[e]===void 0||this.options.groups.visibility[e]==!0)&&i.push({id:e,zIndex:t.options.zIndex})}A.insertSort(i,function(s,o){var a=s.zIndex,l=o.zIndex;return a===void 0&&(a=0),l===void 0&&(l=0),a==l?0:a<l?-1:1});for(var r=new Array(i.length),n=0;n<i.length;n++)r[n]=i[n].id;return r};yt.prototype._updateGraph=function(){if(No(this.svgElements),this.props.width!=0&&this.itemsData!=null){var i,e,t={},r=!1,n=this.body.util.toGlobalTime(-this.body.domProps.root.width),s=this.body.util.toGlobalTime(2*this.body.domProps.root.width),o=this._getSortedGroupIds();if(o.length>0){var a={};for(this._getRelevantData(o,a,n,s),this._applySampling(o,a),e=0;e<o.length;e++)this._convertXcoordinates(a[o[e]]);if(this._getYRanges(o,a,t),r=this._updateYAxis(o,t),r==!0)return Vr(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var l=void 0;for(e=0;e<o.length;e++)i=this.groups[o[e]],this.options.stack===!0&&this.options.style==="line"&&(i.options.excludeFromStacking==null||!i.options.excludeFromStacking)&&(l!=null&&(this._stack(a[i.id],a[l.id]),i.options.shaded.enabled==!0&&i.options.shaded.orientation!=="group"&&(i.options.shaded.orientation=="top"&&l.options.shaded.orientation!=="group"?(l.options.shaded.orientation="group",l.options.shaded.groupId=i.id):(i.options.shaded.orientation="group",i.options.shaded.groupId=l.id))),l=i),this._convertYcoordinates(a[o[e]],i);var c={};for(e=0;e<o.length;e++)if(i=this.groups[o[e]],i.options.style==="line"&&i.options.shaded.enabled==!0){var u=a[o[e]];if(u==null||u.length==0)continue;if(Object.prototype.hasOwnProperty.call(c,o[e])||(c[o[e]]=Di.calcPath(u,i)),i.options.shaded.orientation==="group"){var h=i.options.shaded.groupId;if(o.indexOf(h)===-1){console.log(i.id+": Unknown shading group target given:"+h);continue}Object.prototype.hasOwnProperty.call(c,h)||(c[h]=Di.calcPath(a[h],this.groups[h])),Di.drawShading(c[o[e]],i,c[h],this.framework)}else Di.drawShading(c[o[e]],i,void 0,this.framework)}for(Ki.draw(o,a,this.framework),e=0;e<o.length;e++)if(i=this.groups[o[e]],a[o[e]].length>0)switch(i.options.style){case"line":Object.prototype.hasOwnProperty.call(c,o[e])||(c[o[e]]=Di.calcPath(a[o[e]],i)),Di.draw(c[o[e]],i,this.framework);case"point":case"points":(i.options.style=="point"||i.options.style=="points"||i.options.drawPoints.enabled==!0)&&ip.draw(a[o[e]],i,this.framework);break}}}return Vr(this.svgElements),!1};yt.prototype._stack=function(i,e){var t,r,n,s,o;t=0;for(var a=0;a<i.length;a++){s=void 0,o=void 0;for(var l=t;l<e.length;l++)if(e[l].x===i[a].x){s=e[l],o=e[l],t=l;break}else if(e[l].x>i[a].x){o=e[l],l==0?s=o:s=e[l-1],t=l;break}o===void 0&&(s=e[e.length-1],o=e[e.length-1]),r=o.x-s.x,n=o.y-s.y,r==0?i[a].y=i[a].orginalY+o.y:i[a].y=i[a].orginalY+n/r*(i[a].x-s.x)+s.y}};yt.prototype._getRelevantData=function(i,e,t,r){var n,s,o,a;if(i.length>0)for(s=0;s<i.length;s++){n=this.groups[i[s]];var l=n.getItems();if(n.options.sort==!0){var c=function(f,p){return f.getTime()==p.getTime()?0:f<p?-1:1},u=Math.max(0,A.binarySearchValue(l,t,"x","before",c)),h=Math.min(l.length,A.binarySearchValue(l,r,"x","after",c)+1);h<=0&&(h=l.length);var d=new Array(h-u);for(o=u;o<h;o++)a=n.itemsData[o],d[o-u]=a;e[i[s]]=d}else e[i[s]]=n.itemsData}};yt.prototype._applySampling=function(i,e){var t;if(i.length>0){for(var r=0;r<i.length;r++)if(t=this.groups[i[r]],t.options.sampling==!0){var n=e[i[r]];if(n.length>0){var s=1,o=n.length,a=this.body.util.toGlobalScreen(n[n.length-1].x)-this.body.util.toGlobalScreen(n[0].x),l=o/a;s=Math.min(Math.ceil(.2*o),Math.max(1,Math.round(l)));for(var c=new Array(o),u=0;u<o;u+=s){var h=Math.round(u/s);c[h]=n[u]}e[i[r]]=c.splice(0,Math.round(o/s))}}}};yt.prototype._getYRanges=function(i,e,t){var r,n,s,o=[],a=[],l;if(i.length>0){for(s=0;s<i.length;s++)r=e[i[s]],l=this.groups[i[s]].options,r.length>0&&(n=this.groups[i[s]],l.stack===!0&&l.style==="bar"?l.yAxisOrientation==="left"?o=o.concat(r):a=a.concat(r):t[i[s]]=n.getYRange(r,i[s]));Ki.getStackedYRange(o,t,i,"__barStackLeft","left"),Ki.getStackedYRange(a,t,i,"__barStackRight","right")}};yt.prototype._updateYAxis=function(i,e){var t=!1,r=!1,n=!1,s=1e9,o=1e9,a=-1e9,l=-1e9,c,u;if(i.length>0){for(var h=0;h<i.length;h++){var d=this.groups[i[h]];d&&d.options.yAxisOrientation!="right"?(r=!0,s=1e9,a=-1e9):d&&d.options.yAxisOrientation&&(n=!0,o=1e9,l=-1e9)}for(h=0;h<i.length;h++)!Object.prototype.hasOwnProperty.call(e,i[h])||e[i[h]].ignore===!0||(c=e[i[h]].min,u=e[i[h]].max,e[i[h]].yAxisOrientation!="right"?(r=!0,s=s>c?c:s,a=a<u?u:a):(n=!0,o=o>c?c:o,l=l<u?u:l));r==!0&&this.yAxisLeft.setRange(s,a),n==!0&&this.yAxisRight.setRange(o,l)}t=this._toggleAxisVisiblity(r,this.yAxisLeft)||t,t=this._toggleAxisVisiblity(n,this.yAxisRight)||t,n==!0&&r==!0?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!r,this.yAxisRight.masterAxis=this.yAxisLeft,this.yAxisRight.master==!1?(n==!0?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0,t=this.yAxisLeft.redraw()||t,t=this.yAxisRight.redraw()||t):t=this.yAxisRight.redraw()||t;var f=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(h=0;h<f.length;h++)i.indexOf(f[h])!=-1&&i.splice(i.indexOf(f[h]),1);return t};yt.prototype._toggleAxisVisiblity=function(i,e){var t=!1;return i==!1?e.dom.frame.parentNode&&e.hidden==!1&&(e.hide(),t=!0):!e.dom.frame.parentNode&&e.hidden==!0&&(e.show(),t=!0),t};yt.prototype._convertXcoordinates=function(i){for(var e=this.body.util.toScreen,t=0;t<i.length;t++)i[t].screen_x=e(i[t].x)+this.props.width,i[t].screen_y=i[t].y,i[t].end!=null?i[t].screen_end=e(i[t].end)+this.props.width:i[t].screen_end=void 0};yt.prototype._convertYcoordinates=function(i,e){var t=this.yAxisLeft,r=Number(this.svg.style.height.replace("px",""));e.options.yAxisOrientation=="right"&&(t=this.yAxisRight);for(var n=0;n<i.length;n++)i[n].screen_y=Math.round(t.convertValue(i[n].y));e.setZeroPosition(Math.min(r,t.convertValue(0)))};let Oe="string",ze="boolean",ft="number",nke="array",uc="date",Pt="object",ske="dom",hc="moment",aH="any",oke={configure:{enabled:{boolean:ze},filter:{boolean:ze,function:"function"},container:{dom:ske},__type__:{object:Pt,boolean:ze,function:"function"}},alignCurrentTime:{string:Oe,undefined:"undefined"},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:Oe},sort:{boolean:ze},sampling:{boolean:ze},stack:{boolean:ze},graphHeight:{string:Oe,number:ft},shaded:{enabled:{boolean:ze},orientation:{string:["bottom","top","zero","group"]},groupId:{object:Pt},__type__:{boolean:ze,object:Pt}},style:{string:["line","bar","points"]},barChart:{width:{number:ft},minWidth:{number:ft},sideBySide:{boolean:ze},align:{string:["left","center","right"]},__type__:{object:Pt}},interpolation:{enabled:{boolean:ze},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:ft},__type__:{object:Pt,boolean:ze}},drawPoints:{enabled:{boolean:ze},onRender:{function:"function"},size:{number:ft},style:{string:["square","circle"]},__type__:{object:Pt,boolean:ze,function:"function"}},dataAxis:{showMinorLabels:{boolean:ze},showMajorLabels:{boolean:ze},showWeekScale:{boolean:ze},icons:{boolean:ze},width:{string:Oe,number:ft},visible:{boolean:ze},alignZeros:{boolean:ze},left:{range:{min:{number:ft,undefined:"undefined"},max:{number:ft,undefined:"undefined"},__type__:{object:Pt}},format:{function:"function"},title:{text:{string:Oe,number:ft,undefined:"undefined"},style:{string:Oe,undefined:"undefined"},__type__:{object:Pt}},__type__:{object:Pt}},right:{range:{min:{number:ft,undefined:"undefined"},max:{number:ft,undefined:"undefined"},__type__:{object:Pt}},format:{function:"function"},title:{text:{string:Oe,number:ft,undefined:"undefined"},style:{string:Oe,undefined:"undefined"},__type__:{object:Pt}},__type__:{object:Pt}},__type__:{object:Pt}},legend:{enabled:{boolean:ze},icons:{boolean:ze},left:{visible:{boolean:ze},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:Pt}},right:{visible:{boolean:ze},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:Pt}},__type__:{object:Pt,boolean:ze}},groups:{visibility:{any:aH},__type__:{object:Pt}},autoResize:{boolean:ze},throttleRedraw:{number:ft},clickToUse:{boolean:ze},end:{number:ft,date:uc,string:Oe,moment:hc},format:{minorLabels:{millisecond:{string:Oe,undefined:"undefined"},second:{string:Oe,undefined:"undefined"},minute:{string:Oe,undefined:"undefined"},hour:{string:Oe,undefined:"undefined"},weekday:{string:Oe,undefined:"undefined"},day:{string:Oe,undefined:"undefined"},week:{string:Oe,undefined:"undefined"},month:{string:Oe,undefined:"undefined"},quarter:{string:Oe,undefined:"undefined"},year:{string:Oe,undefined:"undefined"},__type__:{object:Pt}},majorLabels:{millisecond:{string:Oe,undefined:"undefined"},second:{string:Oe,undefined:"undefined"},minute:{string:Oe,undefined:"undefined"},hour:{string:Oe,undefined:"undefined"},weekday:{string:Oe,undefined:"undefined"},day:{string:Oe,undefined:"undefined"},week:{string:Oe,undefined:"undefined"},month:{string:Oe,undefined:"undefined"},quarter:{string:Oe,undefined:"undefined"},year:{string:Oe,undefined:"undefined"},__type__:{object:Pt}},__type__:{object:Pt}},moment:{function:"function"},height:{string:Oe,number:ft},hiddenDates:{start:{date:uc,number:ft,string:Oe,moment:hc},end:{date:uc,number:ft,string:Oe,moment:hc},repeat:{string:Oe},__type__:{object:Pt,array:nke}},locale:{string:Oe},locales:{__any__:{any:aH},__type__:{object:Pt}},max:{date:uc,number:ft,string:Oe,moment:hc},maxHeight:{number:ft,string:Oe},maxMinorChars:{number:ft},min:{date:uc,number:ft,string:Oe,moment:hc},minHeight:{number:ft,string:Oe},moveable:{boolean:ze},multiselect:{boolean:ze},orientation:{string:Oe},showCurrentTime:{boolean:ze},showMajorLabels:{boolean:ze},showMinorLabels:{boolean:ze},showWeekScale:{boolean:ze},snap:{function:"function",null:"null"},start:{date:uc,number:ft,string:Oe,moment:hc},timeAxis:{scale:{string:Oe,undefined:"undefined"},step:{number:ft,undefined:"undefined"},__type__:{object:Pt}},width:{string:Oe,number:ft},zoomable:{boolean:ze},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:ft},zoomMin:{number:ft},zIndex:{number:ft},__type__:{object:Pt}},ake={global:{alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",quarter:"[Q]Q",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",quarter:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,showWeekScale:!1,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};function _o(i,e,t,r){if(!(Array.isArray(t)||po(t))&&t instanceof Object){var n=r;r=t,t=n}r&&r.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var s=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:pr,width:null,height:null,maxHeight:null,minHeight:null},this.options=A.deepExtend({},this.defaultOptions),this._create(i),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale(){return s.timeAxis.step.scale},getStep(){return s.timeAxis.step.step},toScreen:s._toScreen.bind(s),toGlobalScreen:s._toGlobalScreen.bind(s),toTime:s._toTime.bind(s),toGlobalTime:s._toGlobalTime.bind(s)}},this.range=new Bte(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new gg(this.body),this.components.push(this.timeAxis),this.currentTime=new eie(this.body),this.components.push(this.currentTime),this.linegraph=new yt(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(o){s.emit("click",s.getEventProperties(o))}),this.on("doubletap",function(o){s.emit("doubleClick",s.getEventProperties(o))}),this.dom.root.oncontextmenu=function(o){s.emit("contextmenu",s.getEventProperties(o))},this.initialFitDone=!1,this.on("changed",function(){if(s.itemsData!=null){if(!s.initialFitDone&&!s.options.rollingMode)if(s.initialFitDone=!0,s.options.start!=null||s.options.end!=null){if(s.options.start==null||s.options.end==null)var o=s.getItemRange();var a=s.options.start!=null?s.options.start:o.min,l=s.options.end!=null?s.options.end:o.max;s.setWindow(a,l,{animation:!1})}else s.fit({animation:!1});!s.initialDrawDone&&(s.initialRangeChangeDone||!s.options.start&&!s.options.end||s.options.rollingMode)&&(s.initialDrawDone=!0,s.dom.root.style.visibility="visible",s.dom.loadingScreen.parentNode.removeChild(s.dom.loadingScreen),s.options.onInitialDrawComplete&&setTimeout(()=>s.options.onInitialDrawComplete(),0))}}),r&&this.setOptions(r),t&&this.setGroups(t),e&&this.setItems(e),this._redraw()}_o.prototype=new Kc;_o.prototype.setOptions=function(i){nie.validate(i,oke)===!0&&console.log("%cErrors have been found in the supplied options object.",yg),Kc.prototype.setOptions.call(this,i)};_o.prototype.setItems=function(i){var e=this.itemsData==null,t;if(i?po(i)?t=_u(i):t=_u(new bu(i)):t=null,this.itemsData&&this.itemsData.dispose(),this.itemsData=t,this.linegraph&&this.linegraph.setItems(t!=null?t.rawDS:null),e)if(this.options.start!=null||this.options.end!=null){var r=this.options.start!=null?this.options.start:null,n=this.options.end!=null?this.options.end:null;this.setWindow(r,n,{animation:!1})}else this.fit({animation:!1})};_o.prototype.setGroups=function(i){var e;i?po(i)?e=i:e=new bu(i):e=null,this.groupsData=e,this.linegraph.setGroups(e)};_o.prototype.getLegend=function(i,e,t){return e===void 0&&(e=15),t===void 0&&(t=15),this.linegraph.groups[i]!==void 0?this.linegraph.groups[i].getLegend(e,t):"cannot find group:'"+i+"'"};_o.prototype.isGroupVisible=function(i){return this.linegraph.groups[i]!==void 0?this.linegraph.groups[i].visible&&(this.linegraph.options.groups.visibility[i]===void 0||this.linegraph.options.groups.visibility[i]==!0):!1};_o.prototype.getDataRange=function(){var i=null,e=null;for(var t in this.linegraph.groups)if(!(!Object.prototype.hasOwnProperty.call(this.linegraph.groups,t)||this.linegraph.groups[t].visible!==!0))for(var r=0;r<this.linegraph.groups[t].itemsData.length;r++){var n=this.linegraph.groups[t].itemsData[r],s=A.convert(n.x,"Date").valueOf();i=i==null||i>s?s:i,e=e==null||e<s?s:e}return{min:i!=null?new Date(i):null,max:e!=null?new Date(e):null}};_o.prototype.getEventProperties=function(i){var e=i.center?i.center.x:i.clientX,t=i.center?i.center.y:i.clientY,r=e-A.getAbsoluteLeft(this.dom.centerContainer),n=t-A.getAbsoluteTop(this.dom.centerContainer),s=this._toTime(r),o=BM.customTimeFromTarget(i),a=A.getTarget(i),l=null;A.hasParent(a,this.timeAxis.dom.foreground)||this.timeAxis2&&A.hasParent(a,this.timeAxis2.dom.foreground)?l="axis":A.hasParent(a,this.linegraph.yAxisLeft.dom.frame)||A.hasParent(a,this.linegraph.yAxisRight.dom.frame)?l="data-axis":A.hasParent(a,this.linegraph.legendLeft.dom.frame)||A.hasParent(a,this.linegraph.legendRight.dom.frame)?l="legend":o!=null?l="custom-time":A.hasParent(a,this.currentTime.bar)?l="current-time":A.hasParent(a,this.dom.center)&&(l="background");var c=[],u=this.linegraph.yAxisLeft,h=this.linegraph.yAxisRight;return!u.hidden&&this.itemsData.length>0&&c.push(u.screenToValue(n)),!h.hidden&&this.itemsData.length>0&&c.push(h.screenToValue(n)),{event:i,customTime:o?o.options.id:null,what:l,pageX:i.srcEvent?i.srcEvent.pageX:i.pageX,pageY:i.srcEvent?i.srcEvent.pageY:i.pageY,x:r,y:n,time:s,value:c}};_o.prototype._createConfigurator=function(){return new sie(this,this.dom.container,ake)};const lke=tke();K.locale(lke);function oie({timelineRef:i,items:e,groups:t,onSelect:r,timelineOptions:n,clusterTemplate:s,markerStart:o,onMarkerStartChange:a}){const l=C.useRef(null);i??=C.useRef(null);const c=i.current;return C.useEffect(()=>{if(l.current&&!i.current){const u={titleTemplate:s},h={width:"100%",height:"100%",stack:!1,zoomMin:1e3*60,zoomMax:1e3*60*60*24*7,start:new Date(Date.now()-1440*60*1e3),end:new Date,selectable:!0,multiselect:!0,moveable:!1,cluster:u,snap:(m,g,v)=>Math.round(m.valueOf()/6e4)*6e4,groupEditable:{order:!0},groupOrder:function(m,g){return m.order-g.order},groupOrderSwap:function(m,g,v){const y=m.order;m.order=g.order,g.order=y},rollingMode:{follow:!1},xss:{disabled:!0},...n};i.current=new HM(l.current,e,t,h);const d=i.current;if(u){const m=d.getWindow();d.setWindow(m.start,m.end)}let f=!1;const p=m=>{d.setCustomTime(m,"marker"),a?.(m)};d.on("mouseDown",function(m){const g=d.getEventProperties(m.event);if(!(g.what!=="axis"&&g.what!=="custom-time"||m.event.shiftKey||m.event.ctrlKey)){f=!0,d.setOptions({moveable:!1,cluster:u});try{p(g.time)}catch{d.addCustomTime(g.time,"marker")}}}),d.on("mouseUp",function(){f=!1,d.setOptions({moveable:!0,cluster:u})}),d.on("mouseMove",function(m){if(f){const g=d.getEventProperties(m.event);p(g.time)}}),d.on("doubleClick",function(m){const g=d.getWindow();d.setWindow(g.start,g.end);const v=d.getEventProperties(m.event);v.what==="custom-time"&&d.removeCustomTime(v.customTime)})}return()=>{i.current?.destroy(),i.current=null}},[t,e,i]),C.useEffect(()=>{c?.on("select",u=>{c.getEventProperties(u.event),r?.(u.items)})},[r,c,i]),O.jsx("div",{dir:"ltr",ref:l,className:"h-full w-[1000px]"})}function cke({mapStore:i,entities:e,select:t,onFocusEntity:r}){const{data:n}=Ng(lge),s=C.useRef(null);C.useEffect(function(){return i.subscribe((c,u)=>{if(c.selectedEntities!==u.selectedEntities){if(c.selectedEntities.length===0){s.current?.setSelection([]);return}const h=n?.filter(f=>f.entityIds.find(p=>c.selectedEntities.includes(p))).map(f=>f.id),d=s.current?.getSelection();h&&!moe(h,d)&&s.current?.setSelection(h)}})},[n,i]),C.useEffect(function(){s.current&&r&&s.current.on("click",c=>{const u=s.current?.getEventProperties(c.event);if(u&&u.what==="group-label"){const h=u.group;h&&r(h.toString())}})},[s,n,r]);const o=C.useMemo(()=>new ll,[]);if(n&&o.getIds().length===0){const l=n?.map(c=>({id:c.id,className:"w-9 h-9",content:`${Ybe}`,start:c.timestamp,end:c.timestampEnd,group:c.entityIds[0]}));o.add(l)}const a=C.useMemo(()=>new ll,[]);if(n&&a.getIds().length===0)for(const l of n){const c=l.entityIds;for(const u of c){const h=u;a.get(h)||a.add({id:u,order:parseInt(u.split("-")[1]),content:`<div class="flex items-center gap-3 justify-center px-4"><div class="w-2 scale-50"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none" class="tabler-icon tabler-icon-circle-check-filled fill-green-500 dark:fill-green-400"><path d="M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"></path></svg></div>${u}
                              <button class="hidden text-secondary hover:text-primary">${Ube}</button></div>`})}}return n?O.jsx(oie,{timelineRef:s,items:o,groups:a,onSelect:l=>{const c=o.get(l),u=new Set(c.map(h=>h.group));Ome(t,e,u)},timelineOptions:{verticalScroll:!0}}):O.jsx("div",{children:"Loading..."})}/**
 * vis-timeline and vis-graph2d
 * https://visjs.github.io/vis-timeline/
 *
 * Create a fully customizable, interactive timeline with items and ranges.
 *
 * @version 8.3.1
 * @date    2025-09-15T17:43:30.491Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var lH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ce(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var cH={},kh,uH;function Ht(){if(uH)return kh;uH=1;var i=function(e){return e&&e.Math===Math&&e};return kh=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof lH=="object"&&lH)||i(typeof kh=="object"&&kh)||(function(){return this})()||Function("return this")(),kh}var rS,hH;function Ue(){return hH||(hH=1,rS=function(i){try{return!!i()}catch{return!0}}),rS}var nS,dH;function rp(){if(dH)return nS;dH=1;var i=Ue();return nS=!i(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),nS}var sS,fH;function Jv(){if(fH)return sS;fH=1;var i=rp(),e=Function.prototype,t=e.apply,r=e.call;return sS=typeof Reflect=="object"&&Reflect.apply||(i?r.bind(t):function(){return r.apply(t,arguments)}),sS}var oS,pH;function Je(){if(pH)return oS;pH=1;var i=rp(),e=Function.prototype,t=e.call,r=i&&e.bind.bind(t,t);return oS=i?r:function(n){return function(){return t.apply(n,arguments)}},oS}var aS,mH;function Os(){if(mH)return aS;mH=1;var i=Je(),e=i({}.toString),t=i("".slice);return aS=function(r){return t(e(r),8,-1)},aS}var lS,gH;function YM(){if(gH)return lS;gH=1;var i=Os(),e=Je();return lS=function(t){if(i(t)==="Function")return e(t)},lS}var cS,vH;function Ei(){if(vH)return cS;vH=1;var i=typeof document=="object"&&document.all;return cS=typeof i>"u"&&i!==void 0?function(e){return typeof e=="function"||e===i}:function(e){return typeof e=="function"},cS}var uS={},hS,yH;function Xt(){if(yH)return hS;yH=1;var i=Ue();return hS=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),hS}var dS,bH;function xr(){if(bH)return dS;bH=1;var i=rp(),e=Function.prototype.call;return dS=i?e.bind(e):function(){return e.apply(e,arguments)},dS}var fS={},_H;function ey(){if(_H)return fS;_H=1;var i={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!i.call({1:2},1);return fS.f=t?function(n){var s=e(this,n);return!!s&&s.enumerable}:i,fS}var pS,wH;function np(){return wH||(wH=1,pS=function(i,e){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:e}}),pS}var mS,xH;function ty(){if(xH)return mS;xH=1;var i=Je(),e=Ue(),t=Os(),r=Object,n=i("".split);return mS=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?n(s,""):r(s)}:r,mS}var gS,SH;function sp(){return SH||(SH=1,gS=function(i){return i==null}),gS}var vS,EH;function da(){if(EH)return vS;EH=1;var i=sp(),e=TypeError;return vS=function(t){if(i(t))throw new e("Can't call method on "+t);return t},vS}var yS,CH;function Hn(){if(CH)return yS;CH=1;var i=ty(),e=da();return yS=function(t){return i(e(t))},yS}var bS,TH;function Bi(){if(TH)return bS;TH=1;var i=Ei();return bS=function(e){return typeof e=="object"?e!==null:i(e)},bS}var _S,OH;function Tt(){return OH||(OH=1,_S={}),_S}var wS,RH;function pn(){if(RH)return wS;RH=1;var i=Tt(),e=Ht(),t=Ei(),r=function(n){return t(n)?n:void 0};return wS=function(n,s){return arguments.length<2?r(i[n])||r(e[n]):i[n]&&i[n][s]||e[n]&&e[n][s]},wS}var xS,PH;function Kt(){if(PH)return xS;PH=1;var i=Je();return xS=i({}.isPrototypeOf),xS}var SS,DH;function nh(){if(DH)return SS;DH=1;var i=Ht(),e=i.navigator,t=e&&e.userAgent;return SS=t?String(t):"",SS}var ES,IH;function op(){if(IH)return ES;IH=1;var i=Ht(),e=nh(),t=i.process,r=i.Deno,n=t&&t.versions||r&&r.version,s=n&&n.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),ES=a,ES}var CS,kH;function sh(){if(kH)return CS;kH=1;var i=op(),e=Ue(),t=Ht(),r=t.String;return CS=!!Object.getOwnPropertySymbols&&!e(function(){var n=Symbol("symbol detection");return!r(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&i&&i<41}),CS}var TS,MH;function aie(){if(MH)return TS;MH=1;var i=sh();return TS=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol",TS}var OS,AH;function ap(){if(AH)return OS;AH=1;var i=pn(),e=Ei(),t=Kt(),r=aie(),n=Object;return OS=r?function(s){return typeof s=="symbol"}:function(s){var o=i("Symbol");return e(o)&&t(o.prototype,n(s))},OS}var RS,NH;function oh(){if(NH)return RS;NH=1;var i=String;return RS=function(e){try{return i(e)}catch{return"Object"}},RS}var PS,$H;function fa(){if($H)return PS;$H=1;var i=Ei(),e=oh(),t=TypeError;return PS=function(r){if(i(r))return r;throw new t(e(r)+" is not a function")},PS}var DS,FH;function UM(){if(FH)return DS;FH=1;var i=fa(),e=sp();return DS=function(t,r){var n=t[r];return e(n)?void 0:i(n)},DS}var IS,LH;function uke(){if(LH)return IS;LH=1;var i=xr(),e=Ei(),t=Bi(),r=TypeError;return IS=function(n,s){var o,a;if(s==="string"&&e(o=n.toString)&&!t(a=i(o,n))||e(o=n.valueOf)&&!t(a=i(o,n))||s!=="string"&&e(o=n.toString)&&!t(a=i(o,n)))return a;throw new r("Can't convert object to primitive value")},IS}var kS={exports:{}},MS,qH;function lp(){return qH||(qH=1,MS=!0),MS}var AS,jH;function hke(){if(jH)return AS;jH=1;var i=Ht(),e=Object.defineProperty;return AS=function(t,r){try{e(i,t,{value:r,configurable:!0,writable:!0})}catch{i[t]=r}return r},AS}var GH;function VM(){if(GH)return kS.exports;GH=1;var i=lp(),e=Ht(),t=hke(),r="__core-js_shared__",n=kS.exports=e[r]||t(r,{});return(n.versions||(n.versions=[])).push({version:"3.44.0",mode:i?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),kS.exports}var NS,WH;function ah(){if(WH)return NS;WH=1;var i=VM();return NS=function(e,t){return i[e]||(i[e]=t||{})},NS}var $S,BH;function Hr(){if(BH)return $S;BH=1;var i=da(),e=Object;return $S=function(t){return e(i(t))},$S}var FS,zH;function nr(){if(zH)return FS;zH=1;var i=Je(),e=Hr(),t=i({}.hasOwnProperty);return FS=Object.hasOwn||function(n,s){return t(e(n),s)},FS}var LS,HH;function iy(){if(HH)return LS;HH=1;var i=Je(),e=0,t=Math.random(),r=i(1.1.toString);return LS=function(n){return"Symbol("+(n===void 0?"":n)+")_"+r(++e+t,36)},LS}var qS,YH;function oi(){if(YH)return qS;YH=1;var i=Ht(),e=ah(),t=nr(),r=iy(),n=sh(),s=aie(),o=i.Symbol,a=e("wks"),l=s?o.for||o:o&&o.withoutSetter||r;return qS=function(c){return t(a,c)||(a[c]=n&&t(o,c)?o[c]:l("Symbol."+c)),a[c]},qS}var jS,UH;function lie(){if(UH)return jS;UH=1;var i=xr(),e=Bi(),t=ap(),r=UM(),n=uke(),s=oi(),o=TypeError,a=s("toPrimitive");return jS=function(l,c){if(!e(l)||t(l))return l;var u=r(l,a),h;if(u){if(c===void 0&&(c="default"),h=i(u,l,c),!e(h)||t(h))return h;throw new o("Can't convert object to primitive value")}return c===void 0&&(c="number"),n(l,c)},jS}var GS,VH;function XM(){if(VH)return GS;VH=1;var i=lie(),e=ap();return GS=function(t){var r=i(t,"string");return e(r)?r:r+""},GS}var WS,XH;function cie(){if(XH)return WS;XH=1;var i=Ht(),e=Bi(),t=i.document,r=e(t)&&e(t.createElement);return WS=function(n){return r?t.createElement(n):{}},WS}var BS,KH;function uie(){if(KH)return BS;KH=1;var i=Xt(),e=Ue(),t=cie();return BS=!i&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),BS}var ZH;function ry(){if(ZH)return uS;ZH=1;var i=Xt(),e=xr(),t=ey(),r=np(),n=Hn(),s=XM(),o=nr(),a=uie(),l=Object.getOwnPropertyDescriptor;return uS.f=i?l:function(u,h){if(u=n(u),h=s(h),a)try{return l(u,h)}catch{}if(o(u,h))return r(!e(t.f,u,h),u[h])},uS}var zS,QH;function dke(){if(QH)return zS;QH=1;var i=Ue(),e=Ei(),t=/#|\.prototype\./,r=function(l,c){var u=s[n(l)];return u===a?!0:u===o?!1:e(c)?i(c):!!c},n=r.normalize=function(l){return String(l).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return zS=r,zS}var HS,JH;function ny(){if(JH)return HS;JH=1;var i=YM(),e=fa(),t=rp(),r=i(i.bind);return HS=function(n,s){return e(n),s===void 0?n:t?r(n,s):function(){return n.apply(s,arguments)}},HS}var YS={},US,eY;function hie(){if(eY)return US;eY=1;var i=Xt(),e=Ue();return US=i&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),US}var VS,tY;function wo(){if(tY)return VS;tY=1;var i=Bi(),e=String,t=TypeError;return VS=function(r){if(i(r))return r;throw new t(e(r)+" is not an object")},VS}var iY;function mn(){if(iY)return YS;iY=1;var i=Xt(),e=uie(),t=hie(),r=wo(),n=XM(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",u="writable";return YS.f=i?t?function(d,f,p){if(r(d),f=n(f),r(p),typeof d=="function"&&f==="prototype"&&"value"in p&&u in p&&!p[u]){var m=a(d,f);m&&m[u]&&(d[f]=p.value,p={configurable:c in p?p[c]:m[c],enumerable:l in p?p[l]:m[l],writable:!1})}return o(d,f,p)}:o:function(d,f,p){if(r(d),f=n(f),r(p),e)try{return o(d,f,p)}catch{}if("get"in p||"set"in p)throw new s("Accessors not supported");return"value"in p&&(d[f]=p.value),d},YS}var XS,rY;function lh(){if(rY)return XS;rY=1;var i=Xt(),e=mn(),t=np();return XS=i?function(r,n,s){return e.f(r,n,t(1,s))}:function(r,n,s){return r[n]=s,r},XS}var KS,nY;function fe(){if(nY)return KS;nY=1;var i=Ht(),e=Jv(),t=YM(),r=Ei(),n=ry().f,s=dke(),o=Tt(),a=ny(),l=lh(),c=nr(),u=function(h){var d=function(f,p,m){if(this instanceof d){switch(arguments.length){case 0:return new h;case 1:return new h(f);case 2:return new h(f,p)}return new h(f,p,m)}return e(h,this,arguments)};return d.prototype=h.prototype,d};return KS=function(h,d){var f=h.target,p=h.global,m=h.stat,g=h.proto,v=p?i:m?i[f]:i[f]&&i[f].prototype,y=p?o:o[f]||l(o,f,{})[f],_=y.prototype,b,w,S,E,x,T,R,P,I;for(E in d)b=s(p?E:f+(m?".":"#")+E,h.forced),w=!b&&v&&c(v,E),T=y[E],w&&(h.dontCallGetSet?(I=n(v,E),R=I&&I.value):R=v[E]),x=w&&R?R:d[E],!(!b&&!g&&typeof T==typeof x)&&(h.bind&&w?P=a(x,i):h.wrap&&w?P=u(x):g&&r(x)?P=t(x):P=x,(h.sham||x&&x.sham||T&&T.sham)&&l(P,"sham",!0),l(y,E,P),g&&(S=f+"Prototype",c(o,S)||l(o,S,{}),l(o[S],E,x),h.real&&_&&(b||!_[E])&&l(_,E,x)))},KS}var ZS,sY;function Ll(){if(sY)return ZS;sY=1;var i=Os();return ZS=Array.isArray||function(t){return i(t)==="Array"},ZS}var oY;function fke(){if(oY)return cH;oY=1;var i=fe(),e=Ll();return i({target:"Array",stat:!0},{isArray:e}),cH}var QS,aY;function pke(){if(aY)return QS;aY=1,fke();var i=Tt();return QS=i.Array.isArray,QS}var JS,lY;function mke(){if(lY)return JS;lY=1;var i=pke();return JS=i,JS}var eE,cY;function gke(){return cY||(cY=1,eE=mke()),eE}var vke=gke(),_t=Ce(vke),uY={},tE,hY;function ch(){if(hY)return tE;hY=1;var i=Je();return tE=i([].slice),tE}var iE,dY;function yke(){if(dY)return iE;dY=1;var i=Je(),e=fa(),t=Bi(),r=nr(),n=ch(),s=rp(),o=Function,a=i([].concat),l=i([].join),c={},u=function(h,d,f){if(!r(c,d)){for(var p=[],m=0;m<d;m++)p[m]="a["+m+"]";c[d]=o("C,a","return new C("+l(p,",")+")")}return c[d](h,f)};return iE=s?o.bind:function(d){var f=e(this),p=f.prototype,m=n(arguments,1),g=function(){var y=a(m,n(arguments));return this instanceof g?u(f,y.length,y):f.apply(d,y)};return t(p)&&(g.prototype=p),g},iE}var fY;function bke(){if(fY)return uY;fY=1;var i=fe(),e=yke();return i({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),uY}var rE,pY;function Ci(){if(pY)return rE;pY=1;var i=Ht(),e=Tt();return rE=function(t,r){var n=e[t+"Prototype"],s=n&&n[r];if(s)return s;var o=i[t],a=o&&o.prototype;return a&&a[r]},rE}var nE,mY;function _ke(){if(mY)return nE;mY=1,bke();var i=Ci();return nE=i("Function","bind"),nE}var sE,gY;function wke(){if(gY)return sE;gY=1;var i=Kt(),e=_ke(),t=Function.prototype;return sE=function(r){var n=r.bind;return r===t||i(t,r)&&n===t.bind?e:n},sE}var oE,vY;function xke(){if(vY)return oE;vY=1;var i=wke();return oE=i,oE}var aE,yY;function Ske(){return yY||(yY=1,aE=xke()),aE}var Eke=Ske(),V=Ce(Eke),bY={},_Y={},lE,wY;function die(){if(wY)return lE;wY=1;var i=Ht(),e=nh(),t=Os(),r=function(n){return e.slice(0,n.length)===n};return lE=(function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":i.Bun&&typeof Bun.version=="string"?"BUN":i.Deno&&typeof Deno.version=="object"?"DENO":t(i.process)==="process"?"NODE":i.window&&i.document?"BROWSER":"REST"})(),lE}var cE,xY;function Cke(){if(xY)return cE;xY=1;var i=TypeError;return cE=function(e,t){if(e<t)throw new i("Not enough arguments");return e},cE}var uE,SY;function fie(){if(SY)return uE;SY=1;var i=Ht(),e=Jv(),t=Ei(),r=die(),n=nh(),s=ch(),o=Cke(),a=i.Function,l=/MSIE .\./.test(n)||r==="BUN"&&(function(){var c=i.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")})();return uE=function(c,u){var h=u?2:1;return l?function(d,f){var p=o(arguments.length,1)>h,m=t(d)?d:a(d),g=p?s(arguments,h):[],v=p?function(){e(m,this,g)}:m;return u?c(v,f):c(v)}:c},uE}var EY;function Tke(){if(EY)return _Y;EY=1;var i=fe(),e=Ht(),t=fie(),r=t(e.setInterval,!0);return i({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),_Y}var CY={},TY;function Oke(){if(TY)return CY;TY=1;var i=fe(),e=Ht(),t=fie(),r=t(e.setTimeout,!0);return i({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),CY}var OY;function pie(){return OY||(OY=1,Tke(),Oke()),bY}var hE,RY;function Rke(){if(RY)return hE;RY=1,pie();var i=Tt();return hE=i.setTimeout,hE}var dE,PY;function Pke(){return PY||(PY=1,dE=Rke()),dE}var Dke=Pke(),Lr=Ce(Dke),fE,DY;function KM(){if(DY)return fE;DY=1;var i=oi(),e=i("toStringTag"),t={};return t[e]="z",fE=String(t)==="[object z]",fE}var pE,IY;function cp(){if(IY)return pE;IY=1;var i=KM(),e=Ei(),t=Os(),r=oi(),n=r("toStringTag"),s=Object,o=t((function(){return arguments})())==="Arguments",a=function(l,c){try{return l[c]}catch{}};return pE=i?t:function(l){var c,u,h;return l===void 0?"Undefined":l===null?"Null":typeof(u=a(c=s(l),n))=="string"?u:o?t(c):(h=t(c))==="Object"&&e(c.callee)?"Arguments":h},pE}var kY={},mE,MY;function Ike(){if(MY)return mE;MY=1;var i=Math.ceil,e=Math.floor;return mE=Math.trunc||function(r){var n=+r;return(n>0?e:i)(n)},mE}var gE,AY;function uh(){if(AY)return gE;AY=1;var i=Ike();return gE=function(e){var t=+e;return t!==t||t===0?0:i(t)},gE}var vE,NY;function mie(){if(NY)return vE;NY=1;var i=uh(),e=Math.min;return vE=function(t){var r=i(t);return r>0?e(r,9007199254740991):0},vE}var yE,$Y;function xo(){if($Y)return yE;$Y=1;var i=mie();return yE=function(e){return i(e.length)},yE}var bE,FY;function kke(){if(FY)return bE;FY=1;var i=Je(),e=Ei(),t=VM(),r=i(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(n){return r(n)}),bE=t.inspectSource,bE}var _E,LY;function gie(){if(LY)return _E;LY=1;var i=Je(),e=Ue(),t=Ei(),r=cp(),n=pn(),s=kke(),o=function(){},a=n("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=i(l.exec),u=!l.test(o),h=function(p){if(!t(p))return!1;try{return a(o,[],p),!0}catch{return!1}},d=function(p){if(!t(p))return!1;switch(r(p)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u||!!c(l,s(p))}catch{return!0}};return d.sham=!0,_E=!a||e(function(){var f;return h(h.call)||!h(Object)||!h(function(){f=!0})||f})?d:h,_E}var wE,qY;function Mke(){if(qY)return wE;qY=1;var i=Ll(),e=gie(),t=Bi(),r=oi(),n=r("species"),s=Array;return wE=function(o){var a;return i(o)&&(a=o.constructor,e(a)&&(a===s||i(a.prototype))?a=void 0:t(a)&&(a=a[n],a===null&&(a=void 0))),a===void 0?s:a},wE}var xE,jY;function ZM(){if(jY)return xE;jY=1;var i=Mke();return xE=function(e,t){return new(i(e))(t===0?0:t)},xE}var SE,GY;function pa(){if(GY)return SE;GY=1;var i=ny(),e=Je(),t=ty(),r=Hr(),n=xo(),s=ZM(),o=e([].push),a=function(l){var c=l===1,u=l===2,h=l===3,d=l===4,f=l===6,p=l===7,m=l===5||f;return function(g,v,y,_){for(var b=r(g),w=t(b),S=n(w),E=i(v,y),x=0,T=_||s,R=c?T(g,S):u||p?T(g,0):void 0,P,I;S>x;x++)if((m||x in w)&&(P=w[x],I=E(P,x,b),l))if(c)R[x]=I;else if(I)switch(l){case 3:return!0;case 5:return P;case 6:return x;case 2:o(R,P)}else switch(l){case 4:return!1;case 7:o(R,P)}return f?-1:h||d?d:R}};return SE={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},SE}var EE,WY;function hh(){if(WY)return EE;WY=1;var i=Ue();return EE=function(e,t){var r=[][e];return!!r&&i(function(){r.call(null,t||function(){return 1},1)})},EE}var CE,BY;function Ake(){if(BY)return CE;BY=1;var i=pa().forEach,e=hh(),t=e("forEach");return CE=t?[].forEach:function(n){return i(this,n,arguments.length>1?arguments[1]:void 0)},CE}var zY;function Nke(){if(zY)return kY;zY=1;var i=fe(),e=Ake();return i({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),kY}var TE,HY;function $ke(){if(HY)return TE;HY=1,Nke();var i=Ci();return TE=i("Array","forEach"),TE}var OE,YY;function Fke(){if(YY)return OE;YY=1;var i=$ke();return OE=i,OE}var RE,UY;function Lke(){if(UY)return RE;UY=1;var i=cp(),e=nr(),t=Kt(),r=Fke(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return RE=function(o){var a=o.forEach;return o===n||t(n,o)&&a===n.forEach||e(s,i(o))?r:a},RE}var PE,VY;function qke(){return VY||(VY=1,PE=Lke()),PE}var jke=qke(),le=Ce(jke);const Nr=typeof window<"u"&&window.moment||K;var XY={},KY={},DE,ZY;function gn(){if(ZY)return DE;ZY=1;var i=cp(),e=String;return DE=function(t){if(i(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},DE}var IE={},kE,QY;function sy(){if(QY)return kE;QY=1;var i=uh(),e=Math.max,t=Math.min;return kE=function(r,n){var s=i(r);return s<0?e(s+n,0):t(s,n)},kE}var ME,JY;function QM(){if(JY)return ME;JY=1;var i=Hn(),e=sy(),t=xo(),r=function(n){return function(s,o,a){var l=i(s),c=t(l);if(c===0)return!n&&-1;var u=e(a,c),h;if(n&&o!==o){for(;c>u;)if(h=l[u++],h!==h)return!0}else for(;c>u;u++)if((n||u in l)&&l[u]===o)return n||u||0;return!n&&-1}};return ME={includes:r(!0),indexOf:r(!1)},ME}var AE,e3;function up(){return e3||(e3=1,AE={}),AE}var NE,t3;function vie(){if(t3)return NE;t3=1;var i=Je(),e=nr(),t=Hn(),r=QM().indexOf,n=up(),s=i([].push);return NE=function(o,a){var l=t(o),c=0,u=[],h;for(h in l)!e(n,h)&&e(l,h)&&s(u,h);for(;a.length>c;)e(l,h=a[c++])&&(~r(u,h)||s(u,h));return u},NE}var $E,i3;function JM(){return i3||(i3=1,$E=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),$E}var FE,r3;function hp(){if(r3)return FE;r3=1;var i=vie(),e=JM();return FE=Object.keys||function(r){return i(r,e)},FE}var n3;function eA(){if(n3)return IE;n3=1;var i=Xt(),e=hie(),t=mn(),r=wo(),n=Hn(),s=hp();return IE.f=i&&!e?Object.defineProperties:function(a,l){r(a);for(var c=n(l),u=s(l),h=u.length,d=0,f;h>d;)t.f(a,f=u[d++],c[f]);return a},IE}var LE,s3;function Gke(){if(s3)return LE;s3=1;var i=pn();return LE=i("document","documentElement"),LE}var qE,o3;function oy(){if(o3)return qE;o3=1;var i=ah(),e=iy(),t=i("keys");return qE=function(r){return t[r]||(t[r]=e(r))},qE}var jE,a3;function dp(){if(a3)return jE;a3=1;var i=wo(),e=eA(),t=JM(),r=up(),n=Gke(),s=cie(),o=oy(),a=">",l="<",c="prototype",u="script",h=o("IE_PROTO"),d=function(){},f=function(y){return l+u+a+y+l+"/"+u+a},p=function(y){y.write(f("")),y.close();var _=y.parentWindow.Object;return y=null,_},m=function(){var y=s("iframe"),_="java"+u+":",b;return y.style.display="none",n.appendChild(y),y.src=String(_),b=y.contentWindow.document,b.open(),b.write(f("document.F=Object")),b.close(),b.F},g,v=function(){try{g=new ActiveXObject("htmlfile")}catch{}v=typeof document<"u"?document.domain&&g?p(g):m():p(g);for(var y=t.length;y--;)delete v[c][t[y]];return v()};return r[h]=!0,jE=Object.create||function(_,b){var w;return _!==null?(d[c]=i(_),w=new d,d[c]=null,w[h]=_):w=v(),b===void 0?w:e.f(w,b)},jE}var GE={},l3;function ay(){if(l3)return GE;l3=1;var i=vie(),e=JM(),t=e.concat("length","prototype");return GE.f=Object.getOwnPropertyNames||function(n){return i(n,t)},GE}var WE={},c3;function yie(){if(c3)return WE;c3=1;var i=Os(),e=Hn(),t=ay().f,r=ch(),n=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(n)}};return WE.f=function(a){return n&&i(a)==="Window"?s(a):t(e(a))},WE}var BE={},u3;function ly(){return u3||(u3=1,BE.f=Object.getOwnPropertySymbols),BE}var zE,h3;function fp(){if(h3)return zE;h3=1;var i=lh();return zE=function(e,t,r,n){return n&&n.enumerable?e[t]=r:i(e,t,r),e},zE}var HE,d3;function tA(){if(d3)return HE;d3=1;var i=mn();return HE=function(e,t,r){return i.f(e,t,r)},HE}var YE={},f3;function cy(){if(f3)return YE;f3=1;var i=oi();return YE.f=i,YE}var UE,p3;function qt(){if(p3)return UE;p3=1;var i=Tt(),e=nr(),t=cy(),r=mn().f;return UE=function(n){var s=i.Symbol||(i.Symbol={});e(s,n)||r(s,n,{value:t.f(n)})},UE}var VE,m3;function bie(){if(m3)return VE;m3=1;var i=xr(),e=pn(),t=oi(),r=fp();return VE=function(){var n=e("Symbol"),s=n&&n.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(l){return i(o,this)},{arity:1})},VE}var XE,g3;function Wke(){if(g3)return XE;g3=1;var i=KM(),e=cp();return XE=i?{}.toString:function(){return"[object "+e(this)+"]"},XE}var KE,v3;function ql(){if(v3)return KE;v3=1;var i=KM(),e=mn().f,t=lh(),r=nr(),n=Wke(),s=oi(),o=s("toStringTag");return KE=function(a,l,c,u){var h=c?a:a&&a.prototype;h&&(r(h,o)||e(h,o,{configurable:!0,value:l}),u&&!i&&t(h,"toString",n))},KE}var ZE,y3;function Bke(){if(y3)return ZE;y3=1;var i=Ht(),e=Ei(),t=i.WeakMap;return ZE=e(t)&&/native code/.test(String(t)),ZE}var QE,b3;function pp(){if(b3)return QE;b3=1;var i=Bke(),e=Ht(),t=Bi(),r=lh(),n=nr(),s=VM(),o=oy(),a=up(),l="Object already initialized",c=e.TypeError,u=e.WeakMap,h,d,f,p=function(y){return f(y)?d(y):h(y,{})},m=function(y){return function(_){var b;if(!t(_)||(b=d(_)).type!==y)throw new c("Incompatible receiver, "+y+" required");return b}};if(i||s.state){var g=s.state||(s.state=new u);g.get=g.get,g.has=g.has,g.set=g.set,h=function(y,_){if(g.has(y))throw new c(l);return _.facade=y,g.set(y,_),_},d=function(y){return g.get(y)||{}},f=function(y){return g.has(y)}}else{var v=o("state");a[v]=!0,h=function(y,_){if(n(y,v))throw new c(l);return _.facade=y,r(y,v,_),_},d=function(y){return n(y,v)?y[v]:{}},f=function(y){return n(y,v)}}return QE={set:h,get:d,has:f,enforce:p,getterFor:m},QE}var _3;function zke(){if(_3)return KY;_3=1;var i=fe(),e=Ht(),t=xr(),r=Je(),n=lp(),s=Xt(),o=sh(),a=Ue(),l=nr(),c=Kt(),u=wo(),h=Hn(),d=XM(),f=gn(),p=np(),m=dp(),g=hp(),v=ay(),y=yie(),_=ly(),b=ry(),w=mn(),S=eA(),E=ey(),x=fp(),T=tA(),R=ah(),P=oy(),I=up(),$=iy(),F=oi(),W=cy(),N=qt(),q=bie(),D=ql(),j=pp(),X=pa().forEach,U=P("hidden"),M="Symbol",L="prototype",G=j.set,B=j.getterFor(M),H=Object[L],z=e.Symbol,Q=z&&z[L],re=e.RangeError,me=e.TypeError,et=e.QObject,ot=b.f,ve=w.f,ht=y.f,Ot=E.f,At=r([].push),Ve=R("symbols"),Le=R("op-symbols"),sr=R("wks"),ai=!et||!et[L]||!et[L].findChild,Zt=function(ce,te,ne){var ie=ot(H,te);ie&&delete H[te],ve(ce,te,ne),ie&&ce!==H&&ve(H,te,ie)},Qt=s&&a(function(){return m(ve({},"a",{get:function(){return ve(this,"a",{value:7}).a}})).a!==7})?Zt:ve,Xe=function(ce,te){var ne=Ve[ce]=m(Q);return G(ne,{type:M,tag:ce,description:te}),s||(ne.description=te),ne},Ti=function(te,ne,ie){te===H&&Ti(Le,ne,ie),u(te);var ue=d(ne);return u(ie),l(Ve,ue)?(ie.enumerable?(l(te,U)&&te[U][ue]&&(te[U][ue]=!1),ie=m(ie,{enumerable:p(0,!1)})):(l(te,U)||ve(te,U,p(1,m(null))),te[U][ue]=!0),Qt(te,ue,ie)):ve(te,ue,ie)},Sr=function(te,ne){u(te);var ie=h(ne),ue=g(ie).concat(Vn(ie));return X(ue,function($e){(!s||t(or,ie,$e))&&Ti(te,$e,ie[$e])}),te},Yn=function(te,ne){return ne===void 0?m(te):Sr(m(te),ne)},or=function(te){var ne=d(te),ie=t(Ot,this,ne);return this===H&&l(Ve,ne)&&!l(Le,ne)?!1:ie||!l(this,ne)||!l(Ve,ne)||l(this,U)&&this[U][ne]?ie:!0},Rs=function(te,ne){var ie=h(te),ue=d(ne);if(!(ie===H&&l(Ve,ue)&&!l(Le,ue))){var $e=ot(ie,ue);return $e&&l(Ve,ue)&&!(l(ie,U)&&ie[U][ue])&&($e.enumerable=!0),$e}},Un=function(te){var ne=ht(h(te)),ie=[];return X(ne,function(ue){!l(Ve,ue)&&!l(I,ue)&&At(ie,ue)}),ie},Vn=function(ce){var te=ce===H,ne=ht(te?Le:h(ce)),ie=[];return X(ne,function(ue){l(Ve,ue)&&(!te||l(H,ue))&&At(ie,Ve[ue])}),ie};return o||(z=function(){if(c(Q,this))throw new me("Symbol is not a constructor");var te=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),ne=$(te),ie=function(ue){var $e=this===void 0?e:this;$e===H&&t(ie,Le,ue),l($e,U)&&l($e[U],ne)&&($e[U][ne]=!1);var Xn=p(1,ue);try{Qt($e,ne,Xn)}catch(we){if(!(we instanceof re))throw we;Zt($e,ne,Xn)}};return s&&ai&&Qt(H,ne,{configurable:!0,set:ie}),Xe(ne,te)},Q=z[L],x(Q,"toString",function(){return B(this).tag}),x(z,"withoutSetter",function(ce){return Xe($(ce),ce)}),E.f=or,w.f=Ti,S.f=Sr,b.f=Rs,v.f=y.f=Un,_.f=Vn,W.f=function(ce){return Xe(F(ce),ce)},s&&(T(Q,"description",{configurable:!0,get:function(){return B(this).description}}),n||x(H,"propertyIsEnumerable",or,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:z}),X(g(sr),function(ce){N(ce)}),i({target:M,stat:!0,forced:!o},{useSetter:function(){ai=!0},useSimple:function(){ai=!1}}),i({target:"Object",stat:!0,forced:!o,sham:!s},{create:Yn,defineProperty:Ti,defineProperties:Sr,getOwnPropertyDescriptor:Rs}),i({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:Un}),q(),D(z,M),I[U]=!0,KY}var w3={},JE,x3;function _ie(){if(x3)return JE;x3=1;var i=sh();return JE=i&&!!Symbol.for&&!!Symbol.keyFor,JE}var S3;function Hke(){if(S3)return w3;S3=1;var i=fe(),e=pn(),t=nr(),r=gn(),n=ah(),s=_ie(),o=n("string-to-symbol-registry"),a=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{for:function(l){var c=r(l);if(t(o,c))return o[c];var u=e("Symbol")(c);return o[c]=u,a[u]=c,u}}),w3}var E3={},C3;function Yke(){if(C3)return E3;C3=1;var i=fe(),e=nr(),t=ap(),r=oh(),n=ah(),s=_ie(),o=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!t(l))throw new TypeError(r(l)+" is not a symbol");if(e(o,l))return o[l]}}),E3}var T3={},eC,O3;function Uke(){if(O3)return eC;O3=1;var i=Je(),e=Ll(),t=Ei(),r=Os(),n=gn(),s=i([].push);return eC=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,l=[],c=0;c<a;c++){var u=o[c];typeof u=="string"?s(l,u):(typeof u=="number"||r(u)==="Number"||r(u)==="String")&&s(l,n(u))}var h=l.length,d=!0;return function(f,p){if(d)return d=!1,p;if(e(this))return p;for(var m=0;m<h;m++)if(l[m]===f)return p}}},eC}var R3;function wie(){if(R3)return T3;R3=1;var i=fe(),e=pn(),t=Jv(),r=xr(),n=Je(),s=Ue(),o=Ei(),a=ap(),l=ch(),c=Uke(),u=sh(),h=String,d=e("JSON","stringify"),f=n(/./.exec),p=n("".charAt),m=n("".charCodeAt),g=n("".replace),v=n(1.1.toString),y=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,w=!u||s(function(){var T=e("Symbol")("stringify detection");return d([T])!=="[null]"||d({a:T})!=="{}"||d(Object(T))!=="{}"}),S=s(function(){return d("\uDF06\uD834")!=='"\\udf06\\ud834"'||d("\uDEAD")!=='"\\udead"'}),E=function(T,R){var P=l(arguments),I=c(R);if(!(!o(I)&&(T===void 0||a(T))))return P[1]=function($,F){if(o(I)&&(F=r(I,this,h($),F)),!a(F))return F},t(d,null,P)},x=function(T,R,P){var I=p(P,R-1),$=p(P,R+1);return f(_,T)&&!f(b,$)||f(b,T)&&!f(_,I)?"\\u"+v(m(T,0),16):T};return d&&i({target:"JSON",stat:!0,arity:3,forced:w||S},{stringify:function(R,P,I){var $=l(arguments),F=t(w?E:d,null,$);return S&&typeof F=="string"?g(F,y,x):F}}),T3}var P3={},D3;function Vke(){if(D3)return P3;D3=1;var i=fe(),e=sh(),t=Ue(),r=ly(),n=Hr(),s=!e||t(function(){r.f(1)});return i({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var l=r.f;return l?l(n(a)):[]}}),P3}var I3;function xie(){return I3||(I3=1,zke(),Hke(),Yke(),wie(),Vke()),XY}var tC,k3;function Xke(){if(k3)return tC;k3=1,xie();var i=Tt();return tC=i.Object.getOwnPropertySymbols,tC}var iC,M3;function Kke(){if(M3)return iC;M3=1;var i=Xke();return iC=i,iC}var rC,A3;function Zke(){return A3||(A3=1,rC=Kke()),rC}var Qke=Zke(),N3=Ce(Qke),$3={},nC,F3;function mp(){if(F3)return nC;F3=1;var i=Ue(),e=oi(),t=op(),r=e("species");return nC=function(n){return t>=51||!i(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[n](Boolean).foo!==1})},nC}var L3;function Jke(){if(L3)return $3;L3=1;var i=fe(),e=pa().filter,t=mp(),r=t("filter");return i({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),$3}var sC,q3;function eMe(){if(q3)return sC;q3=1,Jke();var i=Ci();return sC=i("Array","filter"),sC}var oC,j3;function tMe(){if(j3)return oC;j3=1;var i=Kt(),e=eMe(),t=Array.prototype;return oC=function(r){var n=r.filter;return r===t||i(t,r)&&n===t.filter?e:n},oC}var aC,G3;function iMe(){if(G3)return aC;G3=1;var i=tMe();return aC=i,aC}var lC,W3;function rMe(){return W3||(W3=1,lC=iMe()),lC}var nMe=rMe(),Ye=Ce(nMe),cC={exports:{}},B3={},z3;function sMe(){if(z3)return B3;z3=1;var i=fe(),e=Ue(),t=Hn(),r=ry().f,n=Xt(),s=!n||e(function(){r(1)});return i({target:"Object",stat:!0,forced:s,sham:!n},{getOwnPropertyDescriptor:function(a,l){return r(t(a),l)}}),B3}var H3;function oMe(){if(H3)return cC.exports;H3=1,sMe();var i=Tt(),e=i.Object,t=cC.exports=function(n,s){return e.getOwnPropertyDescriptor(n,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),cC.exports}var uC,Y3;function aMe(){if(Y3)return uC;Y3=1;var i=oMe();return uC=i,uC}var hC,U3;function lMe(){return U3||(U3=1,hC=aMe()),hC}var cMe=lMe(),Sie=Ce(cMe),V3={},dC,X3;function Eie(){if(X3)return dC;X3=1;var i=pn(),e=Je(),t=ay(),r=ly(),n=wo(),s=e([].concat);return dC=i("Reflect","ownKeys")||function(a){var l=t.f(n(a)),c=r.f;return c?s(l,c(a)):l},dC}var fC,K3;function uy(){if(K3)return fC;K3=1;var i=Xt(),e=mn(),t=np();return fC=function(r,n,s){i?e.f(r,n,t(0,s)):r[n]=s},fC}var Z3;function uMe(){if(Z3)return V3;Z3=1;var i=fe(),e=Xt(),t=Eie(),r=Hn(),n=ry(),s=uy();return i({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var l=r(a),c=n.f,u=t(l),h={},d=0,f,p;u.length>d;)p=c(l,f=u[d++]),p!==void 0&&s(h,f,p);return h}}),V3}var pC,Q3;function hMe(){if(Q3)return pC;Q3=1,uMe();var i=Tt();return pC=i.Object.getOwnPropertyDescriptors,pC}var mC,J3;function dMe(){if(J3)return mC;J3=1;var i=hMe();return mC=i,mC}var gC,e5;function fMe(){return e5||(e5=1,gC=dMe()),gC}var pMe=fMe(),t5=Ce(pMe),vC={exports:{}},i5={},r5;function mMe(){if(r5)return i5;r5=1;var i=fe(),e=Xt(),t=eA().f;return i({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),i5}var n5;function gMe(){if(n5)return vC.exports;n5=1,mMe();var i=Tt(),e=i.Object,t=vC.exports=function(n,s){return e.defineProperties(n,s)};return e.defineProperties.sham&&(t.sham=!0),vC.exports}var yC,s5;function vMe(){if(s5)return yC;s5=1;var i=gMe();return yC=i,yC}var bC,o5;function yMe(){return o5||(o5=1,bC=vMe()),bC}var bMe=yMe(),_Me=Ce(bMe),_C={exports:{}},a5={},l5;function wMe(){if(l5)return a5;l5=1;var i=fe(),e=Xt(),t=mn().f;return i({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),a5}var c5;function xMe(){if(c5)return _C.exports;c5=1,wMe();var i=Tt(),e=i.Object,t=_C.exports=function(n,s,o){return e.defineProperty(n,s,o)};return e.defineProperty.sham&&(t.sham=!0),_C.exports}var wC,u5;function Cie(){if(u5)return wC;u5=1;var i=xMe();return wC=i,wC}var xC,h5;function SMe(){if(h5)return xC;h5=1;var i=Cie();return xC=i,xC}var SC,d5;function EMe(){if(d5)return SC;d5=1;var i=SMe();return SC=i,SC}var EC,f5;function CMe(){return f5||(f5=1,EC=EMe()),EC}var TMe=CMe(),OMe=Ce(TMe),p5={},CC,m5;function Tie(){if(m5)return CC;m5=1;var i=TypeError,e=9007199254740991;return CC=function(t){if(t>e)throw i("Maximum allowed index exceeded");return t},CC}var g5;function Oie(){if(g5)return p5;g5=1;var i=fe(),e=Ue(),t=Ll(),r=Bi(),n=Hr(),s=xo(),o=Tie(),a=uy(),l=ZM(),c=mp(),u=oi(),h=op(),d=u("isConcatSpreadable"),f=h>=51||!e(function(){var g=[];return g[d]=!1,g.concat()[0]!==g}),p=function(g){if(!r(g))return!1;var v=g[d];return v!==void 0?!!v:t(g)},m=!f||!c("concat");return i({target:"Array",proto:!0,arity:1,forced:m},{concat:function(v){var y=n(this),_=l(y,0),b=0,w,S,E,x,T;for(w=-1,E=arguments.length;w<E;w++)if(T=w===-1?y:arguments[w],p(T))for(x=s(T),o(b+x),S=0;S<x;S++,b++)S in T&&a(_,b,T[S]);else o(b+1),a(_,b++,T);return _.length=b,_}}),p5}var v5={},y5;function Rie(){if(y5)return v5;y5=1;var i=qt();return i("asyncDispose"),v5}var b5={},_5;function RMe(){if(_5)return b5;_5=1;var i=qt();return i("asyncIterator"),b5}var w5={},x5;function Pie(){if(x5)return w5;x5=1;var i=qt();return i("dispose"),w5}var S5={},E5;function PMe(){if(E5)return S5;E5=1;var i=qt();return i("hasInstance"),S5}var C5={},T5;function DMe(){if(T5)return C5;T5=1;var i=qt();return i("isConcatSpreadable"),C5}var O5={},R5;function Die(){if(R5)return O5;R5=1;var i=qt();return i("iterator"),O5}var P5={},D5;function IMe(){if(D5)return P5;D5=1;var i=qt();return i("match"),P5}var I5={},k5;function kMe(){if(k5)return I5;k5=1;var i=qt();return i("matchAll"),I5}var M5={},A5;function MMe(){if(A5)return M5;A5=1;var i=qt();return i("replace"),M5}var N5={},$5;function AMe(){if($5)return N5;$5=1;var i=qt();return i("search"),N5}var F5={},L5;function NMe(){if(L5)return F5;L5=1;var i=qt();return i("species"),F5}var q5={},j5;function $Me(){if(j5)return q5;j5=1;var i=qt();return i("split"),q5}var G5={},W5;function Iie(){if(W5)return G5;W5=1;var i=qt(),e=bie();return i("toPrimitive"),e(),G5}var B5={},z5;function FMe(){if(z5)return B5;z5=1;var i=pn(),e=qt(),t=ql();return e("toStringTag"),t(i("Symbol"),"Symbol"),B5}var H5={},Y5;function LMe(){if(Y5)return H5;Y5=1;var i=qt();return i("unscopables"),H5}var U5={},V5;function qMe(){if(V5)return U5;V5=1;var i=Ht(),e=ql();return e(i.JSON,"JSON",!0),U5}var TC,X5;function jMe(){if(X5)return TC;X5=1,Oie(),xie(),Rie(),RMe(),Pie(),PMe(),DMe(),Die(),IMe(),kMe(),MMe(),AMe(),NMe(),$Me(),Iie(),FMe(),LMe(),qMe();var i=Tt();return TC=i.Symbol,TC}var K5={},OC,Z5;function hy(){return Z5||(Z5=1,OC=function(){}),OC}var RC,Q5;function dh(){return Q5||(Q5=1,RC={}),RC}var PC,J5;function GMe(){if(J5)return PC;J5=1;var i=Xt(),e=nr(),t=Function.prototype,r=i&&Object.getOwnPropertyDescriptor,n=e(t,"name"),s=n&&(function(){}).name==="something",o=n&&(!i||i&&r(t,"name").configurable);return PC={EXISTS:n,PROPER:s,CONFIGURABLE:o},PC}var DC,eU;function kie(){if(eU)return DC;eU=1;var i=Ue();return DC=!i(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),DC}var IC,tU;function dy(){if(tU)return IC;tU=1;var i=nr(),e=Ei(),t=Hr(),r=oy(),n=kie(),s=r("IE_PROTO"),o=Object,a=o.prototype;return IC=n?o.getPrototypeOf:function(l){var c=t(l);if(i(c,s))return c[s];var u=c.constructor;return e(u)&&c instanceof u?u.prototype:c instanceof o?a:null},IC}var kC,iU;function Mie(){if(iU)return kC;iU=1;var i=Ue(),e=Ei(),t=Bi(),r=dp(),n=dy(),s=fp(),o=oi(),a=lp(),l=o("iterator"),c=!1,u,h,d;[].keys&&(d=[].keys(),"next"in d?(h=n(n(d)),h!==Object.prototype&&(u=h)):c=!0);var f=!t(u)||i(function(){var p={};return u[l].call(p)!==p});return f?u={}:a&&(u=r(u)),e(u[l])||s(u,l,function(){return this}),kC={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:c},kC}var MC,rU;function WMe(){if(rU)return MC;rU=1;var i=Mie().IteratorPrototype,e=dp(),t=np(),r=ql(),n=dh(),s=function(){return this};return MC=function(o,a,l,c){var u=a+" Iterator";return o.prototype=e(i,{next:t(+!c,l)}),r(o,u,!1,!0),n[u]=s,o},MC}var AC,nU;function BMe(){if(nU)return AC;nU=1;var i=Je(),e=fa();return AC=function(t,r,n){try{return i(e(Object.getOwnPropertyDescriptor(t,r)[n]))}catch{}},AC}var NC,sU;function zMe(){if(sU)return NC;sU=1;var i=Bi();return NC=function(e){return i(e)||e===null},NC}var $C,oU;function HMe(){if(oU)return $C;oU=1;var i=zMe(),e=String,t=TypeError;return $C=function(r){if(i(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},$C}var FC,aU;function YMe(){if(aU)return FC;aU=1;var i=BMe(),e=Bi(),t=da(),r=HMe();return FC=Object.setPrototypeOf||("__proto__"in{}?(function(){var n=!1,s={},o;try{o=i(Object.prototype,"__proto__","set"),o(s,[]),n=s instanceof Array}catch{}return function(l,c){return t(l),r(c),e(l)&&(n?o(l,c):l.__proto__=c),l}})():void 0),FC}var LC,lU;function iA(){if(lU)return LC;lU=1;var i=fe(),e=xr(),t=lp(),r=GMe(),n=Ei(),s=WMe(),o=dy(),a=YMe(),l=ql(),c=lh(),u=fp(),h=oi(),d=dh(),f=Mie(),p=r.PROPER,m=r.CONFIGURABLE,g=f.IteratorPrototype,v=f.BUGGY_SAFARI_ITERATORS,y=h("iterator"),_="keys",b="values",w="entries",S=function(){return this};return LC=function(E,x,T,R,P,I,$){s(T,x,R);var F=function(G){if(G===P&&j)return j;if(!v&&G&&G in q)return q[G];switch(G){case _:return function(){return new T(this,G)};case b:return function(){return new T(this,G)};case w:return function(){return new T(this,G)}}return function(){return new T(this)}},W=x+" Iterator",N=!1,q=E.prototype,D=q[y]||q["@@iterator"]||P&&q[P],j=!v&&D||F(P),X=x==="Array"&&q.entries||D,U,M,L;if(X&&(U=o(X.call(new E)),U!==Object.prototype&&U.next&&(!t&&o(U)!==g&&(a?a(U,g):n(U[y])||u(U,y,S)),l(U,W,!0,!0),t&&(d[W]=S))),p&&P===b&&D&&D.name!==b&&(!t&&m?c(q,"name",b):(N=!0,j=function(){return e(D,this)})),P)if(M={values:F(b),keys:I?j:F(_),entries:F(w)},$)for(L in M)(v||N||!(L in q))&&u(q,L,M[L]);else i({target:x,proto:!0,forced:v||N},M);return(!t||$)&&q[y]!==j&&u(q,y,j,{name:P}),d[x]=j,M},LC}var qC,cU;function rA(){return cU||(cU=1,qC=function(i,e){return{value:i,done:e}}),qC}var jC,uU;function nA(){if(uU)return jC;uU=1;var i=Hn(),e=hy(),t=dh(),r=pp(),n=mn().f,s=iA(),o=rA(),a=lp(),l=Xt(),c="Array Iterator",u=r.set,h=r.getterFor(c);jC=s(Array,"Array",function(f,p){u(this,{type:c,target:i(f),index:0,kind:p})},function(){var f=h(this),p=f.target,m=f.index++;if(!p||m>=p.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(m,!1);case"values":return o(p[m],!1)}return o([m,p[m]],!1)},"values");var d=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&l&&d.name!=="values")try{n(d,"name",{value:"values"})}catch{}return jC}var GC,hU;function UMe(){return hU||(hU=1,GC={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),GC}var dU;function sA(){if(dU)return K5;dU=1,nA();var i=UMe(),e=Ht(),t=ql(),r=dh();for(var n in i)t(e[n],n),r[n]=r.Array;return K5}var WC,fU;function Aie(){if(fU)return WC;fU=1;var i=jMe();return sA(),WC=i,WC}var pU={},mU;function VMe(){if(mU)return pU;mU=1;var i=oi(),e=mn().f,t=i("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),pU}var gU={},vU;function XMe(){return vU||(vU=1,Rie()),gU}var yU={},bU;function KMe(){return bU||(bU=1,Pie()),yU}var _U={},wU;function ZMe(){if(wU)return _U;wU=1;var i=qt();return i("metadata"),_U}var BC,xU;function QMe(){if(xU)return BC;xU=1;var i=Aie();return VMe(),XMe(),KMe(),ZMe(),BC=i,BC}var SU={},zC,EU;function Nie(){if(EU)return zC;EU=1;var i=pn(),e=Je(),t=i("Symbol"),r=t.keyFor,n=e(t.prototype.valueOf);return zC=t.isRegisteredSymbol||function(o){try{return r(n(o))!==void 0}catch{return!1}},zC}var CU;function JMe(){if(CU)return SU;CU=1;var i=fe(),e=Nie();return i({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),SU}var TU={},HC,OU;function $ie(){if(OU)return HC;OU=1;for(var i=ah(),e=pn(),t=Je(),r=ap(),n=oi(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),l=t(s.prototype.valueOf),c=i("wks"),u=0,h=a(s),d=h.length;u<d;u++)try{var f=h[u];r(s[f])&&n(f)}catch{}return HC=function(m){if(o&&o(m))return!0;try{for(var g=l(m),v=0,y=a(c),_=y.length;v<_;v++)if(c[y[v]]==g)return!0}catch{}return!1},HC}var RU;function eAe(){if(RU)return TU;RU=1;var i=fe(),e=$ie();return i({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),TU}var PU={},DU;function tAe(){if(DU)return PU;DU=1;var i=qt();return i("customMatcher"),PU}var IU={},kU;function iAe(){if(kU)return IU;kU=1;var i=qt();return i("observable"),IU}var MU={},AU;function rAe(){if(AU)return MU;AU=1;var i=fe(),e=Nie();return i({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),MU}var NU={},$U;function nAe(){if($U)return NU;$U=1;var i=fe(),e=$ie();return i({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),NU}var FU={},LU;function sAe(){if(LU)return FU;LU=1;var i=qt();return i("matcher"),FU}var qU={},jU;function oAe(){if(jU)return qU;jU=1;var i=qt();return i("metadataKey"),qU}var GU={},WU;function aAe(){if(WU)return GU;WU=1;var i=qt();return i("patternMatch"),GU}var BU={},zU;function lAe(){if(zU)return BU;zU=1;var i=qt();return i("replaceAll"),BU}var YC,HU;function cAe(){if(HU)return YC;HU=1;var i=QMe();return JMe(),eAe(),tAe(),iAe(),rAe(),nAe(),sAe(),oAe(),aAe(),lAe(),YC=i,YC}var UC,YU;function uAe(){return YU||(YU=1,UC=cAe()),UC}var hAe=uAe(),dm=Ce(hAe),UU={},VC,VU;function dAe(){if(VU)return VC;VU=1;var i=Je(),e=uh(),t=gn(),r=da(),n=i("".charAt),s=i("".charCodeAt),o=i("".slice),a=function(l){return function(c,u){var h=t(r(c)),d=e(u),f=h.length,p,m;return d<0||d>=f?l?"":void 0:(p=s(h,d),p<55296||p>56319||d+1===f||(m=s(h,d+1))<56320||m>57343?l?n(h,d):p:l?o(h,d,d+2):(p-55296<<10)+(m-56320)+65536)}};return VC={codeAt:a(!1),charAt:a(!0)},VC}var XU;function Fie(){if(XU)return UU;XU=1;var i=dAe().charAt,e=gn(),t=pp(),r=iA(),n=rA(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(l){o(this,{type:s,string:e(l),index:0})},function(){var c=a(this),u=c.string,h=c.index,d;return h>=u.length?n(void 0,!0):(d=i(u,h),c.index+=d.length,n(d,!1))}),UU}var XC,KU;function fAe(){if(KU)return XC;KU=1,nA(),Fie(),Die();var i=cy();return XC=i.f("iterator"),XC}var KC,ZU;function pAe(){if(ZU)return KC;ZU=1;var i=fAe();return sA(),KC=i,KC}var ZC,QU;function mAe(){if(QU)return ZC;QU=1;var i=pAe();return ZC=i,ZC}var QC,JU;function gAe(){if(JU)return QC;JU=1;var i=mAe();return QC=i,QC}var JC,eV;function vAe(){return eV||(eV=1,JC=gAe()),JC}var yAe=vAe(),bAe=Ce(yAe);function ef(i){"@babel/helpers - typeof";return ef=typeof dm=="function"&&typeof bAe=="symbol"?function(e){return typeof e}:function(e){return e&&typeof dm=="function"&&e.constructor===dm&&e!==dm.prototype?"symbol":typeof e},ef(i)}var eT,tV;function _Ae(){if(tV)return eT;tV=1,Iie();var i=cy();return eT=i.f("toPrimitive"),eT}var tT,iV;function wAe(){if(iV)return tT;iV=1;var i=_Ae();return tT=i,tT}var iT,rV;function xAe(){if(rV)return iT;rV=1;var i=wAe();return iT=i,iT}var rT,nV;function SAe(){if(nV)return rT;nV=1;var i=xAe();return rT=i,rT}var nT,sV;function EAe(){return sV||(sV=1,nT=SAe()),nT}var CAe=EAe(),TAe=Ce(CAe);function OAe(i,e){if(ef(i)!="object"||!i)return i;var t=i[TAe];if(t!==void 0){var r=t.call(i,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function RAe(i){var e=OAe(i,"string");return ef(e)=="symbol"?e:e+""}function PAe(i,e,t){return(e=RAe(e))in i?OMe(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var oV={},aV;function DAe(){if(aV)return oV;aV=1;var i=fe(),e=pa().map,t=mp(),r=t("map");return i({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),oV}var sT,lV;function IAe(){if(lV)return sT;lV=1,DAe();var i=Ci();return sT=i("Array","map"),sT}var oT,cV;function kAe(){if(cV)return oT;cV=1;var i=Kt(),e=IAe(),t=Array.prototype;return oT=function(r){var n=r.map;return r===t||i(t,r)&&n===t.map?e:n},oT}var aT,uV;function MAe(){if(uV)return aT;uV=1;var i=kAe();return aT=i,aT}var lT,hV;function AAe(){return hV||(hV=1,lT=MAe()),lT}var NAe=AAe(),yi=Ce(NAe),dV={},cT,fV;function $Ae(){if(fV)return cT;fV=1;var i=fa(),e=Hr(),t=ty(),r=xo(),n=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(l,c,u,h){var d=e(l),f=t(d),p=r(d);if(i(c),p===0&&u<2)throw new n(s);var m=a?p-1:0,g=a?-1:1;if(u<2)for(;;){if(m in f){h=f[m],m+=g;break}if(m+=g,a?m<0:p<=m)throw new n(s)}for(;a?m>=0:p>m;m+=g)m in f&&(h=c(h,f[m],m,d));return h}};return cT={left:o(!1),right:o(!0)},cT}var uT,pV;function FAe(){if(pV)return uT;pV=1;var i=die();return uT=i==="NODE",uT}var mV;function LAe(){if(mV)return dV;mV=1;var i=fe(),e=$Ae().left,t=hh(),r=op(),n=FAe(),s=!n&&r>79&&r<83,o=s||!t("reduce");return i({target:"Array",proto:!0,forced:o},{reduce:function(l){var c=arguments.length;return e(this,l,c,c>1?arguments[1]:void 0)}}),dV}var hT,gV;function qAe(){if(gV)return hT;gV=1,LAe();var i=Ci();return hT=i("Array","reduce"),hT}var dT,vV;function jAe(){if(vV)return dT;vV=1;var i=Kt(),e=qAe(),t=Array.prototype;return dT=function(r){var n=r.reduce;return r===t||i(t,r)&&n===t.reduce?e:n},dT}var fT,yV;function GAe(){if(yV)return fT;yV=1;var i=jAe();return fT=i,fT}var pT,bV;function WAe(){return bV||(bV=1,pT=GAe()),pT}var BAe=WAe(),Lie=Ce(BAe),_V={},wV;function zAe(){if(wV)return _V;wV=1;var i=fe(),e=Hr(),t=hp(),r=Ue(),n=r(function(){t(1)});return i({target:"Object",stat:!0,forced:n},{keys:function(o){return t(e(o))}}),_V}var mT,xV;function HAe(){if(xV)return mT;xV=1,zAe();var i=Tt();return mT=i.Object.keys,mT}var gT,SV;function YAe(){if(SV)return gT;SV=1;var i=HAe();return gT=i,gT}var vT,EV;function UAe(){return EV||(EV=1,vT=YAe()),vT}var VAe=UAe(),Ai=Ce(VAe),yT,CV;function XAe(){return CV||(CV=1,yT=Cie()),yT}var KAe=XAe(),qie=Ce(KAe),bT,TV;function ZAe(){return TV||(TV=1,bT=Aie()),bT}var QAe=ZAe(),JAe=Ce(QAe),OV={},RV;function eNe(){if(RV)return OV;RV=1;var i=fe(),e=Ll(),t=gie(),r=Bi(),n=sy(),s=xo(),o=Hn(),a=uy(),l=oi(),c=mp(),u=ch(),h=c("slice"),d=l("species"),f=Array,p=Math.max;return i({target:"Array",proto:!0,forced:!h},{slice:function(g,v){var y=o(this),_=s(y),b=n(g,_),w=n(v===void 0?_:v,_),S,E,x;if(e(y)&&(S=y.constructor,t(S)&&(S===f||e(S.prototype))?S=void 0:r(S)&&(S=S[d],S===null&&(S=void 0)),S===f||S===void 0))return u(y,b,w);for(E=new(S===void 0?f:S)(p(w-b,0)),x=0;b<w;b++,x++)b in y&&a(E,x,y[b]);return E.length=x,E}}),OV}var _T,PV;function tNe(){if(PV)return _T;PV=1,eNe();var i=Ci();return _T=i("Array","slice"),_T}var wT,DV;function iNe(){if(DV)return wT;DV=1;var i=Kt(),e=tNe(),t=Array.prototype;return wT=function(r){var n=r.slice;return r===t||i(t,r)&&n===t.slice?e:n},wT}var xT,IV;function rNe(){if(IV)return xT;IV=1;var i=iNe();return xT=i,xT}var ST,kV;function nNe(){return kV||(kV=1,ST=rNe()),ST}var sNe=nNe(),fh=Ce(sNe),MV={},AV;function oNe(){if(AV)return MV;AV=1;var i=fe(),e=Eie();return i({target:"Reflect",stat:!0},{ownKeys:e}),MV}var ET,NV;function aNe(){if(NV)return ET;NV=1,oNe();var i=Tt();return ET=i.Reflect.ownKeys,ET}var CT,$V;function lNe(){if($V)return CT;$V=1;var i=aNe();return CT=i,CT}var TT,FV;function cNe(){return FV||(FV=1,TT=lNe()),TT}var uNe=cNe(),hNe=Ce(uNe),LV={},qV;function dNe(){if(qV)return LV;qV=1;var i=fe(),e=Je(),t=Date,r=e(t.prototype.getTime);return i({target:"Date",stat:!0},{now:function(){return r(new t)}}),LV}var OT,jV;function fNe(){if(jV)return OT;jV=1,dNe();var i=Tt();return OT=i.Date.now,OT}var RT,GV;function pNe(){if(GV)return RT;GV=1;var i=fNe();return RT=i,RT}var PT,WV;function mNe(){return WV||(WV=1,PT=pNe()),PT}var gNe=mNe(),Dr=Ce(gNe),BV={},zV;function vNe(){if(zV)return BV;zV=1;var i=fe(),e=Je(),t=Ll(),r=e([].reverse),n=[1,2];return i({target:"Array",proto:!0,forced:String(n)===String(n.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),r(this)}}),BV}var DT,HV;function yNe(){if(HV)return DT;HV=1,vNe();var i=Ci();return DT=i("Array","reverse"),DT}var IT,YV;function bNe(){if(YV)return IT;YV=1;var i=Kt(),e=yNe(),t=Array.prototype;return IT=function(r){var n=r.reverse;return r===t||i(t,r)&&n===t.reverse?e:n},IT}var kT,UV;function _Ne(){if(UV)return kT;UV=1;var i=bNe();return kT=i,kT}var MT,VV;function wNe(){return VV||(VV=1,MT=_Ne()),MT}var xNe=wNe(),SNe=Ce(xNe),XV={},AT,KV;function ENe(){if(KV)return AT;KV=1;var i=Xt(),e=Ll(),t=TypeError,r=Object.getOwnPropertyDescriptor,n=i&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}})();return AT=n?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},AT}var NT,ZV;function jie(){if(ZV)return NT;ZV=1;var i=oh(),e=TypeError;return NT=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+i(r)+" of "+i(t))},NT}var QV;function CNe(){if(QV)return XV;QV=1;var i=fe(),e=Hr(),t=sy(),r=uh(),n=xo(),s=ENe(),o=Tie(),a=ZM(),l=uy(),c=jie(),u=mp(),h=u("splice"),d=Math.max,f=Math.min;return i({target:"Array",proto:!0,forced:!h},{splice:function(m,g){var v=e(this),y=n(v),_=t(m,y),b=arguments.length,w,S,E,x,T,R;for(b===0?w=S=0:b===1?(w=0,S=y-_):(w=b-2,S=f(d(r(g),0),y-_)),o(y+w-S),E=a(v,S),x=0;x<S;x++)T=_+x,T in v&&l(E,x,v[T]);if(E.length=S,w<S){for(x=_;x<y-S;x++)T=x+S,R=x+w,T in v?v[R]=v[T]:c(v,R);for(x=y;x>y-S+w;x--)c(v,x-1)}else if(w>S)for(x=y-S;x>_;x--)T=x+S-1,R=x+w-1,T in v?v[R]=v[T]:c(v,R);for(x=0;x<w;x++)v[x+_]=arguments[x+2];return s(v,y-S+w),E}}),XV}var $T,JV;function TNe(){if(JV)return $T;JV=1,CNe();var i=Ci();return $T=i("Array","splice"),$T}var FT,e4;function ONe(){if(e4)return FT;e4=1;var i=Kt(),e=TNe(),t=Array.prototype;return FT=function(r){var n=r.splice;return r===t||i(t,r)&&n===t.splice?e:n},FT}var LT,t4;function RNe(){if(t4)return LT;t4=1;var i=ONe();return LT=i,LT}var qT,i4;function PNe(){return i4||(i4=1,qT=RNe()),qT}var DNe=PNe(),mr=Ce(DNe),r4={},jT,n4;function INe(){if(n4)return jT;n4=1;var i=Xt(),e=Je(),t=xr(),r=Ue(),n=hp(),s=ly(),o=ey(),a=Hr(),l=ty(),c=Object.assign,u=Object.defineProperty,h=e([].concat);return jT=!c||r(function(){if(i&&c({b:1},c(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var d={},f={},p=Symbol("assign detection"),m="abcdefghijklmnopqrst";return d[p]=7,m.split("").forEach(function(g){f[g]=g}),c({},d)[p]!==7||n(c({},f)).join("")!==m})?function(f,p){for(var m=a(f),g=arguments.length,v=1,y=s.f,_=o.f;g>v;)for(var b=l(arguments[v++]),w=y?h(n(b),y(b)):n(b),S=w.length,E=0,x;S>E;)x=w[E++],(!i||t(_,b,x))&&(m[x]=b[x]);return m}:c,jT}var s4;function kNe(){if(s4)return r4;s4=1;var i=fe(),e=INe();return i({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),r4}var GT,o4;function MNe(){if(o4)return GT;o4=1,kNe();var i=Tt();return GT=i.Object.assign,GT}var WT,a4;function ANe(){if(a4)return WT;a4=1;var i=MNe();return WT=i,WT}var BT,l4;function NNe(){return l4||(l4=1,BT=ANe()),BT}var $Ne=NNe(),pl=Ce($Ne),c4={},u4;function FNe(){if(u4)return c4;u4=1;var i=fe(),e=QM().includes,t=Ue(),r=hy(),n=t(function(){return!Array(1).includes()});return i({target:"Array",proto:!0,forced:n},{includes:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),r("includes"),c4}var zT,h4;function LNe(){if(h4)return zT;h4=1,FNe();var i=Ci();return zT=i("Array","includes"),zT}var d4={},HT,f4;function qNe(){if(f4)return HT;f4=1;var i=Bi(),e=Os(),t=oi(),r=t("match");return HT=function(n){var s;return i(n)&&((s=n[r])!==void 0?!!s:e(n)==="RegExp")},HT}var YT,p4;function jNe(){if(p4)return YT;p4=1;var i=qNe(),e=TypeError;return YT=function(t){if(i(t))throw new e("The method doesn't accept regular expressions");return t},YT}var UT,m4;function GNe(){if(m4)return UT;m4=1;var i=oi(),e=i("match");return UT=function(t){var r=/./;try{"/./"[t](r)}catch{try{return r[e]=!1,"/./"[t](r)}catch{}}return!1},UT}var g4;function WNe(){if(g4)return d4;g4=1;var i=fe(),e=Je(),t=jNe(),r=da(),n=gn(),s=GNe(),o=e("".indexOf);return i({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~o(n(r(this)),n(t(l)),arguments.length>1?arguments[1]:void 0)}}),d4}var VT,v4;function BNe(){if(v4)return VT;v4=1,WNe();var i=Ci();return VT=i("String","includes"),VT}var XT,y4;function zNe(){if(y4)return XT;y4=1;var i=Kt(),e=LNe(),t=BNe(),r=Array.prototype,n=String.prototype;return XT=function(s){var o=s.includes;return s===r||i(r,s)&&o===r.includes?e:typeof s=="string"||s===n||i(n,s)&&o===n.includes?t:o},XT}var KT,b4;function HNe(){if(b4)return KT;b4=1;var i=zNe();return KT=i,KT}var ZT,_4;function YNe(){return _4||(_4=1,ZT=HNe()),ZT}var UNe=YNe(),Su=Ce(UNe),w4={},x4;function VNe(){if(x4)return w4;x4=1;var i=fe(),e=Ue(),t=Hr(),r=dy(),n=kie(),s=e(function(){r(1)});return i({target:"Object",stat:!0,forced:s,sham:!n},{getPrototypeOf:function(a){return r(t(a))}}),w4}var QT,S4;function XNe(){if(S4)return QT;S4=1,VNe();var i=Tt();return QT=i.Object.getPrototypeOf,QT}var JT,E4;function KNe(){if(E4)return JT;E4=1;var i=XNe();return JT=i,JT}var eO,C4;function ZNe(){return C4||(C4=1,eO=KNe()),eO}var QNe=ZNe(),T4=Ce(QNe),tO,O4;function JNe(){if(O4)return tO;O4=1,Oie();var i=Ci();return tO=i("Array","concat"),tO}var iO,R4;function e$e(){if(R4)return iO;R4=1;var i=Kt(),e=JNe(),t=Array.prototype;return iO=function(r){var n=r.concat;return r===t||i(t,r)&&n===t.concat?e:n},iO}var rO,P4;function t$e(){if(P4)return rO;P4=1;var i=e$e();return rO=i,rO}var nO,D4;function i$e(){return D4||(D4=1,nO=t$e()),nO}var r$e=i$e(),Jt=Ce(r$e),I4={},sO,k4;function Gie(){if(k4)return sO;k4=1;var i=Xt(),e=Ue(),t=Je(),r=dy(),n=hp(),s=Hn(),o=ey().f,a=t(o),l=t([].push),c=i&&e(function(){var h=Object.create(null);return h[2]=2,!a(h,2)}),u=function(h){return function(d){for(var f=s(d),p=n(f),m=c&&r(f)===null,g=p.length,v=0,y=[],_;g>v;)_=p[v++],(!i||(m?_ in f:a(f,_)))&&l(y,h?[_,f[_]]:f[_]);return y}};return sO={entries:u(!0),values:u(!1)},sO}var M4;function n$e(){if(M4)return I4;M4=1;var i=fe(),e=Gie().values;return i({target:"Object",stat:!0},{values:function(r){return e(r)}}),I4}var oO,A4;function s$e(){if(A4)return oO;A4=1,n$e();var i=Tt();return oO=i.Object.values,oO}var aO,N4;function o$e(){if(N4)return aO;N4=1;var i=s$e();return aO=i,aO}var lO,$4;function a$e(){return $4||($4=1,lO=o$e()),lO}var l$e=a$e(),oA=Ce(l$e),F4={},cO,L4;function aA(){return L4||(L4=1,cO=`	
\v\f\r \u2028\u2029\uFEFF`),cO}var uO,q4;function Wie(){if(q4)return uO;q4=1;var i=Je(),e=da(),t=gn(),r=aA(),n=i("".replace),s=RegExp("^["+r+"]+"),o=RegExp("(^|[^"+r+"])["+r+"]+$"),a=function(l){return function(c){var u=t(e(c));return l&1&&(u=n(u,s,"")),l&2&&(u=n(u,o,"$1")),u}};return uO={start:a(1),end:a(2),trim:a(3)},uO}var hO,j4;function c$e(){if(j4)return hO;j4=1;var i=Ht(),e=Ue(),t=Je(),r=gn(),n=Wie().trim,s=aA(),o=i.parseInt,a=i.Symbol,l=a&&a.iterator,c=/^[+-]?0x/i,u=t(c.exec),h=o(s+"08")!==8||o(s+"0x16")!==22||l&&!e(function(){o(Object(l))});return hO=h?function(f,p){var m=n(r(f));return o(m,p>>>0||(u(c,m)?16:10))}:o,hO}var G4;function u$e(){if(G4)return F4;G4=1;var i=fe(),e=c$e();return i({global:!0,forced:parseInt!==e},{parseInt:e}),F4}var dO,W4;function h$e(){if(W4)return dO;W4=1,u$e();var i=Tt();return dO=i.parseInt,dO}var fO,B4;function d$e(){if(B4)return fO;B4=1;var i=h$e();return fO=i,fO}var pO,z4;function f$e(){return z4||(z4=1,pO=d$e()),pO}var p$e=f$e(),Ir=Ce(p$e),H4={},Y4;function m$e(){if(Y4)return H4;Y4=1;var i=fe(),e=YM(),t=QM().indexOf,r=hh(),n=e([].indexOf),s=!!n&&1/n([1],1,-0)<0,o=s||!r("indexOf");return i({target:"Array",proto:!0,forced:o},{indexOf:function(l){var c=arguments.length>1?arguments[1]:void 0;return s?n(this,l,c)||0:t(this,l,c)}}),H4}var mO,U4;function g$e(){if(U4)return mO;U4=1,m$e();var i=Ci();return mO=i("Array","indexOf"),mO}var gO,V4;function v$e(){if(V4)return gO;V4=1;var i=Kt(),e=g$e(),t=Array.prototype;return gO=function(r){var n=r.indexOf;return r===t||i(t,r)&&n===t.indexOf?e:n},gO}var vO,X4;function y$e(){if(X4)return vO;X4=1;var i=v$e();return vO=i,vO}var yO,K4;function b$e(){return K4||(K4=1,yO=y$e()),yO}var _$e=b$e(),gt=Ce(_$e),Z4={},Q4;function w$e(){if(Q4)return Z4;Q4=1;var i=fe(),e=Gie().entries;return i({target:"Object",stat:!0},{entries:function(r){return e(r)}}),Z4}var bO,J4;function x$e(){if(J4)return bO;J4=1,w$e();var i=Tt();return bO=i.Object.entries,bO}var _O,e8;function S$e(){if(e8)return _O;e8=1;var i=x$e();return _O=i,_O}var wO,t8;function E$e(){return t8||(t8=1,wO=S$e()),wO}var C$e=E$e(),T$e=Ce(C$e),i8={},r8;function O$e(){if(r8)return i8;r8=1;var i=fe(),e=Xt(),t=dp();return i({target:"Object",stat:!0,sham:!e},{create:t}),i8}var xO,n8;function R$e(){if(n8)return xO;n8=1,O$e();var i=Tt(),e=i.Object;return xO=function(r,n){return e.create(r,n)},xO}var SO,s8;function P$e(){if(s8)return SO;s8=1;var i=R$e();return SO=i,SO}var EO,o8;function D$e(){return o8||(o8=1,EO=P$e()),EO}var I$e=D$e(),fy=Ce(I$e),a8={},CO,l8;function Bie(){if(l8)return CO;l8=1;var i=uh(),e=gn(),t=da(),r=RangeError;return CO=function(s){var o=e(t(this)),a="",l=i(s);if(l<0||l===1/0)throw new r("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))l&1&&(a+=o);return a},CO}var TO,c8;function k$e(){if(c8)return TO;c8=1;var i=Je(),e=mie(),t=gn(),r=Bie(),n=da(),s=i(r),o=i("".slice),a=Math.ceil,l=function(c){return function(u,h,d){var f=t(n(u)),p=e(h),m=f.length,g=d===void 0?" ":t(d),v,y;return p<=m||g===""?f:(v=p-m,y=s(g,a(v/g.length)),y.length>v&&(y=o(y,0,v)),c?f+y:y+f)}};return TO={start:l(!1),end:l(!0)},TO}var OO,u8;function M$e(){if(u8)return OO;u8=1;var i=Je(),e=Ue(),t=k$e().start,r=RangeError,n=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,l=i(o.getTime),c=i(o.getUTCDate),u=i(o.getUTCFullYear),h=i(o.getUTCHours),d=i(o.getUTCMilliseconds),f=i(o.getUTCMinutes),p=i(o.getUTCMonth),m=i(o.getUTCSeconds);return OO=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!n(l(this)))throw new r("Invalid time value");var v=this,y=u(v),_=d(v),b=y<0?"-":y>9999?"+":"";return b+t(s(y),b?6:4,0)+"-"+t(p(v)+1,2,0)+"-"+t(c(v),2,0)+"T"+t(h(v),2,0)+":"+t(f(v),2,0)+":"+t(m(v),2,0)+"."+t(_,3,0)+"Z"}:a,OO}var h8;function A$e(){if(h8)return a8;h8=1;var i=fe(),e=xr(),t=Hr(),r=lie(),n=M$e(),s=Os(),o=Ue(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return i({target:"Date",proto:!0,forced:a},{toJSON:function(c){var u=t(this),h=r(u,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in u)&&s(u)==="Date"?e(n,u):u.toISOString()}}),a8}var RO,d8;function N$e(){if(d8)return RO;d8=1,A$e(),wie();var i=Tt(),e=Jv();return i.JSON||(i.JSON={stringify:JSON.stringify}),RO=function(r,n,s){return e(i.JSON.stringify,null,arguments)},RO}var PO,f8;function $$e(){if(f8)return PO;f8=1;var i=N$e();return PO=i,PO}var DO,p8;function F$e(){return p8||(p8=1,DO=$$e()),DO}var L$e=F$e(),kr=Ce(L$e),m8={},IO,g8;function q$e(){if(g8)return IO;g8=1;var i=Hr(),e=sy(),t=xo();return IO=function(n){for(var s=i(this),o=t(s),a=arguments.length,l=e(a>1?arguments[1]:void 0,o),c=a>2?arguments[2]:void 0,u=c===void 0?o:e(c,o);u>l;)s[l++]=n;return s},IO}var v8;function j$e(){if(v8)return m8;v8=1;var i=fe(),e=q$e(),t=hy();return i({target:"Array",proto:!0},{fill:e}),t("fill"),m8}var kO,y8;function G$e(){if(y8)return kO;y8=1,j$e();var i=Ci();return kO=i("Array","fill"),kO}var MO,b8;function W$e(){if(b8)return MO;b8=1;var i=Kt(),e=G$e(),t=Array.prototype;return MO=function(r){var n=r.fill;return r===t||i(t,r)&&n===t.fill?e:n},MO}var AO,_8;function B$e(){if(_8)return AO;_8=1;var i=W$e();return AO=i,AO}var NO,w8;function z$e(){return w8||(w8=1,NO=B$e()),NO}var H$e=z$e(),zie=Ce(H$e),$O={exports:{}},x8;function Y$e(){return x8||(x8=1,(function(i){i.exports=e;function e(r){if(r)return t(r)}function t(r){for(var n in e.prototype)r[n]=e.prototype[n];return r}e.prototype.on=e.prototype.addEventListener=function(r,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(n),this},e.prototype.once=function(r,n){function s(){this.off(r,s),n.apply(this,arguments)}return s.fn=n,this.on(r,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(r,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var o,a=0;a<s.length;a++)if(o=s[a],o===n||o.fn===n){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+r],this},e.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),s=this._callbacks["$"+r],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,a=s.length;o<a;++o)s[o].apply(this,n)}return this},e.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},e.prototype.hasListeners=function(r){return!!this.listeners(r).length}})($O)),$O.exports}var U$e=Y$e(),lA=Ce(U$e);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function qn(){return qn=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},qn.apply(this,arguments)}function vn(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}function fm(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var kD;typeof Object.assign!="function"?kD=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!=null)for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s])}return t}:kD=Object.assign;var ml=kD,S8=["","webkit","Moz","MS","ms","o"],V$e=typeof document>"u"?{style:{}}:document.createElement("div"),X$e="function",$c=Math.round,gl=Math.abs,cA=Date.now;function py(i,e){for(var t,r,n=e[0].toUpperCase()+e.slice(1),s=0;s<S8.length;){if(t=S8[s],r=t?t+n:e,r in i)return r;s++}}var so;typeof window>"u"?so={}:so=window;var Hie=py(V$e.style,"touchAction"),Yie=Hie!==void 0;function K$e(){if(!Yie)return!1;var i={},e=so.CSS&&so.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return i[t]=e?so.CSS.supports("touch-action",t):!0}),i}var Uie="compute",Vie="auto",MD="manipulation",Ua="none",tf="pan-x",rf="pan-y",pm=K$e(),Z$e=/mobile|tablet|ip(ad|hone|od)|android/i,Xie="ontouchstart"in so,Q$e=py(so,"PointerEvent")!==void 0,J$e=Xie&&Z$e.test(navigator.userAgent),gp="touch",eFe="pen",uA="mouse",tFe="kinect",iFe=25,tr=1,jl=2,ri=4,br=8,_g=1,vp=2,yp=4,bp=8,Eu=16,ps=vp|yp,Va=bp|Eu,Kie=ps|Va,Zie=["x","y"],wg=["clientX","clientY"];function oo(i,e,t){var r;if(i)if(i.forEach)i.forEach(e,t);else if(i.length!==void 0)for(r=0;r<i.length;)e.call(t,i[r],r,i),r++;else for(r in i)i.hasOwnProperty(r)&&e.call(t,i[r],r,i)}function my(i,e){return typeof i===X$e?i.apply(e&&e[0]||void 0,e):i}function qa(i,e){return i.indexOf(e)>-1}function rFe(i){if(qa(i,Ua))return Ua;var e=qa(i,tf),t=qa(i,rf);return e&&t?Ua:e||t?e?tf:rf:qa(i,MD)?MD:Vie}var Qie=(function(){function i(t,r){this.manager=t,this.set(r)}var e=i.prototype;return e.set=function(r){r===Uie&&(r=this.compute()),Yie&&this.manager.element.style&&pm[r]&&(this.manager.element.style[Hie]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return oo(this.manager.recognizers,function(n){my(n.options.enable,[n])&&(r=r.concat(n.getTouchAction()))}),rFe(r.join(" "))},e.preventDefaults=function(r){var n=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var o=this.actions,a=qa(o,Ua)&&!pm[Ua],l=qa(o,rf)&&!pm[rf],c=qa(o,tf)&&!pm[tf];if(a){var u=r.pointers.length===1,h=r.distance<2,d=r.deltaTime<250;if(u&&h&&d)return}if(!(c&&l)&&(a||l&&s&ps||c&&s&Va))return this.preventSrc(n)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},i})();function hA(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function Jie(i){var e=i.length;if(e===1)return{x:$c(i[0].clientX),y:$c(i[0].clientY)};for(var t=0,r=0,n=0;n<e;)t+=i[n].clientX,r+=i[n].clientY,n++;return{x:$c(t/e),y:$c(r/e)}}function E8(i){for(var e=[],t=0;t<i.pointers.length;)e[t]={clientX:$c(i.pointers[t].clientX),clientY:$c(i.pointers[t].clientY)},t++;return{timeStamp:cA(),pointers:e,center:Jie(e),deltaX:i.deltaX,deltaY:i.deltaY}}function xg(i,e,t){t||(t=Zie);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.sqrt(r*r+n*n)}function AD(i,e,t){t||(t=Zie);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.atan2(n,r)*180/Math.PI}function ere(i,e){return i===e?_g:gl(i)>=gl(e)?i<0?vp:yp:e<0?bp:Eu}function nFe(i,e){var t=e.center,r=i.offsetDelta||{},n=i.prevDelta||{},s=i.prevInput||{};(e.eventType===tr||s.eventType===ri)&&(n=i.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=i.offsetDelta={x:t.x,y:t.y}),e.deltaX=n.x+(t.x-r.x),e.deltaY=n.y+(t.y-r.y)}function tre(i,e,t){return{x:e/i||0,y:t/i||0}}function sFe(i,e){return xg(e[0],e[1],wg)/xg(i[0],i[1],wg)}function oFe(i,e){return AD(e[1],e[0],wg)+AD(i[1],i[0],wg)}function aFe(i,e){var t=i.lastInterval||e,r=e.timeStamp-t.timeStamp,n,s,o,a;if(e.eventType!==br&&(r>iFe||t.velocity===void 0)){var l=e.deltaX-t.deltaX,c=e.deltaY-t.deltaY,u=tre(r,l,c);s=u.x,o=u.y,n=gl(u.x)>gl(u.y)?u.x:u.y,a=ere(l,c),i.lastInterval=e}else n=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=n,e.velocityX=s,e.velocityY=o,e.direction=a}function lFe(i,e){var t=i.session,r=e.pointers,n=r.length;t.firstInput||(t.firstInput=E8(e)),n>1&&!t.firstMultiple?t.firstMultiple=E8(e):n===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,l=e.center=Jie(r);e.timeStamp=cA(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=AD(a,l),e.distance=xg(a,l),nFe(t,e),e.offsetDirection=ere(e.deltaX,e.deltaY);var c=tre(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=gl(c.x)>gl(c.y)?c.x:c.y,e.scale=o?sFe(o.pointers,r):1,e.rotation=o?oFe(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,aFe(t,e);var u=i.element,h=e.srcEvent,d;h.composedPath?d=h.composedPath()[0]:h.path?d=h.path[0]:d=h.target,hA(d,u)&&(u=d),e.target=u}function cFe(i,e,t){var r=t.pointers.length,n=t.changedPointers.length,s=e&tr&&r-n===0,o=e&(ri|br)&&r-n===0;t.isFirst=!!s,t.isFinal=!!o,s&&(i.session={}),t.eventType=e,lFe(i,t),i.emit("hammer.input",t),i.recognize(t),i.session.prevInput=t}function nf(i){return i.trim().split(/\s+/g)}function dd(i,e,t){oo(nf(e),function(r){i.addEventListener(r,t,!1)})}function fd(i,e,t){oo(nf(e),function(r){i.removeEventListener(r,t,!1)})}function C8(i){var e=i.ownerDocument||i;return e.defaultView||e.parentWindow||window}var ph=(function(){function i(t,r){var n=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){my(t.options.enable,[t])&&n.handler(s)},this.init()}var e=i.prototype;return e.handler=function(){},e.init=function(){this.evEl&&dd(this.element,this.evEl,this.domHandler),this.evTarget&&dd(this.target,this.evTarget,this.domHandler),this.evWin&&dd(C8(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&fd(this.element,this.evEl,this.domHandler),this.evTarget&&fd(this.target,this.evTarget,this.domHandler),this.evWin&&fd(C8(this.element),this.evWin,this.domHandler)},i})();function vl(i,e,t){if(i.indexOf&&!t)return i.indexOf(e);for(var r=0;r<i.length;){if(t&&i[r][t]==e||!t&&i[r]===e)return r;r++}return-1}var uFe={pointerdown:tr,pointermove:jl,pointerup:ri,pointercancel:br,pointerout:br},hFe={2:gp,3:eFe,4:uA,5:tFe},ire="pointerdown",rre="pointermove pointerup pointercancel";so.MSPointerEvent&&!so.PointerEvent&&(ire="MSPointerDown",rre="MSPointerMove MSPointerUp MSPointerCancel");var nre=(function(i){vn(e,i);function e(){var r,n=e.prototype;return n.evEl=ire,n.evWin=rre,r=i.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(n){var s=this.store,o=!1,a=n.type.toLowerCase().replace("ms",""),l=uFe[a],c=hFe[n.pointerType]||n.pointerType,u=c===gp,h=vl(s,n.pointerId,"pointerId");l&tr&&(n.button===0||u)?h<0&&(s.push(n),h=s.length-1):l&(ri|br)&&(o=!0),!(h<0)&&(s[h]=n,this.callback(this.manager,l,{pointers:s,changedPointers:[n],pointerType:c,srcEvent:n}),o&&s.splice(h,1))},e})(ph);function sf(i){return Array.prototype.slice.call(i,0)}function dA(i,e,t){for(var r=[],n=[],s=0;s<i.length;){var o=e?i[s][e]:i[s];vl(n,o)<0&&r.push(i[s]),n[s]=o,s++}return t&&(e?r=r.sort(function(a,l){return a[e]>l[e]}):r=r.sort()),r}var dFe={touchstart:tr,touchmove:jl,touchend:ri,touchcancel:br},fFe="touchstart touchmove touchend touchcancel",fA=(function(i){vn(e,i);function e(){var r;return e.prototype.evTarget=fFe,r=i.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(n){var s=dFe[n.type],o=pFe.call(this,n,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:gp,srcEvent:n})},e})(ph);function pFe(i,e){var t=sf(i.touches),r=this.targetIds;if(e&(tr|jl)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var n,s,o=sf(i.changedTouches),a=[],l=this.target;if(s=t.filter(function(c){return hA(c.target,l)}),e===tr)for(n=0;n<s.length;)r[s[n].identifier]=!0,n++;for(n=0;n<o.length;)r[o[n].identifier]&&a.push(o[n]),e&(ri|br)&&delete r[o[n].identifier],n++;if(a.length)return[dA(s.concat(a),"identifier",!0),a]}var mFe={mousedown:tr,mousemove:jl,mouseup:ri},gFe="mousedown",vFe="mousemove mouseup",pA=(function(i){vn(e,i);function e(){var r,n=e.prototype;return n.evEl=gFe,n.evWin=vFe,r=i.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(n){var s=mFe[n.type];s&tr&&n.button===0&&(this.pressed=!0),s&jl&&n.which!==1&&(s=ri),this.pressed&&(s&ri&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[n],changedPointers:[n],pointerType:uA,srcEvent:n}))},e})(ph),yFe=2500,T8=25;function O8(i){var e=i.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},n=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=n.indexOf(r);a>-1&&n.splice(a,1)};setTimeout(s,yFe)}}function bFe(i,e){i&tr?(this.primaryTouch=e.changedPointers[0].identifier,O8.call(this,e)):i&(ri|br)&&O8.call(this,e)}function _Fe(i){for(var e=i.srcEvent.clientX,t=i.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],s=Math.abs(e-n.x),o=Math.abs(t-n.y);if(s<=T8&&o<=T8)return!0}return!1}var sre=(function(){var i=(function(e){vn(t,e);function t(n,s){var o;return o=e.call(this,n,s)||this,o.handler=function(a,l,c){var u=c.pointerType===gp,h=c.pointerType===uA;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(u)bFe.call(fm(fm(o)),l,c);else if(h&&_Fe.call(fm(fm(o)),c))return;o.callback(a,l,c)}},o.touch=new fA(o.manager,o.handler),o.mouse=new pA(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t})(ph);return i})();function wFe(i){var e,t=i.options.inputClass;return t?e=t:Q$e?e=nre:J$e?e=fA:Xie?e=sre:e=pA,new e(i,cFe)}function Fc(i,e,t){return Array.isArray(i)?(oo(i,t[e],t),!0):!1}var Im=1,an=2,Cu=4,Xo=8,ao=Xo,of=16,ls=32,xFe=1;function SFe(){return xFe++}function mm(i,e){var t=e.manager;return t?t.get(i):i}function R8(i){return i&of?"cancel":i&Xo?"end":i&Cu?"move":i&an?"start":""}var _p=(function(){function i(t){t===void 0&&(t={}),this.options=qn({enable:!0},t),this.id=SFe(),this.manager=null,this.state=Im,this.simultaneous={},this.requireFail=[]}var e=i.prototype;return e.set=function(r){return ml(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(Fc(r,"recognizeWith",this))return this;var n=this.simultaneous;return r=mm(r,this),n[r.id]||(n[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return Fc(r,"dropRecognizeWith",this)?this:(r=mm(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(Fc(r,"requireFailure",this))return this;var n=this.requireFail;return r=mm(r,this),vl(n,r)===-1&&(n.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(Fc(r,"dropRequireFailure",this))return this;r=mm(r,this);var n=vl(this.requireFail,r);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var n=this,s=this.state;function o(a){n.manager.emit(a,r)}s<Xo&&o(n.options.event+R8(s)),o(n.options.event),r.additionalEvent&&o(r.additionalEvent),s>=Xo&&o(n.options.event+R8(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=ls},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(ls|Im)))return!1;r++}return!0},e.recognize=function(r){var n=ml({},r);if(!my(this.options.enable,[this,n])){this.reset(),this.state=ls;return}this.state&(ao|of|ls)&&(this.state=Im),this.state=this.process(n),this.state&(an|Cu|Xo|of)&&this.tryEmit(n)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},i})(),ND=(function(i){vn(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,qn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var t=e.prototype;return t.getTouchAction=function(){return[MD]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,l=n.distance<o.threshold,c=n.deltaTime<o.time;if(this.reset(),n.eventType&tr&&this.count===0)return this.failTimeout();if(l&&c&&a){if(n.eventType!==ri)return this.failTimeout();var u=this.pTime?n.timeStamp-this.pTime<o.interval:!0,h=!this.pCenter||xg(this.pCenter,n.center)<o.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!h||!u?this.count=1:this.count+=1,this._input=n;var d=this.count%o.taps;if(d===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=ao,s.tryEmit()},o.interval),an):ao}return ls},t.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=ls},this.options.interval),ls},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===ao&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e})(_p),Tu=(function(i){vn(e,i);function e(r){return r===void 0&&(r={}),i.call(this,qn({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(n){var s=this.options.pointers;return s===0||n.pointers.length===s},t.process=function(n){var s=this.state,o=n.eventType,a=s&(an|Cu),l=this.attrTest(n);return a&&(o&br||!l)?s|of:a||l?o&ri?s|Xo:s&an?s|Cu:an:ls},e})(_p);function ore(i){return i===Eu?"down":i===bp?"up":i===vp?"left":i===yp?"right":""}var mA=(function(i){vn(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,qn({event:"pan",threshold:10,pointers:1,direction:Kie},r))||this,n.pX=null,n.pY=null,n}var t=e.prototype;return t.getTouchAction=function(){var n=this.options.direction,s=[];return n&ps&&s.push(rf),n&Va&&s.push(tf),s},t.directionTest=function(n){var s=this.options,o=!0,a=n.distance,l=n.direction,c=n.deltaX,u=n.deltaY;return l&s.direction||(s.direction&ps?(l=c===0?_g:c<0?vp:yp,o=c!==this.pX,a=Math.abs(n.deltaX)):(l=u===0?_g:u<0?bp:Eu,o=u!==this.pY,a=Math.abs(n.deltaY))),n.direction=l,o&&a>s.threshold&&l&s.direction},t.attrTest=function(n){return Tu.prototype.attrTest.call(this,n)&&(this.state&an||!(this.state&an)&&this.directionTest(n))},t.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var s=ore(n.direction);s&&(n.additionalEvent=this.options.event+s),i.prototype.emit.call(this,n)},e})(Tu),are=(function(i){vn(e,i);function e(r){return r===void 0&&(r={}),i.call(this,qn({event:"swipe",threshold:10,velocity:.3,direction:ps|Va,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return mA.prototype.getTouchAction.call(this)},t.attrTest=function(n){var s=this.options.direction,o;return s&(ps|Va)?o=n.overallVelocity:s&ps?o=n.overallVelocityX:s&Va&&(o=n.overallVelocityY),i.prototype.attrTest.call(this,n)&&s&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&gl(o)>this.options.velocity&&n.eventType&ri},t.emit=function(n){var s=ore(n.offsetDirection);s&&this.manager.emit(this.options.event+s,n),this.manager.emit(this.options.event,n)},e})(Tu),lre=(function(i){vn(e,i);function e(r){return r===void 0&&(r={}),i.call(this,qn({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Ua]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&an)},t.emit=function(n){if(n.scale!==1){var s=n.scale<1?"in":"out";n.additionalEvent=this.options.event+s}i.prototype.emit.call(this,n)},e})(Tu),cre=(function(i){vn(e,i);function e(r){return r===void 0&&(r={}),i.call(this,qn({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Ua]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&an)},e})(Tu),ure=(function(i){vn(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,qn({event:"press",pointers:1,time:251,threshold:9},r))||this,n._timer=null,n._input=null,n}var t=e.prototype;return t.getTouchAction=function(){return[Vie]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,l=n.distance<o.threshold,c=n.deltaTime>o.time;if(this._input=n,!l||!a||n.eventType&(ri|br)&&!c)this.reset();else if(n.eventType&tr)this.reset(),this._timer=setTimeout(function(){s.state=ao,s.tryEmit()},o.time);else if(n.eventType&ri)return ao;return ls},t.reset=function(){clearTimeout(this._timer)},t.emit=function(n){this.state===ao&&(n&&n.eventType&ri?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=cA(),this.manager.emit(this.options.event,this._input)))},e})(_p),hre={domEvents:!1,touchAction:Uie,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},P8=[[cre,{enable:!1}],[lre,{enable:!1},["rotate"]],[are,{direction:ps}],[mA,{direction:ps},["swipe"]],[ND],[ND,{event:"doubletap",taps:2},["tap"]],[ure]],EFe=1,D8=2;function I8(i,e){var t=i.element;if(t.style){var r;oo(i.options.cssProps,function(n,s){r=py(t.style,s),e?(i.oldCssProps[r]=t.style[r],t.style[r]=n):t.style[r]=i.oldCssProps[r]||""}),e||(i.oldCssProps={})}}function CFe(i,e){var t=document.createEvent("Event");t.initEvent(i,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var k8=(function(){function i(t,r){var n=this;this.options=ml({},hre,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=wFe(this),this.touchAction=new Qie(this,this.options.touchAction),I8(this,!0),oo(this.options.recognizers,function(s){var o=n.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=i.prototype;return e.set=function(r){return ml(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?D8:EFe},e.recognize=function(r){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=n.curRecognizer;(!a||a&&a.state&ao)&&(n.curRecognizer=null,a=null);for(var l=0;l<o.length;)s=o[l],n.stopped!==D8&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(an|Cu|Xo)&&(n.curRecognizer=s,a=s),l++}},e.get=function(r){if(r instanceof _p)return r;for(var n=this.recognizers,s=0;s<n.length;s++)if(n[s].options.event===r)return n[s];return null},e.add=function(r){if(Fc(r,"add",this))return this;var n=this.get(r.options.event);return n&&this.remove(n),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(Fc(r,"remove",this))return this;var n=this.get(r);if(r){var s=this.recognizers,o=vl(s,n);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,n){if(r===void 0||n===void 0)return this;var s=this.handlers;return oo(nf(r),function(o){s[o]=s[o]||[],s[o].push(n)}),this},e.off=function(r,n){if(r===void 0)return this;var s=this.handlers;return oo(nf(r),function(o){n?s[o]&&s[o].splice(vl(s[o],n),1):delete s[o]}),this},e.emit=function(r,n){this.options.domEvents&&CFe(r,n);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){n.type=r,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](n),o++}},e.destroy=function(){this.element&&I8(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},i})(),TFe={touchstart:tr,touchmove:jl,touchend:ri,touchcancel:br},OFe="touchstart",RFe="touchstart touchmove touchend touchcancel",PFe=(function(i){vn(e,i);function e(){var r,n=e.prototype;return n.evTarget=OFe,n.evWin=RFe,r=i.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(n){var s=TFe[n.type];if(s===tr&&(this.started=!0),!!this.started){var o=DFe.call(this,n,s);s&(ri|br)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:gp,srcEvent:n})}},e})(ph);function DFe(i,e){var t=sf(i.touches),r=sf(i.changedTouches);return e&(ri|br)&&(t=dA(t.concat(r),"identifier",!0)),[t,r]}function dre(i,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var n=new Error("get-stack-trace"),s=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),i.apply(this,arguments)}}var fre=dre(function(i,e,t){for(var r=Object.keys(e),n=0;n<r.length;)(!t||t&&i[r[n]]===void 0)&&(i[r[n]]=e[r[n]]),n++;return i},"extend","Use `assign`."),IFe=dre(function(i,e){return fre(i,e,!0)},"merge","Use `assign`.");function kFe(i,e,t){var r=e.prototype,n;n=i.prototype=Object.create(r),n.constructor=i,n._super=r,t&&ml(n,t)}function M8(i,e){return function(){return i.apply(e,arguments)}}var gA=(function(){var i=function(t,r){return r===void 0&&(r={}),new k8(t,qn({recognizers:P8.concat()},r))};return i.VERSION="2.0.17-rc",i.DIRECTION_ALL=Kie,i.DIRECTION_DOWN=Eu,i.DIRECTION_LEFT=vp,i.DIRECTION_RIGHT=yp,i.DIRECTION_UP=bp,i.DIRECTION_HORIZONTAL=ps,i.DIRECTION_VERTICAL=Va,i.DIRECTION_NONE=_g,i.DIRECTION_DOWN=Eu,i.INPUT_START=tr,i.INPUT_MOVE=jl,i.INPUT_END=ri,i.INPUT_CANCEL=br,i.STATE_POSSIBLE=Im,i.STATE_BEGAN=an,i.STATE_CHANGED=Cu,i.STATE_ENDED=Xo,i.STATE_RECOGNIZED=ao,i.STATE_CANCELLED=of,i.STATE_FAILED=ls,i.Manager=k8,i.Input=ph,i.TouchAction=Qie,i.TouchInput=fA,i.MouseInput=pA,i.PointerEventInput=nre,i.TouchMouseInput=sre,i.SingleTouchInput=PFe,i.Recognizer=_p,i.AttrRecognizer=Tu,i.Tap=ND,i.Pan=mA,i.Swipe=are,i.Pinch=lre,i.Rotate=cre,i.Press=ure,i.on=dd,i.off=fd,i.each=oo,i.merge=IFe,i.extend=fre,i.bindFn=M8,i.assign=ml,i.inherit=kFe,i.bindFn=M8,i.prefixed=py,i.toArray=sf,i.inArray=vl,i.uniqueArray=dA,i.splitStr=nf,i.boolOrFn=my,i.hasParent=hA,i.addEventListeners=dd,i.removeEventListeners=fd,i.defaults=ml({},hre,{preset:P8}),i})();gA.defaults;const vA=JAe("DELETE");function MFe(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return yA({},i,...t)}function yA(){const i=Sg(...arguments);return mre(i),i}function Sg(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];if(e.length<2)return e[0];if(e.length>2)return Sg(yA(e[0],e[1]),...fh(e).call(e,2));const r=e[0],n=e[1];if(r instanceof Date&&n instanceof Date)return r.setTime(n.getTime()),r;for(const s of hNe(n))Object.prototype.propertyIsEnumerable.call(n,s)&&(n[s]===vA?delete r[s]:r[s]!==null&&n[s]!==null&&typeof r[s]=="object"&&typeof n[s]=="object"&&!_t(r[s])&&!_t(n[s])?r[s]=Sg(r[s],n[s]):r[s]=pre(n[s]));return r}function pre(i){return _t(i)?yi(i).call(i,e=>pre(e)):typeof i=="object"&&i!==null?i instanceof Date?new Date(i.getTime()):Sg({},i):i}function mre(i){for(const e of Ai(i))i[e]===vA?delete i[e]:typeof i[e]=="object"&&i[e]!==null&&mre(i[e])}function AFe(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return NFe(e.length?e:[Dr()])}function NFe(i){let[e,t,r]=$Fe(i),n=1;const s=()=>{const o=2091639*e+n*23283064365386963e-26;return e=t,t=r,r=o-(n=o|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=i,s.version="0.9",s}function $Fe(){const i=FFe();let e=i(" "),t=i(" "),r=i(" ");for(let n=0;n<arguments.length;n++)e-=i(n<0||arguments.length<=n?void 0:arguments[n]),e<0&&(e+=1),t-=i(n<0||arguments.length<=n?void 0:arguments[n]),t<0&&(t+=1),r-=i(n<0||arguments.length<=n?void 0:arguments[n]),r<0&&(r+=1);return[e,t,r]}function FFe(){let i=4022871197;return function(e){const t=e.toString();for(let r=0;r<t.length;r++){i+=t.charCodeAt(r);let n=.02519603282416938*i;i=n>>>0,n-=i,n*=i,i=n>>>0,n-=i,i+=n*4294967296}return(i>>>0)*23283064365386963e-26}}function LFe(){const i=()=>{};return{on:i,off:i,destroy:i,emit:i,get(){return{set:i}}}}const bA=typeof window<"u"?window.Hammer||gA:function(){return LFe()};function cs(i){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:i,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const t=bA(this._dom.overlay);t.on("tap",V(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{t.destroy()});const r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];le(r).call(r,n=>{t.on(n,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=n=>{qFe(n.target,i)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=n=>{("key"in n?n.key==="Escape":n.keyCode===27)&&this.deactivate()}}lA(cs.prototype);cs.current=null;cs.prototype.destroy=function(){this.deactivate();for(const t of SNe(i=mr(e=this._cleanupQueue).call(e,0)).call(i)){var i,e;t()}};cs.prototype.activate=function(){cs.current&&cs.current.deactivate(),cs.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};cs.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};cs.prototype._onTapOverlay=function(i){this.activate(),i.srcEvent.stopPropagation()};function qFe(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}const jFe=/^\/?Date\((-?\d+)/i,GFe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,WFe=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,BFe=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,zFe=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function pd(i){return i instanceof Number||typeof i=="number"}function gre(i){if(i)for(;i.hasChildNodes()===!0;){const e=i.firstChild;e&&(gre(e),i.removeChild(e))}}function Ar(i){return i instanceof String||typeof i=="string"}function $D(i){return typeof i=="object"&&i!==null}function HFe(i){if(i instanceof Date)return!0;if(Ar(i)){if(jFe.exec(i))return!0;if(!isNaN(Date.parse(i)))return!0}return!1}function yl(i,e,t,r){let n=!1;r===!0&&(n=e[t]===null&&i[t]!==void 0),n?delete i[t]:i[t]=e[t]}function vre(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const r in i)if(e[r]!==void 0)if(e[r]===null||typeof e[r]!="object")yl(i,e,r,t);else{const n=i[r],s=e[r];$D(n)&&$D(s)&&vre(n,s,t)}}const YFe=pl;function UFe(i,e){if(!_t(i))throw new Error("Array with property names expected as first argument");for(var t=arguments.length,r=new Array(t>2?t-2:0),n=2;n<t;n++)r[n-2]=arguments[n];for(const s of r)for(let o=0;o<i.length;o++){const a=i[o];s&&Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}function VFe(i,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(_t(t))throw new TypeError("Arrays are not supported by deepExtend");for(let n=0;n<i.length;n++){const s=i[n];if(Object.prototype.hasOwnProperty.call(t,s))if(t[s]&&t[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?af(e[s],t[s],!1,r):yl(e,t,s,r);else{if(_t(t[s]))throw new TypeError("Arrays are not supported by deepExtend");yl(e,t,s,r)}}return e}function XFe(i,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(_t(t))throw new TypeError("Arrays are not supported by deepExtend");for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!Su(i).call(i,n))if(t[n]&&t[n].constructor===Object)e[n]===void 0&&(e[n]={}),e[n].constructor===Object?af(e[n],t[n]):yl(e,t,n,r);else if(_t(t[n])){e[n]=[];for(let s=0;s<t[n].length;s++)e[n].push(t[n][s])}else yl(e,t,n,r);return e}function af(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||t===!0)if(typeof e[s]=="object"&&e[s]!==null&&T4(e[s])===Object.prototype)i[s]===void 0?i[s]=af({},e[s],t):typeof i[s]=="object"&&i[s]!==null&&T4(i[s])===Object.prototype?af(i[s],e[s],t):yl(i,e,s,r);else if(_t(e[s])){var n;i[s]=fh(n=e[s]).call(n)}else yl(i,e,s,r);return i}function KFe(i,e){if(i.length!==e.length)return!1;for(let t=0,r=i.length;t<r;t++)if(i[t]!=e[t])return!1;return!0}function Uh(i){const e=typeof i;return e==="object"?i===null?"null":i instanceof Boolean?"Boolean":i instanceof Number?"Number":i instanceof String?"String":_t(i)?"Array":i instanceof Date?"Date":"Object":e==="number"?"Number":e==="boolean"?"Boolean":e==="string"?"String":e===void 0?"undefined":e}function lf(i,e){return[...i,e]}function yre(i){return fh(i).call(i)}function ZFe(i){return i.getBoundingClientRect().left}function QFe(i){return i.getBoundingClientRect().right}function JFe(i){return i.getBoundingClientRect().top}function eLe(i,e){let t=i.className.split(" ");const r=e.split(" ");t=Jt(t).call(t,Ye(r).call(r,function(n){return!Su(t).call(t,n)})),i.className=t.join(" ")}function tLe(i,e){let t=i.className.split(" ");const r=e.split(" ");t=Ye(t).call(t,function(n){return!Su(r).call(r,n)}),i.className=t.join(" ")}function iLe(i,e){if(_t(i)){const t=i.length;for(let r=0;r<t;r++)e(i[r],r,i)}else for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(i[t],t,i)}const rLe=oA;function nLe(i,e,t){return i[e]!==t?(i[e]=t,!0):!1}function sLe(i){let e=!1;return()=>{e||(e=!0,requestAnimationFrame(()=>{e=!1,i()}))}}function oLe(i){i||(i=window.event),i&&(i.preventDefault?i.preventDefault():i.returnValue=!1)}function aLe(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event,e=null;return i&&(i.target?e=i.target:i.srcElement&&(e=i.srcElement)),!(e instanceof Element)||e.nodeType!=null&&e.nodeType==3&&(e=e.parentNode,!(e instanceof Element))?null:e}function lLe(i,e){let t=i;for(;t;){if(t===e)return!0;if(t.parentNode)t=t.parentNode;else return!1}return!1}const cLe={asBoolean(i,e){return typeof i=="function"&&(i=i()),i!=null?i!=!1:e||null},asNumber(i,e){return typeof i=="function"&&(i=i()),i!=null?Number(i)||e||null:e||null},asString(i,e){return typeof i=="function"&&(i=i()),i!=null?String(i):e||null},asSize(i,e){return typeof i=="function"&&(i=i()),Ar(i)?i:pd(i)?i+"px":e||null},asElement(i,e){return typeof i=="function"&&(i=i()),i||e||null}};function gy(i){let e;switch(i.length){case 3:case 4:return e=WFe.exec(i),e?{r:Ir(e[1]+e[1],16),g:Ir(e[2]+e[2],16),b:Ir(e[3]+e[3],16)}:null;case 6:case 7:return e=GFe.exec(i),e?{r:Ir(e[1],16),g:Ir(e[2],16),b:Ir(e[3],16)}:null;default:return null}}function uLe(i,e){if(Su(i).call(i,"rgba"))return i;if(Su(i).call(i,"rgb")){const t=i.substr(gt(i).call(i,"(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}else{const t=gy(i);return t==null?i:"rgba("+t.r+","+t.g+","+t.b+","+e+")"}}function _A(i,e,t){var r;return"#"+fh(r=((1<<24)+(i<<16)+(e<<8)+t).toString(16)).call(r,1)}function hLe(i,e){if(Ar(i)){let r=i;if(xA(r)){var t;const n=yi(t=r.substr(4).substr(0,r.length-5).split(",")).call(t,function(s){return Ir(s)});r=_A(n[0],n[1],n[2])}if(wA(r)===!0){const n=_re(r),s={h:n.h,s:n.s*.8,v:Math.min(1,n.v*1.02)},o={h:n.h,s:Math.min(1,n.s*1.25),v:n.v*.8},a=FD(o.h,o.s,o.v),l=FD(s.h,s.s,s.v);return{background:r,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else return{background:r,border:r,highlight:{background:r,border:r},hover:{background:r,border:r}}}else return e?{background:i.background||e.background,border:i.border||e.border,highlight:Ar(i.highlight)?{border:i.highlight,background:i.highlight}:{background:i.highlight&&i.highlight.background||e.highlight.background,border:i.highlight&&i.highlight.border||e.highlight.border},hover:Ar(i.hover)?{border:i.hover,background:i.hover}:{border:i.hover&&i.hover.border||e.hover.border,background:i.hover&&i.hover.background||e.hover.background}}:{background:i.background||void 0,border:i.border||void 0,highlight:Ar(i.highlight)?{border:i.highlight,background:i.highlight}:{background:i.highlight&&i.highlight.background||void 0,border:i.highlight&&i.highlight.border||void 0},hover:Ar(i.hover)?{border:i.hover,background:i.hover}:{border:i.hover&&i.hover.border||void 0,background:i.hover&&i.hover.background||void 0}}}function Lc(i,e,t){i=i/255,e=e/255,t=t/255;const r=Math.min(i,Math.min(e,t)),n=Math.max(i,Math.max(e,t));if(r===n)return{h:0,s:0,v:r};const s=i===r?e-t:t===r?i-e:t-i,a=60*((i===r?3:t===r?1:5)-s/(n-r))/360,l=(n-r)/n;return{h:a,s:l,v:n}}function bre(i){const e=document.createElement("div"),t={};e.style.cssText=i;for(let r=0;r<e.style.length;++r)t[e.style[r]]=e.style.getPropertyValue(e.style[r]);return t}function dLe(i,e){const t=bre(e);for(const[r,n]of T$e(t))i.style.setProperty(r,n)}function fLe(i,e){const t=bre(e);for(const r of Ai(t))i.style.removeProperty(r)}function md(i,e,t){let r,n,s;const o=Math.floor(i*6),a=i*6-o,l=t*(1-e),c=t*(1-a*e),u=t*(1-(1-a)*e);switch(o%6){case 0:r=t,n=u,s=l;break;case 1:r=c,n=t,s=l;break;case 2:r=l,n=t,s=u;break;case 3:r=l,n=c,s=t;break;case 4:r=u,n=l,s=t;break;case 5:r=t,n=l,s=c;break}return{r:Math.floor(r*255),g:Math.floor(n*255),b:Math.floor(s*255)}}function FD(i,e,t){const r=md(i,e,t);return _A(r.r,r.g,r.b)}function _re(i){const e=gy(i);if(!e)throw new TypeError("'".concat(i,"' is not a valid color."));return Lc(e.r,e.g,e.b)}function wA(i){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(i)}function xA(i){return BFe.test(i)}function wre(i){return zFe.test(i)}function pLe(i,e){if(e!==null&&typeof e=="object"){const t=fy(e);for(let r=0;r<i.length;r++)Object.prototype.hasOwnProperty.call(e,i[r])&&typeof e[i[r]]=="object"&&(t[i[r]]=SA(e[i[r]]));return t}else return null}function SA(i){if(i===null||typeof i!="object")return null;if(i instanceof Element)return i;const e=fy(i);for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&typeof i[t]=="object"&&(e[t]=SA(i[t]));return e}function mLe(i,e){for(let t=0;t<i.length;t++){const r=i[t];let n;for(n=t;n>0&&e(r,i[n-1])<0;n--)i[n]=i[n-1];i[n]=r}return i}function gLe(i,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const n=function(f){return f!=null},s=function(f){return f!==null&&typeof f=="object"},o=function(f){for(const p in f)if(Object.prototype.hasOwnProperty.call(f,p))return!1;return!0};if(!s(i))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!n(t))throw new Error("Parameter option must have a value");if(!s(r))throw new Error("Parameter globalOptions must be an object");const a=function(f,p,m){s(f[m])||(f[m]={});const g=p[m],v=f[m];for(const y in g)Object.prototype.hasOwnProperty.call(g,y)&&(v[y]=g[y])},l=e[t],u=s(r)&&!o(r)?r[t]:void 0,h=u?u.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(i[t])||(i[t]={}),i[t].enabled=l;return}if(l===null&&!s(i[t]))if(n(u))i[t]=fy(u);else return;if(!s(l))return;let d=!0;l.enabled!==void 0?d=l.enabled:h!==void 0&&(d=u.enabled),a(i,e,t),i[t].enabled=d}function vLe(i,e,t,r){let s=0,o=0,a=i.length-1;for(;o<=a&&s<1e4;){const l=Math.floor((o+a)/2),c=i[l],u=r===void 0?c[t]:c[t][r],h=e(u);if(h==0)return l;h==-1?o=l+1:a=l-1,s++}return-1}function yLe(i,e,t,r,n){let o=0,a=0,l=i.length-1,c,u,h,d;for(n=n??function(f,p){return f==p?0:f<p?-1:1};a<=l&&o<1e4;){if(d=Math.floor(.5*(l+a)),c=i[Math.max(0,d-1)][t],u=i[d][t],h=i[Math.min(i.length-1,d+1)][t],n(u,e)==0)return d;if(n(c,e)<0&&n(u,e)>0)return r=="before"?Math.max(0,d-1):d;if(n(u,e)<0&&n(h,e)>0)return r=="before"?d:Math.min(i.length-1,d+1);n(u,e)<0?a=d+1:l=d-1,o++}return-1}const bLe={linear(i){return i},easeInQuad(i){return i*i},easeOutQuad(i){return i*(2-i)},easeInOutQuad(i){return i<.5?2*i*i:-1+(4-2*i)*i},easeInCubic(i){return i*i*i},easeOutCubic(i){return--i*i*i+1},easeInOutCubic(i){return i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1},easeInQuart(i){return i*i*i*i},easeOutQuart(i){return 1- --i*i*i*i},easeInOutQuart(i){return i<.5?8*i*i*i*i:1-8*--i*i*i*i},easeInQuint(i){return i*i*i*i*i},easeOutQuint(i){return 1+--i*i*i*i*i},easeInOutQuint(i){return i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i}};function _Le(){const i=document.createElement("p");i.style.width="100%",i.style.height="200px";const e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(i),document.body.appendChild(e);const t=i.offsetWidth;e.style.overflow="scroll";let r=i.offsetWidth;return t==r&&(r=e.clientWidth),document.body.removeChild(e),t-r}function wLe(i,e){let t;_t(e)||(e=[e]);for(const r of i)if(r){t=r[e[0]];for(let n=1;n<e.length;n++)t&&(t=t[e[n]]);if(typeof t<"u")break}return t}const xLe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let xre=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return xLe[e]}setColor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let r;const n=this._isColorString(e);if(n!==void 0&&(e=n),Ar(e)===!0){if(xA(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");r={r:s[0],g:s[1],b:s[2],a:1}}else if(wre(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");r={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(wA(e)===!0){const s=gy(e);r={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:s}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+kr(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=pl({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Lr(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=pl({},e)),this.color=e;const r=Lc(e.r,e.g,e.b),n=2*Math.PI,s=this.r*r.s,o=this.centerCoordinates.x+s*Math.sin(n*r.h),a=this.centerCoordinates.y+s*Math.cos(n*r.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const t=Lc(this.color.r,this.color.g,this.color.b);t.v=e/100;const r=md(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const t=Lc(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const n=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,n,s),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),zie(r).call(r),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,t,r,n;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=V(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=V(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=V(r=this._save).call(r,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=V(n=this._loadLast).call(n,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new bA(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let n,s,o,a;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;const l=2*Math.PI/360,c=1/360,u=1/this.r;let h;for(o=0;o<360;o++)for(a=0;a<this.r;a++)n=this.centerCoordinates.x+a*Math.sin(l*o),s=this.centerCoordinates.y+a*Math.cos(l*o),h=md(o*c,a*u,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(n-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){const t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,n=e.center.y-t.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=r-o,l=n-s,c=Math.atan2(a,l),u=.98*Math.min(Math.sqrt(a*a+l*l),o),h=Math.cos(c)*u+s,d=Math.sin(c)*u+o;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=d-.5*this.colorPickerSelector.clientWidth+"px";let f=c/(2*Math.PI);f=f<0?f+1:f;const p=u/this.r,m=Lc(this.color.r,this.color.g,this.color.b);m.h=f,m.s=p;const g=md(m.h,m.s,m.v);g.a=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function LD(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const r=document.createElement(e[0]);return r.appendChild(LD(...fh(e).call(e,1))),r}}let SLe=class{constructor(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},pl(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new xre(n),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(_t(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),Ye(e)!==void 0&&(this.options.filter=Ye(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);Ye(this.options)===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=Ye(this.options);let t=0,r=!1;for(const n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(n,[]),r=r||this._handleObject(this.configureOptions[n],[n],!0)):(e===!0||gt(e).call(e,n)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return le(r).call(r,o=>{s.appendChild(o)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}_makeLabel(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(LD("i","b",e))}else n.innerText=e+":";return n}_makeDropdown(e,t,r){const n=document.createElement("select");n.className="vis-configuration vis-config-select";let s=0;t!==void 0&&gt(e).call(e,t)!==-1&&(s=gt(e).call(e,t));for(let l=0;l<e.length;l++){const c=document.createElement("option");c.value=e[l],l===s&&(c.selected="selected"),c.innerText=e[l],n.appendChild(c)}const o=this;n.onchange=function(){o._update(this.value,r)};const a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,n)}_makeRange(e,t,r){const n=e[0],s=e[1],o=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=o}catch{}l.step=a;let c="",u=0;t!==void 0?(t<0&&t*1.2<s?(l.min=Math.ceil(t*1.2),u=l.min,c="range increased"):t/1.2<s&&(l.min=Math.ceil(t/1.2),u=l.min,c="range increased"),t*1.2>o&&o!==1&&(l.max=Math.ceil(t*1.2),u=l.max,c="range increased"),l.value=t):l.value=n;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=l.value;const d=this;l.onchange=function(){h.value=this.value,d._update(Number(this.value),r)},l.oninput=function(){h.value=this.value};const f=this._makeLabel(r[r.length-1],r),p=this._makeItem(r,f,l,h);c!==""&&this.popupHistory[p]!==u&&(this.popupHistory[p]=u,this._setupPopup(c,p))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerText=e,r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Lr(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Lr(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){const n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=e,t!==void 0&&(n.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));const s=this;n.onchange=function(){s._update(this.checked,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,n)}_makeTextInput(e,t,r){const n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=t,t!==e&&this.changedOptions.push({path:r,value:t});const s=this;n.onchange=function(){s._update(this.value,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,n)}_makeColorField(e,t,r){const n=e[1],s=document.createElement("div");t=t===void 0?n:t,t!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?n:t,s.onclick=()=>{this._showColorPicker(t,s,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,s)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(n=>{const s="rgba("+n.r+","+n.g+","+n.b+","+n.a+")";t.style.backgroundColor=s,this._update(s,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=!1;const s=Ye(this.options);let o=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){n=!0;const l=e[a],c=lf(t,a);if(typeof s=="function"&&(n=s(a,t),n===!1&&!_t(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,n=this._handleObject(l,c,!0),this.allowCreation=r===!1)),n!==!1){o=!0;const u=this._getValue(c);if(_t(l))this._handleArray(l,u,c);else if(typeof l=="string")this._makeTextInput(l,u,c);else if(typeof l=="boolean")this._makeCheckbox(l,u,c);else if(l instanceof Object){if(!this.hideOption(t,a,this.moduleOptions))if(l.enabled!==void 0){const h=lf(c,"enabled"),d=this._getValue(h);if(d===!0){const f=this._makeLabel(a,c,!0);this._makeItem(c,f),o=this._handleObject(l,c)||o}else this._makeCheckbox(l,d,c)}else{const h=this._makeLabel(a,c,!0);this._makeItem(c,h),o=this._handleObject(l,c)||o}}else console.error("dont know how to handle",l,a,c)}}return o}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){const r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<t.length;s++)t[s]!=="global"&&(n[t[s]]===void 0&&(n[t[s]]={}),s!==t.length-1?n=n[t[s]]:n[t[s]]=e);return r}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(LD("pre","const options = "+kr(e,null,2)))}getOptions(){const e={};for(let t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}},ELe=class{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=Ir(e),this.y=Ir(t)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const t=this.frame.clientHeight,r=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let o=0,a=0;if(this.overflowMethod=="flip"){let l=!1,c=!0;this.y-t<this.padding&&(c=!1),this.x+r>s-this.padding&&(l=!0),l?o=this.x-r:o=this.x,c?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>n&&(a=n-t-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+r+this.padding>s&&(o=s-r-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Mh=!1,A8;const qD="background: #FFeeee; color: #dd0000";let CLe=class Bt{static validate(e,t,r){Mh=!1,A8=t;let n=t;return r!==void 0&&(n=t[r]),Bt.parse(e,n,[]),Mh}static parse(e,t,r){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&Bt.check(n,e,t,r)}static check(e,t,r,n){if(r[e]===void 0&&r.__any__===void 0){Bt.getSuggestion(e,r,n);return}let s=e,o=!0;r[e]===void 0&&r.__any__!==void 0&&(s="__any__",o=Bt.getType(t[e])==="object");let a=r[s];o&&a.__type__!==void 0&&(a=a.__type__),Bt.checkFields(e,t,r,s,a,n)}static checkFields(e,t,r,n,s,o){const a=function(u){console.error("%c"+u+Bt.printLocation(o,e),qD)},l=Bt.getType(t[e]),c=s[l];c!==void 0?Bt.getType(c)==="array"&&gt(c).call(c,t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+Bt.print(c)+' not "'+t[e]+'". '),Mh=!0):l==="object"&&n!=="__any__"&&(o=lf(o,e),Bt.parse(t[e],r[n],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+Bt.print(Ai(s))+". Received ["+l+'] "'+t[e]+'"'),Mh=!0)}static getType(e){const t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":_t(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){const n=Bt.findInOptions(e,t,r,!1),s=Bt.findInOptions(e,A8,[],!0),o=8,a=4;let l;n.indexMatch!==void 0?l=" in "+Bt.printLocation(n.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+`"?

`:s.distance<=a&&n.distance>s.distance?l=" in "+Bt.printLocation(n.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+Bt.printLocation(s.path,s.closestMatch,""):n.distance<=o?l='. Did you mean "'+n.closestMatch+'"?'+Bt.printLocation(n.path,e):l=". Did you mean one of these: "+Bt.print(Ai(t))+Bt.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+l,qD),Mh=!0}static findInOptions(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,o="",a=[];const l=e.toLowerCase();let c;for(const h in t){let d;if(t[h].__type__!==void 0&&n===!0){const f=Bt.findInOptions(e,t[h],lf(r,h));s>f.distance&&(o=f.closestMatch,a=f.path,s=f.distance,c=f.indexMatch)}else{var u;gt(u=h.toLowerCase()).call(u,l)!==-1&&(c=h),d=Bt.levenshteinDistance(e,h),s>d&&(o=h,a=yre(r),s=d)}}return{closestMatch:o,path:a,distance:s,indexMatch:c}}static printLocation(e,t){let n=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)n+="  ";n+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)n+="  ";n+=t+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)n+="  ";n+=`}
`}return n+`

`}static print(e){return kr(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;const r=[];let n;for(n=0;n<=t.length;n++)r[n]=[n];let s;for(s=0;s<=e.length;s++)r[0][s]=s;for(n=1;n<=t.length;n++)for(s=1;s<=e.length;s++)t.charAt(n-1)==e.charAt(s-1)?r[n][s]=r[n-1][s-1]:r[n][s]=Math.min(r[n-1][s-1]+1,Math.min(r[n][s-1]+1,r[n-1][s]+1));return r[t.length][e.length]}};const TLe=cs,OLe=xre,RLe=SLe,PLe=bA,DLe=ELe,ILe=qD,kLe=CLe;var MLe=Object.freeze({__proto__:null,Activator:TLe,Alea:AFe,ColorPicker:OLe,Configurator:RLe,DELETE:vA,HSVToHex:FD,HSVToRGB:md,Hammer:PLe,Popup:DLe,RGBToHSV:Lc,RGBToHex:_A,VALIDATOR_PRINT_STYLE:ILe,Validator:kLe,addClassName:eLe,addCssText:dLe,binarySearchCustom:vLe,binarySearchValue:yLe,bridgeObject:SA,copyAndExtendArray:lf,copyArray:yre,deepExtend:af,deepObjectAssign:yA,easingFunctions:bLe,equalArray:KFe,extend:YFe,fillIfDefined:vre,forEach:iLe,getAbsoluteLeft:ZFe,getAbsoluteRight:QFe,getAbsoluteTop:JFe,getScrollBarWidth:_Le,getTarget:aLe,getType:Uh,hasParent:lLe,hexToHSV:_re,hexToRGB:gy,insertSort:mLe,isDate:HFe,isNumber:pd,isObject:$D,isString:Ar,isValidHex:wA,isValidRGB:xA,isValidRGBA:wre,mergeOptions:gLe,option:cLe,overrideOpacity:uLe,parseColor:hLe,preventDefault:oLe,pureDeepObjectAssign:MFe,recursiveDOMDelete:gre,removeClassName:tLe,removeCssText:fLe,selectiveBridgeObject:pLe,selectiveDeepExtend:VFe,selectiveExtend:UFe,selectiveNotDeepExtend:XFe,throttle:sLe,toArray:rLe,topMost:wLe,updateProperty:nLe}),gm={exports:{}},Dt={},vm={exports:{}},xa={},N8;function Sre(){if(N8)return xa;N8=1;function i(){var s={};return s["align-content"]=!1,s["align-items"]=!1,s["align-self"]=!1,s["alignment-adjust"]=!1,s["alignment-baseline"]=!1,s.all=!1,s["anchor-point"]=!1,s.animation=!1,s["animation-delay"]=!1,s["animation-direction"]=!1,s["animation-duration"]=!1,s["animation-fill-mode"]=!1,s["animation-iteration-count"]=!1,s["animation-name"]=!1,s["animation-play-state"]=!1,s["animation-timing-function"]=!1,s.azimuth=!1,s["backface-visibility"]=!1,s.background=!0,s["background-attachment"]=!0,s["background-clip"]=!0,s["background-color"]=!0,s["background-image"]=!0,s["background-origin"]=!0,s["background-position"]=!0,s["background-repeat"]=!0,s["background-size"]=!0,s["baseline-shift"]=!1,s.binding=!1,s.bleed=!1,s["bookmark-label"]=!1,s["bookmark-level"]=!1,s["bookmark-state"]=!1,s.border=!0,s["border-bottom"]=!0,s["border-bottom-color"]=!0,s["border-bottom-left-radius"]=!0,s["border-bottom-right-radius"]=!0,s["border-bottom-style"]=!0,s["border-bottom-width"]=!0,s["border-collapse"]=!0,s["border-color"]=!0,s["border-image"]=!0,s["border-image-outset"]=!0,s["border-image-repeat"]=!0,s["border-image-slice"]=!0,s["border-image-source"]=!0,s["border-image-width"]=!0,s["border-left"]=!0,s["border-left-color"]=!0,s["border-left-style"]=!0,s["border-left-width"]=!0,s["border-radius"]=!0,s["border-right"]=!0,s["border-right-color"]=!0,s["border-right-style"]=!0,s["border-right-width"]=!0,s["border-spacing"]=!0,s["border-style"]=!0,s["border-top"]=!0,s["border-top-color"]=!0,s["border-top-left-radius"]=!0,s["border-top-right-radius"]=!0,s["border-top-style"]=!0,s["border-top-width"]=!0,s["border-width"]=!0,s.bottom=!1,s["box-decoration-break"]=!0,s["box-shadow"]=!0,s["box-sizing"]=!0,s["box-snap"]=!0,s["box-suppress"]=!0,s["break-after"]=!0,s["break-before"]=!0,s["break-inside"]=!0,s["caption-side"]=!1,s.chains=!1,s.clear=!0,s.clip=!1,s["clip-path"]=!1,s["clip-rule"]=!1,s.color=!0,s["color-interpolation-filters"]=!0,s["column-count"]=!1,s["column-fill"]=!1,s["column-gap"]=!1,s["column-rule"]=!1,s["column-rule-color"]=!1,s["column-rule-style"]=!1,s["column-rule-width"]=!1,s["column-span"]=!1,s["column-width"]=!1,s.columns=!1,s.contain=!1,s.content=!1,s["counter-increment"]=!1,s["counter-reset"]=!1,s["counter-set"]=!1,s.crop=!1,s.cue=!1,s["cue-after"]=!1,s["cue-before"]=!1,s.cursor=!1,s.direction=!1,s.display=!0,s["display-inside"]=!0,s["display-list"]=!0,s["display-outside"]=!0,s["dominant-baseline"]=!1,s.elevation=!1,s["empty-cells"]=!1,s.filter=!1,s.flex=!1,s["flex-basis"]=!1,s["flex-direction"]=!1,s["flex-flow"]=!1,s["flex-grow"]=!1,s["flex-shrink"]=!1,s["flex-wrap"]=!1,s.float=!1,s["float-offset"]=!1,s["flood-color"]=!1,s["flood-opacity"]=!1,s["flow-from"]=!1,s["flow-into"]=!1,s.font=!0,s["font-family"]=!0,s["font-feature-settings"]=!0,s["font-kerning"]=!0,s["font-language-override"]=!0,s["font-size"]=!0,s["font-size-adjust"]=!0,s["font-stretch"]=!0,s["font-style"]=!0,s["font-synthesis"]=!0,s["font-variant"]=!0,s["font-variant-alternates"]=!0,s["font-variant-caps"]=!0,s["font-variant-east-asian"]=!0,s["font-variant-ligatures"]=!0,s["font-variant-numeric"]=!0,s["font-variant-position"]=!0,s["font-weight"]=!0,s.grid=!1,s["grid-area"]=!1,s["grid-auto-columns"]=!1,s["grid-auto-flow"]=!1,s["grid-auto-rows"]=!1,s["grid-column"]=!1,s["grid-column-end"]=!1,s["grid-column-start"]=!1,s["grid-row"]=!1,s["grid-row-end"]=!1,s["grid-row-start"]=!1,s["grid-template"]=!1,s["grid-template-areas"]=!1,s["grid-template-columns"]=!1,s["grid-template-rows"]=!1,s["hanging-punctuation"]=!1,s.height=!0,s.hyphens=!1,s.icon=!1,s["image-orientation"]=!1,s["image-resolution"]=!1,s["ime-mode"]=!1,s["initial-letters"]=!1,s["inline-box-align"]=!1,s["justify-content"]=!1,s["justify-items"]=!1,s["justify-self"]=!1,s.left=!1,s["letter-spacing"]=!0,s["lighting-color"]=!0,s["line-box-contain"]=!1,s["line-break"]=!1,s["line-grid"]=!1,s["line-height"]=!1,s["line-snap"]=!1,s["line-stacking"]=!1,s["line-stacking-ruby"]=!1,s["line-stacking-shift"]=!1,s["line-stacking-strategy"]=!1,s["list-style"]=!0,s["list-style-image"]=!0,s["list-style-position"]=!0,s["list-style-type"]=!0,s.margin=!0,s["margin-bottom"]=!0,s["margin-left"]=!0,s["margin-right"]=!0,s["margin-top"]=!0,s["marker-offset"]=!1,s["marker-side"]=!1,s.marks=!1,s.mask=!1,s["mask-box"]=!1,s["mask-box-outset"]=!1,s["mask-box-repeat"]=!1,s["mask-box-slice"]=!1,s["mask-box-source"]=!1,s["mask-box-width"]=!1,s["mask-clip"]=!1,s["mask-image"]=!1,s["mask-origin"]=!1,s["mask-position"]=!1,s["mask-repeat"]=!1,s["mask-size"]=!1,s["mask-source-type"]=!1,s["mask-type"]=!1,s["max-height"]=!0,s["max-lines"]=!1,s["max-width"]=!0,s["min-height"]=!0,s["min-width"]=!0,s["move-to"]=!1,s["nav-down"]=!1,s["nav-index"]=!1,s["nav-left"]=!1,s["nav-right"]=!1,s["nav-up"]=!1,s["object-fit"]=!1,s["object-position"]=!1,s.opacity=!1,s.order=!1,s.orphans=!1,s.outline=!1,s["outline-color"]=!1,s["outline-offset"]=!1,s["outline-style"]=!1,s["outline-width"]=!1,s.overflow=!1,s["overflow-wrap"]=!1,s["overflow-x"]=!1,s["overflow-y"]=!1,s.padding=!0,s["padding-bottom"]=!0,s["padding-left"]=!0,s["padding-right"]=!0,s["padding-top"]=!0,s.page=!1,s["page-break-after"]=!1,s["page-break-before"]=!1,s["page-break-inside"]=!1,s["page-policy"]=!1,s.pause=!1,s["pause-after"]=!1,s["pause-before"]=!1,s.perspective=!1,s["perspective-origin"]=!1,s.pitch=!1,s["pitch-range"]=!1,s["play-during"]=!1,s.position=!1,s["presentation-level"]=!1,s.quotes=!1,s["region-fragment"]=!1,s.resize=!1,s.rest=!1,s["rest-after"]=!1,s["rest-before"]=!1,s.richness=!1,s.right=!1,s.rotation=!1,s["rotation-point"]=!1,s["ruby-align"]=!1,s["ruby-merge"]=!1,s["ruby-position"]=!1,s["shape-image-threshold"]=!1,s["shape-outside"]=!1,s["shape-margin"]=!1,s.size=!1,s.speak=!1,s["speak-as"]=!1,s["speak-header"]=!1,s["speak-numeral"]=!1,s["speak-punctuation"]=!1,s["speech-rate"]=!1,s.stress=!1,s["string-set"]=!1,s["tab-size"]=!1,s["table-layout"]=!1,s["text-align"]=!0,s["text-align-last"]=!0,s["text-combine-upright"]=!0,s["text-decoration"]=!0,s["text-decoration-color"]=!0,s["text-decoration-line"]=!0,s["text-decoration-skip"]=!0,s["text-decoration-style"]=!0,s["text-emphasis"]=!0,s["text-emphasis-color"]=!0,s["text-emphasis-position"]=!0,s["text-emphasis-style"]=!0,s["text-height"]=!0,s["text-indent"]=!0,s["text-justify"]=!0,s["text-orientation"]=!0,s["text-overflow"]=!0,s["text-shadow"]=!0,s["text-space-collapse"]=!0,s["text-transform"]=!0,s["text-underline-position"]=!0,s["text-wrap"]=!0,s.top=!1,s.transform=!1,s["transform-origin"]=!1,s["transform-style"]=!1,s.transition=!1,s["transition-delay"]=!1,s["transition-duration"]=!1,s["transition-property"]=!1,s["transition-timing-function"]=!1,s["unicode-bidi"]=!1,s["vertical-align"]=!1,s.visibility=!1,s["voice-balance"]=!1,s["voice-duration"]=!1,s["voice-family"]=!1,s["voice-pitch"]=!1,s["voice-range"]=!1,s["voice-rate"]=!1,s["voice-stress"]=!1,s["voice-volume"]=!1,s.volume=!1,s["white-space"]=!1,s.widows=!1,s.width=!0,s["will-change"]=!1,s["word-break"]=!0,s["word-spacing"]=!0,s["word-wrap"]=!0,s["wrap-flow"]=!1,s["wrap-through"]=!1,s["writing-mode"]=!1,s["z-index"]=!1,s}function e(s,o,a){}function t(s,o,a){}var r=/javascript\s*\:/img;function n(s,o){return r.test(o)?"":o}return xa.whiteList=i(),xa.getDefaultWhiteList=i,xa.onAttr=e,xa.onIgnoreAttr=t,xa.safeAttrValue=n,xa}var FO,$8;function Ere(){return $8||($8=1,FO={indexOf:function(i,e){var t,r;if(Array.prototype.indexOf)return i.indexOf(e);for(t=0,r=i.length;t<r;t++)if(i[t]===e)return t;return-1},forEach:function(i,e,t){var r,n;if(Array.prototype.forEach)return i.forEach(e,t);for(r=0,n=i.length;r<n;r++)e.call(t,i[r],r,i)},trim:function(i){return String.prototype.trim?i.trim():i.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(i){return String.prototype.trimRight?i.trimRight():i.replace(/(\s*$)/g,"")}}),FO}var LO,F8;function ALe(){if(F8)return LO;F8=1;var i=Ere();function e(t,r){t=i.trimRight(t),t[t.length-1]!==";"&&(t+=";");var n=t.length,s=!1,o=0,a=0,l="";function c(){if(!s){var d=i.trim(t.slice(o,a)),f=d.indexOf(":");if(f!==-1){var p=i.trim(d.slice(0,f)),m=i.trim(d.slice(f+1));if(p){var g=r(o,l.length,p,m,d);g&&(l+=g+"; ")}}}o=a+1}for(;a<n;a++){var u=t[a];if(u==="/"&&t[a+1]==="*"){var h=t.indexOf("*/",a+2);if(h===-1)break;a=h+1,o=a+1,s=!1}else u==="("?s=!0:u===")"?s=!1:u===";"?s||c():u===`
`&&c()}return i.trim(l)}return LO=e,LO}var qO,L8;function NLe(){if(L8)return qO;L8=1;var i=Sre(),e=ALe();Ere();function t(s){return s==null}function r(s){var o={};for(var a in s)o[a]=s[a];return o}function n(s){s=r(s||{}),s.whiteList=s.whiteList||i.whiteList,s.onAttr=s.onAttr||i.onAttr,s.onIgnoreAttr=s.onIgnoreAttr||i.onIgnoreAttr,s.safeAttrValue=s.safeAttrValue||i.safeAttrValue,this.options=s}return n.prototype.process=function(s){if(s=s||"",s=s.toString(),!s)return"";var o=this,a=o.options,l=a.whiteList,c=a.onAttr,u=a.onIgnoreAttr,h=a.safeAttrValue,d=e(s,function(f,p,m,g,v){var y=l[m],_=!1;if(y===!0?_=y:typeof y=="function"?_=y(g):y instanceof RegExp&&(_=y.test(g)),_!==!0&&(_=!1),g=h(m,g),!!g){var b={position:p,sourcePosition:f,source:v,isWhite:_};if(_){var w=c(m,g,b);return t(w)?m+":"+g:w}else{var w=u(m,g,b);if(!t(w))return w}}});return d},qO=n,qO}var q8;function jD(){return q8||(q8=1,(function(i,e){var t=Sre(),r=NLe();function n(o,a){var l=new r(a);return l.process(o)}e=i.exports=n,e.FilterCSS=r;for(var s in t)e[s]=t[s];typeof window<"u"&&(window.filterCSS=i.exports)})(vm,vm.exports)),vm.exports}var jO,j8;function EA(){return j8||(j8=1,jO={indexOf:function(i,e){var t,r;if(Array.prototype.indexOf)return i.indexOf(e);for(t=0,r=i.length;t<r;t++)if(i[t]===e)return t;return-1},forEach:function(i,e,t){var r,n;if(Array.prototype.forEach)return i.forEach(e,t);for(r=0,n=i.length;r<n;r++)e.call(t,i[r],r,i)},trim:function(i){return String.prototype.trim?i.trim():i.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(i){var e=/\s|\n|\t/,t=e.exec(i);return t?t.index:-1}}),jO}var G8;function Cre(){if(G8)return Dt;G8=1;var i=jD().FilterCSS,e=jD().getDefaultWhiteList,t=EA();function r(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var n=new i;function s(N,q,D){}function o(N,q,D){}function a(N,q,D){}function l(N,q,D){}function c(N){return N.replace(h,"&lt;").replace(d,"&gt;")}function u(N,q,D,j){if(D=R(D),q==="href"||q==="src"){if(D=t.trim(D),D==="#")return"#";if(!(D.substr(0,7)==="http://"||D.substr(0,8)==="https://"||D.substr(0,7)==="mailto:"||D.substr(0,4)==="tel:"||D.substr(0,11)==="data:image/"||D.substr(0,6)==="ftp://"||D.substr(0,2)==="./"||D.substr(0,3)==="../"||D[0]==="#"||D[0]==="/"))return""}else if(q==="background"){if(y.lastIndex=0,y.test(D))return""}else if(q==="style"){if(_.lastIndex=0,_.test(D)||(b.lastIndex=0,b.test(D)&&(y.lastIndex=0,y.test(D))))return"";j!==!1&&(j=j||n,D=j.process(D))}return D=P(D),D}var h=/</g,d=/>/g,f=/"/g,p=/&quot;/g,m=/&#([a-zA-Z0-9]*);?/gim,g=/&colon;?/gim,v=/&newline;?/gim,y=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,_=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,b=/u\s*r\s*l\s*\(.*/gi;function w(N){return N.replace(f,"&quot;")}function S(N){return N.replace(p,'"')}function E(N){return N.replace(m,function(D,j){return j[0]==="x"||j[0]==="X"?String.fromCharCode(parseInt(j.substr(1),16)):String.fromCharCode(parseInt(j,10))})}function x(N){return N.replace(g,":").replace(v," ")}function T(N){for(var q="",D=0,j=N.length;D<j;D++)q+=N.charCodeAt(D)<32?" ":N.charAt(D);return t.trim(q)}function R(N){return N=S(N),N=E(N),N=x(N),N=T(N),N}function P(N){return N=w(N),N=c(N),N}function I(){return""}function $(N,q){typeof q!="function"&&(q=function(){});var D=!Array.isArray(N);function j(M){return D?!0:t.indexOf(N,M)!==-1}var X=[],U=!1;return{onIgnoreTag:function(M,L,G){if(j(M))if(G.isClosing){var B="[/removed]",H=G.position+B.length;return X.push([U!==!1?U:G.position,H]),U=!1,B}else return U||(U=G.position),"[removed]";else return q(M,L,G)},remove:function(M){var L="",G=0;return t.forEach(X,function(B){L+=M.slice(G,B[0]),G=B[1]}),L+=M.slice(G),L}}}function F(N){for(var q="",D=0;D<N.length;){var j=N.indexOf("<!--",D);if(j===-1){q+=N.slice(D);break}q+=N.slice(D,j);var X=N.indexOf("-->",j);if(X===-1)break;D=X+3}return q}function W(N){var q=N.split("");return q=q.filter(function(D){var j=D.charCodeAt(0);return j===127?!1:j<=31?j===10||j===13:!0}),q.join("")}return Dt.whiteList=r(),Dt.getDefaultWhiteList=r,Dt.onTag=s,Dt.onIgnoreTag=o,Dt.onTagAttr=a,Dt.onIgnoreTagAttr=l,Dt.safeAttrValue=u,Dt.escapeHtml=c,Dt.escapeQuote=w,Dt.unescapeQuote=S,Dt.escapeHtmlEntities=E,Dt.escapeDangerHtml5Entities=x,Dt.clearNonPrintableCharacter=T,Dt.friendlyAttrValue=R,Dt.escapeAttrValue=P,Dt.onIgnoreTagStripAll=I,Dt.StripTagBody=$,Dt.stripCommentTag=F,Dt.stripBlankChar=W,Dt.attributeWrapSign='"',Dt.cssFilter=n,Dt.getDefaultCSSWhiteList=e,Dt}var ym={},W8;function Tre(){if(W8)return ym;W8=1;var i=EA();function e(h){var d=i.spaceIndex(h),f;return d===-1?f=h.slice(1,-1):f=h.slice(1,d+1),f=i.trim(f).toLowerCase(),f.slice(0,1)==="/"&&(f=f.slice(1)),f.slice(-1)==="/"&&(f=f.slice(0,-1)),f}function t(h){return h.slice(0,2)==="</"}function r(h,d,f){var p="",m=0,g=!1,v=!1,y=0,_=h.length,b="",w="";e:for(y=0;y<_;y++){var S=h.charAt(y);if(g===!1){if(S==="<"){g=y;continue}}else if(v===!1){if(S==="<"){p+=f(h.slice(m,y)),g=y,m=y;continue}if(S===">"||y===_-1){p+=f(h.slice(m,g)),w=h.slice(g,y+1),b=e(w),p+=d(g,p.length,b,w,t(w)),m=y+1,g=!1;continue}if(S==='"'||S==="'")for(var E=1,x=h.charAt(y-E);x.trim()===""||x==="=";){if(x==="="){v=S;continue e}x=h.charAt(y-++E)}}else if(S===v){v=!1;continue}}return m<_&&(p+=f(h.substr(m))),p}var n=/[^a-zA-Z0-9\\_:.-]/gim;function s(h,d){var f=0,p=0,m=[],g=!1,v=h.length;function y(E,x){if(E=i.trim(E),E=E.replace(n,"").toLowerCase(),!(E.length<1)){var T=d(E,x||"");T&&m.push(T)}}for(var _=0;_<v;_++){var b=h.charAt(_),w,S;if(g===!1&&b==="="){g=h.slice(f,_),f=_+1,p=h.charAt(f)==='"'||h.charAt(f)==="'"?f:a(h,_+1);continue}if(g!==!1&&_===p){if(S=h.indexOf(b,_+1),S===-1)break;w=i.trim(h.slice(p+1,S)),y(g,w),g=!1,_=S,f=_+1;continue}if(/\s|\n|\t/.test(b))if(h=h.replace(/\s|\n|\t/g," "),g===!1)if(S=o(h,_),S===-1){w=i.trim(h.slice(f,_)),y(w),g=!1,f=_+1;continue}else{_=S-1;continue}else if(S=l(h,_-1),S===-1){w=i.trim(h.slice(f,_)),w=u(w),y(g,w),g=!1,f=_+1;continue}else continue}return f<h.length&&(g===!1?y(h.slice(f)):y(g,u(i.trim(h.slice(f))))),i.trim(m.join(" "))}function o(h,d){for(;d<h.length;d++){var f=h[d];if(f!==" ")return f==="="?d:-1}}function a(h,d){for(;d<h.length;d++){var f=h[d];if(f!==" ")return f==="'"||f==='"'?d:-1}}function l(h,d){for(;d>0;d--){var f=h[d];if(f!==" ")return f==="="?d:-1}}function c(h){return h[0]==='"'&&h[h.length-1]==='"'||h[0]==="'"&&h[h.length-1]==="'"}function u(h){return c(h)?h.substr(1,h.length-2):h}return ym.parseTag=r,ym.parseAttr=s,ym}var GO,B8;function $Le(){if(B8)return GO;B8=1;var i=jD().FilterCSS,e=Cre(),t=Tre(),r=t.parseTag,n=t.parseAttr,s=EA();function o(h){return h==null}function a(h){var d=s.spaceIndex(h);if(d===-1)return{html:"",closing:h[h.length-2]==="/"};h=s.trim(h.slice(d+1,-1));var f=h[h.length-1]==="/";return f&&(h=s.trim(h.slice(0,-1))),{html:h,closing:f}}function l(h){var d={};for(var f in h)d[f]=h[f];return d}function c(h){var d={};for(var f in h)Array.isArray(h[f])?d[f.toLowerCase()]=h[f].map(function(p){return p.toLowerCase()}):d[f.toLowerCase()]=h[f];return d}function u(h){h=l(h||{}),h.stripIgnoreTag&&(h.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),h.onIgnoreTag=e.onIgnoreTagStripAll),h.whiteList||h.allowList?h.whiteList=c(h.whiteList||h.allowList):h.whiteList=e.whiteList,this.attributeWrapSign=h.singleQuotedAttributeValue===!0?"'":e.attributeWrapSign,h.onTag=h.onTag||e.onTag,h.onTagAttr=h.onTagAttr||e.onTagAttr,h.onIgnoreTag=h.onIgnoreTag||e.onIgnoreTag,h.onIgnoreTagAttr=h.onIgnoreTagAttr||e.onIgnoreTagAttr,h.safeAttrValue=h.safeAttrValue||e.safeAttrValue,h.escapeHtml=h.escapeHtml||e.escapeHtml,this.options=h,h.css===!1?this.cssFilter=!1:(h.css=h.css||{},this.cssFilter=new i(h.css))}return u.prototype.process=function(h){if(h=h||"",h=h.toString(),!h)return"";var d=this,f=d.options,p=f.whiteList,m=f.onTag,g=f.onIgnoreTag,v=f.onTagAttr,y=f.onIgnoreTagAttr,_=f.safeAttrValue,b=f.escapeHtml,w=d.attributeWrapSign,S=d.cssFilter;f.stripBlankChar&&(h=e.stripBlankChar(h)),f.allowCommentTag||(h=e.stripCommentTag(h));var E=!1;f.stripIgnoreTagBody&&(E=e.StripTagBody(f.stripIgnoreTagBody,g),g=E.onIgnoreTag);var x=r(h,function(T,R,P,I,$){var F={sourcePosition:T,position:R,isClosing:$,isWhite:Object.prototype.hasOwnProperty.call(p,P)},W=m(P,I,F);if(!o(W))return W;if(F.isWhite){if(F.isClosing)return"</"+P+">";var N=a(I),q=p[P],D=n(N.html,function(j,X){var U=s.indexOf(q,j)!==-1,M=v(P,j,X,U);return o(M)?U?(X=_(P,j,X,S),X?j+"="+w+X+w:j):(M=y(P,j,X,U),o(M)?void 0:M):M});return I="<"+P,D&&(I+=" "+D),N.closing&&(I+=" /"),I+=">",I}else return W=g(P,I,F),o(W)?b(I):W},b);return E&&(x=E.remove(x)),x},GO=u,GO}var z8;function FLe(){return z8||(z8=1,(function(i,e){var t=Cre(),r=Tre(),n=$Le();function s(a,l){var c=new n(l);return c.process(a)}e=i.exports=s,e.filterXSS=s,e.FilterXSS=n,(function(){for(var a in t)e[a]=t[a];for(var l in r)e[l]=r[l]})(),typeof window<"u"&&(window.filterXSS=i.exports);function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=i.exports)})(gm,gm.exports)),gm.exports}var LLe=FLe(),qLe=Ce(LLe);const Pi=[];for(let i=0;i<256;++i)Pi.push((i+256).toString(16).slice(1));function jLe(i,e=0){return(Pi[i[e+0]]+Pi[i[e+1]]+Pi[i[e+2]]+Pi[i[e+3]]+"-"+Pi[i[e+4]]+Pi[i[e+5]]+"-"+Pi[i[e+6]]+Pi[i[e+7]]+"-"+Pi[i[e+8]]+Pi[i[e+9]]+"-"+Pi[i[e+10]]+Pi[i[e+11]]+Pi[i[e+12]]+Pi[i[e+13]]+Pi[i[e+14]]+Pi[i[e+15]]).toLowerCase()}let WO;const GLe=new Uint8Array(16);function WLe(){if(!WO){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");WO=crypto.getRandomValues.bind(crypto)}return WO(GLe)}const BLe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var H8={randomUUID:BLe};function zLe(i,e,t){i=i||{};const r=i.random??i.rng?.()??WLe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,jLe(r)}function Zc(i,e,t){return H8.randomUUID&&!i?H8.randomUUID():zLe(i)}function Y8(i,e){var t=Ai(i);if(N3){var r=N3(i);e&&(r=Ye(r).call(r,function(n){return Sie(i,n).enumerable})),t.push.apply(t,r)}return t}function U8(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?le(t=Y8(Object(n),!0)).call(t,function(s){PAe(i,s,n[s])}):t5?_Me(i,t5(n)):le(r=Y8(Object(n))).call(r,function(s){qie(i,s,Sie(n,s))})}return i}function bl(i){var e;if(!i)return!1;let t=(e=i.idProp)!==null&&e!==void 0?e:i._idProp;return t?XEe(t,i):!1}const BO=/^\/?Date\((-?\d+)/i,HLe=/^\d+$/;function CA(i,e){let t;if(i!==void 0){if(i===null)return null;if(!e)return i;if(typeof e!="string"&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return!!i;case"number":case"Number":return Ar(i)&&!isNaN(Date.parse(i))?K(i).valueOf():Number(i.valueOf());case"string":case"String":return String(i);case"Date":try{return CA(i,"Moment").toDate()}catch(r){throw r instanceof TypeError?new TypeError("Cannot convert object of type "+Uh(i)+" to type "+e):r}case"Moment":if(pd(i))return K(i);if(i instanceof Date)return K(i.valueOf());if(K.isMoment(i))return K(i);if(Ar(i))return t=BO.exec(i),t?K(Number(t[1])):(t=HLe.exec(i),K(t?Number(i):i));throw new TypeError("Cannot convert object of type "+Uh(i)+" to type "+e);case"ISODate":if(pd(i))return new Date(i);if(i instanceof Date)return i.toISOString();if(K.isMoment(i))return i.toDate().toISOString();if(Ar(i))return t=BO.exec(i),t?new Date(Number(t[1])).toISOString():K(i).format();throw new Error("Cannot convert object of type "+Uh(i)+" to type ISODate");case"ASPDate":if(pd(i))return"/Date("+i+")/";if(i instanceof Date||K.isMoment(i))return"/Date("+i.valueOf()+")/";if(Ar(i)){t=BO.exec(i);let r;return t?r=new Date(Number(t[1])).valueOf():r=new Date(i).valueOf(),"/Date("+r+")/"}else throw new Error("Cannot convert object of type "+Uh(i)+" to type ASPDate");default:throw new Error("Unknown type ".concat(e))}}}function Eg(i){var e,t,r,n,s,o;let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{start:"Date",end:"Date"};const l=i._idProp,c=new ll({fieldId:l}),u=yi(e=xwe(i)).call(e,h=>{var d;return Lie(d=Ai(h)).call(d,(f,p)=>(f[p]=CA(h[p],a[p]),f),{})}).to(c);return u.all().start(),{add:function(){return i.getDataSet().add(...arguments)},remove:function(){return i.getDataSet().remove(...arguments)},update:function(){return i.getDataSet().update(...arguments)},updateOnly:function(){return i.getDataSet().updateOnly(...arguments)},clear:function(){return i.getDataSet().clear(...arguments)},forEach:V(t=le(c)).call(t,c),get:V(r=c.get).call(r,c),getIds:V(n=c.getIds).call(n,c),off:V(s=c.off).call(s,c),on:V(o=c.on).call(o,c),get length(){return c.length},idProp:l,type:a,rawDS:i,coercedDS:c,dispose:()=>u.stop()}}const Ore=i=>{const e=new qLe.FilterXSS(i);return t=>typeof t=="string"?e.process(t):t},YLe=i=>i;let GD=Ore();const ULe=i=>{i&&(i.disabled===!0?(GD=YLe,console.warn("You disabled XSS protection for vis-Timeline. I sure hope you know what you're doing!")):i.filterOptions&&(GD=Ore(i.filterOptions)))},k=U8(U8({},MLe),{},{convert:CA,setupXSSProtection:ULe});qie(k,"xss",{get:function(){return GD}});var V8={},zO,X8;function VLe(){if(X8)return zO;X8=1;var i=Ht(),e=Ue(),t=Je(),r=gn(),n=Wie().trim,s=aA(),o=t("".charAt),a=i.parseFloat,l=i.Symbol,c=l&&l.iterator,u=1/a(s+"-0")!==-1/0||c&&!e(function(){a(Object(c))});return zO=u?function(d){var f=n(r(d)),p=a(f);return p===0&&o(f,0)==="-"?-0:p}:a,zO}var K8;function XLe(){if(K8)return V8;K8=1;var i=fe(),e=VLe();return i({global:!0,forced:parseFloat!==e},{parseFloat:e}),V8}var HO,Z8;function KLe(){if(Z8)return HO;Z8=1,XLe();var i=Tt();return HO=i.parseFloat,HO}var YO,Q8;function ZLe(){if(Q8)return YO;Q8=1;var i=KLe();return YO=i,YO}var UO,J8;function QLe(){return J8||(J8=1,UO=ZLe()),UO}var JLe=QLe(),Cg=Ce(JLe);class ma{constructor(){this.options=null,this.props=null}setOptions(e){e&&k.extend(this.options,e)}redraw(){return!1}destroy(){}_isResized(){const e=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,e}}var eX={},tX;function e2e(){if(tX)return eX;tX=1;var i=fe(),e=Bie();return i({target:"String",proto:!0},{repeat:e}),eX}var VO,iX;function t2e(){if(iX)return VO;iX=1,e2e();var i=Ci();return VO=i("String","repeat"),VO}var XO,rX;function i2e(){if(rX)return XO;rX=1;var i=Kt(),e=t2e(),t=String.prototype;return XO=function(r){var n=r.repeat;return typeof r=="string"||r===t||i(t,r)&&n===t.repeat?e:n},XO}var KO,nX;function r2e(){if(nX)return KO;nX=1;var i=i2e();return KO=i,KO}var ZO,sX;function n2e(){return sX||(sX=1,ZO=r2e()),ZO}var s2e=n2e(),Sc=Ce(s2e),oX={},QO,aX;function o2e(){if(aX)return QO;aX=1;var i=ch(),e=Math.floor,t=function(r,n){var s=r.length;if(s<8)for(var o=1,a,l;o<s;){for(l=o,a=r[o];l&&n(r[l-1],a)>0;)r[l]=r[--l];l!==o++&&(r[l]=a)}else for(var c=e(s/2),u=t(i(r,0,c),n),h=t(i(r,c),n),d=u.length,f=h.length,p=0,m=0;p<d||m<f;)r[p+m]=p<d&&m<f?n(u[p],h[m])<=0?u[p++]:h[m++]:p<d?u[p++]:h[m++];return r};return QO=t,QO}var JO,lX;function a2e(){if(lX)return JO;lX=1;var i=nh(),e=i.match(/firefox\/(\d+)/i);return JO=!!e&&+e[1],JO}var eR,cX;function l2e(){if(cX)return eR;cX=1;var i=nh();return eR=/MSIE|Trident/.test(i),eR}var tR,uX;function c2e(){if(uX)return tR;uX=1;var i=nh(),e=i.match(/AppleWebKit\/(\d+)\./);return tR=!!e&&+e[1],tR}var hX;function u2e(){if(hX)return oX;hX=1;var i=fe(),e=Je(),t=fa(),r=Hr(),n=xo(),s=jie(),o=gn(),a=Ue(),l=o2e(),c=hh(),u=a2e(),h=l2e(),d=op(),f=c2e(),p=[],m=e(p.sort),g=e(p.push),v=a(function(){p.sort(void 0)}),y=a(function(){p.sort(null)}),_=c("sort"),b=!a(function(){if(d)return d<70;if(!(u&&u>3)){if(h)return!0;if(f)return f<603;var E="",x,T,R,P;for(x=65;x<76;x++){switch(T=String.fromCharCode(x),x){case 66:case 69:case 70:case 72:R=3;break;case 68:case 71:R=4;break;default:R=2}for(P=0;P<47;P++)p.push({k:T+P,v:R})}for(p.sort(function(I,$){return $.v-I.v}),P=0;P<p.length;P++)T=p[P].k.charAt(0),E.charAt(E.length-1)!==T&&(E+=T);return E!=="DGBEFHACIJK"}}),w=v||!y||!_||!b,S=function(E){return function(x,T){return T===void 0?-1:x===void 0?1:E!==void 0?+E(x,T)||0:o(x)>o(T)?1:-1}};return i({target:"Array",proto:!0,forced:w},{sort:function(x){x!==void 0&&t(x);var T=r(this);if(b)return x===void 0?m(T):m(T,x);var R=[],P=n(T),I,$;for($=0;$<P;$++)$ in T&&g(R,T[$]);for(l(R,S(x)),I=n(R),$=0;$<I;)T[$]=R[$++];for(;$<P;)s(T,$++);return T}}),oX}var iR,dX;function h2e(){if(dX)return iR;dX=1,u2e();var i=Ci();return iR=i("Array","sort"),iR}var rR,fX;function d2e(){if(fX)return rR;fX=1;var i=Kt(),e=h2e(),t=Array.prototype;return rR=function(r){var n=r.sort;return r===t||i(t,r)&&n===t.sort?e:n},rR}var nR,pX;function f2e(){if(pX)return nR;pX=1;var i=d2e();return nR=i,nR}var sR,mX;function p2e(){return mX||(mX=1,sR=f2e()),sR}var m2e=p2e(),bi=Ce(m2e);function TA(i,e,t){if(t&&!_t(t))return TA(i,e,[t]);if(e.hiddenDates=[],t&&_t(t)==!0){var r;for(let n=0;n<t.length;n++)if(Sc(t[n])===void 0){const s={};s.start=i(t[n].start).toDate().valueOf(),s.end=i(t[n].end).toDate().valueOf(),e.hiddenDates.push(s)}bi(r=e.hiddenDates).call(r,(n,s)=>n.start-s.start)}}function Tg(i,e,t){if(t&&!_t(t))return Tg(i,e,[t]);if(t&&e.domProps.centerContainer.width!==void 0){TA(i,e,t);const r=i(e.range.start),n=i(e.range.end),o=(e.range.end-e.range.start)/e.domProps.centerContainer.width;for(let h=0;h<t.length;h++)if(Sc(t[h])!==void 0){let d=i(t[h].start),f=i(t[h].end);if(d._d=="Invalid Date")throw new Error("Supplied start date is not valid: ".concat(t[h].start));if(f._d=="Invalid Date")throw new Error("Supplied end date is not valid: ".concat(t[h].end));if(f-d>=4*o){let m=0,g=n.clone();switch(Sc(t[h])){case"daily":d.day()!=f.day()&&(m=1),d=d.dayOfYear(r.dayOfYear()).year(r.year()).subtract(7,"days"),f=f.dayOfYear(r.dayOfYear()).year(r.year()).subtract(7-m,"days"),g.add(1,"weeks");break;case"weekly":{const v=f.diff(d,"days"),y=d.day();d=d.date(r.date()).month(r.month()).year(r.year()),f=d.clone(),d=d.day(y).subtract(1,"weeks"),f=f.day(y).add(v,"days").subtract(1,"weeks"),g.add(1,"weeks");break}case"monthly":d.month()!=f.month()&&(m=1),d=d.month(r.month()).year(r.year()).subtract(1,"months"),f=f.month(r.month()).year(r.year()).subtract(1,"months").add(m,"months"),g.add(1,"months");break;case"yearly":d.year()!=f.year()&&(m=1),d=d.year(r.year()).subtract(1,"years"),f=f.year(r.year()).subtract(1,"years").add(m,"years"),g.add(1,"years");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",Sc(t[h]));return}for(;d<g;)switch(e.hiddenDates.push({start:d.valueOf(),end:f.valueOf()}),Sc(t[h])){case"daily":d=d.add(1,"days"),f=f.add(1,"days");break;case"weekly":d=d.add(1,"weeks"),f=f.add(1,"weeks");break;case"monthly":d=d.add(1,"months"),f=f.add(1,"months");break;case"yearly":d=d.add(1,"y"),f=f.add(1,"y");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",Sc(t[h]));return}e.hiddenDates.push({start:d.valueOf(),end:f.valueOf()})}}g2e(e);const a=Rg(e.range.start,e.hiddenDates),l=Rg(e.range.end,e.hiddenDates);let c=e.range.start,u=e.range.end;a.hidden==!0&&(c=e.range.startToFront==!0?a.startDate-1:a.endDate+1),l.hidden==!0&&(u=e.range.endToFront==!0?l.startDate-1:l.endDate+1),(a.hidden==!0||l.hidden==!0)&&e.range._applyRange(c,u)}}function g2e(i){var e;const t=i.hiddenDates,r=[];for(var n=0;n<t.length;n++)for(let s=0;s<t.length;s++)n!=s&&t[s].remove!=!0&&t[n].remove!=!0&&(t[s].start>=t[n].start&&t[s].end<=t[n].end?t[s].remove=!0:t[s].start>=t[n].start&&t[s].start<=t[n].end?(t[n].end=t[s].end,t[s].remove=!0):t[s].end>=t[n].start&&t[s].end<=t[n].end&&(t[n].start=t[s].start,t[s].remove=!0));for(n=0;n<t.length;n++)t[n].remove!==!0&&r.push(t[n]);i.hiddenDates=r,bi(e=i.hiddenDates).call(e,(s,o)=>s.start-o.start)}function v2e(i,e,t){let r=!1;const n=e.current.valueOf();for(let o=0;o<e.hiddenDates.length;o++){const a=e.hiddenDates[o].start;var s=e.hiddenDates[o].end;if(n>=a&&n<s){r=!0;break}}if(r==!0&&n<e._end.valueOf()&&n!=t){const o=i(t),a=i(s);o.year()!=a.year()?e.switchedYear=!0:o.month()!=a.month()?e.switchedMonth=!0:o.dayOfYear()!=a.dayOfYear()&&(e.switchedDay=!0),e.current=a}}function gX(i,e,t){let r;if(i.body.hiddenDates.length==0)return r=i.range.conversion(t),(e.valueOf()-r.offset)*r.scale;{const n=Rg(e,i.body.hiddenDates);n.hidden==!0&&(e=n.startDate);const s=gd(i.body.hiddenDates,i.range.start,i.range.end);if(e<i.range.start){r=i.range.conversion(t,s);const o=y2e(i.body.hiddenDates,e,r.offset);return e=i.options.moment(e).toDate().valueOf(),e=e+o,-(r.offset-e.valueOf())*r.scale}else if(e>i.range.end){const o={start:i.range.start,end:e};return e=yX(i.options.moment,i.body.hiddenDates,o,e),r=i.range.conversion(t,s),(e.valueOf()-r.offset)*r.scale}else return e=yX(i.options.moment,i.body.hiddenDates,i.range,e),r=i.range.conversion(t,s),(e.valueOf()-r.offset)*r.scale}}function vX(i,e,t){if(i.body.hiddenDates.length==0){const r=i.range.conversion(t);return new Date(e/r.scale+r.offset)}else{const r=gd(i.body.hiddenDates,i.range.start,i.range.end),s=(i.range.end-i.range.start-r)*e/t,o=b2e(i.body.hiddenDates,i.range,s);return new Date(o+s+i.range.start)}}function gd(i,e,t){let r=0;for(let n=0;n<i.length;n++){const s=i[n].start,o=i[n].end;s>=e&&o<t&&(r+=o-s)}return r}function y2e(i,e,t){let r=0;for(let n=0;n<i.length;n++){const s=i[n].start,o=i[n].end;s>=e&&o<=t&&(r+=o-s)}return r}function yX(i,e,t,r){return r=i(r).toDate().valueOf(),r-=Og(i,e,t,r),r}function Og(i,e,t,r){let n=0;r=i(r).toDate().valueOf();for(let s=0;s<e.length;s++){const o=e[s].start,a=e[s].end;o>=t.start&&a<t.end&&r>=a&&(n+=a-o)}return n}function b2e(i,e,t){let r=0,n=0,s=e.start;for(let o=0;o<i.length;o++){const a=i[o].start,l=i[o].end;if(a>=e.start&&l<e.end){if(n+=a-s,s=l,n>=t)break;r+=l-a}}return r}function Oa(i,e,t,r){const n=Rg(e,i);return n.hidden==!0?t<0?r==!0?n.startDate-(n.endDate-e)-1:n.startDate-1:r==!0?n.endDate+(e-n.startDate)+1:n.endDate+1:e}function Rg(i,e){for(let n=0;n<e.length;n++){var t=e[n].start,r=e[n].end;if(i>=t&&i<r)return{hidden:!0,startDate:t,endDate:r}}return{hidden:!1,startDate:t,endDate:r}}class OA extends ma{constructor(e,t){var r,n,s,o,a,l,c;super();const u=Nr().hours(0).minutes(0).seconds(0).milliseconds(0),h=u.clone().add(-3,"days").valueOf(),d=u.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,t===void 0?(this.start=h,this.end=d):(this.start=t.start||h,this.end=t.end||d),this.rolling=!1,this.body=e,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:Nr,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:1e3*60*60*24*365*1e4,rollingMode:{follow:!1,offset:.5}},this.options=k.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",V(r=this._onDragStart).call(r,this)),this.body.emitter.on("panmove",V(n=this._onDrag).call(n,this)),this.body.emitter.on("panend",V(s=this._onDragEnd).call(s,this)),this.body.emitter.on("mousewheel",V(o=this._onMouseWheel).call(o,this)),this.body.emitter.on("touch",V(a=this._onTouch).call(a,this)),this.body.emitter.on("pinch",V(l=this._onPinch).call(l,this)),this.body.dom.rollingModeBtn.addEventListener("click",V(c=this.startRolling).call(c,this)),this.setOptions(t)}setOptions(e){if(e){const t=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","zoomFriction","rtl","showCurrentTime","rollingMode","horizontalScroll","horizontalScrollKey","horizontalScrollInvert","verticalScroll"];k.selectiveExtend(t,this.options,e),e.rollingMode&&e.rollingMode.follow&&this.startRolling(),("start"in e||"end"in e)&&this.setRange(e.start,e.end)}}startRolling(){const e=this;function t(){e.stopRolling(),e.rolling=!0;let r=e.end-e.start;const n=k.convert(new Date,"Date").valueOf(),s=e.options.rollingMode&&e.options.rollingMode.offset||.5,o=n-r*s,a=n+r*(1-s),l={animation:!1};e.setRange(o,a,l),r=1/e.conversion(e.body.domProps.center.width).scale/10,r<30&&(r=30),r>1e3&&(r=1e3),e.body.dom.rollingModeBtn.style.visibility="hidden",e.currentTimeTimer=Lr(t,r)}t()}stopRolling(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")}setRange(e,t,r,n,s){r||(r={}),r.byUser!==!0&&(r.byUser=!1);const o=this,a=e!=null?k.convert(e,"Date").valueOf():null,l=t!=null?k.convert(t,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,r.animation){const h=this.start,d=this.end,f=typeof r.animation=="object"&&"duration"in r.animation?r.animation.duration:500,p=typeof r.animation=="object"&&"easingFunction"in r.animation?r.animation.easingFunction:"easeInOutQuad",m=k.easingFunctions[p];if(!m){var c;throw new Error(Jt(c="Unknown easing function ".concat(kr(p),". Choose from: ")).call(c,Ai(k.easingFunctions).join(", ")))}const g=Dr();let v=!1;const y=()=>{if(!o.props.touch.dragging){const b=Dr()-g,w=m(b/f),S=b>f,E=S||a===null?a:h+(a-h)*w,x=S||l===null?l:d+(l-d)*w;u=o._applyRange(E,x),Tg(o.options.moment,o.body,o.options.hiddenDates),v=v||u;const T={start:new Date(o.start),end:new Date(o.end),byUser:r.byUser,event:r.event};if(s&&s(w,u,S),u&&o.body.emitter.emit("rangechange",T),S){if(v&&(o.body.emitter.emit("rangechanged",T),n))return n()}else o.animationTimer=Lr(y,20)}};return y()}else{var u=this._applyRange(a,l);if(Tg(this.options.moment,this.body,this.options.hiddenDates),u){const h={start:new Date(this.start),end:new Date(this.end),byUser:r.byUser,event:r.event};if(this.body.emitter.emit("rangechange",h),clearTimeout(o.timeoutID),o.timeoutID=Lr(()=>{o.body.emitter.emit("rangechanged",h)},200),n)return n()}}}getMillisecondsPerPixel(){return this.millisecondsPerPixelCache===void 0&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache}_cancelAnimation(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)}_applyRange(e,t){let r=e!=null?k.convert(e,"Date").valueOf():this.start,n=t!=null?k.convert(t,"Date").valueOf():this.end;const s=this.options.max!=null?k.convert(this.options.max,"Date").valueOf():null,o=this.options.min!=null?k.convert(this.options.min,"Date").valueOf():null;let a;if(isNaN(r)||r===null)throw new Error('Invalid start "'.concat(e,'"'));if(isNaN(n)||n===null)throw new Error('Invalid end "'.concat(t,'"'));if(n<r&&(n=r),o!==null&&r<o&&(a=o-r,r+=a,n+=a,s!=null&&n>s&&(n=s)),s!==null&&n>s&&(a=n-s,r-=a,n-=a,o!=null&&r<o&&(r=o)),this.options.zoomMin!==null){let c=Cg(this.options.zoomMin);c<0&&(c=0),n-r<c&&(this.end-this.start===c&&r>=this.start-.5&&n<=this.end?(r=this.start,n=this.end):(a=c-(n-r),r-=a/2,n+=a/2))}if(this.options.zoomMax!==null){let c=Cg(this.options.zoomMax);c<0&&(c=0),n-r>c&&(this.end-this.start===c&&r<this.start&&n>this.end?(r=this.start,n=this.end):(a=n-r-c,r+=a/2,n-=a/2))}const l=this.start!=r||this.end!=n;return!(r>=this.start&&r<=this.end||n>=this.start&&n<=this.end)&&!(this.start>=r&&this.start<=n||this.end>=r&&this.end<=n)&&this.body.emitter.emit("checkRangedItems"),this.start=r,this.end=n,l}getRange(){return{start:this.start,end:this.end}}conversion(e,t){return OA.conversion(this.start,this.end,e,t)}static conversion(e,t,r,n){return n===void 0&&(n=0),r!=0&&t-e!=0?{offset:e,scale:r/(t-e-n)}:{offset:0,scale:1}}_onDragStart(e){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(e)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))}_onDrag(e){if(!e||!this.props.touch.dragging||!this.options.moveable||!this.props.touch.allowDragging)return;const t=this.options.direction;bX(t);let r=t=="horizontal"?e.deltaX:e.deltaY;r-=this.deltaDifference;let n=this.props.touch.end-this.props.touch.start;const s=gd(this.body.hiddenDates,this.start,this.end);n-=s;const o=t=="horizontal"?this.body.domProps.center.width:this.body.domProps.center.height;let a;this.options.rtl?a=r/o*n:a=-r/o*n;const l=this.props.touch.start+a,c=this.props.touch.end+a,u=Oa(this.body.hiddenDates,l,this.previousDelta-r,!0),h=Oa(this.body.hiddenDates,c,this.previousDelta-r,!0);if(u!=l||h!=c){this.deltaDifference+=r,this.props.touch.start=u,this.props.touch.end=h,this._onDrag(e);return}this.previousDelta=r,this._applyRange(l,c);const d=new Date(this.start),f=new Date(this.end);this.body.emitter.emit("rangechange",{start:d,end:f,byUser:!0,event:e}),this.body.emitter.emit("panmove")}_onDragEnd(e){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:e}))}_onMouseWheel(e){let t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail?t=-e.detail/3:e.deltaY&&(t=-e.deltaY/3),!(this.options.zoomKey&&!e[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(e)&&t){const r=this.options.zoomFriction||5;let n;t<0?n=1-t/r:n=1/(1+t/r);let s;if(this.rolling){const o=this.options.rollingMode&&this.options.rollingMode.offset||.5;s=this.start+(this.end-this.start)*o}else{const o=this.getPointer({x:e.clientX,y:e.clientY},this.body.dom.center);s=this._pointerToDate(o)}this.zoom(n,s,t,e),e.preventDefault()}}_onTouch(e){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.props.touch.centerDate=null,this.scaleOffset=0,this.deltaDifference=0,k.preventDefault(e)}_onPinch(e){if(!(this.options.zoomable&&this.options.moveable))return;k.preventDefault(e),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(e.center,this.body.dom.center),this.props.touch.centerDate=this._pointerToDate(this.props.touch.center)),this.stopRolling();const t=1/(e.scale+this.scaleOffset),r=this.props.touch.centerDate,n=gd(this.body.hiddenDates,this.start,this.end),s=Og(this.options.moment,this.body.hiddenDates,this,r),o=n-s;let a=r-s+(this.props.touch.start-(r-s))*t,l=r+o+(this.props.touch.end-(r+o))*t;this.startToFront=1-t<=0,this.endToFront=t-1<=0;const c=Oa(this.body.hiddenDates,a,1-t,!0),u=Oa(this.body.hiddenDates,l,t-1,!0);(c!=a||u!=l)&&(this.props.touch.start=c,this.props.touch.end=u,this.scaleOffset=1-e.scale,a=c,l=u);const h={animation:!1,byUser:!0,event:e};this.setRange(a,l,h),this.startToFront=!1,this.endToFront=!0}_isInsideRange(e){const t=e.center?e.center.x:e.clientX,r=this.body.dom.centerContainer.getBoundingClientRect(),n=this.options.rtl?t-r.left:r.right-t,s=this.body.util.toTime(n);return s>=this.start&&s<=this.end}_pointerToDate(e){let t;const r=this.options.direction;if(bX(r),r=="horizontal")return this.body.util.toTime(e.x).valueOf();{const n=this.body.domProps.center.height;return t=this.conversion(n),e.y/t.scale+t.offset}}getPointer(e,t){const r=t.getBoundingClientRect();return this.options.rtl?{x:r.right-e.x,y:e.y-r.top}:{x:e.x-r.left,y:e.y-r.top}}zoom(e,t,r,n){t==null&&(t=(this.start+this.end)/2);const s=gd(this.body.hiddenDates,this.start,this.end),o=Og(this.options.moment,this.body.hiddenDates,this,t),a=s-o;let l=t-o+(this.start-(t-o))*e,c=t+a+(this.end-(t+a))*e;this.startToFront=!(r>0),this.endToFront=!(-r>0);const u=Oa(this.body.hiddenDates,l,r,!0),h=Oa(this.body.hiddenDates,c,-r,!0);(u!=l||h!=c)&&(l=u,c=h);const d={animation:!1,byUser:!0,event:n};this.setRange(l,c,d),this.startToFront=!1,this.endToFront=!0}move(e){const t=this.end-this.start,r=this.start+t*e,n=this.end+t*e;this.start=r,this.end=n}moveTo(e){const r=(this.start+this.end)/2-e,n=this.start-r,s=this.end-r,o={animation:!1,byUser:!0,event:null};this.setRange(n,s,o)}destroy(){this.stopRolling()}}function bX(i){if(i!="horizontal"&&i!="vertical")throw new TypeError('Unknown direction "'.concat(i,'". Choose "horizontal" or "vertical".'))}var _X={},wX;function _2e(){if(wX)return _X;wX=1;var i=fe(),e=pa().some,t=hh(),r=t("some");return i({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),_X}var oR,xX;function w2e(){if(xX)return oR;xX=1,_2e();var i=Ci();return oR=i("Array","some"),oR}var aR,SX;function x2e(){if(SX)return aR;SX=1;var i=Kt(),e=w2e(),t=Array.prototype;return aR=function(r){var n=r.some;return r===t||i(t,r)&&n===t.some?e:n},aR}var lR,EX;function S2e(){if(EX)return lR;EX=1;var i=x2e();return lR=i,lR}var cR,CX;function E2e(){return CX||(CX=1,cR=S2e()),cR}var C2e=E2e(),Rre=Ce(C2e),uR,TX;function T2e(){if(TX)return uR;TX=1,pie();var i=Tt();return uR=i.setInterval,uR}var hR,OX;function O2e(){return OX||(OX=1,hR=T2e()),hR}var R2e=O2e(),P2e=Ce(R2e),Ah=null;function WD(i,e){var t=e||{preventDefault:!1};if(i.Manager){var r=i,n=function(c,u){var h=Object.create(t);return u&&r.assign(h,u),WD(new r(c,h),h)};return r.assign(n,r),n.Manager=function(c,u){var h=Object.create(t);return u&&r.assign(h,u),WD(new r.Manager(c,h),h)},n}var s=Object.create(i),o=i.element;o.hammer||(o.hammer=[]),o.hammer.push(s),i.on("hammer.input",function(c){(t.preventDefault===!0||t.preventDefault===c.pointerType)&&c.preventDefault(),c.isFirst&&(Ah=c.target)}),s._handlers={},s.on=function(c,u){return a(c).forEach(function(h){var d=s._handlers[h];d||(s._handlers[h]=d=[],i.on(h,l)),d.push(u)}),s},s.off=function(c,u){return a(c).forEach(function(h){var d=s._handlers[h];d&&(d=u?d.filter(function(f){return f!==u}):[],d.length>0?s._handlers[h]=d:(i.off(h,l),delete s._handlers[h]))}),s},s.emit=function(c,u){Ah=u.target,i.emit(c,u)},s.destroy=function(){var c=i.element.hammer,u=c.indexOf(s);u!==-1&&c.splice(u,1),c.length||delete i.element.hammer,s._handlers={},i.destroy()};function a(c){return c.match(/[^ ]+/g)}function l(c){if(c.type!=="hammer.input"){if(c.srcEvent._handled||(c.srcEvent._handled={}),c.srcEvent._handled[c.type])return;c.srcEvent._handled[c.type]=!0}var u=!1;c.stopPropagation=function(){u=!0};var h=c.srcEvent.stopPropagation.bind(c.srcEvent);typeof h=="function"&&(c.srcEvent.stopPropagation=function(){h(),c.stopPropagation()}),c.firstTarget=Ah;for(var d=Ah.isConnected?Ah:c.target;d&&!u;){var f=d.hammer;if(f){for(var p,m=0;m<f.length;m++)if(p=f[m]._handlers[c.type],p)for(var g=0;g<p.length&&!u;g++)p[g](c)}d=d.parentNode}}return s}function D2e(){const i=()=>{};return{on:i,off:i,destroy:i,emit:i,get(){return{set:i}}}}let BD;if(typeof window<"u"){const i=window.Hammer||gA;BD=WD(i,{preventDefault:"mouse"})}else BD=function(){return D2e()};var Vi=BD;function Pre(i,e){e.inputHandler=function(t){t.isFirst&&e(t)},i.on("hammer.input",e.inputHandler)}function I2e(i,e){return e.inputHandler=function(t){t.isFinal&&e(t)},i.on("hammer.input",e.inputHandler)}function k2e(i){const e="pan-y";return i.getTouchAction=function(){return[e]},i}class _l{constructor(e,t,r,n,s){this.moment=s&&s.moment||Nr,this.options=s||{},this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(e,t,r),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,_t(n)?this.hiddenDates=n:n!=null?this.hiddenDates=[n]:this.hiddenDates=[],this.format=_l.FORMAT}setMoment(e){this.moment=e,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())}setFormat(e){const t=k.deepExtend({},_l.FORMAT);this.format=k.deepExtend(t,e)}setRange(e,t,r){if(!(e instanceof Date)||!(t instanceof Date))throw"No legal start or end date in method setRange";this._start=e!=null?this.moment(e.valueOf()):Dr(),this._end=t!=null?this.moment(t.valueOf()):Dr(),this.autoScale&&this.setMinimumStep(r)}start(){this.current=this._start.clone(),this.roundToMinor()}roundToMinor(){switch(this.scale=="week"&&this.current.weekday(0),this.scale){case"year":this.current=this.current.year(this.step*Math.floor(this.current.year()/this.step)).month(0);case"month":this.current=this.current.date(1);case"week":case"day":case"weekday":this.current=this.current.hours(0);case"hour":this.current=this.current.minutes(0);case"minute":this.current=this.current.seconds(0);case"second":this.current=this.current.milliseconds(0)}if(this.step!=1){let e=this.current.clone();switch(this.scale){case"millisecond":this.current=this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current=this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current=this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current=this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current=this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current=this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current=this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current=this.current.subtract(this.current.year()%this.step,"year");break}e.isSame(this.current)||(this.current=this.moment(Oa(this.hiddenDates,this.current.valueOf(),-1,!0)))}}hasNext(){return this.current.valueOf()<=this._end.valueOf()}next(){const e=this.current.valueOf();switch(this.scale){case"millisecond":this.current=this.current.add(this.step,"millisecond");break;case"second":this.current=this.current.add(this.step,"second");break;case"minute":this.current=this.current.add(this.step,"minute");break;case"hour":this.current=this.current.add(this.step,"hour"),this.current.month()<6?this.current=this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!==0&&(this.current=this.current.add(this.step-this.current.hours()%this.step,"hour"));break;case"weekday":case"day":this.current=this.current.add(this.step,"day");break;case"week":if(this.current.weekday()!==0)this.current=this.current.weekday(0).add(this.step,"week");else if(this.options.showMajorLabels===!1)this.current=this.current.add(this.step,"week");else{const t=this.current.clone();t.add(1,"week"),t.isSame(this.current,"month")?this.current=this.current.add(this.step,"week"):this.current=this.current.add(this.step,"week").date(1)}break;case"month":this.current=this.current.add(this.step,"month");break;case"year":this.current=this.current.add(this.step,"year");break}if(this.step!=1)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&(this.current=this.current.milliseconds(0));break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&(this.current=this.current.seconds(0));break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&(this.current=this.current.minutes(0));break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&(this.current=this.current.hours(0));break;case"weekday":case"day":this.current.date()<this.step+1&&(this.current=this.current.date(1));break;case"week":this.current.week()<this.step&&(this.current=this.current.week(1));break;case"month":this.current.month()<this.step&&(this.current=this.current.month(0));break}this.current.valueOf()==e&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,v2e(this.moment,this,e)}getCurrent(){return this.current.clone()}setScale(e){e&&typeof e.scale=="string"&&(this.scale=e.scale,this.step=e.step>0?e.step:1,this.autoScale=!1)}setAutoScale(e){this.autoScale=e}setMinimumStep(e){if(e==null)return;const t=1e3*60*60*24*30*12,r=1e3*60*60*24*30,n=1e3*60*60*24,s=1e3*60*60,o=1e3*60,a=1e3,l=1;t*1e3>e&&(this.scale="year",this.step=1e3),t*500>e&&(this.scale="year",this.step=500),t*100>e&&(this.scale="year",this.step=100),t*50>e&&(this.scale="year",this.step=50),t*10>e&&(this.scale="year",this.step=10),t*5>e&&(this.scale="year",this.step=5),t>e&&(this.scale="year",this.step=1),r*3>e&&(this.scale="month",this.step=3),r>e&&(this.scale="month",this.step=1),n*7>e&&this.options.showWeekScale&&(this.scale="week",this.step=1),n*2>e&&(this.scale="day",this.step=2),n>e&&(this.scale="day",this.step=1),n/2>e&&(this.scale="weekday",this.step=1),s*4>e&&(this.scale="hour",this.step=4),s>e&&(this.scale="hour",this.step=1),o*15>e&&(this.scale="minute",this.step=15),o*10>e&&(this.scale="minute",this.step=10),o*5>e&&(this.scale="minute",this.step=5),o>e&&(this.scale="minute",this.step=1),a*15>e&&(this.scale="second",this.step=15),a*10>e&&(this.scale="second",this.step=10),a*5>e&&(this.scale="second",this.step=5),a>e&&(this.scale="second",this.step=1),l*200>e&&(this.scale="millisecond",this.step=200),l*100>e&&(this.scale="millisecond",this.step=100),l*50>e&&(this.scale="millisecond",this.step=50),l*10>e&&(this.scale="millisecond",this.step=10),l*5>e&&(this.scale="millisecond",this.step=5),l>e&&(this.scale="millisecond",this.step=1)}static snap(e,t,r){let n=Nr(e);if(t=="year"){const s=n.year()+Math.round(n.month()/12);n=n.year(Math.round(s/r)*r).month(0).date(0).hours(0).minutes(0).seconds(0).milliseconds(0)}else if(t=="month")n.date()>15?n=n.date(1).add(1,"month"):n=n.date(1),n=n.hours(0).minutes(0).seconds(0).milliseconds(0);else if(t=="week")n.weekday()>2?n=n.weekday(0).add(1,"week"):n=n.weekday(0),n=n.hours(0).minutes(0).seconds(0).milliseconds(0);else if(t=="day"){switch(r){case 5:case 2:n=n.hours(Math.round(n.hours()/24)*24);break;default:n=n.hours(Math.round(n.hours()/12)*12);break}n=n.minutes(0).seconds(0).milliseconds(0)}else if(t=="weekday"){switch(r){case 5:case 2:n=n.hours(Math.round(n.hours()/12)*12);break;default:n=n.hours(Math.round(n.hours()/6)*6);break}n=n.minutes(0).seconds(0).milliseconds(0)}else if(t=="hour"){switch(r){case 4:n=n.minutes(Math.round(n.minutes()/60)*60);break;default:n=n.minutes(Math.round(n.minutes()/30)*30);break}n=n.seconds(0).milliseconds(0)}else if(t=="minute"){switch(r){case 15:case 10:n=n.minutes(Math.round(n.minutes()/5)*5).seconds(0);break;case 5:n=n.seconds(Math.round(n.seconds()/60)*60);break;default:n=n.seconds(Math.round(n.seconds()/30)*30);break}n=n.milliseconds(0)}else if(t=="second")switch(r){case 15:case 10:n=n.seconds(Math.round(n.seconds()/5)*5).milliseconds(0);break;case 5:n=n.milliseconds(Math.round(n.milliseconds()/1e3)*1e3);break;default:n=n.milliseconds(Math.round(n.milliseconds()/500)*500);break}else if(t=="millisecond"){const s=r>5?r/2:1;n=n.milliseconds(Math.round(n.milliseconds()/s)*s)}return n}isMajor(){if(this.switchedYear==!0)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedMonth==!0)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedDay==!0)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}const e=this.moment(this.current);switch(this.scale){case"millisecond":return e.milliseconds()==0;case"second":return e.seconds()==0;case"minute":return e.hours()==0&&e.minutes()==0;case"hour":return e.hours()==0;case"weekday":case"day":return this.options.showWeekScale?e.isoWeekday()==1:e.date()==1;case"week":return e.date()==1;case"month":return e.month()==0;case"year":return!1;default:return!1}}getLabelMinor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.minorLabels=="function")return this.format.minorLabels(e,this.scale,this.step);const t=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(e.date()===1&&e.weekday()!==0)return"";default:return t&&t.length>0?this.moment(e).format(t):""}}getLabelMajor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.majorLabels=="function")return this.format.majorLabels(e,this.scale,this.step);const t=this.format.majorLabels[this.scale];return t&&t.length>0?this.moment(e).format(t):""}getClassName(){var e;const t=this.moment,r=this.moment(this.current),n=r.locale?r.locale("en"):r.lang("en"),s=this.step,o=[];function a(d){return d/s%2==0?" vis-even":" vis-odd"}function l(d){return d.isSame(Dr(),"day")?" vis-today":d.isSame(t().add(1,"day"),"day")?" vis-tomorrow":d.isSame(t().add(-1,"day"),"day")?" vis-yesterday":""}function c(d){return d.isSame(Dr(),"week")?" vis-current-week":""}function u(d){return d.isSame(Dr(),"month")?" vis-current-month":""}function h(d){return d.isSame(Dr(),"year")?" vis-current-year":""}switch(this.scale){case"millisecond":o.push(l(n)),o.push(a(n.milliseconds()));break;case"second":o.push(l(n)),o.push(a(n.seconds()));break;case"minute":o.push(l(n)),o.push(a(n.minutes()));break;case"hour":o.push(Jt(e="vis-h".concat(n.hours())).call(e,this.step==4?"-h"+(n.hours()+4):"")),o.push(l(n)),o.push(a(n.hours()));break;case"weekday":o.push("vis-".concat(n.format("dddd").toLowerCase())),o.push(l(n)),o.push(c(n)),o.push(a(n.date()));break;case"day":o.push("vis-day".concat(n.date())),o.push("vis-".concat(n.format("MMMM").toLowerCase())),o.push(l(n)),o.push(u(n)),o.push(this.step<=2?l(n):""),o.push(this.step<=2?"vis-".concat(n.format("dddd").toLowerCase()):""),o.push(a(n.date()-1));break;case"week":o.push("vis-week".concat(n.format("w"))),o.push(c(n)),o.push(a(n.week()));break;case"month":o.push("vis-".concat(n.format("MMMM").toLowerCase())),o.push(u(n)),o.push(a(n.month()));break;case"year":o.push("vis-year".concat(n.year())),o.push(h(n)),o.push(a(n.year()));break}return Ye(o).call(o,String).join(" ")}}_l.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}};class zD extends ma{constructor(e,t){super(),this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,maxMinorChars:7,format:k.extend({},_l.FORMAT),moment:Nr,timeAxis:null},this.options=k.extend({},this.defaultOptions),this.body=e,this._create(),this.setOptions(t)}setOptions(e){e&&(k.selectiveExtend(["showMinorLabels","showMajorLabels","showWeekScale","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,e),k.selectiveDeepExtend(["format"],this.options,e),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.axis=e.orientation:typeof e.orientation=="object"&&"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis)),"locale"in e&&(typeof Nr.locale=="function"?Nr.locale(e.locale):Nr.lang(e.locale)))}_create(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"}destroy(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null}redraw(){const e=this.props,t=this.dom.foreground,r=this.dom.background,n=this.options.orientation.axis=="top"?this.body.dom.top:this.body.dom.bottom,s=t.parentNode!==n;this._calculateCharSize();const o=this.options.showMinorLabels&&this.options.orientation.axis!=="none",a=this.options.showMajorLabels&&this.options.orientation.axis!=="none";e.minorLabelHeight=o?e.minorCharHeight:0,e.majorLabelHeight=a?e.majorCharHeight:0,e.height=e.minorLabelHeight+e.majorLabelHeight,e.width=t.offsetWidth,e.minorLineHeight=this.body.domProps.root.height-e.majorLabelHeight-(this.options.orientation.axis=="top"?this.body.domProps.bottom.height:this.body.domProps.top.height),e.minorLineWidth=1,e.majorLineHeight=e.minorLineHeight+e.majorLabelHeight,e.majorLineWidth=1;const l=t.nextSibling,c=r.nextSibling;return t.parentNode&&t.parentNode.removeChild(t),r.parentNode&&r.parentNode.removeChild(r),t.style.height="".concat(this.props.height,"px"),this._repaintLabels(),l?n.insertBefore(t,l):n.appendChild(t),c?this.body.dom.backgroundVertical.insertBefore(r,c):this.body.dom.backgroundVertical.appendChild(r),this._isResized()||s}_repaintLabels(){const e=this.options.orientation.axis,t=k.convert(this.body.range.start,"Number"),r=k.convert(this.body.range.end,"Number"),n=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf();let s=n-Og(this.options.moment,this.body.hiddenDates,this.body.range,n);s-=this.body.util.toTime(0).valueOf();const o=new _l(new Date(t),new Date(r),s,this.body.hiddenDates,this.options);o.setMoment(this.options.moment),this.options.format&&o.setFormat(this.options.format),this.options.timeAxis&&o.setScale(this.options.timeAxis),this.step=o;const a=this.dom;a.redundant.lines=a.lines,a.redundant.majorTexts=a.majorTexts,a.redundant.minorTexts=a.minorTexts,a.lines=[],a.majorTexts=[],a.minorTexts=[];let l,c,u,h,d,f,p=0,m,g,v,y=0;const _=1e3;let b;for(o.start(),c=o.getCurrent(),h=this.body.util.toScreen(c);o.hasNext()&&y<_;){switch(y++,d=o.isMajor(),b=o.getClassName(),l=c,u=h,o.next(),c=o.getCurrent(),h=this.body.util.toScreen(c),m=p,p=h-u,o.scale){case"week":f=!0;break;default:f=p>=m*.4;break}if(this.options.showMinorLabels&&f){var w=this._repaintMinorText(u,o.getLabelMinor(l),e,b);w.style.width="".concat(p,"px")}d&&this.options.showMajorLabels?(u>0&&(v==null&&(v=u),w=this._repaintMajorText(u,o.getLabelMajor(l),e,b)),g=this._repaintMajorLine(u,p,e,b)):f?g=this._repaintMinorLine(u,p,e,b):g&&(g.style.width="".concat(Ir(g.style.width)+p,"px"))}if(y===_&&!RX&&(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to ".concat(_," lines.")),RX=!0),this.options.showMajorLabels){const S=this.body.util.toTime(0),E=o.getLabelMajor(S),x=E.length*(this.props.majorCharWidth||10)+10;(v==null||x<v)&&this._repaintMajorText(0,E,e,b)}le(k).call(k,this.dom.redundant,S=>{for(;S.length;){const E=S.pop();E&&E.parentNode&&E.parentNode.removeChild(E)}})}_repaintMinorText(e,t,r,n){let s=this.dom.redundant.minorTexts.shift();if(!s){const a=document.createTextNode("");s=document.createElement("div"),s.appendChild(a),this.dom.foreground.appendChild(s)}this.dom.minorTexts.push(s),s.innerHTML=k.xss(t);let o=r=="top"?this.props.majorLabelHeight:0;return this._setXY(s,e,o),s.className="vis-text vis-minor ".concat(n),s}_repaintMajorText(e,t,r,n){let s=this.dom.redundant.majorTexts.shift();if(!s){const a=document.createElement("div");s=document.createElement("div"),s.appendChild(a),this.dom.foreground.appendChild(s)}s.childNodes[0].innerHTML=k.xss(t),s.className="vis-text vis-major ".concat(n);let o=r=="top"?0:this.props.minorLabelHeight;return this._setXY(s,e,o),this.dom.majorTexts.push(s),s}_setXY(e,t,r){var n;const s=this.options.rtl?t*-1:t;e.style.transform=Jt(n="translate(".concat(s,"px, ")).call(n,r,"px)")}_repaintMinorLine(e,t,r,n){var s;let o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);const a=this.props;o.style.width="".concat(t,"px"),o.style.height="".concat(a.minorLineHeight,"px");let l=r=="top"?a.majorLabelHeight:this.body.domProps.top.height,c=e-a.minorLineWidth/2;return this._setXY(o,c,l),o.className=Jt(s="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-minor ")).call(s,n),o}_repaintMajorLine(e,t,r,n){var s;let o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);const a=this.props;o.style.width="".concat(t,"px"),o.style.height="".concat(a.majorLineHeight,"px");let l=r=="top"?0:this.body.domProps.top.height,c=e-a.majorLineWidth/2;return this._setXY(o,c,l),o.className=Jt(s="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-major ")).call(s,n),o}_calculateCharSize(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth}}var RX=!1;function M2e(i){var e=window,t={},r={keydown:{},keyup:{}},n={},s;for(s=97;s<=122;s++)n[String.fromCharCode(s)]={code:65+(s-97),shift:!1};for(s=65;s<=90;s++)n[String.fromCharCode(s)]={code:s,shift:!0};for(s=0;s<=9;s++)n[""+s]={code:48+s,shift:!1};for(s=1;s<=12;s++)n["F"+s]={code:111+s,shift:!1};for(s=0;s<=9;s++)n["num"+s]={code:96+s,shift:!1};n["num*"]={code:106,shift:!1},n["num+"]={code:107,shift:!1},n["num-"]={code:109,shift:!1},n["num/"]={code:111,shift:!1},n["num."]={code:110,shift:!1},n.left={code:37,shift:!1},n.up={code:38,shift:!1},n.right={code:39,shift:!1},n.down={code:40,shift:!1},n.space={code:32,shift:!1},n.enter={code:13,shift:!1},n.shift={code:16,shift:void 0},n.esc={code:27,shift:!1},n.backspace={code:8,shift:!1},n.tab={code:9,shift:!1},n.ctrl={code:17,shift:!1},n.alt={code:18,shift:!1},n.delete={code:46,shift:!1},n.pageup={code:33,shift:!1},n.pagedown={code:34,shift:!1},n["="]={code:187,shift:!1},n["-"]={code:189,shift:!1},n["]"]={code:221,shift:!1},n["["]={code:219,shift:!1};var o=function(c){l(c,"keydown")},a=function(c){l(c,"keyup")},l=function(c,u){if(r[u][c.keyCode]!==void 0)for(var h=r[u][c.keyCode],d=0;d<h.length;d++)(h[d].shift===void 0||h[d].shift==!0&&c.shiftKey==!0||h[d].shift==!1&&c.shiftKey==!1)&&h[d].fn(c)};return t.bind=function(c,u,h){if(h===void 0&&(h="keydown"),n[c]===void 0)throw new Error("unsupported key: "+c);r[h][n[c].code]===void 0&&(r[h][n[c].code]=[]),r[h][n[c].code].push({fn:u,shift:n[c].shift})},t.bindAll=function(c,u){u===void 0&&(u="keydown");for(var h in n)n.hasOwnProperty(h)&&t.bind(h,c,u)},t.getKey=function(c){for(var u in n)if(n.hasOwnProperty(u)){if(c.shiftKey==!0&&n[u].shift==!0&&c.keyCode==n[u].code)return u;if(c.shiftKey==!1&&n[u].shift==!1&&c.keyCode==n[u].code)return u;if(c.keyCode==n[u].code&&u=="shift")return u}return"unknown key, currently not supported"},t.unbind=function(c,u,h){if(h===void 0&&(h="keydown"),n[c]===void 0)throw new Error("unsupported key: "+c);if(u!==void 0){var d=[],f=r[h][n[c].code];if(f!==void 0)for(var p=0;p<f.length;p++)f[p].fn==u&&f[p].shift==n[c].shift||d.push(r[h][n[c].code][p]);r[h][n[c].code]=d}else r[h][n[c].code]=[]},t.reset=function(){r={keydown:{},keyup:{}}},t.destroy=function(){r={keydown:{},keyup:{}},e.removeEventListener("keydown",o,!0),e.removeEventListener("keyup",a,!0)},e.addEventListener("keydown",o,!0),e.addEventListener("keyup",a,!0),t}function tn(i){var e,t;this.active=!1,this.dom={container:i},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=Vi(this.dom.overlay),this.hammer.on("tap",V(e=this._onTapOverlay).call(e,this));var r=this,n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];le(n).call(n,function(s){r.hammer.on(s,function(o){o.stopPropagation()})}),document&&document.body&&(this.onClick=function(s){A2e(s.target,i)||r.deactivate()},document.body.addEventListener("click",this.onClick)),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=M2e(),this.escListener=V(t=this.deactivate).call(t,this)}lA(tn.prototype);tn.current=null;tn.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null};tn.prototype.activate=function(){var i;tn.current&&tn.current.deactivate(),tn.current=this,this.active=!0,this.dom.overlay.style.display="none",k.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),V(i=this.keycharm).call(i,"esc",this.escListener)};tn.prototype.deactivate=function(){tn.current===this&&(tn.current=null),this.active=!1,this.dom.overlay.style.display="",k.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")};tn.prototype._onTapOverlay=function(i){this.activate(),i.stopPropagation()};function A2e(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}const RA={current:"current",time:"time",deleteSelected:"Delete selected"},N2e=RA,$2e=RA,PA={current:"attuale",time:"tempo",deleteSelected:"Cancella la selezione"},F2e=PA,L2e=PA,DA={current:"huidige",time:"tijd",deleteSelected:"Selectie verwijderen"},q2e=DA,j2e=DA,Dre={current:"Aktuelle",time:"Zeit",deleteSelected:"Lsche Auswahl"},G2e=Dre,vy={current:"actuel",time:"heure",deleteSelected:"Effacer la selection"},W2e=vy,B2e=vy,z2e=vy,Ire={current:"corriente",time:"hora",deleteSelected:"Eliminar seleccin"},H2e=Ire,kre={current:"",time:"",deleteSelected:" "},Y2e=kre,Mre={current:"",time:"",deleteSelected:" "},U2e=Mre,Are={current:"aktualny",time:"czas",deleteSelected:"Usu wybrane"},V2e=Are,IA={current:"atual",time:"data",deleteSelected:"Apagar selecionado"},X2e=IA,K2e=IA,Nre={current:"",time:"",deleteSelected:""},Z2e=Nre,$re={current:"nuvarande",time:"tid",deleteSelected:"Radera valda"},Q2e=$re,yy={current:"nvrende",time:"tid",deleteSelected:"Slett valgte"},J2e=yy,eqe=yy,tqe=yy,Fre={current:"einamas",time:"laikas",deleteSelected:"Paalinti pasirinkt"},iqe=Fre,Ou={en:RA,en_EN:N2e,en_US:$2e,it:PA,it_IT:F2e,it_CH:L2e,nl:DA,nl_NL:q2e,nl_BE:j2e,de:Dre,de_DE:G2e,fr:vy,fr_FR:W2e,fr_CA:B2e,fr_BE:z2e,es:Ire,es_ES:H2e,uk:kre,uk_UA:Y2e,ru:Mre,ru_RU:U2e,pl:Are,pl_PL:V2e,pt:IA,pt_BR:X2e,pt_PT:K2e,ja:Nre,ja_JP:Z2e,lt:Fre,lt_LT:iqe,sv:$re,sv_SE:Q2e,nb:yy,nn:eqe,nb_NO:J2e,nn_NO:tqe};class Lre extends ma{constructor(e,t){var r;super(),this.body=e,this.defaultOptions={moment:Nr,locales:Ou,locale:"en",id:void 0,title:void 0},this.options=k.extend({},this.defaultOptions),this.setOptions(t),this.options.locales=k.extend({},Ou,this.options.locales);const n=this.defaultOptions.locales[this.defaultOptions.locale];le(r=Ai(this.options.locales)).call(r,s=>{this.options.locales[s]=k.extend({},n,this.options.locales[s])}),t&&t.time!=null?this.customTime=t.time:this.customTime=new Date,this.eventParams={},this._create()}setOptions(e){e&&k.selectiveExtend(["moment","locale","locales","id","title","rtl","snap"],this.options,e)}_create(){var e,t,r;const n=document.createElement("div");n["custom-time"]=this,n.className="vis-custom-time ".concat(this.options.id||""),n.style.position="absolute",n.style.top="0px",n.style.height="100%",this.bar=n;const s=document.createElement("div");s.style.position="relative",s.style.top="0px",this.options.rtl?s.style.right="-10px":s.style.left="-10px",s.style.height="100%",s.style.width="20px";function o(a){this.body.range._onMouseWheel(a)}s.addEventListener?(s.addEventListener("mousewheel",V(o).call(o,this),!1),s.addEventListener("DOMMouseScroll",V(o).call(o,this),!1)):s.attachEvent("onmousewheel",V(o).call(o,this)),n.appendChild(s),this.hammer=new Vi(s),this.hammer.on("panstart",V(e=this._onDragStart).call(e,this)),this.hammer.on("panmove",V(t=this._onDrag).call(t,this)),this.hammer.on("panend",V(r=this._onDragEnd).call(r,this)),this.hammer.get("pan").set({threshold:5,direction:Vi.DIRECTION_ALL}),this.hammer.get("press").set({time:1e4})}destroy(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null}redraw(){const e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar));const t=this.body.util.toScreen(this.customTime);let r=this.options.locales[this.options.locale];r||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),r=this.options.locales.en);let n=this.options.title;if(n===void 0){var s;n=Jt(s="".concat(r.time,": ")).call(s,this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")),n=n.charAt(0).toUpperCase()+n.substring(1)}else typeof n=="function"&&(n=n.call(this,this.customTime));return this.options.rtl?this.bar.style.right="".concat(t,"px"):this.bar.style.left="".concat(t,"px"),this.bar.title=n,!1}hide(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)}setCustomTime(e){this.customTime=k.convert(e,"Date"),this.redraw()}getCustomTime(){return new Date(this.customTime.valueOf())}setCustomMarker(e,t){if(this.marker&&this.bar.removeChild(this.marker),this.marker=document.createElement("div"),this.marker.className="vis-custom-time-marker",this.marker.innerHTML=k.xss(e),this.marker.style.position="absolute",t){var r;this.marker.setAttribute("contenteditable","true"),this.marker.addEventListener("pointerdown",()=>{this.marker.focus()}),this.marker.addEventListener("input",V(r=this._onMarkerChange).call(r,this)),this.marker.title=e,this.marker.addEventListener("blur",n=>{this.title!=n.target.innerHTML&&(this._onMarkerChanged(n),this.title=n.target.innerHTML)})}this.bar.appendChild(this.marker)}setCustomTitle(e){this.options.title=e}_onDragStart(e){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,e.stopPropagation()}_onDrag(e){if(!this.eventParams.dragging)return;let t=this.options.rtl?-1*e.deltaX:e.deltaX;const r=this.body.util.toScreen(this.eventParams.customTime)+t,n=this.body.util.toTime(r),s=this.body.util.getScale(),o=this.body.util.getStep(),a=this.options.snap,l=a?a(n,s,o):n;this.setCustomTime(l),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation()}_onDragEnd(e){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation())}_onMarkerChange(e){this.body.emitter.emit("markerchange",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}_onMarkerChanged(e){this.body.emitter.emit("markerchanged",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}static customTimeFromTarget(e){let t=e.target;for(;t;){if(Object.prototype.hasOwnProperty.call(t,"custom-time"))return t["custom-time"];t=t.parentNode}return null}}class kA{_create(e){var t,r,n;this.dom={},this.dom.container=e,this.dom.container.style.position="relative",this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.loadingScreen=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.loadingScreen.className="vis-loading-screen",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",()=>{this.initialDrawDone===!0&&this._redraw()}),this.on("rangechanged",()=>{this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}),this.on("touch",V(t=this._onTouch).call(t,this)),this.on("panmove",V(r=this._onDrag).call(r,this));const s=this;this._origRedraw=V(n=this._redraw).call(n,this),this._redraw=k.throttle(this._origRedraw),this.on("_change",p=>{s.itemSet&&s.itemSet.initialItemSetDrawn&&p&&p.queue==!0?s._redraw():s._origRedraw()}),this.hammer=new Vi(this.dom.root);const o=this.hammer.get("pinch").set({enable:!0});o&&k2e(o),this.hammer.get("pan").set({threshold:5,direction:Vi.DIRECTION_ALL}),this.timelineListeners={};const a=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];le(a).call(a,p=>{const m=g=>{s.isActive()&&s.emit(p,g)};s.hammer.on(p,m),s.timelineListeners[p]=m}),Pre(this.hammer,p=>{s.emit("touch",p)}),I2e(this.hammer,p=>{s.emit("release",p)});function l(p){if(!this.isActive())return;if(this.emit("mousewheel",p),this.options.preferZoom){if(!this.options.zoomKey||p[this.options.zoomKey])return}else if(this.options.zoomKey&&p[this.options.zoomKey])return;if(!this.options.verticalScroll&&!this.options.horizontalScroll)return;let m=0,g=0;"detail"in p&&(g=p.detail*-1),"wheelDelta"in p&&(g=p.wheelDelta),"wheelDeltaY"in p&&(g=p.wheelDeltaY),"wheelDeltaX"in p&&(m=p.wheelDeltaX*-1),"axis"in p&&p.axis===p.HORIZONTAL_AXIS&&(m=g*-1,g=0),"deltaY"in p&&(g=p.deltaY*-1),"deltaX"in p&&(m=p.deltaX);var v=40,y=800;p.deltaMode&&(p.deltaMode===1?(m*=v,g*=v):(m*=v,g*=y));const _=this.options.verticalScroll,b=Math.abs(g)>=Math.abs(m),w=this.options.horizontalScroll&&this.options.horizontalScrollKey&&p[this.options.horizontalScrollKey];if(_&&b&&!w){const S=this.props.scrollTop,E=S+g;this._setScrollTop(E)!==S&&(this._redraw(),this.emit("scroll",p),p.preventDefault());return}if(this.options.horizontalScroll){this.range.stopRolling();let E=(b?g:m)/120*(this.range.end-this.range.start)/20;this.options.horizontalScrollInvert&&b&&(E=-E);const x=this.range.start+E,T=this.range.end+E,R={animation:!1,byUser:!0,event:p};this.range.setRange(x,T,R),p.preventDefault();return}}const c="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":this.dom.centerContainer.addEventListener?"DOMMouseScroll":"onmousewheel";this.dom.top.addEventListener,this.dom.bottom.addEventListener,this.dom.centerContainer.addEventListener(c,V(l).call(l,this),!1),this.dom.top.addEventListener(c,V(l).call(l,this),!1),this.dom.bottom.addEventListener(c,V(l).call(l,this),!1);function u(p){if(s.options.verticalScroll&&(p.preventDefault(),s.isActive())){const m=-p.target.scrollTop;s._setScrollTop(m),s._redraw(),s.emit("scrollSide",p)}}this.dom.left.parentNode.addEventListener("scroll",V(u).call(u,this)),this.dom.right.parentNode.addEventListener("scroll",V(u).call(u,this));let h=!1;function d(p){var m;if(p.preventDefault&&(s.emit("dragover",s.getEventProperties(p)),p.preventDefault()),gt(m=p.target.className).call(m,"timeline")>-1&&!h)return p.dataTransfer.dropEffect="move",h=!0,!1}function f(p){p.preventDefault&&p.preventDefault(),p.stopPropagation&&p.stopPropagation();try{var m=JSON.parse(p.dataTransfer.getData("text"));if(!m||!m.content)return}catch{return!1}return h=!1,p.center={x:p.clientX,y:p.clientY},m.target!=="item"?s.itemSet._onAddItem(p):s.itemSet._onDropObjectOnItem(p),s.emit("drop",s.getEventProperties(p)),!1}if(this.dom.center.addEventListener("dragover",V(d).call(d,this),!1),this.dom.center.addEventListener("drop",V(f).call(f,this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!e)throw new Error("No container provided");e.appendChild(this.dom.root),e.appendChild(this.dom.loadingScreen)}setOptions(e){var t;if(e){const o=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","preferZoom","rtl","zoomKey","horizontalScroll","horizontalScrollKey","horizontalScrollInvert","verticalScroll","longSelectPressTime","snap"];if(k.selectiveExtend(o,this.options,e),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),typeof this.options.orientation!="object"&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation={item:e.orientation,axis:e.orientation}:typeof e.orientation=="object"&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),this.options.orientation.axis==="both"){if(!this.timeAxis2){const a=this.timeAxis2=new zD(this.body,this.options);a.setOptions=l=>{const c=l?k.extend({},l):{};c.orientation="top",zD.prototype.setOptions.call(a,c)},this.components.push(a)}}else if(this.timeAxis2){var r;const a=gt(r=this.components).call(r,this.timeAxis2);if(a!==-1){var n;mr(n=this.components).call(n,a,1)}this.timeAxis2.destroy(),this.timeAxis2=null}typeof e.drawPoints=="function"&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&TA(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new tn(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize()}if(le(t=this.components).call(t,o=>o.setOptions(e)),"configure"in e){var s;this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure);const o=k.deepExtend({},this.options);le(s=this.components).call(s,a=>{k.deepExtend(o,a.options)}),this.configurator.setModuleOptions({global:o})}this._redraw()}isActive(){return!this.activator||this.activator.active}destroy(){var e;this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(const t in this.timelineListeners)Object.prototype.hasOwnProperty.call(this.timelineListeners,t)&&delete this.timelineListeners[t];this.timelineListeners=null,this.hammer&&this.hammer.destroy(),this.hammer=null,le(e=this.components).call(e,t=>t.destroy()),this.body=null}setCustomTime(e,t){var r;const n=Ye(r=this.customTimes).call(r,s=>t===s.options.id);if(n.length===0)throw new Error("No custom time bar found with id ".concat(kr(t)));n.length>0&&n[0].setCustomTime(e)}getCustomTime(e){var t;const r=Ye(t=this.customTimes).call(t,n=>n.options.id===e);if(r.length===0)throw new Error("No custom time bar found with id ".concat(kr(e)));return r[0].getCustomTime()}setCustomTimeMarker(e,t,r){var n;const s=Ye(n=this.customTimes).call(n,o=>o.options.id===t);if(s.length===0)throw new Error("No custom time bar found with id ".concat(kr(t)));s.length>0&&s[0].setCustomMarker(e,r)}setCustomTimeTitle(e,t){var r;const n=Ye(r=this.customTimes).call(r,s=>s.options.id===t);if(n.length===0)throw new Error("No custom time bar found with id ".concat(kr(t)));if(n.length>0)return n[0].setCustomTitle(e)}getEventProperties(e){return{event:e}}addCustomTime(e,t){var r;const n=e!==void 0?k.convert(e,"Date"):new Date;if(Rre(r=this.customTimes).call(r,a=>a.options.id===t))throw new Error("A custom time with id ".concat(kr(t)," already exists"));const o=new Lre(this.body,k.extend({},this.options,{time:n,id:t,snap:this.itemSet?this.itemSet.options.snap:this.options.snap}));return this.customTimes.push(o),this.components.push(o),this._redraw(),t}removeCustomTime(e){var t;const r=Ye(t=this.customTimes).call(t,n=>n.options.id===e);if(r.length===0)throw new Error("No custom time bar found with id ".concat(kr(e)));le(r).call(r,n=>{var s,o,a,l;mr(s=this.customTimes).call(s,gt(o=this.customTimes).call(o,n),1),mr(a=this.components).call(a,gt(l=this.components).call(l,n),1),n.destroy()})}getVisibleItems(){return this.itemSet&&this.itemSet.getVisibleItems()||[]}getItemsAtCurrentTime(e){return this.time=e,this.itemSet&&this.itemSet.getItemsAtCurrentTime(this.time)||[]}getVisibleGroups(){return this.itemSet&&this.itemSet.getVisibleGroups()||[]}fit(e,t){const r=this.getDataRange();if(r.min===null&&r.max===null)return;const n=r.max-r.min,s=new Date(r.min.valueOf()-n*.01),o=new Date(r.max.valueOf()+n*.01),a=e&&e.animation!==void 0?e.animation:!0;this.range.setRange(s,o,{animation:a},t)}getDataRange(){throw new Error("Cannot invoke abstract method getDataRange")}setWindow(e,t,r,n){typeof arguments[2]=="function"&&(n=arguments[2],r={});let s,o;arguments.length==1?(o=arguments[0],s=o.animation!==void 0?o.animation:!0,this.range.setRange(o.start,o.end,{animation:s})):arguments.length==2&&typeof arguments[1]=="function"?(o=arguments[0],n=arguments[1],s=o.animation!==void 0?o.animation:!0,this.range.setRange(o.start,o.end,{animation:s},n)):(s=r&&r.animation!==void 0?r.animation:!0,this.range.setRange(e,t,{animation:s},n))}moveTo(e,t,r){typeof arguments[1]=="function"&&(r=arguments[1],t={});const n=this.range.end-this.range.start,s=k.convert(e,"Date").valueOf(),o=s-n/2,a=s+n/2,l=t&&t.animation!==void 0?t.animation:!0;this.range.setRange(o,a,{animation:l},r)}getWindow(){const e=this.range.getRange();return{start:new Date(e.start),end:new Date(e.end)}}zoomIn(e,t,r){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(r=arguments[1],t={});const n=this.getWindow(),s=n.start.valueOf(),o=n.end.valueOf(),a=o-s,l=a/(1+e),c=(a-l)/2,u=s+c,h=o-c;this.setWindow(u,h,t,r)}zoomOut(e,t,r){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(r=arguments[1],t={});const n=this.getWindow(),s=n.start.valueOf(),o=n.end.valueOf(),a=o-s,l=s-a*e/2,c=o+a*e/2;this.setWindow(l,c,t,r)}redraw(){this._redraw()}_redraw(){var e;this.redrawCount++;const t=this.dom;if(!t||!t.container||t.root.offsetWidth==0)return;let r=!1;const n=this.options,s=this.props;Tg(this.options.moment,this.body,this.options.hiddenDates),n.orientation=="top"?(k.addClassName(t.root,"vis-top"),k.removeClassName(t.root,"vis-bottom")):(k.removeClassName(t.root,"vis-top"),k.addClassName(t.root,"vis-bottom")),n.rtl?(k.addClassName(t.root,"vis-rtl"),k.removeClassName(t.root,"vis-ltr")):(k.addClassName(t.root,"vis-ltr"),k.removeClassName(t.root,"vis-rtl")),t.root.style.maxHeight=k.option.asSize(n.maxHeight,""),t.root.style.minHeight=k.option.asSize(n.minHeight,""),t.root.style.width=k.option.asSize(n.width,"");const o=t.root.offsetWidth;s.border.left=1,s.border.right=1,s.border.top=1,s.border.bottom=1,s.center.height=t.center.offsetHeight,s.left.height=t.left.offsetHeight,s.right.height=t.right.offsetHeight,s.top.height=t.top.clientHeight||-s.border.top,s.bottom.height=Math.round(t.bottom.getBoundingClientRect().height)||t.bottom.clientHeight||-s.border.bottom;const a=Math.max(s.left.height,s.center.height,s.right.height),l=s.top.height+a+s.bottom.height+s.border.top+s.border.bottom;t.root.style.height=k.option.asSize(n.height,"".concat(l,"px")),s.root.height=t.root.offsetHeight,s.background.height=s.root.height;const c=s.root.height-s.top.height-s.bottom.height;s.centerContainer.height=c,s.leftContainer.height=c,s.rightContainer.height=s.leftContainer.height,s.root.width=o,s.background.width=s.root.width,this.initialDrawDone||(s.scrollbarWidth=k.getScrollBarWidth());const u=t.leftContainer.clientWidth,h=t.rightContainer.clientWidth;n.verticalScroll?n.rtl?(s.left.width=u||-s.border.left,s.right.width=h+s.scrollbarWidth||-s.border.right):(s.left.width=u+s.scrollbarWidth||-s.border.left,s.right.width=h||-s.border.right):(s.left.width=u||-s.border.left,s.right.width=h||-s.border.right),this._setDOM();let d=this._updateScrollTop();n.orientation.item!="top"&&(d+=Math.max(s.centerContainer.height-s.center.height-s.border.top-s.border.bottom,0)),t.center.style.transform="translateY(".concat(d,"px)");const f=s.scrollTop==0?"hidden":"",p=s.scrollTop==s.scrollTopMin?"hidden":"";t.shadowTop.style.visibility=f,t.shadowBottom.style.visibility=p,t.shadowTopLeft.style.visibility=f,t.shadowBottomLeft.style.visibility=p,t.shadowTopRight.style.visibility=f,t.shadowBottomRight.style.visibility=p,n.verticalScroll&&(t.rightContainer.className="vis-panel vis-right vis-vertical-scroll",t.leftContainer.className="vis-panel vis-left vis-vertical-scroll",t.shadowTopRight.style.visibility="hidden",t.shadowBottomRight.style.visibility="hidden",t.shadowTopLeft.style.visibility="hidden",t.shadowBottomLeft.style.visibility="hidden",t.left.style.top="0px",t.right.style.top="0px"),(!n.verticalScroll||s.center.height<s.centerContainer.height)&&(t.left.style.top="".concat(d,"px"),t.right.style.top="".concat(d,"px"),t.rightContainer.className=t.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),t.leftContainer.className=t.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),s.left.width=u||-s.border.left,s.right.width=h||-s.border.right,this._setDOM());const m=s.center.height>s.centerContainer.height;this.hammer.get("pan").set({direction:m?Vi.DIRECTION_ALL:Vi.DIRECTION_HORIZONTAL}),this.hammer.get("press").set({time:this.options.longSelectPressTime}),le(e=this.components).call(e,v=>{r=v.redraw()||r});const g=5;if(r)if(this.redrawCount<g){this.body.emitter.emit("_change");return}else console.log("WARNING: infinite loop in redraw?");else this.redrawCount=0;this.body.emitter.emit("changed")}_setDOM(){const e=this.props,t=this.dom;e.leftContainer.width=e.left.width,e.rightContainer.width=e.right.width;const r=e.root.width-e.left.width-e.right.width;e.center.width=r,e.centerContainer.width=r,e.top.width=r,e.bottom.width=r,t.background.style.height="".concat(e.background.height,"px"),t.backgroundVertical.style.height="".concat(e.background.height,"px"),t.backgroundHorizontal.style.height="".concat(e.centerContainer.height,"px"),t.centerContainer.style.height="".concat(e.centerContainer.height,"px"),t.leftContainer.style.height="".concat(e.leftContainer.height,"px"),t.rightContainer.style.height="".concat(e.rightContainer.height,"px"),t.background.style.width="".concat(e.background.width,"px"),t.backgroundVertical.style.width="".concat(e.centerContainer.width,"px"),t.backgroundHorizontal.style.width="".concat(e.background.width,"px"),t.centerContainer.style.width="".concat(e.center.width,"px"),t.top.style.width="".concat(e.top.width,"px"),t.bottom.style.width="".concat(e.bottom.width,"px"),t.background.style.left="0",t.background.style.top="0",t.backgroundVertical.style.left="".concat(e.left.width+e.border.left,"px"),t.backgroundVertical.style.top="0",t.backgroundHorizontal.style.left="0",t.backgroundHorizontal.style.top="".concat(e.top.height,"px"),t.centerContainer.style.left="".concat(e.left.width,"px"),t.centerContainer.style.top="".concat(e.top.height,"px"),t.leftContainer.style.left="0",t.leftContainer.style.top="".concat(e.top.height,"px"),t.rightContainer.style.left="".concat(e.left.width+e.center.width,"px"),t.rightContainer.style.top="".concat(e.top.height,"px"),t.top.style.left="".concat(e.left.width,"px"),t.top.style.top="0",t.bottom.style.left="".concat(e.left.width,"px"),t.bottom.style.top="".concat(e.top.height+e.centerContainer.height,"px"),t.center.style.left="0",t.left.style.left="0",t.right.style.left="0"}setCurrentTime(e){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(e)}getCurrentTime(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()}_toTime(e){return vX(this,e,this.props.center.width)}_toGlobalTime(e){return vX(this,e,this.props.root.width)}_toScreen(e){return gX(this,e,this.props.center.width)}_toGlobalScreen(e){return gX(this,e,this.props.root.width)}_initAutoResize(){this.options.autoResize==!0?this._startAutoResize():this._stopAutoResize()}_startAutoResize(){const e=this;this._stopAutoResize(),this._onResize=()=>{if(e.options.autoResize!=!0){e._stopAutoResize();return}if(e.dom.root){const t=e.dom.root.offsetHeight,r=e.dom.root.offsetWidth;(r!=e.props.lastWidth||t!=e.props.lastHeight)&&(e.props.lastWidth=r,e.props.lastHeight=t,e.props.scrollbarWidth=k.getScrollBarWidth(),e.body.emitter.emit("_change"))}},window.addEventListener("resize",this._onResize),e.dom.root&&(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight),this.watchTimer=P2e(this._onResize,1e3)}_stopAutoResize(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(window.removeEventListener("resize",this._onResize),this._onResize=null)}_onTouch(){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop}_onPinch(){this.touch.allowDragging=!1}_onDrag(e){if(!e||!this.touch.allowDragging)return;const t=e.deltaY,r=this._getScrollTop(),n=this._setScrollTop(this.touch.initialScrollTop+t);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),n!=r&&this.emit("verticalDrag")}_setScrollTop(e){return this.props.scrollTop=e,this._updateScrollTop(),this.props.scrollTop}_updateScrollTop(){const e=Math.min(this.props.centerContainer.height-this.props.border.top-this.props.border.bottom-this.props.center.height,0);return e!=this.props.scrollTopMin&&(this.options.orientation.item!="top"&&(this.props.scrollTop+=e-this.props.scrollTopMin),this.props.scrollTopMin=e),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<e&&(this.props.scrollTop=e),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop}_getScrollTop(){return this.props.scrollTop}_createConfigurator(){throw new Error("Cannot invoke abstract method _createConfigurator")}}lA(kA.prototype);class rqe extends ma{constructor(e,t){var r;super(),this.body=e,this.defaultOptions={rtl:!1,showCurrentTime:!0,alignCurrentTime:void 0,moment:Nr,locales:Ou,locale:"en"},this.options=k.extend({},this.defaultOptions),this.setOptions(t),this.options.locales=k.extend({},Ou,this.options.locales);const n=this.defaultOptions.locales[this.defaultOptions.locale];le(r=Ai(this.options.locales)).call(r,s=>{this.options.locales[s]=k.extend({},n,this.options.locales[s])}),this.offset=0,this._create()}_create(){const e=document.createElement("div");e.className="vis-current-time",e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e}destroy(){this.options.showCurrentTime=!1,this.redraw(),this.body=null}setOptions(e){e&&k.selectiveExtend(["rtl","showCurrentTime","alignCurrentTime","moment","locale","locales"],this.options,e)}redraw(){if(this.options.showCurrentTime){var e,t;const r=this.body.dom.backgroundVertical;this.bar.parentNode!=r&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),r.appendChild(this.bar),this.start());let n=this.options.moment(Dr()+this.offset);this.options.alignCurrentTime&&(n=n.startOf(this.options.alignCurrentTime));const s=this.body.util.toScreen(n);let o=this.options.locales[this.options.locale];o||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),o=this.options.locales.en);let a=Jt(e=Jt(t="".concat(o.current," ")).call(t,o.time,": ")).call(e,n.format("dddd, MMMM Do YYYY, H:mm:ss"));a=a.charAt(0).toUpperCase()+a.substring(1),this.options.rtl?this.bar.style.transform="translateX(".concat(s*-1,"px)"):this.bar.style.transform="translateX(".concat(s,"px)"),this.bar.title=a}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1}start(){const e=this;function t(){e.stop();let n=1/e.body.range.conversion(e.body.domProps.center.width).scale/10;n<30&&(n=30),n>1e3&&(n=1e3),e.redraw(),e.body.emitter.emit("currentTimeTick"),e.currentTimeTimer=Lr(t,n)}t()}stop(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)}setCurrentTime(e){const t=k.convert(e,"Date").valueOf(),r=Dr();this.offset=t-r,this.redraw()}getCurrentTime(){return new Date(Dr()+this.offset)}}var PX={},DX;function nqe(){if(DX)return PX;DX=1;var i=fe(),e=pa().find,t=hy(),r="find",n=!0;return r in[]&&Array(1)[r](function(){n=!1}),i({target:"Array",proto:!0,forced:n},{find:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),t(r),PX}var dR,IX;function sqe(){if(IX)return dR;IX=1,nqe();var i=Ci();return dR=i("Array","find"),dR}var fR,kX;function oqe(){if(kX)return fR;kX=1;var i=Kt(),e=sqe(),t=Array.prototype;return fR=function(r){var n=r.find;return r===t||i(t,r)&&n===t.find?e:n},fR}var pR,MX;function aqe(){if(MX)return pR;MX=1;var i=oqe();return pR=i,pR}var mR,AX;function lqe(){return AX||(AX=1,mR=aqe()),mR}var cqe=lqe(),uqe=Ce(cqe),NX={},$X={},gR={exports:{}},vR,FX;function hqe(){if(FX)return vR;FX=1;var i=Ue();return vR=i(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),vR}var yR,LX;function dqe(){if(LX)return yR;LX=1;var i=Ue(),e=Bi(),t=Os(),r=hqe(),n=Object.isExtensible,s=i(function(){});return yR=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:n?n(a):!0}:n,yR}var bR,qX;function fqe(){if(qX)return bR;qX=1;var i=Ue();return bR=!i(function(){return Object.isExtensible(Object.preventExtensions({}))}),bR}var jX;function qre(){if(jX)return gR.exports;jX=1;var i=fe(),e=Je(),t=up(),r=Bi(),n=nr(),s=mn().f,o=ay(),a=yie(),l=dqe(),c=iy(),u=fqe(),h=!1,d=c("meta"),f=0,p=function(b){s(b,d,{value:{objectID:"O"+f++,weakData:{}}})},m=function(b,w){if(!r(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!n(b,d)){if(!l(b))return"F";if(!w)return"E";p(b)}return b[d].objectID},g=function(b,w){if(!n(b,d)){if(!l(b))return!0;if(!w)return!1;p(b)}return b[d].weakData},v=function(b){return u&&h&&l(b)&&!n(b,d)&&p(b),b},y=function(){_.enable=function(){},h=!0;var b=o.f,w=e([].splice),S={};S[d]=1,b(S).length&&(o.f=function(E){for(var x=b(E),T=0,R=x.length;T<R;T++)if(x[T]===d){w(x,T,1);break}return x},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},_=gR.exports={enable:y,fastKey:m,getWeakData:g,onFreeze:v};return t[d]=!0,gR.exports}var _R,GX;function pqe(){if(GX)return _R;GX=1;var i=oi(),e=dh(),t=i("iterator"),r=Array.prototype;return _R=function(n){return n!==void 0&&(e.Array===n||r[t]===n)},_R}var wR,WX;function jre(){if(WX)return wR;WX=1;var i=cp(),e=UM(),t=sp(),r=dh(),n=oi(),s=n("iterator");return wR=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[i(o)]},wR}var xR,BX;function mqe(){if(BX)return xR;BX=1;var i=xr(),e=fa(),t=wo(),r=oh(),n=jre(),s=TypeError;return xR=function(o,a){var l=arguments.length<2?n(o):a;if(e(l))return t(i(l,o));throw new s(r(o)+" is not iterable")},xR}var SR,zX;function MA(){if(zX)return SR;zX=1;var i=xr(),e=wo(),t=UM();return SR=function(r,n,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(n==="throw")throw s;return s}o=i(o,r)}catch(l){a=!0,o=l}if(n==="throw")throw s;if(a)throw o;return e(o),s},SR}var ER,HX;function Gre(){if(HX)return ER;HX=1;var i=ny(),e=xr(),t=wo(),r=oh(),n=pqe(),s=xo(),o=Kt(),a=mqe(),l=jre(),c=MA(),u=TypeError,h=function(f,p){this.stopped=f,this.result=p},d=h.prototype;return ER=function(f,p,m){var g=m&&m.that,v=!!(m&&m.AS_ENTRIES),y=!!(m&&m.IS_RECORD),_=!!(m&&m.IS_ITERATOR),b=!!(m&&m.INTERRUPTED),w=i(p,g),S,E,x,T,R,P,I,$=function(W){return S&&c(S,"normal"),new h(!0,W)},F=function(W){return v?(t(W),b?w(W[0],W[1],$):w(W[0],W[1])):b?w(W,$):w(W)};if(y)S=f.iterator;else if(_)S=f;else{if(E=l(f),!E)throw new u(r(f)+" is not iterable");if(n(E)){for(x=0,T=s(f);T>x;x++)if(R=F(f[x]),R&&o(d,R))return R;return new h(!1)}S=a(f,E)}for(P=y?f.next:S.next;!(I=e(P,S)).done;){try{R=F(I.value)}catch(W){c(S,"throw",W)}if(typeof R=="object"&&R&&o(d,R))return R}return new h(!1)},ER}var CR,YX;function Wre(){if(YX)return CR;YX=1;var i=Kt(),e=TypeError;return CR=function(t,r){if(i(r,t))return t;throw new e("Incorrect invocation")},CR}var TR,UX;function gqe(){if(UX)return TR;UX=1;var i=fe(),e=Ht(),t=qre(),r=Ue(),n=lh(),s=Gre(),o=Wre(),a=Ei(),l=Bi(),c=sp(),u=ql(),h=mn().f,d=pa().forEach,f=Xt(),p=pp(),m=p.set,g=p.getterFor;return TR=function(v,y,_){var b=v.indexOf("Map")!==-1,w=v.indexOf("Weak")!==-1,S=b?"set":"add",E=e[v],x=E&&E.prototype,T={},R;if(!f||!a(E)||!(w||x.forEach&&!r(function(){new E().entries().next()})))R=_.getConstructor(y,v,b,S),t.enable();else{R=y(function($,F){m(o($,P),{type:v,collection:new E}),c(F)||s(F,$[S],{that:$,AS_ENTRIES:b})});var P=R.prototype,I=g(v);d(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function($){var F=$==="add"||$==="set";$ in x&&!(w&&$==="clear")&&n(P,$,function(W,N){var q=I(this).collection;if(!F&&w&&!l(W))return $==="get"?void 0:!1;var D=q[$](W===0?0:W,N);return F?this:D})}),w||h(P,"size",{configurable:!0,get:function(){return I(this).collection.size}})}return u(R,v,!1,!0),T[v]=R,i({global:!0,forced:!0},T),w||_.setStrong(R,v,b),R},TR}var OR,VX;function vqe(){if(VX)return OR;VX=1;var i=fp();return OR=function(e,t,r){for(var n in t)r&&r.unsafe&&e[n]?e[n]=t[n]:i(e,n,t[n],r);return e},OR}var RR,XX;function yqe(){if(XX)return RR;XX=1;var i=pn(),e=tA(),t=oi(),r=Xt(),n=t("species");return RR=function(s){var o=i(s);r&&o&&!o[n]&&e(o,n,{configurable:!0,get:function(){return this}})},RR}var PR,KX;function bqe(){if(KX)return PR;KX=1;var i=dp(),e=tA(),t=vqe(),r=ny(),n=Wre(),s=sp(),o=Gre(),a=iA(),l=rA(),c=yqe(),u=Xt(),h=qre().fastKey,d=pp(),f=d.set,p=d.getterFor;return PR={getConstructor:function(m,g,v,y){var _=m(function(x,T){n(x,b),f(x,{type:g,index:i(null),first:null,last:null,size:0}),u||(x.size=0),s(T)||o(T,x[y],{that:x,AS_ENTRIES:v})}),b=_.prototype,w=p(g),S=function(x,T,R){var P=w(x),I=E(x,T),$,F;return I?I.value=R:(P.last=I={index:F=h(T,!0),key:T,value:R,previous:$=P.last,next:null,removed:!1},P.first||(P.first=I),$&&($.next=I),u?P.size++:x.size++,F!=="F"&&(P.index[F]=I)),x},E=function(x,T){var R=w(x),P=h(T),I;if(P!=="F")return R.index[P];for(I=R.first;I;I=I.next)if(I.key===T)return I};return t(b,{clear:function(){for(var T=this,R=w(T),P=R.first;P;)P.removed=!0,P.previous&&(P.previous=P.previous.next=null),P=P.next;R.first=R.last=null,R.index=i(null),u?R.size=0:T.size=0},delete:function(x){var T=this,R=w(T),P=E(T,x);if(P){var I=P.next,$=P.previous;delete R.index[P.index],P.removed=!0,$&&($.next=I),I&&(I.previous=$),R.first===P&&(R.first=I),R.last===P&&(R.last=$),u?R.size--:T.size--}return!!P},forEach:function(T){for(var R=w(this),P=r(T,arguments.length>1?arguments[1]:void 0),I;I=I?I.next:R.first;)for(P(I.value,I.key,this);I&&I.removed;)I=I.previous},has:function(T){return!!E(this,T)}}),t(b,v?{get:function(T){var R=E(this,T);return R&&R.value},set:function(T,R){return S(this,T===0?0:T,R)}}:{add:function(T){return S(this,T=T===0?0:T,T)}}),u&&e(b,"size",{configurable:!0,get:function(){return w(this).size}}),_},setStrong:function(m,g,v){var y=g+" Iterator",_=p(g),b=p(y);a(m,g,function(w,S){f(this,{type:y,target:w,state:_(w),kind:S,last:null})},function(){for(var w=b(this),S=w.kind,E=w.last;E&&E.removed;)E=E.previous;return!w.target||!(w.last=E=E?E.next:w.state.first)?(w.target=null,l(void 0,!0)):l(S==="keys"?E.key:S==="values"?E.value:[E.key,E.value],!1)},v?"entries":"values",!v,!0),c(g)}},PR}var ZX;function _qe(){if(ZX)return $X;ZX=1;var i=gqe(),e=bqe();return i("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),$X}var QX;function wqe(){return QX||(QX=1,_qe()),NX}var JX={},DR,e6;function Gl(){if(e6)return DR;e6=1;var i=oh(),e=TypeError;return DR=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(i(t)+" is not a set")},DR}var IR,t6;function xqe(){return t6||(t6=1,IR=function(i,e){return e===1?function(t,r){return t[i](r)}:function(t,r,n){return t[i](r,n)}}),IR}var kR,i6;function Wl(){if(i6)return kR;i6=1;var i=pn(),e=xqe(),t=i("Set"),r=t.prototype;return kR={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},kR}var MR,r6;function Bl(){if(r6)return MR;r6=1;var i=xr();return MR=function(e,t,r){for(var n=r?e:e.iterator,s=e.next,o,a;!(o=i(s,n)).done;)if(a=t(o.value),a!==void 0)return a},MR}var AR,n6;function wp(){if(n6)return AR;n6=1;var i=Bl();return AR=function(e,t,r){return r?i(e.keys(),t,!0):e.forEach(t)},AR}var NR,s6;function AA(){if(s6)return NR;s6=1;var i=Wl(),e=wp(),t=i.Set,r=i.add;return NR=function(n){var s=new t;return e(n,function(o){r(s,o)}),s},NR}var $R,o6;function xp(){return o6||(o6=1,$R=function(i){return i.size}),$R}var FR,a6;function Sqe(){return a6||(a6=1,FR=function(i){return{iterator:i,next:i.next,done:!1}}),FR}var LR,l6;function zl(){if(l6)return LR;l6=1;var i=fa(),e=wo(),t=xr(),r=uh(),n=Sqe(),s="Invalid size",o=RangeError,a=TypeError,l=Math.max,c=function(u,h){this.set=u,this.size=l(h,0),this.has=i(u.has),this.keys=i(u.keys)};return c.prototype={getIterator:function(){return n(e(t(this.keys,this.set)))},includes:function(u){return t(this.has,this.set,u)}},LR=function(u){e(u);var h=+u.size;if(h!==h)throw new a(s);var d=r(h);if(d<0)throw new o(s);return new c(u,d)},LR}var qR,c6;function Eqe(){if(c6)return qR;c6=1;var i=Gl(),e=Wl(),t=AA(),r=xp(),n=zl(),s=wp(),o=Bl(),a=e.has,l=e.remove;return qR=function(u){var h=i(this),d=n(u),f=t(h);return r(h)<=d.size?s(h,function(p){d.includes(p)&&l(f,p)}):o(d.getIterator(),function(p){a(f,p)&&l(f,p)}),f},qR}var jR,u6;function Hl(){return u6||(u6=1,jR=function(){return!1}),jR}var h6;function Cqe(){if(h6)return JX;h6=1;var i=fe(),e=Eqe(),t=Ue(),r=Hl(),n=!r("difference",function(o){return o.size===0}),s=n||t(function(){var o={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var c=l++>1;return a.has(1)&&a.clear(),{done:c,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return i({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),JX}var d6={},GR,f6;function Tqe(){if(f6)return GR;f6=1;var i=Gl(),e=Wl(),t=xp(),r=zl(),n=wp(),s=Bl(),o=e.Set,a=e.add,l=e.has;return GR=function(u){var h=i(this),d=r(u),f=new o;return t(h)>d.size?s(d.getIterator(),function(p){l(h,p)&&a(f,p)}):n(h,function(p){d.includes(p)&&a(f,p)}),f},GR}var p6;function Oqe(){if(p6)return d6;p6=1;var i=fe(),e=Ue(),t=Tqe(),r=Hl(),n=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return i({target:"Set",proto:!0,real:!0,forced:n},{intersection:t}),d6}var m6={},WR,g6;function Rqe(){if(g6)return WR;g6=1;var i=Gl(),e=Wl().has,t=xp(),r=zl(),n=wp(),s=Bl(),o=MA();return WR=function(l){var c=i(this),u=r(l);if(t(c)<=u.size)return n(c,function(d){if(u.includes(d))return!1},!0)!==!1;var h=u.getIterator();return s(h,function(d){if(e(c,d))return o(h,"normal",!1)})!==!1},WR}var v6;function Pqe(){if(v6)return m6;v6=1;var i=fe(),e=Rqe(),t=Hl(),r=!t("isDisjointFrom",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),m6}var y6={},BR,b6;function Dqe(){if(b6)return BR;b6=1;var i=Gl(),e=xp(),t=wp(),r=zl();return BR=function(s){var o=i(this),a=r(s);return e(o)>a.size?!1:t(o,function(l){if(!a.includes(l))return!1},!0)!==!1},BR}var _6;function Iqe(){if(_6)return y6;_6=1;var i=fe(),e=Dqe(),t=Hl(),r=!t("isSubsetOf",function(n){return n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),y6}var w6={},zR,x6;function kqe(){if(x6)return zR;x6=1;var i=Gl(),e=Wl().has,t=xp(),r=zl(),n=Bl(),s=MA();return zR=function(a){var l=i(this),c=r(a);if(t(l)<c.size)return!1;var u=c.getIterator();return n(u,function(h){if(!e(l,h))return s(u,"normal",!1)})!==!1},zR}var S6;function Mqe(){if(S6)return w6;S6=1;var i=fe(),e=kqe(),t=Hl(),r=!t("isSupersetOf",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),w6}var E6={},HR,C6;function Aqe(){if(C6)return HR;C6=1;var i=Gl(),e=Wl(),t=AA(),r=zl(),n=Bl(),s=e.add,o=e.has,a=e.remove;return HR=function(c){var u=i(this),h=r(c).getIterator(),d=t(u);return n(h,function(f){o(u,f)?a(d,f):s(d,f)}),d},HR}var YR,T6;function Bre(){return T6||(T6=1,YR=function(i){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[i](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),YR}var O6;function Nqe(){if(O6)return E6;O6=1;var i=fe(),e=Aqe(),t=Bre(),r=Hl(),n=!r("symmetricDifference")||!t("symmetricDifference");return i({target:"Set",proto:!0,real:!0,forced:n},{symmetricDifference:e}),E6}var R6={},UR,P6;function $qe(){if(P6)return UR;P6=1;var i=Gl(),e=Wl().add,t=AA(),r=zl(),n=Bl();return UR=function(o){var a=i(this),l=r(o).getIterator(),c=t(a);return n(l,function(u){e(c,u)}),c},UR}var D6;function Fqe(){if(D6)return R6;D6=1;var i=fe(),e=$qe(),t=Bre(),r=Hl(),n=!r("union")||!t("union");return i({target:"Set",proto:!0,real:!0,forced:n},{union:e}),R6}var VR,I6;function Lqe(){if(I6)return VR;I6=1,nA(),wqe(),Cqe(),Oqe(),Pqe(),Iqe(),Mqe(),Nqe(),Fqe(),Fie();var i=Tt();return VR=i.Set,VR}var XR,k6;function qqe(){if(k6)return XR;k6=1;var i=Lqe();return sA(),XR=i,XR}var KR,M6;function jqe(){return M6||(M6=1,KR=qqe()),KR}var Gqe=jqe(),Pg=Ce(Gqe);const Cr=.001;function Wqe(i){bi(i).call(i,(e,t)=>e.data.start-t.data.start)}function Bqe(i){bi(i).call(i,(e,t)=>{const r="end"in e.data?e.data.end:e.data.start,n="end"in t.data?t.data.end:t.data.start;return r-n})}function A6(i,e,t,r){return NA(i,e.item,!1,s=>s.stack&&(t||s.top===null),s=>s.stack,()=>e.axis,r)===null}function zqe(i,e,t){const r=NA(i,e.item,!1,n=>n.stack,()=>!0,n=>n.baseTop);t.height=r-t.top+.5*e.item.vertical}function Hqe(i,e,t,r){for(let n=0;n<i.length;n++){if(i[n].data.subgroup==null){i[n].top=e.item.vertical;continue}if(i[n].data.subgroup===void 0||!r)continue;let s=0;for(const o in t)!Object.prototype.hasOwnProperty.call(t,o)||t[o].visible!==!0||t[o].index>=t[i[n].data.subgroup].index||(s+=t[o].height,t[i[n].data.subgroup].top=s);i[n].top=s+.5*e.item.vertical}r||Yqe(i,e,t)}function Yqe(i,e,t){var r;NA(bi(r=oA(t)).call(r,(n,s)=>n.index>s.index?1:n.index<s.index?-1:0),{vertical:0},!0,()=>!0,()=>!0,()=>0);for(let n=0;n<i.length;n++)i[n].data.subgroup!==void 0&&(i[n].top=t[i[n].data.subgroup].top+.5*e.item.vertical)}function N6(i,e,t){let r=!1;const n=[];for(let s in t)Object.prototype.hasOwnProperty.call(t[s],"index")?n[t[s].index]=s:n.push(s);for(let s=0;s<n.length;s++){let o=n[s];if(!Object.prototype.hasOwnProperty.call(t,o))continue;r=r||t[o].stack,t[o].top=0;for(const l in t)t[l].visible&&t[o].index>t[l].index&&(t[o].top+=t[l].height);const a=i[o];for(let l=0;l<a.length;l++)a[l].data.subgroup!==void 0&&(a[l].top=t[a[l].data.subgroup].top+.5*e.item.vertical,t[o].stack&&(a[l].baseTop=a[l].top));r&&t[o].stack&&zqe(i[o],e,t[o])}}function NA(i,e,t,r,n,s,o){let a=y=>y.start,l=y=>y.end;t||(!!(i[0]&&i[0].options.rtl)?a=_=>_.right:a=_=>_.left,l=_=>a(_)+_.width+e.horizontal);const c=[],u=[];let h=null,d=0;for(const y of i)if(r(y))c.push(y);else if(n(y)){const _=a(y);h!==null&&_<h-Cr&&(d=0),h=_,d=bm(u,b=>a(b)-Cr>_,d),mr(u).call(u,d,0,y),d++}h=null;let f=null;d=0;let p=0,m=0,g=0;for(;c.length>0;){var v;const y=c.shift();y.top=s(y);const _=a(y),b=l(y);h!==null&&_<h-Cr&&(p=0,m=0,d=0,f=null),(h===null||_>h+Cr)&&(p=bm(u,E=>_<l(E)-Cr,p)),h=_,(f===null||f<b-Cr)&&(m=bm(u,E=>b<a(E)-Cr,Math.max(p,m))),f!==null&&f-Cr>b&&(m=Vqe(u,E=>b+Cr>=a(E),p,m)+1),f=b;const w=bi(v=Xqe(u,E=>_<l(E)-Cr,p,m)).call(v,(E,x)=>E.top-x.top);for(let E=0;E<w.length;E++){const x=w[E];Uqe(y,x,e)&&(y.top=x.top+x.height+e.vertical)}n(y)&&(d=bm(u,E=>a(E)-Cr>_,d),mr(u).call(u,d,0,y),d<p&&p++,d<=m&&m++,d++);const S=y.top+y.height;if(S>g&&(g=S),o&&o())return null}return g}function Uqe(i,e,t){return i.top-t.vertical+Cr<e.top+e.height&&i.top+i.height+t.vertical-Cr>e.top}function bm(i,e,t){t||(t=0);for(let r=t;r<i.length;r++)if(e(i[r]))return r;return i.length}function Vqe(i,e,t,r){t||(t=0),r||(r=i.length);for(let n=r-1;n>=t;n--)if(e(i[n]))return n;return t-1}function Xqe(i,e,t,r){t||(t=0),r?r=Math.min(r,i.length):r=i.length;const n=[];for(let s=t;s<r;s++)e(i[s])&&n.push(i[s]);return n}const Kqe="__background__",$6={BACKGROUND:Kqe};class HD{constructor(e,t,r){if(this.groupId=e,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.subgroupVisibility={},this.doInnerStack=!1,this.shouldBailStackItems=!1,this.subgroupIndex=0,this.subgroupOrderer=t&&t.subgroupOrder,this.itemSet=r,this.isVisible=null,this.height=0,this.stackDirty=!0,this._disposeCallbacks=[],t&&t.nestedGroups&&(this.nestedGroups=t.nestedGroups,t.showNested==!1?this.showNested=!1:this.showNested=!0),t&&t.subgroupStack)if(typeof t.subgroupStack=="boolean")this.doInnerStack=t.subgroupStack,this.subgroupStackAll=t.subgroupStack;else for(const s in t.subgroupStack)Object.prototype.hasOwnProperty.call(t.subgroupStack,s)&&(this.subgroupStack[s]=t.subgroupStack[s],this.doInnerStack=this.doInnerStack||t.subgroupStack[s]);t&&t.heightMode?this.heightMode=t.heightMode:this.heightMode=r.options.groupHeightMode,this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;const n=()=>{this.checkRangedItems=!0};this.itemSet.body.emitter.on("checkRangedItems",n),this._disposeCallbacks.push(()=>{this.itemSet.body.emitter.off("checkRangedItems",n)}),this._create(),this.setData(t)}_create(){const e=document.createElement("div");this.itemSet.options.groupEditable.order?e.className="vis-label draggable":e.className="vis-label",this.dom.label=e;const t=document.createElement("div");t.className="vis-inner",e.appendChild(t),this.dom.inner=t;const r=document.createElement("div");r.className="vis-group",r["vis-group"]=this,this.dom.foreground=r,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)}setData(e){if(this.itemSet.groupTouchParams.isDragging)return;let t,r;if(e&&e.subgroupVisibility)for(const o in e.subgroupVisibility)Object.prototype.hasOwnProperty.call(e.subgroupVisibility,o)&&(this.subgroupVisibility[o]=e.subgroupVisibility[o]);if(this.itemSet.options&&this.itemSet.options.groupTemplate){var n;r=V(n=this.itemSet.options.groupTemplate).call(n,this),t=r(e,this.dom.inner)}else t=e&&e.content;if(t instanceof Element){for(;this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(t)}else t instanceof Object&&t.isReactComponent||(t instanceof Object?r(e,this.dom.inner):t!=null?this.dom.inner.innerHTML=k.xss(t):this.dom.inner.innerHTML=k.xss(this.groupId||""));this.dom.label.title=e&&e.title||"",this.dom.inner.firstChild?k.removeClassName(this.dom.inner,"vis-hidden"):k.addClassName(this.dom.inner,"vis-hidden"),e&&e.nestedGroups?((!this.nestedGroups||this.nestedGroups!=e.nestedGroups)&&(this.nestedGroups=e.nestedGroups),(e.showNested!==void 0||this.showNested===void 0)&&(e.showNested==!1?this.showNested=!1:this.showNested=!0),k.addClassName(this.dom.label,"vis-nesting-group"),this.showNested?(k.removeClassName(this.dom.label,"collapsed"),k.addClassName(this.dom.label,"expanded")):(k.removeClassName(this.dom.label,"expanded"),k.addClassName(this.dom.label,"collapsed"))):this.nestedGroups&&(this.nestedGroups=null,k.removeClassName(this.dom.label,"collapsed"),k.removeClassName(this.dom.label,"expanded"),k.removeClassName(this.dom.label,"vis-nesting-group")),e&&(e.treeLevel||e.nestedInGroup)?(k.addClassName(this.dom.label,"vis-nested-group"),e.treeLevel?k.addClassName(this.dom.label,"vis-group-level-"+e.treeLevel):k.addClassName(this.dom.label,"vis-group-level-unknown-but-gte1")):k.addClassName(this.dom.label,"vis-group-level-0");const s=e&&e.className||null;s!=this.className&&(this.className&&(k.removeClassName(this.dom.label,this.className),k.removeClassName(this.dom.foreground,this.className),k.removeClassName(this.dom.background,this.className),k.removeClassName(this.dom.axis,this.className)),k.addClassName(this.dom.label,s),k.addClassName(this.dom.foreground,s),k.addClassName(this.dom.background,s),k.addClassName(this.dom.axis,s),this.className=s),this.style&&(k.removeCssText(this.dom.label,this.style),this.style=null),e&&e.style&&(k.addCssText(this.dom.label,e.style),this.style=e.style)}getLabelWidth(){return this.props.label.width}_didMarkerHeightChange(){const e=this.dom.marker.clientHeight;if(e!=this.lastMarkerHeight){this.lastMarkerHeight=e;const t={};let r=0;if(le(k).call(k,this.items,(s,o)=>{s.dirty=!0,s.displayed&&(t[o]=s.redraw(!0),r=t[o].length)}),r>0)for(let s=0;s<r;s++)le(k).call(k,t,o=>{o[s]()});return!0}else return!1}_calculateGroupSizeAndPosition(){const{offsetTop:e,offsetLeft:t,offsetWidth:r}=this.dom.foreground;this.top=e,this.right=t,this.width=r}_shouldBailItemsRedraw(){const e=this,t=this.itemSet.options.onTimeout,r={relativeBailingTime:this.itemSet.itemsSettingTime,bailTimeMs:t&&t.timeoutMs,userBailFunction:t&&t.callback,shouldBailStackItems:this.shouldBailStackItems};let n=null;if(!this.itemSet.initialDrawDone){if(r.shouldBailStackItems)return!0;Math.abs(Dr()-new Date(r.relativeBailingTime))>r.bailTimeMs&&(r.userBailFunction&&this.itemSet.userContinueNotBail==null?r.userBailFunction(s=>{e.itemSet.userContinueNotBail=s,n=!s}):e.itemSet.userContinueNotBail==!1?n=!0:n=!1)}return n}_redrawItems(e,t,r,n){if(e||this.stackDirty||this.isVisible&&!t){var o,a,l,c,u,h;const v={byEnd:Ye(o=this.orderedItems.byEnd).call(o,w=>!w.isCluster),byStart:Ye(a=this.orderedItems.byStart).call(a,w=>!w.isCluster)},y={byEnd:[...new Pg(Ye(l=yi(c=this.orderedItems.byEnd).call(c,w=>w.cluster)).call(l,w=>!!w))],byStart:[...new Pg(Ye(u=yi(h=this.orderedItems.byStart).call(h,w=>w.cluster)).call(u,w=>!!w))]},_=()=>{var w,S;const E=this._updateItemsInRange(v,Ye(w=this.visibleItems).call(w,T=>!T.isCluster),n),x=this._updateClustersInRange(y,Ye(S=this.visibleItems).call(S,T=>T.isCluster),n);return[...E,...x]},b=w=>{let S={};for(const x in this.subgroups){var E;if(!Object.prototype.hasOwnProperty.call(this.subgroups,x))continue;const T=Ye(E=this.visibleItems).call(E,R=>R.data.subgroup===x);S[x]=w?bi(T).call(T,(R,P)=>w(R.data,P.data)):T}return S};if(typeof this.itemSet.options.order=="function"){const w=this;if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const S=b(this.itemSet.options.order);N6(S,r,this.subgroups),this.visibleItems=_(),this._updateSubGroupHeights(r)}else{var d,f,p,m;this.visibleItems=_(),this._updateSubGroupHeights(r);const S=bi(d=Ye(f=fh(p=this.visibleItems).call(p)).call(f,E=>E.isCluster||!E.isCluster&&!E.cluster)).call(d,(E,x)=>w.itemSet.options.order(E.data,x.data));this.shouldBailStackItems=A6(S,r,!0,V(m=this._shouldBailItemsRedraw).call(m,this))}}else if(this.visibleItems=_(),this._updateSubGroupHeights(r),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const w=b();N6(w,r,this.subgroups)}else{var g;this.shouldBailStackItems=A6(this.visibleItems,r,!0,V(g=this._shouldBailItemsRedraw).call(g,this))}else Hqe(this.visibleItems,r,this.subgroups,this.itemSet.options.stackSubgroups);for(let w=0;w<this.visibleItems.length;w++)this.visibleItems[w].repositionX(),this.subgroupVisibility[this.visibleItems[w].data.subgroup]!==void 0&&(this.subgroupVisibility[this.visibleItems[w].data.subgroup]||this.visibleItems[w].hide());this.itemSet.options.cluster&&le(k).call(k,this.items,w=>{w.cluster&&w.displayed&&w.hide()}),this.shouldBailStackItems&&this.itemSet.body.emitter.emit("destroyTimeline"),this.stackDirty=!1}}_didResize(e,t){e=k.updateProperty(this,"height",t)||e;const r=this.dom.inner.clientWidth,n=this.dom.inner.clientHeight;return e=k.updateProperty(this.props.label,"width",r)||e,e=k.updateProperty(this.props.label,"height",n)||e,e}_applyGroupHeight(e){this.dom.background.style.height="".concat(e,"px"),this.dom.foreground.style.height="".concat(e,"px"),this.dom.label.style.height="".concat(e,"px")}_updateItemsVerticalPosition(e){for(let t=0,r=this.visibleItems.length;t<r;t++){const n=this.visibleItems[t];n.repositionY(e),!this.isVisible&&this.groupId!=$6.BACKGROUND&&n.displayed&&n.hide()}}redraw(e,t,r,n){var s,o,a,l,c;let u=!1;const h=this.isVisible;let d;const f=[()=>{r=this._didMarkerHeightChange.call(this)||r},V(s=this._updateSubGroupHeights).call(s,this,t),V(o=this._calculateGroupSizeAndPosition).call(o,this),()=>{var p;this.isVisible=V(p=this._isGroupVisible).call(p,this)(e,t)},()=>{var p;V(p=this._redrawItems).call(p,this)(r,h,t,e)},V(a=this._updateSubgroupsSizes).call(a,this),()=>{var p;d=this.height=V(p=this._calculateHeight).call(p,this)(t)},V(l=this._calculateGroupSizeAndPosition).call(l,this),()=>{var p;u=V(p=this._didResize).call(p,this)(u,d)},()=>{var p;V(p=this._applyGroupHeight).call(p,this)(d)},()=>{var p;V(p=this._updateItemsVerticalPosition).call(p,this)(t)},V(c=()=>(!this.isVisible&&this.height&&(u=!1),u)).call(c,this)];if(n)return f;{let p;return le(f).call(f,m=>{p=m()}),p}}_updateSubGroupHeights(e){if(Ai(this.subgroups).length>0){const t=this;this._resetSubgroups(),le(k).call(k,this.visibleItems,r=>{r.data.subgroup!==void 0&&(t.subgroups[r.data.subgroup].height=Math.max(t.subgroups[r.data.subgroup].height,r.height+e.item.vertical),t.subgroups[r.data.subgroup].visible=typeof this.subgroupVisibility[r.data.subgroup]>"u"?!0:!!this.subgroupVisibility[r.data.subgroup])})}}_isGroupVisible(e,t){return this.top<=e.body.domProps.centerContainer.height-e.body.domProps.scrollTop+t.axis&&this.top+this.height+t.axis>=-e.body.domProps.scrollTop}_calculateHeight(e){let t,r;if(this.heightMode==="fixed"?r=k.toArray(this.items):r=this.visibleItems,!this.isVisible&&this.height)t=Math.max(this.height,this.props.label.height);else if(r.length>0){let n=r[0].top,s=r[0].top+r[0].height;if(le(k).call(k,r,o=>{n=Math.min(n,o.top),s=Math.max(s,o.top+o.height)}),n>e.axis){const o=n-e.axis;s-=o,le(k).call(k,r,a=>{a.top-=o})}t=Math.ceil(s+e.item.vertical/2),this.heightMode!=="fitItems"&&(t=Math.max(t,this.props.label.height))}else t=this.props.label.height;return t}show(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)}hide(){const e=this.dom.label;e.parentNode&&e.parentNode.removeChild(e);const t=this.dom.foreground;t.parentNode&&t.parentNode.removeChild(t);const r=this.dom.background;r.parentNode&&r.parentNode.removeChild(r);const n=this.dom.axis;n.parentNode&&n.parentNode.removeChild(n)}add(e){var t;if(this.items[e.id]=e,e.setParent(this),this.stackDirty=!0,e.data.subgroup!==void 0&&(this._addToSubgroup(e),this.orderSubgroups()),!Su(t=this.visibleItems).call(t,e)){const r=this.itemSet.body.range;this._checkIfVisible(e,this.visibleItems,r)}}_addToSubgroup(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.data.subgroup;t!=null&&this.subgroups[t]===void 0&&(this.subgroups[t]={height:0,top:0,start:e.data.start,end:e.data.end||e.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[t]||!1},this.subgroupIndex++),new Date(e.data.start)<new Date(this.subgroups[t].start)&&(this.subgroups[t].start=e.data.start);const r=e.data.end||e.data.start;new Date(r)>new Date(this.subgroups[t].end)&&(this.subgroups[t].end=r),this.subgroups[t].items.push(e)}_updateSubgroupsSizes(){const e=this;if(e.subgroups)for(const r in e.subgroups){var t;if(!Object.prototype.hasOwnProperty.call(e.subgroups,r))continue;const n=e.subgroups[r].items[0].data.end||e.subgroups[r].items[0].data.start;let s=e.subgroups[r].items[0].data.start,o=n-1;le(t=e.subgroups[r].items).call(t,a=>{new Date(a.data.start)<new Date(s)&&(s=a.data.start);const l=a.data.end||a.data.start;new Date(l)>new Date(o)&&(o=l)}),e.subgroups[r].start=s,e.subgroups[r].end=new Date(o-1)}}orderSubgroups(){if(this.subgroupOrderer!==void 0){const e=[];if(typeof this.subgroupOrderer=="string"){for(const t in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,t)&&e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});bi(e).call(e,(t,r)=>t.sortField-r.sortField)}else if(typeof this.subgroupOrderer=="function"){for(const t in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,t)&&e.push(this.subgroups[t].items[0].data);bi(e).call(e,this.subgroupOrderer)}if(e.length>0)for(let t=0;t<e.length;t++)this.subgroups[e[t].subgroup].index=t}}_resetSubgroups(){for(const e in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,e)&&(this.subgroups[e].visible=!1,this.subgroups[e].height=0)}remove(e){var t,r;delete this.items[e.id],e.setParent(null),this.stackDirty=!0;const n=gt(t=this.visibleItems).call(t,e);n!=-1&&mr(r=this.visibleItems).call(r,n,1),e.data.subgroup!==void 0&&(this._removeFromSubgroup(e),this.orderSubgroups())}_removeFromSubgroup(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.data.subgroup;if(t!=null){const s=this.subgroups[t];if(s){var r;const o=gt(r=s.items).call(r,e);if(o>=0){var n;mr(n=s.items).call(n,o,1),s.items.length?this._updateSubgroupsSizes():delete this.subgroups[t]}}}}removeFromDataSet(e){this.itemSet.removeItem(e.id)}order(){const e=k.toArray(this.items),t=[],r=[];for(let n=0;n<e.length;n++)e[n].data.end!==void 0&&r.push(e[n]),t.push(e[n]);this.orderedItems={byStart:t,byEnd:r},Wqe(this.orderedItems.byStart),Bqe(this.orderedItems.byEnd)}_updateItemsInRange(e,t,r){const n=[],s={};if(!this.isVisible&&this.height!==void 0&&this.groupId!=$6.BACKGROUND){for(let g=0;g<t.length;g++){var o=t[g];o.displayed&&o.hide()}return n}const a=(r.end-r.start)/4,l=r.start-a,c=r.end+a,u=g=>g<l?-1:g<=c?0:1,h=g=>{const{start:v,end:y}=g;return y<l?-1:v<=c?0:1};if(t.length>0)for(let g=0;g<t.length;g++)this._checkIfVisibleWithReference(t[g],n,s,r);const d=k.binarySearchCustom(e.byStart,u,"data","start");if(this._traceVisible(d,e.byStart,n,s,g=>g.data.start<l||g.data.start>c),this.checkRangedItems==!0){this.checkRangedItems=!1;for(let g=0;g<e.byEnd.length;g++)this._checkIfVisibleWithReference(e.byEnd[g],n,s,r)}else{const g=k.binarySearchCustom(e.byEnd,h,"data");this._traceVisible(g,e.byEnd,n,s,v=>v.data.end<l||v.data.start>c)}this._sortVisibleItems(e.byStart,n,s);const f={};let p=0;for(let g=0;g<n.length;g++){const v=n[g];v.displayed||(f[g]=v.redraw(!0),p=f[g].length)}if(p>0)for(let g=0;g<p;g++)le(k).call(k,f,v=>{v[g]()});for(let g=0;g<n.length;g++)n[g].repositionX();return n}_traceVisible(e,t,r,n,s){if(e!=-1){for(let o=e;o>=0;o--){let a=t[o];if(s(a))break;!(a.isCluster&&!a.hasItems())&&!a.cluster&&n[a.id]===void 0&&(n[a.id]=!0,r.unshift(a))}for(let o=e+1;o<t.length;o++){let a=t[o];if(s(a))break;!(a.isCluster&&!a.hasItems())&&!a.cluster&&n[a.id]===void 0&&(n[a.id]=!0,r.push(a))}}}_sortVisibleItems(e,t,r){t.length=0;for(let n=0;n<e.length;n++){let s=e[n];r[s.id]&&t.push(s)}}_checkIfVisible(e,t,r){e.isVisible(r)?(e.displayed||e.show(),e.repositionX(),t.push(e)):e.displayed&&e.hide()}_checkIfVisibleWithReference(e,t,r,n){e.isVisible(n)?r[e.id]===void 0&&(r[e.id]=!0,t.push(e)):e.displayed&&e.hide()}_updateClustersInRange(e,t,r){const n=[],s={};if(t.length>0)for(let u=0;u<t.length;u++)this._checkIfVisibleWithReference(t[u],n,s,r);for(let u=0;u<e.byStart.length;u++)this._checkIfVisibleWithReference(e.byStart[u],n,s,r);for(let u=0;u<e.byEnd.length;u++)this._checkIfVisibleWithReference(e.byEnd[u],n,s,r);const o={};let a=0;for(let u=0;u<n.length;u++){const h=n[u];h.displayed||(o[u]=h.redraw(!0),a=o[u].length)}if(a>0)for(var c=0;c<a;c++)le(k).call(k,o,function(u){u[c]()});for(let u=0;u<n.length;u++)n[u].repositionX();return n}changeSubgroup(e,t,r){this._removeFromSubgroup(e,t),this._addToSubgroup(e,r),this.orderSubgroups()}dispose(){this.hide();let e;for(;e=this._disposeCallbacks.pop();)e()}}class zre extends HD{constructor(e,t,r){super(e,t,r),this.width=0,this.height=0,this.top=0,this.left=0}redraw(e,t){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,e),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(let n=0,s=this.visibleItems.length;n<s;n++)this.visibleItems[n].repositionY(t);return!1}show(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)}}class mh{constructor(e,t,r){var n;this.id=null,this.parent=null,this.data=e,this.dom=null,this.conversion=t||{},this.defaultOptions={locales:Ou,locale:"en"},this.options=k.extend({},this.defaultOptions,r),this.options.locales=k.extend({},Ou,this.options.locales);const s=this.defaultOptions.locales[this.defaultOptions.locale];le(n=Ai(this.options.locales)).call(n,o=>{this.options.locales[o]=k.extend({},s,this.options.locales[o])}),this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.selectable=r&&r.selectable||!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.setSelectability(e),this.editable=null,this._updateEditStatus()}select(){this.selectable&&(this.selected=!0,this.dirty=!0,this.displayed&&this.redraw())}unselect(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()}setData(e){e.group!=null&&this.data.group!=e.group&&this.parent!=null&&this.parent.itemSet._moveToGroup(this,e.group),this.setSelectability(e),this.parent&&(this.parent.stackDirty=!0),e.subgroup!=null&&this.data.subgroup!=e.subgroup&&this.parent!=null&&this.parent.changeSubgroup(this,this.data.subgroup,e.subgroup),this.data=e,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()}setSelectability(e){e&&(this.selectable=typeof e.selectable>"u"?!0:!!e.selectable)}setParent(e){this.displayed?(this.hide(),this.parent=e,this.parent&&this.show()):this.parent=e}isVisible(){return!1}show(){return!1}hide(){return!1}redraw(){}repositionX(){}repositionY(){}_repaintDragCenter(){if(this.selected&&this.editable.updateTime&&!this.dom.dragCenter){var e,t;const r=this,n=document.createElement("div");n.className="vis-drag-center",n.dragCenterItem=this,this.hammerDragCenter=new Vi(n),this.hammerDragCenter.on("tap",s=>{r.parent.itemSet.body.emitter.emit("click",{event:s,item:r.id})}),this.hammerDragCenter.on("doubletap",s=>{s.stopPropagation(),r.parent.itemSet._onUpdateItem(r),r.parent.itemSet.body.emitter.emit("doubleClick",{event:s,item:r.id})}),this.hammerDragCenter.on("panstart",s=>{s.stopPropagation(),r.parent.itemSet._onDragStart(s)}),this.hammerDragCenter.on("panmove",V(e=r.parent.itemSet._onDrag).call(e,r.parent.itemSet)),this.hammerDragCenter.on("panend",V(t=r.parent.itemSet._onDragEnd).call(t,r.parent.itemSet)),this.hammerDragCenter.get("press").set({time:1e4}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(n,this.dom.dragLeft):this.dom.box.appendChild(n):this.dom.point&&this.dom.point.appendChild(n),this.dom.dragCenter=n}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null,this.hammerDragCenter&&(this.hammerDragCenter.destroy(),this.hammerDragCenter=null))}_repaintDeleteButton(e){const t=(this.options.editable.overrideItems||this.editable==null)&&this.options.editable.remove||!this.options.editable.overrideItems&&this.editable!=null&&this.editable.remove;if(this.selected&&t&&!this.dom.deleteButton){const r=this,n=document.createElement("div");this.options.rtl?n.className="vis-delete-rtl":n.className="vis-delete";let s=this.options.locales[this.options.locale];s||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),s=this.options.locales.en),n.title=s.deleteSelected,this.hammerDeleteButton=new Vi(n).on("tap",o=>{o.stopPropagation(),r.parent.removeFromDataSet(r)}),e.appendChild(n),this.dom.deleteButton=n}else(!this.selected||!t)&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null,this.hammerDeleteButton&&(this.hammerDeleteButton.destroy(),this.hammerDeleteButton=null))}_repaintOnItemUpdateTimeTooltip(e){if(!this.options.tooltipOnItemUpdateTime)return;const t=(this.options.editable.updateTime||this.data.editable===!0)&&this.data.editable!==!1;if(this.selected&&t&&!this.dom.onItemUpdateTimeTooltip){const n=document.createElement("div");n.className="vis-onUpdateTime-tooltip",e.appendChild(n),this.dom.onItemUpdateTimeTooltip=n}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.dom.onItemUpdateTimeTooltip.style.transform="translateX(-50%)",this.dom.onItemUpdateTimeTooltip.style.left="50%";const n=50,s=this.parent.itemSet.body.domProps.scrollTop;let o;this.options.orientation.item=="top"?o=this.top:o=this.parent.height-this.top-this.height,o+this.parent.top-n<-s?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top="".concat(this.height+2,"px")):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom="".concat(this.height+2,"px"));let l,c;if(this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template){var r;c=V(r=this.options.tooltipOnItemUpdateTime.template).call(r,this),l=c(this.data)}else l="start: ".concat(Nr(this.data.start).format("MM/DD/YYYY hh:mm")),this.data.end&&(l+="<br> end: ".concat(Nr(this.data.end).format("MM/DD/YYYY hh:mm")));this.dom.onItemUpdateTimeTooltip.innerHTML=k.xss(l)}}_getItemData(){return this.parent.itemSet.itemsData.get(this.id)}_updateContents(e){let t,r,n,s,o;const a=this._getItemData(),c=(this.dom.box||this.dom.point).getElementsByClassName("vis-item-visible-frame")[0];if(this.options.visibleFrameTemplate){var u;o=V(u=this.options.visibleFrameTemplate).call(u,this),s=k.xss(o(a,c))}else s="";if(c){if(s instanceof Object&&!(s instanceof Element))o(a,c);else if(r=this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(s),r){if(s instanceof Element)c.innerHTML="",c.appendChild(s);else if(s!=null)c.innerHTML=k.xss(s);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error('Property "content" missing in item '.concat(this.id));this.itemVisibleFrameContent=s}}if(this.options.template){var h;n=V(h=this.options.template).call(h,this),t=n(a,e,this.data)}else t=this.data.content;if(t instanceof Object&&!(t instanceof Element))n(a,e);else if(r=this._contentToString(this.content)!==this._contentToString(t),r){if(t instanceof Element)e.innerHTML="",e.appendChild(t);else if(t!=null)e.innerHTML=k.xss(t);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error('Property "content" missing in item '.concat(this.id));this.content=t}}_updateDataAttributes(e){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){let t=[];if(_t(this.options.dataAttributes))t=this.options.dataAttributes;else if(this.options.dataAttributes=="all")t=Ai(this.data);else return;for(const r of t){const n=this.data[r];n!=null?e.setAttribute("data-".concat(r),n):e.removeAttribute("data-".concat(r))}}}_updateStyle(e){this.style&&(k.removeCssText(e,this.style),this.style=null),this.data.style&&(k.addCssText(e,this.data.style),this.style=this.data.style)}_contentToString(e){return typeof e=="string"?e:e&&"outerHTML"in e?e.outerHTML:e}_updateEditStatus(){this.options&&(typeof this.options.editable=="boolean"?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:typeof this.options.editable=="object"&&(this.editable={},k.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),(!this.options||!this.options.editable||this.options.editable.overrideItems!==!0)&&this.data&&(typeof this.data.editable=="boolean"?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:typeof this.data.editable=="object"&&(this.editable={},k.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))}getWidthLeft(){return 0}getWidthRight(){return 0}getTitle(){if(this.options.tooltip&&this.options.tooltip.template){var e;return V(e=this.options.tooltip.template).call(e,this)(this._getItemData(),this.data)}return this.data.title}}mh.prototype.stack=!0;class Zqe extends mh{constructor(e,t,r){if(super(e,t,r),this.props={dot:{width:0,height:0},line:{width:0,height:0}},e&&e.start==null)throw new Error('Property "start" missing in item '.concat(e))}isVisible(e){if(this.cluster)return!1;let t;const r=this.data.align||this.options.align,n=this.width*e.getMillisecondsPerPixel();return r=="right"?t=this.data.start.getTime()>e.start&&this.data.start.getTime()-n<e.end:r=="left"?t=this.data.start.getTime()+n>e.start&&this.data.start.getTime()<e.end:t=this.data.start.getTime()+n/2>e.start&&this.data.start.getTime()-n/2<e.end,t}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){const t=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");t.appendChild(this.dom.dot)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box".concat(t),this.dom.line.className="vis-item vis-line".concat(t),this.dom.dot.className="vis-item vis-dot".concat(t)}}_getDomComponentsSizes(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=e.dot.height,this.props.dot.width=e.dot.width,this.props.line.width=e.line.width,this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)}redraw(e){var t,r,n,s;let o;const a=[V(t=this._createDomElement).call(t,this),V(r=this._appendDomElement).call(r,this),V(n=this._updateDirtyDomComponents).call(n,this),()=>{this.dirty&&(o=this._getDomComponentsSizes())},()=>{if(this.dirty){var l;V(l=this._updateDomComponentsSizes).call(l,this)(o)}},V(s=this._repaintDomAdditionals).call(s,this)];if(e)return a;{let l;return le(a).call(a,c=>{l=c()}),l}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom;e.box.remove?e.box.remove():e.box.parentNode&&e.box.parentNode.removeChild(e.box),e.line.remove?e.line.remove():e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.remove?e.dot.remove():e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot),this.displayed=!1}}repositionXY(){const e=this.options.rtl,t=function(r,n,s){var o;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(n===void 0&&s===void 0)return;const l=a?n*-1:n;if(s===void 0){r.style.transform="translateX(".concat(l,"px)");return}if(n===void 0){r.style.transform="translateY(".concat(s,"px)");return}r.style.transform=Jt(o="translate(".concat(l,"px, ")).call(o,s,"px)")};t(this.dom.box,this.boxX,this.boxY,e),t(this.dom.dot,this.dotX,this.dotY,e),t(this.dom.line,this.lineX,this.lineY,e)}repositionX(){const e=this.conversion.toScreen(this.data.start),t=this.data.align===void 0?this.options.align:this.data.align,r=this.props.line.width,n=this.props.dot.width;t=="right"?(this.boxX=e-this.width,this.lineX=e-r,this.dotX=e-r/2-n/2):t=="left"?(this.boxX=e,this.lineX=e,this.dotX=e+r/2-n/2):(this.boxX=e-this.width/2,this.lineX=this.options.rtl?e-r:e-r/2,this.dotX=e-n/2),this.options.rtl?this.right=this.boxX:this.left=this.boxX,this.repositionXY()}repositionY(){const e=this.options.orientation.item,t=this.dom.line.style;if(e=="top"){const r=this.parent.top+this.top+1;this.boxY=this.top||0,t.height="".concat(r,"px"),t.bottom="",t.top="0"}else{const n=this.parent.itemSet.props.height-this.parent.top-this.parent.height+this.top;this.boxY=this.parent.height-this.top-(this.height||0),t.height="".concat(n,"px"),t.top="",t.bottom="0"}this.dotY=-this.props.dot.height/2,this.repositionXY()}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}}class Qqe extends mh{constructor(e,t,r){if(super(e,t,r),this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},e&&e.start==null)throw new Error('Property "start" missing in item '.concat(e))}isVisible(e){if(this.cluster)return!1;const t=this.width*e.getMillisecondsPerPixel();return this.data.start.getTime()+t>e.start&&this.data.start<e.end}_createDomElement(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.point)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point".concat(t),this.dom.dot.className="vis-item vis-dot".concat(t)}}_getDomComponentsSizes(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}}_updateDomComponentsSizes(e){this.props.dot.width=e.dot.width,this.props.dot.height=e.dot.height,this.props.content.height=e.content.height,this.options.rtl?this.dom.content.style.marginRight="".concat(this.props.dot.width/2,"px"):this.dom.content.style.marginLeft="".concat(this.props.dot.width/2,"px"),this.width=e.point.width,this.height=e.point.height,this.dom.dot.style.top="".concat((this.height-this.props.dot.height)/2,"px");const t=this.props.dot.width,r=this.options.rtl?t/2:t/2*-1;this.dom.dot.style.transform="translateX(".concat(r,"px"),this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)}redraw(e){var t,r,n,s;let o;const a=[V(t=this._createDomElement).call(t,this),V(r=this._appendDomElement).call(r,this),V(n=this._updateDirtyDomComponents).call(n,this),()=>{this.dirty&&(o=this._getDomComponentsSizes())},()=>{if(this.dirty){var l;V(l=this._updateDomComponentsSizes).call(l,this)(o)}},V(s=this._repaintDomAdditionals).call(s,this)];if(e)return a;{let l;return le(a).call(a,c=>{l=c()}),l}}repositionXY(){const e=this.options.rtl;(function(r,n,s){var o;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(n===void 0&&s===void 0)return;const l=a?n*-1:n;if(s===void 0){r.style.transform="translateX(".concat(l,"px)");return}if(n===void 0){r.style.transform="translateY(".concat(s,"px)");return}r.style.transform=Jt(o="translate(".concat(l,"px, ")).call(o,s,"px)")})(this.dom.point,this.pointX,this.pointY,e)}show(e){if(!this.displayed)return this.redraw(e)}hide(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)}repositionX(){const e=this.conversion.toScreen(this.data.start);this.pointX=e,this.options.rtl?this.right=e-this.props.dot.width:this.left=e-this.props.dot.width,this.repositionXY()}repositionY(){this.options.orientation.item=="top"?this.pointY=this.top:this.pointY=this.parent.height-this.top-this.height,this.repositionXY()}getWidthLeft(){return this.props.dot.width}getWidthRight(){return this.props.dot.width}}class wl extends mh{constructor(e,t,r){if(super(e,t,r),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error('Property "start" missing in item '.concat(e.id));if(e.end==null)throw new Error('Property "end" missing in item '.concat(e.id))}}isVisible(e){return this.cluster?!1:this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+t,this.dom.content.style.maxWidth="none"}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.frame).overflow!=="hidden",this.whiteSpace=window.getComputedStyle(this.dom.content).whiteSpace!=="nowrap",{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=e.box.height,this.dom.content.style.maxWidth="",this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()}redraw(e){var t,r,n,s;let o;const a=[V(t=this._createDomElement).call(t,this),V(r=this._appendDomElement).call(r,this),V(n=this._updateDirtyDomComponents).call(n,this),()=>{if(this.dirty){var l;o=V(l=this._getDomComponentsSizes).call(l,this)()}},()=>{if(this.dirty){var l;V(l=this._updateDomComponentsSizes).call(l,this)(o)}},V(s=this._repaintDomAdditionals).call(s,this)];if(e)return a;{let l;return le(a).call(a,c=>{l=c()}),l}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom.box;e.parentNode&&e.parentNode.removeChild(e),this.displayed=!1}}repositionX(e){const t=this.parent.width;let r=this.conversion.toScreen(this.data.start),n=this.conversion.toScreen(this.data.end);const s=this.data.align===void 0?this.options.align:this.data.align;let o,a;this.data.limitSize!==!1&&(e===void 0||e===!0)&&(r<-t&&(r=-t),n>2*t&&(n=2*t));const l=Math.max(Math.round((n-r)*1e3)/1e3,1);switch(this.overflow?(this.options.rtl?this.right=r:this.left=r,this.width=l+this.props.content.width,a=this.props.content.width):(this.options.rtl?this.right=r:this.left=r,this.width=l,a=Math.min(n-r,this.props.content.width)),this.options.rtl?this.dom.box.style.transform="translateX(".concat(this.right*-1,"px)"):this.dom.box.style.transform="translateX(".concat(this.left,"px)"),this.dom.box.style.width="".concat(l,"px"),this.whiteSpace&&(this.height=this.dom.box.offsetHeight),s){case"left":this.dom.content.style.transform="translateX(0)";break;case"right":if(this.options.rtl){const c=Math.max(l-a,0)*-1;this.dom.content.style.transform="translateX(".concat(c,"px)")}else this.dom.content.style.transform="translateX(".concat(Math.max(l-a,0),"px)");break;case"center":if(this.options.rtl){const c=Math.max((l-a)/2,0)*-1;this.dom.content.style.transform="translateX(".concat(c,"px)")}else this.dom.content.style.transform="translateX(".concat(Math.max((l-a)/2,0),"px)");break;default:if(this.overflow?n>0?o=Math.max(-r,0):o=-a:r<0?o=-r:o=0,this.options.rtl){const c=o*-1;this.dom.content.style.transform="translateX(".concat(c,"px)")}else this.dom.content.style.transform="translateX(".concat(o,"px)")}}repositionY(){const e=this.options.orientation.item,t=this.dom.box;e=="top"?t.style.top="".concat(this.top,"px"):t.style.top="".concat(this.parent.height-this.top-this.height,"px")}_repaintDragLeft(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragLeft){const e=document.createElement("div");e.className="vis-drag-left",e.dragLeftItem=this,this.dom.box.appendChild(e),this.dom.dragLeft=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)}_repaintDragRight(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragRight){const e=document.createElement("div");e.className="vis-drag-right",e.dragRightItem=this,this.dom.box.appendChild(e),this.dom.dragRight=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)}}wl.prototype.baseClassName="vis-item vis-range";class Yl extends mh{constructor(e,t,r){if(super(e,t,r),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error('Property "start" missing in item '.concat(e.id));if(e.end==null)throw new Error('Property "end" missing in item '.concat(e.id))}}isVisible(e){return this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);const e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+e}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.content).overflow!=="hidden",{content:{width:this.dom.content.offsetWidth}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=0,this.dirty=!1}_repaintDomAdditionals(){}redraw(e){var t,r,n,s;let o;const a=[V(t=this._createDomElement).call(t,this),V(r=this._appendDomElement).call(r,this),V(n=this._updateDirtyDomComponents).call(n,this),()=>{if(this.dirty){var l;o=V(l=this._getDomComponentsSizes).call(l,this)()}},()=>{if(this.dirty){var l;V(l=this._updateDomComponentsSizes).call(l,this)(o)}},V(s=this._repaintDomAdditionals).call(s,this)];if(e)return a;{let l;return le(a).call(a,c=>{l=c()}),l}}repositionY(){let e;const t=this.options.orientation.item;if(this.data.subgroup!==void 0){const r=this.data.subgroup;this.dom.box.style.height="".concat(this.parent.subgroups[r].height,"px"),t=="top"?this.dom.box.style.top="".concat(this.parent.top+this.parent.subgroups[r].top,"px"):this.dom.box.style.top="".concat(this.parent.top+this.parent.height-this.parent.subgroups[r].top-this.parent.subgroups[r].height,"px"),this.dom.box.style.bottom=""}else this.parent instanceof zre?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom=t=="bottom"?"0":"",this.dom.box.style.top=t=="top"?"0":""):(e=this.parent.height,this.dom.box.style.top="".concat(this.parent.top,"px"),this.dom.box.style.bottom="");this.dom.box.style.height="".concat(e,"px")}}Yl.prototype.baseClassName="vis-item vis-background";Yl.prototype.stack=!1;Yl.prototype.show=wl.prototype.show;Yl.prototype.hide=wl.prototype.hide;Yl.prototype.repositionX=wl.prototype.repositionX;class Jqe{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=Ir(e),this.y=Ir(t)}setText(e){e instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(e)):this.frame.innerHTML=k.xss(e)}show(e){if(e===void 0&&(e=!0),e===!0){var t=this.frame.clientHeight,r=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth,o=0,a=0;if(this.overflowMethod=="flip"||this.overflowMethod=="none"){let l=!1,c=!0;this.overflowMethod=="flip"&&(this.y-t<this.padding&&(c=!1),this.x+r>s-this.padding&&(l=!0)),l?o=this.x-r:o=this.x,c?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>n&&(a=n-t-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+r+this.padding>s&&(o=s-r-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}}var F6={},L6;function eje(){if(L6)return F6;L6=1;var i=fe(),e=pa().every,t=hh(),r=t("every");return i({target:"Array",proto:!0,forced:!r},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),F6}var ZR,q6;function tje(){if(q6)return ZR;q6=1,eje();var i=Ci();return ZR=i("Array","every"),ZR}var QR,j6;function ije(){if(j6)return QR;j6=1;var i=Kt(),e=tje(),t=Array.prototype;return QR=function(r){var n=r.every;return r===t||i(t,r)&&n===t.every?e:n},QR}var JR,G6;function rje(){if(G6)return JR;G6=1;var i=ije();return JR=i,JR}var eP,W6;function nje(){return W6||(W6=1,eP=rje()),eP}var sje=nje(),oje=Ce(sje);class by extends mh{constructor(e,t,r){const n=pl({},{fitOnDoubleClick:!0},r,{editable:!1});if(super(e,t,n),this.props={content:{width:0,height:0}},!e||e.uiItems==null)throw new Error('Property "uiItems" missing in item '+e.id);this.id=Zc(),this.group=e.group,this._setupRange(),this.emitter=this.data.eventEmitter,this.range=this.data.range,this.attached=!1,this.isCluster=!0,this.data.isCluster=!0}hasItems(){return this.data.uiItems&&this.data.uiItems.length&&this.attached}setUiItems(e){this.detach(),this.data.uiItems=e,this._setupRange(),this.attach()}isVisible(e){const t=this.data.end?this.data.end-this.data.start:0,r=this.width*e.getMillisecondsPerPixel(),n=Math.max(this.data.start.getTime()+t,this.data.start.getTime()+r);return this.data.start<e.end&&n>e.start&&this.hasItems()}getData(){return{isCluster:!0,id:this.id,items:this.data.items||[],data:this.data}}redraw(e){var t,r,n,s,o,a,l,c=[V(t=this._createDomElement).call(t,this),V(r=this._appendDomElement).call(r,this),V(n=this._updateDirtyDomComponents).call(n,this),V(s=function(){this.dirty&&(l=this._getDomComponentsSizes())}).call(s,this),V(o=function(){if(this.dirty){var h;V(h=this._updateDomComponentsSizes).call(h,this)(l)}}).call(o,this),V(a=this._repaintDomAdditionals).call(a,this)];if(e)return c;var u;return le(c).call(c,function(h){u=h()}),u}show(){this.displayed||this.redraw()}hide(){if(this.displayed){var e=this.dom;e.box.parentNode&&e.box.parentNode.removeChild(e.box),this.options.showStipes&&(e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot)),this.displayed=!1}}repositionX(){let e=this.conversion.toScreen(this.data.start),t=this.data.end?this.conversion.toScreen(this.data.end):0;if(t)this.repositionXWithRanges(e,t);else{let r=this.data.align===void 0?this.options.align:this.data.align;this.repositionXWithoutRanges(e,r)}this.options.showStipes&&(this.dom.line.style.display=this._isStipeVisible()?"block":"none",this.dom.dot.style.display=this._isStipeVisible()?"block":"none",this._isStipeVisible()&&this.repositionStype(e,t))}repositionStype(e,t){this.dom.line.style.display="block",this.dom.dot.style.display="block";const r=this.dom.line.offsetWidth,n=this.dom.dot.offsetWidth;if(t){const s=r+e+(t-e)/2,o=s-n/2,a=this.options.rtl?s*-1:s,l=this.options.rtl?o*-1:o;this.dom.line.style.transform="translateX(".concat(a,"px)"),this.dom.dot.style.transform="translateX(".concat(l,"px)")}else{const s=this.options.rtl?e*-1:e,o=this.options.rtl?(e-n/2)*-1:e-n/2;this.dom.line.style.transform="translateX(".concat(s,"px)"),this.dom.dot.style.transform="translateX(".concat(o,"px)")}}repositionXWithoutRanges(e,t){t=="right"?this.options.rtl?(this.right=e-this.width,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width,this.dom.box.style.left=this.left+"px"):t=="left"?this.options.rtl?(this.right=e,this.dom.box.style.right=this.right+"px"):(this.left=e,this.dom.box.style.left=this.left+"px"):this.options.rtl?(this.right=e-this.width/2,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width/2,this.dom.box.style.left=this.left+"px")}repositionXWithRanges(e,t){let r=Math.round(Math.max(t-e+.5,1));this.options.rtl?this.right=e:this.left=e,this.width=Math.max(r,this.minWidth||0),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=r+"px"}repositionY(){var e=this.options.orientation.item,t=this.dom.box;if(e=="top"?t.style.top=(this.top||0)+"px":t.style.top=(this.parent.height-this.top-this.height||0)+"px",this.options.showStipes){if(e=="top")this.dom.line.style.top="0",this.dom.line.style.height=this.parent.top+this.top+1+"px",this.dom.line.style.bottom="";else{var r=this.parent.itemSet.props.height,n=r-this.parent.top-this.parent.height+this.top;this.dom.line.style.top=r-n+"px",this.dom.line.style.bottom="0"}this.dom.dot.style.top=-this.dom.dot.offsetHeight/2+"px"}}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}move(){this.repositionX(),this.repositionY()}attach(){var e;for(let t of this.data.uiItems)t.cluster=this;this.data.items=yi(e=this.data.uiItems).call(e,t=>t.data),this.attached=!0,this.dirty=!0}detach(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.hasItems()){for(let t of this.data.uiItems)delete t.cluster;this.attached=!1,e&&this.group&&(this.group.remove(this),this.group=null),this.data.items=[],this.dirty=!0}}_onDoubleClick(){this._fit()}_setupRange(){var e,t,r;const n=yi(e=this.data.uiItems).call(e,a=>({start:a.data.start.valueOf(),end:a.data.end?a.data.end.valueOf():a.data.start.valueOf()}));this.data.min=Math.min(...yi(n).call(n,a=>Math.min(a.start,a.end||a.start))),this.data.max=Math.max(...yi(n).call(n,a=>Math.max(a.start,a.end||a.start)));const s=yi(t=this.data.uiItems).call(t,a=>a.center),o=Lie(s).call(s,(a,l)=>a+l,0)/this.data.uiItems.length;Rre(r=this.data.uiItems).call(r,a=>a.data.end)?(this.data.start=new Date(this.data.min),this.data.end=new Date(this.data.max)):(this.data.start=new Date(o),this.data.end=null)}_getUiItems(){if(this.data.uiItems&&this.data.uiItems.length){var e;return Ye(e=this.data.uiItems).call(e,t=>t.cluster===this)}return[]}_createDomElement(){if(!this.dom){if(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.options.showStipes&&(this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-cluster-line",this.dom.line.style.display="none",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-cluster-dot",this.dom.dot.style.display="none"),this.options.fitOnDoubleClick){var e;this.dom.box.ondblclick=V(e=by.prototype._onDoubleClick).call(e,this)}this.dom.box["vis-item"]=this,this.dirty=!0}}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const r=this.parent.dom.foreground;if(!r)throw new Error("Cannot redraw item: parent has no foreground container element");r.appendChild(this.dom.box)}const e=this.parent.dom.background;if(this.options.showStipes){if(!this.dom.line.parentNode){if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var t=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");t.appendChild(this.dom.dot)}}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.baseClassName+" "+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+" vis-readonly";this.dom.box.className="vis-item "+e,this.options.showStipes&&(this.dom.line.className="vis-item vis-cluster-line "+(this.selected?" vis-selected":""),this.dom.dot.className="vis-item vis-cluster-dot "+(this.selected?" vis-selected":"")),this.data.end&&(this.dom.content.style.maxWidth="none")}}_getDomComponentsSizes(){const e={previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}};return this.options.showStipes&&(e.dot={height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},e.line={width:this.dom.line.offsetWidth}),e}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.data.end?this.minWidth=e.box.width:this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box)}_isStipeVisible(){return this.minWidth>=this.width||!this.data.end}_getFitRange(){const e=.05*(this.data.max-this.data.min)/2;return{fitStart:this.data.min-e,fitEnd:this.data.max+e}}_fit(){if(this.emitter){const{fitStart:e,fitEnd:t}=this._getFitRange(),r={start:new Date(e),end:new Date(t),animation:!0};this.emitter.emit("fit",r)}}_getItemData(){return this.data}}by.prototype.baseClassName="vis-item vis-range vis-cluster";const aje="__ungrouped__",lje={UNGROUPED:aje};class cje{constructor(e){this.itemSet=e,this.groups={},this.cache={},this.cache[-1]=[]}createClusterItem(e,t,r){return new by(e,t,r)}setItems(e,t){this.items=e||[],this.dataChanged=!0,this.applyOnChangedLevel=!1,t&&t.applyOnChangedLevel&&(this.applyOnChangedLevel=t.applyOnChangedLevel)}updateData(){this.dataChanged=!0,this.applyOnChangedLevel=!1}getClusters(e,t,r){let{maxItems:n,clusterCriteria:s}=typeof r=="boolean"?{}:r;s||(s=()=>!0),n=n||1;let o=-1,a=2,l=0;if(t>0){if(t>=1)return[];o=Math.abs(Math.round(Math.log(100/t)/Math.log(a))),l=Math.abs(Math.pow(a,o))}if(this.dataChanged){const u=o!=this.cacheLevel;(this.applyOnChangedLevel?u:!0)&&(this._dropLevelsCache(),this._filterData())}this.cacheLevel=o;let c=this.cache[o];if(!c){c=[];for(let u in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,u))continue;const h=this.groups[u],d=h.length;let f=0;for(;f<d;){let p=h[f],m=1,g=f-1;for(;g>=0&&p.center-h[g].center<l/2;)!h[g].cluster&&s(p.data,h[g].data)&&m++,g--;let v=f+1;for(;v<h.length&&h[v].center-p.center<l/2;)s(p.data,h[v].data)&&m++,v++;let y=c.length-1;for(;y>=0&&p.center-c[y].center<l;)p.group==c[y].group&&s(p.data,c[y].data)&&m++,y--;if(m>n){const _=m-n+1,b=[];let w=f;for(;b.length<_&&w<h.length;)s(h[f].data,h[w].data)&&b.push(h[w]),w++;const S=this.itemSet.getGroupId(p.data),E=this.itemSet.groups[S]||this.itemSet.groups[lje.UNGROUPED];let x=this._getClusterForItems(b,E,e,r);c.push(x),f+=_}else delete p.cluster,f+=1}}this.cache[o]=c}return c}_filterData(){const e={};this.groups=e;for(const r of oA(this.items)){const n=r.parent?r.parent.groupId:"";let s=e[n];s||(s=[],e[n]=s),s.push(r),r.data.start&&(r.data.end?r.center=(r.data.start.valueOf()+r.data.end.valueOf())/2:r.center=r.data.start.valueOf())}for(let r in e){var t;Object.prototype.hasOwnProperty.call(e,r)&&bi(t=e[r]).call(t,(n,s)=>n.center-s.center)}this.dataChanged=!1}_getClusterForItems(e,t,r,n){var s;const o=yi(s=r||[]).call(s,p=>{var m;return{cluster:p,itemsIds:new Pg(yi(m=p.data.uiItems).call(m,g=>g.id))}});let a;if(o.length){for(let p of o)if(p.itemsIds.size===e.length&&oje(e).call(e,m=>p.itemsIds.has(m.id))){a=p.cluster;break}}if(a)return a.setUiItems(e),a.group!==t&&(a.group&&a.group.remove(a),t&&(t.add(a),a.group=t)),a;let l=n.titleTemplate||"";const c={toScreen:this.itemSet.body.util.toScreen,toTime:this.itemSet.body.util.toTime},u=l.replace(/{count}/,e.length),h='<div title="'+u+'">'+e.length+"</div>",d=pl({},n,this.itemSet.options),f={content:h,title:u,group:t,uiItems:e,eventEmitter:this.itemSet.body.emitter,range:this.itemSet.body.range};return a=this.createClusterItem(f,c,d),t&&(t.add(a),a.group=t),a.attach(),a}_dropLevelsCache(){this.cache={},this.cacheLevel=-1,this.cache[this.cacheLevel]=[]}}const dc="__ungrouped__",ko="__background__";class Ru extends ma{constructor(e,t){super(),this.body=e,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap(n,s){const o=s.order;s.order=n.order,n.order=o},groupOrder:"order",selectable:!0,multiselect:!1,longSelectPressTime:251,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:_l.snap,onDropObjectOnItem(n,s,o){o(s)},onAdd(n,s){s(n)},onUpdate(n,s){s(n)},onMove(n,s){s(n)},onRemove(n,s){s(n)},onMoving(n,s){s(n)},onAddGroup(n,s){s(n)},onMoveGroup(n,s){s(n)},onRemoveGroup(n,s){s(n)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:500},tooltipOnItemUpdateTime:!1},this.options=k.extend({},this.defaultOptions),this.options.rtl=t.rtl,this.options.onTimeout=t.onTimeout,this.conversion={toScreen:e.util.toScreen,toTime:e.util.toTime},this.dom={},this.props={},this.hammer=null;const r=this;this.itemsData=null,this.groupsData=null,this.itemsSettingTime=null,this.initialItemSetDrawn=!1,this.userContinueNotBail=null,this.sequentialSelection=!1,this.itemListeners={add(n,s){r._onAdd(s.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()},update(n,s){r._onUpdate(s.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()},remove(n,s){r._onRemove(s.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()}},this.groupListeners={add(n,s,o){if(r._onAddGroups(s.items),r.groupsData&&r.groupsData.length>0){var a;const l=r.groupsData.getDataSet();le(a=l.get()).call(a,c=>{if(c.nestedGroups){var u;c.showNested!=!1&&(c.showNested=!0);let h=[];le(u=c.nestedGroups).call(u,d=>{const f=l.get(d);f&&(f.nestedInGroup=c.id,c.showNested==!1&&(f.visible=!1),h=Jt(h).call(h,f))}),l.update(h,o)}})}},update(n,s){r._onUpdateGroups(s.items)},remove(n,s){r._onRemoveGroups(s.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.popupTimer=null,this.touchParams={},this.groupTouchParams={group:null,isDragging:!1},this._create(),this.setOptions(t),this.clusters=[]}_create(){var e,t,r,n,s,o,a,l,c,u,h,d,f,p,m;const g=document.createElement("div");g.className="vis-itemset",g["vis-itemset"]=this,this.dom.frame=g;const v=document.createElement("div");v.className="vis-background",g.appendChild(v),this.dom.background=v;const y=document.createElement("div");y.className="vis-foreground",g.appendChild(y),this.dom.foreground=y;const _=document.createElement("div");_.className="vis-axis",this.dom.axis=_;const b=document.createElement("div");b.className="vis-labelset",this.dom.labelSet=b,this._updateUngrouped();const w=new zre(ko,null,this);w.show(),this.groups[ko]=w,this.hammer=new Vi(this.body.dom.centerContainer),this.hammer.on("hammer.input",S=>{S.isFirst&&this._onTouch(S)}),this.hammer.on("panstart",V(e=this._onDragStart).call(e,this)),this.hammer.on("panmove",V(t=this._onDrag).call(t,this)),this.hammer.on("panend",V(r=this._onDragEnd).call(r,this)),this.hammer.get("pan").set({threshold:5,direction:Vi.ALL}),this.hammer.get("press").set({time:1e4}),this.hammer.on("tap",V(n=this._onSelectItem).call(n,this)),this.hammer.on("press",V(s=this._onMultiSelectItem).call(s,this)),this.hammer.get("press").set({time:1e4}),this.hammer.on("doubletap",V(o=this._onAddItem).call(o,this)),this.options.rtl?this.groupHammer=new Vi(this.body.dom.rightContainer):this.groupHammer=new Vi(this.body.dom.leftContainer),this.groupHammer.on("tap",V(a=this._onGroupClick).call(a,this)),this.groupHammer.on("panstart",V(l=this._onGroupDragStart).call(l,this)),this.groupHammer.on("panmove",V(c=this._onGroupDrag).call(c,this)),this.groupHammer.on("panend",V(u=this._onGroupDragEnd).call(u,this)),this.groupHammer.get("pan").set({threshold:5,direction:Vi.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",V(h=this._onMouseOver).call(h,this)),this.body.dom.centerContainer.addEventListener("mouseout",V(d=this._onMouseOut).call(d,this)),this.body.dom.centerContainer.addEventListener("mousemove",V(f=this._onMouseMove).call(f,this)),this.body.dom.centerContainer.addEventListener("contextmenu",V(p=this._onDragEnd).call(p,this)),this.body.dom.centerContainer.addEventListener("mousewheel",V(m=this._onMouseWheel).call(m,this)),this.show()}setOptions(e){if(e){var t,r;const n=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","sequentialSelection","multiselectPerGroup","longSelectPressTime","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime","groupHeightMode","onTimeout"];k.selectiveExtend(n,this.options,e),"itemsAlwaysDraggable"in e&&(typeof e.itemsAlwaysDraggable=="boolean"?(this.options.itemsAlwaysDraggable.item=e.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):typeof e.itemsAlwaysDraggable=="object"&&(k.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,e.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"sequentialSelection"in e&&typeof e.sequentialSelection=="boolean"&&(this.options.sequentialSelection=e.sequentialSelection),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.item=e.orientation==="top"?"top":"bottom":typeof e.orientation=="object"&&"item"in e.orientation&&(this.options.orientation.item=e.orientation.item)),"margin"in e&&(typeof e.margin=="number"?(this.options.margin.axis=e.margin,this.options.margin.item.horizontal=e.margin,this.options.margin.item.vertical=e.margin):typeof e.margin=="object"&&(k.selectiveExtend(["axis"],this.options.margin,e.margin),"item"in e.margin&&(typeof e.margin.item=="number"?(this.options.margin.item.horizontal=e.margin.item,this.options.margin.item.vertical=e.margin.item):typeof e.margin.item=="object"&&k.selectiveExtend(["horizontal","vertical"],this.options.margin.item,e.margin.item)))),le(t=["locale","locales"]).call(t,o=>{o in e&&(this.options[o]=e[o])}),"editable"in e&&(typeof e.editable=="boolean"?(this.options.editable.updateTime=e.editable,this.options.editable.updateGroup=e.editable,this.options.editable.add=e.editable,this.options.editable.remove=e.editable,this.options.editable.overrideItems=!1):typeof e.editable=="object"&&k.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,e.editable)),"groupEditable"in e&&(typeof e.groupEditable=="boolean"?(this.options.groupEditable.order=e.groupEditable,this.options.groupEditable.add=e.groupEditable,this.options.groupEditable.remove=e.groupEditable):typeof e.groupEditable=="object"&&k.selectiveExtend(["order","add","remove"],this.options.groupEditable,e.groupEditable));const s=o=>{const a=e[o];if(a){if(typeof a!="function"){var l;throw new Error(Jt(l="option ".concat(o," must be a function ")).call(l,o,"(item, callback)"))}this.options[o]=a}};le(r=["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"]).call(r,s),e.cluster?(pl(this.options,{cluster:e.cluster}),this.clusterGenerator||(this.clusterGenerator=new cje(this)),this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.clusterGenerator?(this._detachAllClusters(),this.clusters=[],this.clusterGenerator=null,this.options.cluster=void 0,this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.markDirty()}}markDirty(e){this.groupIds=[],e&&(e.refreshItems&&le(k).call(k,this.items,t=>{t.dirty=!0,t.displayed&&t.redraw()}),e.restackGroups&&le(k).call(k,this.groups,(t,r)=>{r!==ko&&(t.stackDirty=!0)}))}destroy(){this.clearPopupTimer(),this.hide(),this.setItems(null),this.setGroups(null),this.hammer&&this.hammer.destroy(),this.groupHammer&&this.groupHammer.destroy(),this.hammer=null,this.body=null,this.conversion=null}hide(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)}show(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))}setPopupTimer(e){if(this.clearPopupTimer(),e){const t=this.options.tooltip.delay||typeof this.options.tooltip.delay=="number"?this.options.tooltip.delay:500;this.popupTimer=Lr(function(){e.show()},t)}}clearPopupTimer(){this.popupTimer!=null&&(clearTimeout(this.popupTimer),this.popupTimer=null)}setSelection(e){var t;e==null&&(e=[]),_t(e)||(e=[e]);const r=Ye(t=this.selection).call(t,n=>gt(e).call(e,n)===-1);for(let n of r){const s=this.getItemById(n);s&&s.unselect()}this.selection=[...e];for(let n of e){const s=this.getItemById(n);s&&s.select()}}getSelection(){var e;return Jt(e=this.selection).call(e,[])}getVisibleItems(){const e=this.body.range.getRange();let t,r;this.options.rtl?(t=this.body.util.toScreen(e.start),r=this.body.util.toScreen(e.end)):(r=this.body.util.toScreen(e.start),t=this.body.util.toScreen(e.end));const n=[];for(const s in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,s))continue;const o=this.groups[s],a=o.isVisible?o.visibleItems:[];for(const l of a)this.options.rtl?l.right<r&&l.right+l.width>t&&n.push(l.id):l.left<t&&l.left+l.width>r&&n.push(l.id)}return n}getItemsAtCurrentTime(e){let t,r;this.options.rtl?(t=this.body.util.toScreen(e),r=this.body.util.toScreen(e)):(r=this.body.util.toScreen(e),t=this.body.util.toScreen(e));const n=[];for(const s in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,s))continue;const o=this.groups[s],a=o.isVisible?o.visibleItems:[];for(const l of a)this.options.rtl?l.right<r&&l.right+l.width>t&&n.push(l.id):l.left<t&&l.left+l.width>r&&n.push(l.id)}return n}getVisibleGroups(){const e=[];for(const t in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,t))continue;this.groups[t].isVisible&&e.push(t)}return e}getItemById(e){var t;return this.items[e]||uqe(t=this.clusters).call(t,r=>r.id===e)}_deselect(e){const t=this.selection;for(let r=0,n=t.length;r<n;r++)if(t[r]==e){mr(t).call(t,r,1);break}}redraw(){const e=this.options.margin,t=this.body.range,r=k.option.asSize,n=this.options,s=n.orientation.item;let o=!1;const a=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,a.className="vis-itemset",this.options.cluster&&this._clusterItems(),o=this._orderGroups()||o;const l=t.end-t.start,c=l!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,u=t.start!=this.lastRangeStart,h=n.stack!=this.lastStack,d=n.stackSubgroups!=this.lastStackSubgroups,f=c||u||h||d;this.lastVisibleInterval=l,this.lastRangeStart=t.start,this.lastStack=n.stack,this.lastStackSubgroups=n.stackSubgroups,this.props.lastWidth=this.props.width;const p=this._firstGroup(),m={item:e.item,axis:e.axis},g={item:e.item,axis:e.item.vertical/2};let v=0;const y=e.axis+e.item.vertical;this.groups[ko].redraw(t,g,f);const _={};let b=0;if(le(k).call(k,this.groups,(S,E)=>{if(E===ko)return;const x=S==p?m:g,T=!0;_[E]=S.redraw(t,x,f,T),b=_[E].length}),b>0){const S={};for(let E=0;E<b;E++)le(k).call(k,_,(x,T)=>{S[T]=x[E]()});le(k).call(k,this.groups,(E,x)=>{if(x===ko)return;o=S[x]||o,v+=E.height}),v=Math.max(v,y)}return v=Math.max(v,y),a.style.height=r(v),this.props.width=a.offsetWidth,this.props.height=v,this.dom.axis.style.top=r(s=="top"?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.initialItemSetDrawn=!0,o=this._isResized()||o,o}_firstGroup(){const e=this.options.orientation.item=="top"?0:this.groupIds.length-1,t=this.groupIds[e];return this.groups[t]||this.groups[dc]||null}_updateUngrouped(){let e=this.groups[dc],t,r;if(this.groupsData){if(e){e.dispose(),delete this.groups[dc];for(r in this.items){if(!Object.prototype.hasOwnProperty.call(this.items,r))continue;t=this.items[r],t.parent&&t.parent.remove(t);const n=this.getGroupId(t.data),s=this.groups[n];s&&s.add(t)||t.hide()}}}else if(!e){e=new HD(null,null,this),this.groups[dc]=e;for(r in this.items)Object.prototype.hasOwnProperty.call(this.items,r)&&(t=this.items[r],e.add(t));e.show()}}getLabelSet(){return this.dom.labelSet}setItems(e){this.itemsSettingTime=new Date;const t=this;let r;const n=this.itemsData;if(!e)this.itemsData=null;else if(bl(e))this.itemsData=Eg(e);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(n&&(le(k).call(k,this.itemListeners,(s,o)=>{n.off(o,s)}),n.dispose(),r=n.getIds(),this._onRemove(r)),this.itemsData){const s=this.id;le(k).call(k,this.itemListeners,(o,a)=>{t.itemsData.on(a,o,s)}),r=this.itemsData.getIds(),this._onAdd(r),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})}getItems(){return this.itemsData!=null?this.itemsData.rawDS:null}setGroups(e){const t=this;let r;if(this.groupsData&&(le(k).call(k,this.groupListeners,(s,o)=>{t.groupsData.off(o,s)}),r=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(r)),!e)this.groupsData=null;else if(bl(e))this.groupsData=e;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){var n;const s=this.groupsData.getDataSet();le(n=s.get()).call(n,a=>{if(a.nestedGroups){var l;le(l=a.nestedGroups).call(l,c=>{const u=s.get(c);u.nestedInGroup=a.id,a.showNested==!1&&(u.visible=!1),s.update(u)})}});const o=this.id;le(k).call(k,this.groupListeners,(a,l)=>{t.groupsData.on(l,a,o)}),r=this.groupsData.getIds(),this._onAddGroups(r)}this._updateUngrouped(),this._order(),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems(),this.markDirty({refreshItems:!0,restackGroups:!0})),this.body.emitter.emit("_change",{queue:!0})}getGroups(){return this.groupsData}removeItem(e){const t=this.itemsData.get(e);t&&this.options.onRemove(t,r=>{r&&this.itemsData.remove(e)})}_getType(e){return e.type||this.options.type||(e.end?"range":"box")}getGroupId(e){return this._getType(e)=="background"&&e.group==null?ko:this.groupsData?e.group:dc}_onUpdate(e){const t=this;le(e).call(e,r=>{const n=t.itemsData.get(r);let s=t.items[r];const o=n?t._getType(n):null,a=Ru.types[o];let l;if(s&&(!a||!(s instanceof a)?(l=s.selected,t._removeItem(s),s=null):t._updateItem(s,n)),!s&&n)if(a)s=new a(n,t.conversion,t.options),s.id=r,t._addItem(s),l&&(this.selection.push(r),s.select());else throw new TypeError('Unknown item type "'.concat(o,'"'))}),this._order(),this.options.cluster&&(this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this._clusterItems()),this.body.emitter.emit("_change",{queue:!0})}_onRemove(e){let t=0;const r=this;le(e).call(e,n=>{const s=r.items[n];s&&(t++,r._removeItem(s))}),t&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))}_order(){le(k).call(k,this.groups,e=>{e.order()})}_onUpdateGroups(e){this._onAddGroups(e)}_onAddGroups(e){const t=this;le(e).call(e,r=>{const n=t.groupsData.get(r);let s=t.groups[r];if(s)s.setData(n);else{if(r==dc||r==ko)throw new Error("Illegal group id. ".concat(r," is a reserved id."));const o=fy(t.options);k.extend(o,{height:null}),s=new HD(r,n,t),t.groups[r]=s;for(const a in t.items){if(!Object.prototype.hasOwnProperty.call(t.items,a))continue;const l=t.items[a];l.data.group==r&&s.add(l)}s.order(),s.show()}}),this.body.emitter.emit("_change",{queue:!0})}_onRemoveGroups(e){le(e).call(e,t=>{const r=this.groups[t];r&&(r.dispose(),delete this.groups[t])}),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems()),this.markDirty({restackGroups:!!this.options.cluster}),this.body.emitter.emit("_change",{queue:!0})}_orderGroups(){if(this.groupsData){let e=this.groupsData.getIds({order:this.options.groupOrder});e=this._orderNestedGroups(e);const t=!k.equalArray(e,this.groupIds);if(t){const r=this.groups;le(e).call(e,n=>{r[n].hide()}),le(e).call(e,n=>{r[n].show()}),this.groupIds=e}return t}else return!1}_orderNestedGroups(e){function t(n,s){let o=[];return le(s).call(s,a=>{if(o.push(a),n.groupsData.get(a).nestedGroups){var c;const u=yi(c=n.groupsData.get({filter(h){return h.nestedInGroup==a},order:n.options.groupOrder})).call(c,h=>h.id);o=Jt(o).call(o,t(n,u))}}),o}const r=Ye(e).call(e,n=>!this.groupsData.get(n).nestedInGroup);return t(this,r)}_addItem(e){this.items[e.id]=e;const t=this.getGroupId(e.data),r=this.groups[t];r?r&&r.data&&r.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1,r&&r.add(e)}_updateItem(e,t){e.setData(t);const r=this.getGroupId(e.data),n=this.groups[r];n?n&&n.data&&n.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1}_removeItem(e){var t,r;e.hide(),delete this.items[e.id];const n=gt(t=this.selection).call(t,e.id);n!=-1&&mr(r=this.selection).call(r,n,1),e.parent&&e.parent.remove(e),this.popup!=null&&this.popup.hide()}_constructByEndArray(e){const t=[];for(let r=0;r<e.length;r++)e[r]instanceof wl&&t.push(e[r]);return t}_onTouch(e){this.touchParams.item=this.itemFromTarget(e),this.touchParams.dragLeftItem=e.target.dragLeftItem||!1,this.touchParams.dragRightItem=e.target.dragRightItem||!1,this.touchParams.itemProps=null}_getGroupIndex(e){for(let t=0;t<this.groupIds.length;t++)if(e==this.groupIds[t])return t}_onDragStart(e){if(this.touchParams.itemIsDragging)return;const t=this.touchParams.item||null,r=this;let n;if(t&&(t.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup||t.editable!=null&&!t.editable.updateTime&&!t.editable.updateGroup&&!this.options.editable.overrideItems)return;const s=this.touchParams.dragLeftItem,o=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=t,s)n={item:s,initialX:e.center.x,dragLeft:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[n];else if(o)n={item:o,initialX:e.center.x,dragRight:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[n];else if(this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey))this._onDragStartAddItem(e);else{this.groupIds.length<1&&this.redraw();const a=this._getGroupIndex(t.data.group),l=this.options.itemsAlwaysDraggable.item&&!t.selected?[t.id]:this.getSelection();this.touchParams.itemProps=yi(l).call(l,c=>{const u=r.items[c],h=r._getGroupIndex(u.data.group);return{item:u,initialX:e.center.x,groupOffset:a-h,data:this._cloneItemData(u.data)}})}e.stopPropagation()}else this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey)&&this._onDragStartAddItem(e)}_onDragStartAddItem(e){const t=this.options.snap||null,r=this.dom.frame.getBoundingClientRect(),n=this.options.rtl?r.right-e.center.x+10:e.center.x-r.left-10,s=this.body.util.toTime(n),o=this.body.util.getScale(),a=this.body.util.getStep(),l=t?t(s,o,a):s,u={type:"range",start:l,end:l,content:"new item"},h=Zc();u[this.itemsData.idProp]=h;const d=this.groupFromTarget(e);d&&(u.group=d.groupId);const f=new wl(u,this.conversion,this.options);f.id=h,f.data=this._cloneItemData(u),this._addItem(f),this.touchParams.selectedItem=f;const p={item:f,initialX:e.center.x,data:f.data};this.options.rtl?p.dragLeft=!0:p.dragRight=!0,this.touchParams.itemProps=[p],e.stopPropagation()}_onDrag(e){if(this.popup!=null&&this.options.showTooltips&&!this.popup.hidden){const r=this.body.dom.centerContainer,n=r.getBoundingClientRect();this.popup.setPosition(e.center.x-n.left+r.offsetLeft,e.center.y-n.top+r.offsetTop),this.popup.show()}if(this.touchParams.itemProps){var t;e.stopPropagation();const r=this,n=this.options.snap||null,s=this.body.dom.root.offsetLeft,o=this.options.rtl?s+this.body.domProps.right.width:s+this.body.domProps.left.width,a=this.body.util.getScale(),l=this.body.util.getStep(),c=this.touchParams.selectedItem,u=(this.options.editable.overrideItems||c.editable==null)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&c.editable!=null&&c.editable.updateGroup;let h=null;if(u&&c&&c.data.group!=null){const d=r.groupFromTarget(e);d&&(h=this._getGroupIndex(d.groupId))}le(t=this.touchParams.itemProps).call(t,d=>{const f=r.body.util.toTime(e.center.x-o),p=r.body.util.toTime(d.initialX-o);let m,g,v,y,_;this.options.rtl?m=-(f-p):m=f-p;let b=this._cloneItemData(d.item.data);if(d.item.editable!=null&&!d.item.editable.updateTime&&!d.item.editable.updateGroup&&!r.options.editable.overrideItems)return;if((this.options.editable.overrideItems||c.editable==null)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&c.editable!=null&&c.editable.updateTime){if(d.dragLeft)this.options.rtl?b.end!=null&&(v=k.convert(d.data.end,"Date"),_=new Date(v.valueOf()+m),b.end=n?n(_,a,l):_):b.start!=null&&(g=k.convert(d.data.start,"Date"),y=new Date(g.valueOf()+m),b.start=n?n(y,a,l):y);else if(d.dragRight)this.options.rtl?b.start!=null&&(g=k.convert(d.data.start,"Date"),y=new Date(g.valueOf()+m),b.start=n?n(y,a,l):y):b.end!=null&&(v=k.convert(d.data.end,"Date"),_=new Date(v.valueOf()+m),b.end=n?n(_,a,l):_);else if(b.start!=null)if(g=k.convert(d.data.start,"Date").valueOf(),y=new Date(g+m),b.end!=null){v=k.convert(d.data.end,"Date");const S=v.valueOf()-g.valueOf();b.start=n?n(y,a,l):y,b.end=new Date(b.start.valueOf()+S)}else b.start=n?n(y,a,l):y}if(u&&!d.dragLeft&&!d.dragRight&&h!=null&&b.group!=null){let S=h-d.groupOffset;S=Math.max(0,S),S=Math.min(r.groupIds.length-1,S),b.group=r.groupIds[S]}b=this._cloneItemData(b),r.options.onMoving(b,S=>{S&&d.item.setData(this._cloneItemData(S,"Date"))})}),this.body.emitter.emit("_change")}}_moveToGroup(e,t){const r=this.groups[t];if(r&&r.groupId!=e.data.group){const n=e.parent;n.remove(e),n.order(),e.data.group=r.groupId,r.add(e),r.order()}}_onDragEnd(e){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){e.stopPropagation();const t=this,r=this.touchParams.itemProps;this.touchParams.itemProps=null,le(r).call(r,n=>{const s=n.item.id;if(!(t.itemsData.get(s)!=null))t.options.onAdd(n.item.data,a=>{t._removeItem(n.item),a&&t.itemsData.add(a),t.body.emitter.emit("_change")});else{const a=this._cloneItemData(n.item.data);t.options.onMove(a,l=>{l?(l[this.itemsData.idProp]=s,this.itemsData.update(l)):(n.item.setData(n.data),t.body.emitter.emit("_change"))})}})}}_onGroupClick(e){const t=this.groupFromTarget(e);Lr(()=>{this.toggleGroupShowNested(t)},1)}toggleGroupShowNested(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(!e||!e.nestedGroups)return;const r=this.groupsData.getDataSet();t!=null?e.showNested=!!t:e.showNested=!e.showNested;let n=r.get(e.groupId);n.showNested=e.showNested;let s=e.nestedGroups,o=s;for(;o.length>0;){let u=o;o=[];for(let h=0;h<u.length;h++){let d=r.get(u[h]);d.nestedGroups&&(o=Jt(o).call(o,d.nestedGroups))}o.length>0&&(s=Jt(s).call(s,o))}var a;if(n.showNested){var l=r.get(n.nestedGroups);for(let u=0;u<l.length;u++){let h=l[u];h.nestedGroups&&h.nestedGroups.length>0&&(h.showNested==null||h.showNested==!0)&&l.push(...r.get(h.nestedGroups))}a=yi(l).call(l,function(u){return u.visible==null&&(u.visible=!0),u.visible=!!n.showNested,u})}else{var c;a=yi(c=r.get(s)).call(c,function(u){return u.visible==null&&(u.visible=!0),u.visible=!!n.showNested,u})}r.update(Jt(a).call(a,n)),n.showNested?(k.removeClassName(e.dom.label,"collapsed"),k.addClassName(e.dom.label,"expanded")):(k.removeClassName(e.dom.label,"expanded"),k.addClassName(e.dom.label,"collapsed"))}toggleGroupDragClassName(e){e.dom.label.classList.toggle("vis-group-is-dragging"),e.dom.foreground.classList.toggle("vis-group-is-dragging")}_onGroupDragStart(e){this.groupTouchParams.isDragging||this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(e),this.groupTouchParams.group&&(e.stopPropagation(),this.groupTouchParams.isDragging=!0,this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))}_onGroupDrag(e){if(this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const t=this.groupsData.getDataSet(),r=this.groupFromTarget(e);if(r&&r.height!=this.groupTouchParams.group.height){const n=r.top<this.groupTouchParams.group.top,s=e.center?e.center.y:e.clientY,o=r.dom.foreground.getBoundingClientRect(),a=this.groupTouchParams.group.height;if(n){if(o.top+a<s)return}else{const l=r.height;if(o.top+l-a>s)return}}if(r&&r!=this.groupTouchParams.group){const n=t.get(r.groupId),s=t.get(this.groupTouchParams.group.groupId);s&&n&&(this.options.groupOrderSwap(s,n,t),t.update(s),t.update(n));const o=t.getIds({order:this.options.groupOrder});if(!k.equalArray(o,this.groupTouchParams.originalOrder)){const a=this.groupTouchParams.originalOrder,l=this.groupTouchParams.group.groupId,c=Math.min(a.length,o.length);let u=0,h=0,d=0;for(;u<c;){for(;u+h<c&&u+d<c&&o[u+h]==a[u+d];)u++;if(u+h>=c)break;if(o[u+h]==l)h=1;else if(a[u+d]==l)d=1;else{const f=gt(o).call(o,a[u+d]),p=t.get(o[u+h]),m=t.get(a[u+d]);this.options.groupOrderSwap(p,m,t),t.update(p),t.update(m);const g=o[u+h];o[u+h]=a[u+d],o[f]=g,u++}}}}}}_onGroupDragEnd(e){if(this.groupTouchParams.isDragging=!1,this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const t=this,r=t.groupTouchParams.group.groupId,n=t.groupsData.getDataSet(),s=k.extend({},n.get(r));t.options.onMoveGroup(s,o=>{if(o)o[n._idProp]=r,n.update(o);else{const a=n.getIds({order:t.options.groupOrder});if(!k.equalArray(a,t.groupTouchParams.originalOrder)){const l=t.groupTouchParams.originalOrder,c=Math.min(l.length,a.length);let u=0;for(;u<c;){for(;u<c&&a[u]==l[u];)u++;if(u>=c)break;const h=gt(a).call(a,l[u]),d=n.get(a[u]),f=n.get(l[u]);t.options.groupOrderSwap(d,f,n),n.update(d),n.update(f);const p=a[u];a[u]=l[u],a[h]=p,u++}}}}),t.body.emitter.emit("groupDragged",{groupId:r}),this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.group=null}}_onSelectItem(e){if(!this.options.selectable)return;const t=e.srcEvent&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey),r=e.srcEvent&&e.srcEvent.shiftKey;if(t||r){this._onMultiSelectItem(e);return}const n=this.getSelection(),s=this.itemFromTarget(e),o=s&&s.selectable?[s.id]:[];this.setSelection(o);const a=this.getSelection();(a.length>0||n.length>0)&&this.body.emitter.emit("select",{items:a,event:e})}_onMouseOver(e){const t=this.itemFromTarget(e);if(!t)return;const r=this.itemFromRelatedTarget(e);if(t===r)return;const n=t.getTitle();if(this.options.showTooltips&&n){this.popup==null&&(this.popup=new Jqe(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(n);const s=this.body.dom.centerContainer,o=s.getBoundingClientRect();this.popup.setPosition(e.clientX-o.left+s.offsetLeft,e.clientY-o.top+s.offsetTop),this.setPopupTimer(this.popup)}else this.clearPopupTimer(),this.popup!=null&&this.popup.hide();this.body.emitter.emit("itemover",{item:t.id,event:e})}_onMouseOut(e){const t=this.itemFromTarget(e);if(!t)return;const r=this.itemFromRelatedTarget(e);t!==r&&(this.clearPopupTimer(),this.popup!=null&&this.popup.hide(),this.body.emitter.emit("itemout",{item:t.id,event:e}))}_onMouseMove(e){if(this.itemFromTarget(e)&&(this.popupTimer!=null&&this.setPopupTimer(this.popup),this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden)){const r=this.body.dom.centerContainer,n=r.getBoundingClientRect();this.popup.setPosition(e.clientX-n.left+r.offsetLeft,e.clientY-n.top+r.offsetTop),this.popup.show()}}_onMouseWheel(e){this.touchParams.itemIsDragging&&this._onDragEnd(e)}_onUpdateItem(e){if(!this.options.selectable||!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;const t=this;if(e){const r=t.itemsData.get(e.id);this.options.onUpdate(r,n=>{n&&t.itemsData.update(n)})}}_onDropObjectOnItem(e){const t=this.itemFromTarget(e),r=JSON.parse(e.dataTransfer.getData("text"));this.options.onDropObjectOnItem(r,t)}_onAddItem(e){if(!this.options.selectable||!this.options.editable.add)return;const t=this,r=this.options.snap||null,n=this.dom.frame.getBoundingClientRect(),s=this.options.rtl?n.right-e.center.x:e.center.x-n.left,o=this.body.util.toTime(s),a=this.body.util.getScale(),l=this.body.util.getStep();let c,u;e.type=="drop"?(u=JSON.parse(e.dataTransfer.getData("text")),u.content=u.content?u.content:"new item",u.start=u.start?u.start:r?r(o,a,l):o,u.type=u.type||"box",u[this.itemsData.idProp]=u.id||Zc(),u.type=="range"&&!u.end&&(c=this.body.util.toTime(s+this.props.width/5),u.end=r?r(c,a,l):c)):(u={start:r?r(o,a,l):o,content:"new item"},u[this.itemsData.idProp]=Zc(),this.options.type==="range"&&(c=this.body.util.toTime(s+this.props.width/5),u.end=r?r(c,a,l):c));const h=this.groupFromTarget(e);h&&(u.group=h.groupId),u=this._cloneItemData(u),this.options.onAdd(u,d=>{d&&(t.itemsData.add(d),e.type=="drop"&&t.setSelection([d.id]))})}_onMultiSelectItem(e){if(!this.options.selectable)return;const t=this.itemFromTarget(e);if(t){let r=this.options.multiselect?this.getSelection():[];if((e.srcEvent&&e.srcEvent.shiftKey||!1||this.options.sequentialSelection)&&this.options.multiselect){const o=this.itemsData.get(t.id).group;let a;this.options.multiselectPerGroup&&r.length>0&&(a=this.itemsData.get(r[0]).group),(!this.options.multiselectPerGroup||a==null||a==o)&&r.push(t.id);const l=Ru._getItemRange(this.itemsData.get(r));if(!this.options.multiselectPerGroup||a==o){r=[];for(const c in this.items){if(!Object.prototype.hasOwnProperty.call(this.items,c))continue;const u=this.items[c],h=u.data.start,d=u.data.end!==void 0?u.data.end:h;h>=l.min&&d<=l.max&&(!this.options.multiselectPerGroup||a==this.itemsData.get(u.id).group)&&!(u instanceof Yl)&&r.push(u.id)}}}else{const o=gt(r).call(r,t.id);o==-1?r.push(t.id):mr(r).call(r,o,1)}const s=Ye(r).call(r,o=>this.getItemById(o).selectable);this.setSelection(s),this.body.emitter.emit("select",{items:this.getSelection(),event:e})}}static _getItemRange(e){let t=null,r=null;return le(e).call(e,n=>{(r==null||n.start<r)&&(r=n.start),n.end!=null?(t==null||n.end>t)&&(t=n.end):(t==null||n.start>t)&&(t=n.start)}),{min:r,max:t}}itemFromElement(e){let t=e;for(;t;){if(Object.prototype.hasOwnProperty.call(t,"vis-item"))return t["vis-item"];t=t.parentNode}return null}itemFromTarget(e){return this.itemFromElement(e.target)}itemFromRelatedTarget(e){return this.itemFromElement(e.relatedTarget)}groupFromTarget(e){const t=e.center?e.center.y:e.clientY;let r=this.groupIds;r.length<=0&&this.groupsData&&(r=this.groupsData.getIds({order:this.options.groupOrder}));for(let n=0;n<r.length;n++){const s=r[n],o=this.groups[s],a=o.dom.foreground,l=a.getBoundingClientRect();if(t>=l.top&&t<l.top+a.offsetHeight)return o;if(this.options.orientation.item==="top"){if(n===this.groupIds.length-1&&t>l.top)return o}else if(n===0&&t<l.top+a.offset)return o}return null}static itemSetFromTarget(e){let t=e.target;for(;t;){if(Object.prototype.hasOwnProperty.call(t,"vis-itemset"))return t["vis-itemset"];t=t.parentNode}return null}_cloneItemData(e,t){const r=k.extend({},e);return t||(t=this.itemsData.type),r.start!=null&&(r.start=k.convert(r.start,t&&t.start||"Date")),r.end!=null&&(r.end=k.convert(r.end,t&&t.end||"Date")),r}_clusterItems(){if(!this.options.cluster)return;const{scale:e}=this.body.range.conversion(this.body.domProps.center.width),t=this.clusterGenerator.getClusters(this.clusters,e,this.options.cluster);if(this.clusters!=t){if(this._detachAllClusters(),t){for(let r of t)r.attach();this.clusters=t}this._updateClusters(t)}}_detachAllClusters(){if(this.options.cluster&&this.clusters&&this.clusters.length)for(let e of this.clusters)e.detach()}_updateClusters(e){if(this.clusters&&this.clusters.length){var t;const s=new Pg(yi(e).call(e,l=>l.id)),o=Ye(t=this.clusters).call(t,l=>!s.has(l.id));let a=!1;for(let l of o){var r;const c=gt(r=this.selection).call(r,l.id);if(c!==-1){var n;l.unselect(),mr(n=this.selection).call(n,c,1),a=!0}}if(a){const l=this.getSelection();this.body.emitter.emit("select",{items:l,event})}}this.clusters=e||[]}}Ru.types={background:Yl,box:Zqe,range:wl,point:Qqe};Ru.prototype._onAdd=Ru.prototype._onUpdate;let Nh=!1,B6,YD="background: #FFeeee; color: #dd0000";class Nt{constructor(){}static validate(e,t,r){Nh=!1,B6=t;let n=t;return r!==void 0&&(n=t[r]),Nt.parse(e,n,[]),Nh}static parse(e,t,r){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&Nt.check(n,e,t,r)}static check(e,t,r,n){if(r[e]===void 0&&r.__any__===void 0){Nt.getSuggestion(e,r,n);return}let s=e,o=!0;r[e]===void 0&&r.__any__!==void 0&&(s="__any__",o=Nt.getType(t[e])==="object");let a=r[s];o&&a.__type__!==void 0&&(a=a.__type__),Nt.checkFields(e,t,r,s,a,n)}static checkFields(e,t,r,n,s,o){let a=function(u){console.log("%c"+u+Nt.printLocation(o,e),YD)},l=Nt.getType(t[e]),c=s[l];c!==void 0?Nt.getType(c)==="array"&&gt(c).call(c,t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+Nt.print(c)+' not "'+t[e]+'". '),Nh=!0):l==="object"&&n!=="__any__"&&(o=k.copyAndExtendArray(o,e),Nt.parse(t[e],r[n],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+Nt.print(Ai(s))+". Received ["+l+'] "'+t[e]+'"'),Nh=!0)}static getType(e){var t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":_t(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){let n=Nt.findInOptions(e,t,r,!1),s=Nt.findInOptions(e,B6,[],!0),o=8,a=4,l;n.indexMatch!==void 0?l=" in "+Nt.printLocation(n.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+`"?

`:s.distance<=a&&n.distance>s.distance?l=" in "+Nt.printLocation(n.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+Nt.printLocation(s.path,s.closestMatch,""):n.distance<=o?l='. Did you mean "'+n.closestMatch+'"?'+Nt.printLocation(n.path,e):l=". Did you mean one of these: "+Nt.print(Ai(t))+Nt.printLocation(r,e),console.log('%cUnknown option detected: "'+e+'"'+l,YD),Nh=!0}static findInOptions(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,o="",a=[],l=e.toLowerCase(),c;for(let h in t){if(!Object.prototype.hasOwnProperty.call(t,h))continue;let d;if(t[h].__type__!==void 0&&n===!0){let f=Nt.findInOptions(e,t[h],k.copyAndExtendArray(r,h));s>f.distance&&(o=f.closestMatch,a=f.path,s=f.distance,c=f.indexMatch)}else{var u;gt(u=h.toLowerCase()).call(u,l)!==-1&&(c=h),d=Nt.levenshteinDistance(e,h),s>d&&(o=h,a=k.copyArray(r),s=d)}}return{closestMatch:o,path:a,distance:s,indexMatch:c}}static printLocation(e,t){let n=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)n+="  ";n+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)n+="  ";n+=t+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)n+="  ";n+=`}
`}return n+`

`}static print(e){return kr(e).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;var r=[],n;for(n=0;n<=t.length;n++)r[n]=[n];var s;for(s=0;s<=e.length;s++)r[0][s]=s;for(n=1;n<=t.length;n++)for(s=1;s<=e.length;s++)t.charAt(n-1)==e.charAt(s-1)?r[n][s]=r[n-1][s-1]:r[n][s]=Math.min(r[n-1][s-1]+1,Math.min(r[n][s-1]+1,r[n-1][s]+1));return r[t.length][e.length]}}var uje={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};class hje{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return uje[e]}setColor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let r;var n=this._isColorString(e);if(n!==void 0&&(e=n),k.isString(e)===!0){if(k.isValidRGB(e)===!0){let s=e.substr(4).substr(0,e.length-5).split(",");r={r:s[0],g:s[1],b:s[2],a:1}}else if(k.isValidRGBA(e)===!0){let s=e.substr(5).substr(0,e.length-6).split(",");r={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(k.isValidHex(e)===!0){let s=k.hexToRGB(e);r={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){let s=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:s}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+kr(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=k.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Lr(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=k.extend({},e)),this.color=e;let r=k.RGBToHSV(e.r,e.g,e.b),n=2*Math.PI,s=this.r*r.s,o=this.centerCoordinates.x+s*Math.sin(n*r.h),a=this.centerCoordinates.y+s*Math.cos(n*r.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){let t=k.RGBToHSV(this.color.r,this.color.g,this.color.b);t.v=e/100;let r=k.HSVToRGB(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,t=k.RGBToHSV(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let n=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,n,s),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),zie(r).call(r),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,t,r,n;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){let o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{let o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=V(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=V(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=V(r=this._save).call(r,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=V(n=this._loadLast).call(n,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new Vi(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),Pre(this.hammer,e=>{this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){let e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let n,s,o,a;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;let l=2*Math.PI/360,c=1/360,u=1/this.r,h;for(o=0;o<360;o++)for(a=0;a<this.r;a++)n=this.centerCoordinates.x+a*Math.sin(l*o),s=this.centerCoordinates.y+a*Math.cos(l*o),h=k.HSVToRGB(o*c,a*u,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(n-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){let t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,n=e.center.y-t.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=r-o,l=n-s,c=Math.atan2(a,l),u=.98*Math.min(Math.sqrt(a*a+l*l),o),h=Math.cos(c)*u+s,d=Math.sin(c)*u+o;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=d-.5*this.colorPickerSelector.clientWidth+"px";let f=c/(2*Math.PI);f=f<0?f+1:f;let p=u/this.r,m=k.RGBToHSV(this.color.r,this.color.g,this.color.b);m.h=f,m.s=p;let g=k.HSVToRGB(m.h,m.s,m.v);g.a=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}class dje{constructor(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},k.extend(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new hje(n),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(_t(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),Ye(e)!==void 0&&(this.options.filter=Ye(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);Ye(this.options)===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];let e=Ye(this.options),t=0,r=!1;for(let n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(n,[]),r=r||this._handleObject(this.configureOptions[n],[n],!0)):(e===!0||gt(e).call(e,n)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e){if(this.allowCreation===!0){let s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return le(r).call(r,o=>{s.appendChild(o)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){let t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerHTML=k.xss(e),this._makeItem([],t)}_makeLabel(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=document.createElement("div");return n.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0?n.innerHTML=k.xss("<i><b>"+e+":</b></i>"):n.innerHTML=k.xss(e+":"),n}_makeDropdown(e,t,r){let n=document.createElement("select");n.className="vis-configuration vis-config-select";let s=0;t!==void 0&&gt(e).call(e,t)!==-1&&(s=gt(e).call(e,t));for(let l=0;l<e.length;l++){let c=document.createElement("option");c.value=e[l],l===s&&(c.selected="selected"),c.innerHTML=e[l],n.appendChild(c)}let o=this;n.onchange=function(){o._update(this.value,r)};let a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,n)}_makeRange(e,t,r){let n=e[0],s=e[1],o=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=o}catch{}l.step=a;let c="",u=0;if(t!==void 0){let m=1.2;t<0&&t*m<s?(l.min=Math.ceil(t*m),u=l.min,c="range increased"):t/m<s&&(l.min=Math.ceil(t/m),u=l.min,c="range increased"),t*m>o&&o!==1&&(l.max=Math.ceil(t*m),u=l.max,c="range increased"),l.value=t}else l.value=n;let h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=Number(l.value);var d=this;l.onchange=function(){h.value=this.value,d._update(Number(this.value),r)},l.oninput=function(){h.value=this.value};let f=this._makeLabel(r[r.length-1],r),p=this._makeItem(r,f,l,h);c!==""&&this.popupHistory[p]!==u&&(this.popupHistory[p]=u,this._setupPopup(c,p))}_makeButton(){if(this.options.showButton===!0){let e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){let r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerHTML=k.xss(e),r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){let t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Lr(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Lr(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=e,t!==void 0&&(n.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));let s=this;n.onchange=function(){s._update(this.checked,r)};let o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,n)}_makeTextInput(e,t,r){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=t,t!==e&&this.changedOptions.push({path:r,value:t});let s=this;n.onchange=function(){s._update(this.value,r)};let o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,n)}_makeColorField(e,t,r){let n=e[1],s=document.createElement("div");t=t===void 0?n:t,t!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?n:t,s.onclick=()=>{this._showColorPicker(t,s,r)};let o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,s)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(n=>{let s="rgba("+n.r+","+n.g+","+n.b+","+n.a+")";t.style.backgroundColor=s,this._update(s,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=!1,s=Ye(this.options),o=!1;for(let a in e){if(!Object.prototype.hasOwnProperty.call(e,a))continue;n=!0;let l=e[a],c=k.copyAndExtendArray(t,a);if(typeof s=="function"&&(n=s(a,t),n===!1&&!_t(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,n=this._handleObject(l,c,!0),this.allowCreation=r===!1)),n!==!1){o=!0;let u=this._getValue(c);if(_t(l))this._handleArray(l,u,c);else if(typeof l=="string")this._makeTextInput(l,u,c);else if(typeof l=="boolean")this._makeCheckbox(l,u,c);else if(l instanceof Object){let h=!0;if(gt(t).call(t,"physics")!==-1&&this.moduleOptions.physics.solver!==a&&(h=!1),h===!0)if(l.enabled!==void 0){let d=k.copyAndExtendArray(c,"enabled"),f=this._getValue(d);if(f===!0){let p=this._makeLabel(a,c,!0);this._makeItem(c,p),o=this._handleObject(l,c)||o}else this._makeCheckbox(l,f,c)}else{let d=this._makeLabel(a,c,!0);this._makeItem(c,d),o=this._handleObject(l,c)||o}}else console.error("dont know how to handle",l,a,c)}}return o}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){let r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<t.length;s++)t[s]!=="global"&&(n[t[s]]===void 0&&(n[t[s]]={}),s!==t.length-1?n=n[t[s]]:n[t[s]]=e);return r}_printOptions(){let e=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+kr(e,null,2)+"</pre>"}getOptions(){let e={};for(var t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}function $o(i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e].redundant=i[e].used,i[e].used=[])}function Xr(i){for(var e in i){if(!Object.prototype.hasOwnProperty.call(i,e))continue;const r=i[e];for(var t=0;t<r.redundant.length;t++)r.redundant[t].parentNode.removeChild(r.redundant[t]);r.redundant=[]}}function fje(i){$o(i),Xr(i),$o(i)}function Dn(i,e,t){var r;return Object.prototype.hasOwnProperty.call(e,i)?e[i].redundant.length>0?(r=e[i].redundant[0],e[i].redundant.shift()):(r=document.createElementNS("http://www.w3.org/2000/svg",i),t.appendChild(r)):(r=document.createElementNS("http://www.w3.org/2000/svg",i),e[i]={used:[],redundant:[]},t.appendChild(r)),e[i].used.push(r),r}function tP(i,e,t,r){var n;return Object.prototype.hasOwnProperty.call(e,i)?e[i].redundant.length>0?(n=e[i].redundant[0],e[i].redundant.shift()):(n=document.createElement(i),t.appendChild(n)):(n=document.createElement(i),e[i]={used:[],redundant:[]},t.appendChild(n)),e[i].used.push(n),n}function Pu(i,e,t,r,n,s){var o;if(t.style=="circle"?(o=Dn("circle",r,n),o.setAttributeNS(null,"cx",i),o.setAttributeNS(null,"cy",e),o.setAttributeNS(null,"r",.5*t.size)):(o=Dn("rect",r,n),o.setAttributeNS(null,"x",i-.5*t.size),o.setAttributeNS(null,"y",e-.5*t.size),o.setAttributeNS(null,"width",t.size),o.setAttributeNS(null,"height",t.size)),t.styles!==void 0&&o.setAttributeNS(null,"style",t.styles),o.setAttributeNS(null,"class",t.className+" vis-point"),s){var a=Dn("text",r,n);s.xOffset&&(i=i+s.xOffset),s.yOffset&&(e=e+s.yOffset),s.content&&(a.textContent=s.content),s.className&&a.setAttributeNS(null,"class",s.className+" vis-label"),a.setAttributeNS(null,"x",i),a.setAttributeNS(null,"y",e)}return o}function UD(i,e,t,r,n,s,o,a){if(r!=0){r<0&&(r*=-1,e-=r);var l=Dn("rect",s,o);l.setAttributeNS(null,"x",i-.5*t),l.setAttributeNS(null,"y",e),l.setAttributeNS(null,"width",t),l.setAttributeNS(null,"height",r),l.setAttributeNS(null,"class",n),a&&l.setAttributeNS(null,"style",a)}}function pje(){try{return navigator?navigator.languages&&navigator.languages.length?navigator.languages:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en":"en"}catch{return"en"}}class mje{constructor(e,t,r,n,s,o){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=s,this.majorCharHeight=o,this._start=e,this._end=t,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=a,this.autoScaleStart=r,this.autoScaleEnd=n,this.formattingFunction=l,r||n){const c=this,u=h=>{const d=h-h%(c.magnitudefactor*c.minorSteps[c.minorStepIdx]);return h%(c.magnitudefactor*c.minorSteps[c.minorStepIdx])>.5*(c.magnitudefactor*c.minorSteps[c.minorStepIdx])?d+c.magnitudefactor*c.minorSteps[c.minorStepIdx]:d};r&&(this._start-=this.magnitudefactor*2*this.minorSteps[this.minorStepIdx],this._start=u(this._start)),n&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=u(this._end)),this.determineScale()}}setCharHeight(e){this.majorCharHeight=e}setHeight(e){this.containerHeight=e}determineScale(){const e=this._end-this._start;this.scale=this.containerHeight/e;const t=this.majorCharHeight/this.scale,r=e>0?Math.round(Math.log(e)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,r);let n=0;r<0&&(n=r);let s=!1;for(let o=n;Math.abs(o)<=Math.abs(r);o++){this.magnitudefactor=Math.pow(10,o);for(let a=0;a<this.minorSteps.length;a++)if(this.magnitudefactor*this.minorSteps[a]>=t){s=!0,this.minorStepIdx=a;break}if(s===!0)break}}is_major(e){return e%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])===0}getStep(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]}getFirstMajor(){const e=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(e-this._start%e)%e)}formatValue(e){let t=e.toPrecision(5);return typeof this.formattingFunction=="function"&&(t=this.formattingFunction(e)),typeof t=="number"?"".concat(t):typeof t=="string"?t:e.toPrecision(5)}getLines(){const e=[],t=this.getStep(),r=(t-this._start%t)%t;for(let n=this._start+r;this._end-n>1e-5;n+=t)n!=this._start&&e.push({major:this.is_major(n),y:this.convertValue(n),val:this.formatValue(n)});return e}followScale(e){const t=this.minorStepIdx,r=this._start,n=this._end,s=this,o=()=>{s.magnitudefactor*=2},a=()=>{s.magnitudefactor/=2};e.minorStepIdx<=1&&this.minorStepIdx<=1||e.minorStepIdx>1&&this.minorStepIdx>1||(e.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,t==2||o(),o()):(this.minorStepIdx=2,t==1||a(),a()));const l=e.convertValue(0),c=e.getStep()*e.scale;let u=!1,h=0;for(;!u&&h++<5;){this.scale=c/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);const d=this.containerHeight/this.scale;this._start=r,this._end=this._start+d;const f=this._end*this.scale,p=this.magnitudefactor*this.majorSteps[this.minorStepIdx],m=this.getFirstMajor()-e.getFirstMajor();if(this.zeroAlign){const g=l-f;this._end+=g/this.scale,this._start=this._end-d}else this.autoScaleStart?(this._start-=m/this.scale,this._end=this._start+d):(this._start+=p-m/this.scale,this._end=this._start+d);if(!this.autoScaleEnd&&this._end>n+1e-5){a(),u=!1;continue}if(!this.autoScaleStart&&this._start<r-1e-5)if(this.zeroAlign&&r>=0)console.warn("Can't adhere to given 'min' range, due to zeroalign");else{a(),u=!1;continue}if(this.autoScaleStart&&this.autoScaleEnd&&d<n-r){o(),u=!1;continue}u=!0}}convertValue(e){return this.containerHeight-(e-this._start)*this.scale}screenToValue(e){return(this.containerHeight-e)/this.scale+this._start}}class z6 extends ma{constructor(e,t,r,n){super(),this.id=Zc(),this.body=e,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format(o){return"".concat(Cg(o.toPrecision(3)))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format(o){return"".concat(Cg(o.toPrecision(3)))},title:{text:void 0,style:void 0}}},this.linegraphOptions=n,this.linegraphSVG=r,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=k.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(t),this.width=Number("".concat(this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.scale==null&&this._redrawLabels(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};const s=this;this.body.emitter.on("verticalDrag",()=>{s.dom.lineContainer.style.top="".concat(s.body.domProps.scrollTop,"px")})}addGroup(e,t){Object.prototype.hasOwnProperty.call(this.groups,e)||(this.groups[e]=t),this.amountOfGroups+=1}updateGroup(e,t){Object.prototype.hasOwnProperty.call(this.groups,e)||(this.amountOfGroups+=1),this.groups[e]=t}removeGroup(e){Object.prototype.hasOwnProperty.call(this.groups,e)&&(delete this.groups[e],this.amountOfGroups-=1)}setOptions(e){if(e){let t=!1;this.options.orientation!=e.orientation&&e.orientation!==void 0&&(t=!0);const r=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];k.selectiveDeepExtend(r,this.options,e),this.minWidth=Number("".concat(this.options.width).replace("px","")),t===!0&&this.dom.frame&&(this.hide(),this.show())}}_create(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.dom.lineContainer.style.visibility="visible",this.dom.lineContainer.style.display="block",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)}_redrawGroupIcons(){$o(this.svgElements);let e;const t=this.options.iconWidth,r=15,n=4;let s=n+.5*r;this.options.orientation==="left"?e=n:e=this.width-t-n;const o=Ai(this.groups);bi(o).call(o,(a,l)=>a<l?-1:1);for(const a of o)this.groups[a].visible===!0&&(this.linegraphOptions.visibility[a]===void 0||this.linegraphOptions.visibility[a]===!0)&&(this.groups[a].getLegend(t,r,this.framework,e,s),s+=r+n);Xr(this.svgElements),this.iconsRemoved=!1}_cleanupIcons(){this.iconsRemoved===!1&&($o(this.svgElements),Xr(this.svgElements),this.iconsRemoved=!0)}show(){this.hidden=!1,this.dom.frame.parentNode||(this.options.orientation==="left"?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer),this.dom.lineContainer.style.display="block"}hide(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.style.display="none"}setRange(e,t){this.range.start=e,this.range.end=t}redraw(){let e=!1,t=0;this.dom.lineContainer.style.top="".concat(this.body.domProps.scrollTop,"px");for(const r in this.groups)Object.prototype.hasOwnProperty.call(this.groups,r)&&this.groups[r].visible===!0&&(this.linegraphOptions.visibility[r]===void 0||this.linegraphOptions.visibility[r]===!0)&&t++;if(this.amountOfGroups===0||t===0)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height="".concat(this.height,"px"),this.width=this.options.visible===!0?Number("".concat(this.options.width).replace("px","")):0;const r=this.props,n=this.dom.frame;n.className="vis-data-axis",this._calculateCharSize();const s=this.options.orientation,o=this.options.showMinorLabels,a=this.options.showMajorLabels,l=this.body.dom.backgroundHorizontal.offsetWidth;r.minorLabelHeight=o?r.minorCharHeight:0,r.majorLabelHeight=a?r.majorCharHeight:0,r.minorLineWidth=l-this.lineOffset-this.width+2*this.options.minorLinesOffset,r.minorLineHeight=1,r.majorLineWidth=l-this.lineOffset-this.width+2*this.options.majorLinesOffset,r.majorLineHeight=1,s==="left"?(n.style.top="0",n.style.left="0",n.style.bottom="",n.style.width="".concat(this.width,"px"),n.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(n.style.top="",n.style.bottom="0",n.style.left="0",n.style.width="".concat(this.width,"px"),n.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),e=this._redrawLabels(),e=this._isResized()||e,this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(s)}return e}_redrawLabels(){let e=!1;$o(this.DOMelements.lines),$o(this.DOMelements.labels);const t=this.options.orientation,r=this.options[t].range!=null?this.options[t].range:{};let n=!0;r.max!=null&&(this.range.end=r.max,n=!1);let s=!0;r.min!=null&&(this.range.start=r.min,s=!1),this.scale=new mje(this.range.start,this.range.end,s,n,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[t].format),this.master===!1&&this.masterAxis!=null?(this.scale.followScale(this.masterAxis.scale),this.dom.lineContainer.style.display="none"):this.dom.lineContainer.style.display="block",this.maxLabelSize=0;const o=this.scale.getLines();le(o).call(o,c=>{const u=c.y,h=c.major;this.options.showMinorLabels&&h===!1&&this._redrawLabel(u-2,c.val,t,"vis-y-axis vis-minor",this.props.minorCharHeight),h&&u>=0&&this._redrawLabel(u-2,c.val,t,"vis-y-axis vis-major",this.props.majorCharHeight),this.master===!0&&(h?this._redrawLine(u,t,"vis-grid vis-horizontal vis-major",this.options.majorLinesOffset,this.props.majorLineWidth):this._redrawLine(u,t,"vis-grid vis-horizontal vis-minor",this.options.minorLinesOffset,this.props.minorLineWidth))});let a=0;this.options[t].title!==void 0&&this.options[t].title.text!==void 0&&(a=this.props.titleCharHeight);const l=this.options.icons===!0?Math.max(this.options.iconWidth,a)+this.options.labelOffsetX+15:a+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-l&&this.options.visible===!0?(this.width=this.maxLabelSize+l,this.options.width="".concat(this.width,"px"),Xr(this.DOMelements.lines),Xr(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-l&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+l),this.options.width="".concat(this.width,"px"),Xr(this.DOMelements.lines),Xr(this.DOMelements.labels),this.redraw(),e=!0):(Xr(this.DOMelements.lines),Xr(this.DOMelements.labels),e=!1),e}convertValue(e){return this.scale.convertValue(e)}screenToValue(e){return this.scale.screenToValue(e)}_redrawLabel(e,t,r,n,s){const o=tP("div",this.DOMelements.labels,this.dom.frame);o.className=n,o.innerHTML=k.xss(t),r==="left"?(o.style.left="-".concat(this.options.labelOffsetX,"px"),o.style.textAlign="right"):(o.style.right="-".concat(this.options.labelOffsetX,"px"),o.style.textAlign="left"),o.style.top="".concat(e-.5*s+this.options.labelOffsetY,"px"),t+="";const a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<t.length*a&&(this.maxLabelSize=t.length*a)}_redrawLine(e,t,r,n,s){if(this.master===!0){const o=tP("div",this.DOMelements.lines,this.dom.lineContainer);o.className=r,o.innerHTML="",t==="left"?o.style.left="".concat(this.width-n,"px"):o.style.right="".concat(this.width-n,"px"),o.style.width="".concat(s,"px"),o.style.top="".concat(e,"px")}}_redrawTitle(e){if($o(this.DOMelements.title),this.options[e].title!==void 0&&this.options[e].title.text!==void 0){const t=tP("div",this.DOMelements.title,this.dom.frame);t.className="vis-y-axis vis-title vis-".concat(e),t.innerHTML=k.xss(this.options[e].title.text),this.options[e].title.style!==void 0&&k.addCssText(t,this.options[e].title.style),e==="left"?t.style.left="".concat(this.props.titleCharHeight,"px"):t.style.right="".concat(this.props.titleCharHeight,"px"),t.style.width="".concat(this.height,"px")}Xr(this.DOMelements.title)}_calculateCharSize(){if(!("minorCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-minor vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.minorCharHeight=t.clientHeight,this.props.minorCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}if(!("majorCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-major vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.majorCharHeight=t.clientHeight,this.props.majorCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}if(!("titleCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-title vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.titleCharHeight=t.clientHeight,this.props.titleCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}}}function Sp(){}Sp.draw=function(i,e,t,r){r=r||0;for(var n=gje(t,e),s=0;s<i.length;s++)if(!n)Pu(i[s].screen_x+r,i[s].screen_y,VD(e),t.svgElements,t.svg,i[s].label);else{var o=n(i[s],e);(o===!0||typeof o=="object")&&Pu(i[s].screen_x+r,i[s].screen_y,VD(e,o),t.svgElements,t.svg,i[s].label)}};Sp.drawIcon=function(i,e,t,r,n,s){var o=n*.5,a=Dn("rect",s.svgElements,s.svg);a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",t-o),a.setAttributeNS(null,"width",r),a.setAttributeNS(null,"height",2*o),a.setAttributeNS(null,"class","vis-outline"),Pu(e+.5*r,t,VD(i),s.svgElements,s.svg)};function VD(i,e){return e=typeof e>"u"?{}:e,{style:e.style||i.options.drawPoints.style,styles:e.styles||i.options.drawPoints.styles,size:e.size||i.options.drawPoints.size,className:e.className||i.className}}function gje(i,e){var t=void 0;return i.options&&i.options.drawPoints&&i.options.drawPoints.onRender&&typeof i.options.drawPoints.onRender=="function"&&(t=i.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&typeof e.group.options.drawPoints.onRender=="function"&&(t=e.group.options.drawPoints.onRender),t}function Zi(){}Zi.drawIcon=function(i,e,t,r,n,s){var o=n*.5,a=Dn("rect",s.svgElements,s.svg);a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",t-o),a.setAttributeNS(null,"width",r),a.setAttributeNS(null,"height",2*o),a.setAttributeNS(null,"class","vis-outline");var l=Math.round(.3*r),c=i.options.barChart.width,u=c/l,h=Math.round(.4*n),d=Math.round(.75*n),f=Math.round((r-2*l)/3);if(UD(e+.5*l+f,t+o-h-1,l,h,i.className+" vis-bar",s.svgElements,s.svg,i.style),UD(e+1.5*l+f+2,t+o-d-1,l,d,i.className+" vis-bar",s.svgElements,s.svg,i.style),i.options.drawPoints.enabled==!0){var p={style:i.options.drawPoints.style,styles:i.options.drawPoints.styles,size:i.options.drawPoints.size/u,className:i.className};Pu(e+.5*l+f,t+o-h-1,p,s.svgElements,s.svg),Pu(e+1.5*l+f+2,t+o-d-1,p,s.svgElements,s.svg)}};Zi.draw=function(i,e,t){var r=[],n={},s,o,a,l,c,u,h=0;for(c=0;c<i.length;c++)if(l=t.groups[i[c]],l.options.style==="bar"&&l.visible===!0&&(t.options.groups.visibility[i[c]]===void 0||t.options.groups.visibility[i[c]]===!0))for(u=0;u<e[i[c]].length;u++)r.push({screen_x:e[i[c]][u].screen_x,screen_end:e[i[c]][u].screen_end,screen_y:e[i[c]][u].screen_y,x:e[i[c]][u].x,end:e[i[c]][u].end,y:e[i[c]][u].y,groupId:i[c],label:e[i[c]][u].label}),h+=1;if(h!==0)for(bi(r).call(r,function(m,g){return m.screen_x===g.screen_x?m.groupId<g.groupId?-1:1:m.screen_x-g.screen_x}),Zi._getDataIntersections(n,r),c=0;c<r.length;c++){l=t.groups[r[c].groupId];var d=l.options.barChart.minWidth!=null?l.options.barChart.minWidth:.1*l.options.barChart.width;o=r[c].screen_x;var f=0;if(n[o]===void 0)c+1<r.length&&(s=Math.abs(r[c+1].screen_x-o)),a=Zi._getSafeDrawData(s,l,d);else{var p=c+(n[o].amount-n[o].resolved);p<r.length&&(s=Math.abs(r[p].screen_x-o)),a=Zi._getSafeDrawData(s,l,d),n[o].resolved+=1,l.options.stack===!0&&l.options.excludeFromStacking!==!0?r[c].screen_y<l.zeroPosition?(f=n[o].accumulatedNegative,n[o].accumulatedNegative+=l.zeroPosition-r[c].screen_y):(f=n[o].accumulatedPositive,n[o].accumulatedPositive+=l.zeroPosition-r[c].screen_y):l.options.barChart.sideBySide===!0&&(a.width=a.width/n[o].amount,a.offset+=n[o].resolved*a.width-.5*a.width*(n[o].amount+1))}let m=a.width,g=r[c].screen_x;if(r[c].screen_end!=null?(m=r[c].screen_end-r[c].screen_x,g+=m*.5):g+=a.offset,UD(g,r[c].screen_y-f,m,l.zeroPosition-r[c].screen_y,l.className+" vis-bar",t.svgElements,t.svg,l.style),l.options.drawPoints.enabled===!0){let v={screen_x:r[c].screen_x,screen_y:r[c].screen_y-f,x:r[c].x,y:r[c].y,groupId:r[c].groupId,label:r[c].label};Sp.draw([v],l,t,a.offset)}}};Zi._getDataIntersections=function(i,e){for(var t,r=0;r<e.length;r++)r+1<e.length&&(t=Math.abs(e[r+1].screen_x-e[r].screen_x)),r>0&&(t=Math.min(t,Math.abs(e[r-1].screen_x-e[r].screen_x))),t===0&&(i[e[r].screen_x]===void 0&&(i[e[r].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),i[e[r].screen_x].amount+=1)};Zi._getSafeDrawData=function(i,e,t){var r,n;return i<e.options.barChart.width&&i>0?(r=i<t?t:i,n=0,e.options.barChart.align==="left"?n-=.5*i:e.options.barChart.align==="right"&&(n+=.5*i)):(r=e.options.barChart.width,n=0,e.options.barChart.align==="left"?n-=.5*e.options.barChart.width:e.options.barChart.align==="right"&&(n+=.5*e.options.barChart.width)),{width:r,offset:n}};Zi.getStackedYRange=function(i,e,t,r,n){if(i.length>0){bi(i).call(i,function(o,a){return o.screen_x===a.screen_x?o.groupId<a.groupId?-1:1:o.screen_x-a.screen_x});var s={};Zi._getDataIntersections(s,i),e[r]=Zi._getStackedYRange(s,i),e[r].yAxisOrientation=n,t.push(r)}};Zi._getStackedYRange=function(i,e){for(var t,r=e[0].screen_y,n=e[0].screen_y,s=0;s<e.length;s++)t=e[s].screen_x,i[t]===void 0?(r=r>e[s].screen_y?e[s].screen_y:r,n=n<e[s].screen_y?e[s].screen_y:n):e[s].screen_y<0?i[t].accumulatedNegative+=e[s].screen_y:i[t].accumulatedPositive+=e[s].screen_y;for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r=r>i[o].accumulatedNegative?i[o].accumulatedNegative:r,r=r>i[o].accumulatedPositive?i[o].accumulatedPositive:r,n=n<i[o].accumulatedNegative?i[o].accumulatedNegative:n,n=n<i[o].accumulatedPositive?i[o].accumulatedPositive:n);return{min:r,max:n}};function Ii(){}Ii.calcPath=function(i,e){if(i!=null&&i.length>0){var t=[];return e.options.interpolation.enabled==!0?t=Ii._catmullRom(i,e):t=Ii._linear(i),t}};Ii.drawIcon=function(i,e,t,r,n,s){var o=n*.5,a,l,c=Dn("rect",s.svgElements,s.svg);if(c.setAttributeNS(null,"x",e),c.setAttributeNS(null,"y",t-o),c.setAttributeNS(null,"width",r),c.setAttributeNS(null,"height",2*o),c.setAttributeNS(null,"class","vis-outline"),a=Dn("path",s.svgElements,s.svg),a.setAttributeNS(null,"class",i.className),i.style!==void 0&&a.setAttributeNS(null,"style",i.style),a.setAttributeNS(null,"d","M"+e+","+t+" L"+(e+r)+","+t),i.options.shaded.enabled==!0&&(l=Dn("path",s.svgElements,s.svg),i.options.shaded.orientation=="top"?l.setAttributeNS(null,"d","M"+e+", "+(t-o)+"L"+e+","+t+" L"+(e+r)+","+t+" L"+(e+r)+","+(t-o)):l.setAttributeNS(null,"d","M"+e+","+t+" L"+e+","+(t+o)+" L"+(e+r)+","+(t+o)+"L"+(e+r)+","+t),l.setAttributeNS(null,"class",i.className+" vis-icon-fill"),i.options.shaded.style!==void 0&&i.options.shaded.style!==""&&l.setAttributeNS(null,"style",i.options.shaded.style)),i.options.drawPoints.enabled==!0){var u={style:i.options.drawPoints.style,styles:i.options.drawPoints.styles,size:i.options.drawPoints.size,className:i.className};Pu(e+.5*r,t,u,s.svgElements,s.svg)}};Ii.drawShading=function(i,e,t,r){if(e.options.shaded.enabled==!0){var n=Number(r.svg.style.height.replace("px","")),s=Dn("path",r.svgElements,r.svg),o="L";e.options.interpolation.enabled==!0&&(o="C");var a,l=0;e.options.shaded.orientation=="top"?l=0:e.options.shaded.orientation=="bottom"?l=n:l=Math.min(Math.max(0,e.zeroPosition),n),e.options.shaded.orientation=="group"&&t!=null&&t!=null?a="M"+i[0][0]+","+i[0][1]+" "+this.serializePath(i,o,!1)+" L"+t[t.length-1][0]+","+t[t.length-1][1]+" "+this.serializePath(t,o,!0)+t[0][0]+","+t[0][1]+" Z":a="M"+i[0][0]+","+i[0][1]+" "+this.serializePath(i,o,!1)+" V"+l+" H"+i[0][0]+" Z",s.setAttributeNS(null,"class",e.className+" vis-fill"),e.options.shaded.style!==void 0&&s.setAttributeNS(null,"style",e.options.shaded.style),s.setAttributeNS(null,"d",a)}};Ii.draw=function(i,e,t){if(i!=null&&i!=null){var r=Dn("path",t.svgElements,t.svg);r.setAttributeNS(null,"class",e.className),e.style!==void 0&&r.setAttributeNS(null,"style",e.style);var n="L";e.options.interpolation.enabled==!0&&(n="C"),r.setAttributeNS(null,"d","M"+i[0][0]+","+i[0][1]+" "+this.serializePath(i,n,!1))}};Ii.serializePath=function(i,e,t){if(i.length<2)return"";var r=e,n;if(t)for(n=i.length-2;n>0;n--)r+=i[n][0]+","+i[n][1]+" ";else for(n=1;n<i.length;n++)r+=i[n][0]+","+i[n][1]+" ";return r};Ii._catmullRomUniform=function(i){var e,t,r,n,s,o,a=[];a.push([Math.round(i[0].screen_x),Math.round(i[0].screen_y)]);for(var l=1/6,c=i.length,u=0;u<c-1;u++)e=u==0?i[0]:i[u-1],t=i[u],r=i[u+1],n=u+2<c?i[u+2]:r,s={screen_x:(-e.screen_x+6*t.screen_x+r.screen_x)*l,screen_y:(-e.screen_y+6*t.screen_y+r.screen_y)*l},o={screen_x:(t.screen_x+6*r.screen_x-n.screen_x)*l,screen_y:(t.screen_y+6*r.screen_y-n.screen_y)*l},a.push([s.screen_x,s.screen_y]),a.push([o.screen_x,o.screen_y]),a.push([r.screen_x,r.screen_y]);return a};Ii._catmullRom=function(i,e){var t=e.options.interpolation.alpha;if(t==0||t===void 0)return this._catmullRomUniform(i);var r,n,s,o,a,l,c,u,h,d,f,p,m,g,v,y,_,b,w,S=[];S.push([Math.round(i[0].screen_x),Math.round(i[0].screen_y)]);for(var E=i.length,x=0;x<E-1;x++)r=x==0?i[0]:i[x-1],n=i[x],s=i[x+1],o=x+2<E?i[x+2]:s,c=Math.sqrt(Math.pow(r.screen_x-n.screen_x,2)+Math.pow(r.screen_y-n.screen_y,2)),u=Math.sqrt(Math.pow(n.screen_x-s.screen_x,2)+Math.pow(n.screen_y-s.screen_y,2)),h=Math.sqrt(Math.pow(s.screen_x-o.screen_x,2)+Math.pow(s.screen_y-o.screen_y,2)),g=Math.pow(h,t),y=Math.pow(h,2*t),v=Math.pow(u,t),_=Math.pow(u,2*t),w=Math.pow(c,t),b=Math.pow(c,2*t),d=2*b+3*w*v+_,f=2*y+3*g*v+_,p=3*w*(w+v),p>0&&(p=1/p),m=3*g*(g+v),m>0&&(m=1/m),a={screen_x:(-_*r.screen_x+d*n.screen_x+b*s.screen_x)*p,screen_y:(-_*r.screen_y+d*n.screen_y+b*s.screen_y)*p},l={screen_x:(y*n.screen_x+f*s.screen_x-_*o.screen_x)*m,screen_y:(y*n.screen_y+f*s.screen_y-_*o.screen_y)*m},a.screen_x==0&&a.screen_y==0&&(a=n),l.screen_x==0&&l.screen_y==0&&(l=s),S.push([a.screen_x,a.screen_y]),S.push([l.screen_x,l.screen_y]),S.push([s.screen_x,s.screen_y]);return S};Ii._linear=function(i){for(var e=[],t=0;t<i.length;t++)e.push([i[t].screen_x,i[t].screen_y]);return e};function ga(i,e,t,r){this.id=e;var n=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=k.selectiveBridgeObject(n,t),this.usingDefaultStyle=i.className===void 0,this.groupsUsingDefaultStyles=r,this.zeroPosition=0,this.update(i),this.usingDefaultStyle==!0&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=i.visible===void 0?!0:i.visible}ga.prototype.setItems=function(i){i!=null?(this.itemsData=i,bi(this.options)==!0&&k.insertSort(this.itemsData,function(e,t){return e.x>t.x?1:-1})):this.itemsData=[]};ga.prototype.getItems=function(){return this.itemsData};ga.prototype.setZeroPosition=function(i){this.zeroPosition=i};ga.prototype.setOptions=function(i){if(i!==void 0){var e=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];k.selectiveDeepExtend(e,this.options,i),typeof i.drawPoints=="function"&&(i.drawPoints={onRender:i.drawPoints}),k.mergeOptions(this.options,i,"interpolation"),k.mergeOptions(this.options,i,"drawPoints"),k.mergeOptions(this.options,i,"shaded"),i.interpolation&&typeof i.interpolation=="object"&&i.interpolation.parametrization&&(i.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:i.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}};ga.prototype.update=function(i){this.group=i,this.content=i.content||"graph",this.className=i.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=i.visible===void 0?!0:i.visible,this.style=i.style,this.setOptions(i.options)};ga.prototype.getLegend=function(i,e,t,r,n){if(t==null||t==null){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");t={svg:s,svgElements:{},options:this.options,groups:[this]}}switch((r==null||r==null)&&(r=0),(n==null||n==null)&&(n=.5*e),this.options.style){case"line":Ii.drawIcon(this,r,n,i,e,t);break;case"points":case"point":Sp.drawIcon(this,r,n,i,e,t);break;case"bar":Zi.drawIcon(this,r,n,i,e,t);break}return{icon:t.svg,label:this.content,orientation:this.options.yAxisOrientation}};ga.prototype.getYRange=function(i){for(var e=i[0].y,t=i[0].y,r=0;r<i.length;r++)e=e>i[r].y?i[r].y:e,t=t<i[r].y?i[r].y:t;return{min:e,max:t,yAxisOrientation:this.options.yAxisOrientation}};function Wr(i,e,t,r){this.body=i,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=t,this.options=k.extend({},this.defaultOptions),this.linegraphOptions=r,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}Wr.prototype=new ma;Wr.prototype.clear=function(){this.groups={},this.amountOfGroups=0};Wr.prototype.addGroup=function(i,e){e.options.excludeFromLegend!=!0&&(Object.prototype.hasOwnProperty.call(this.groups,i)||(this.groups[i]=e),this.amountOfGroups+=1)};Wr.prototype.updateGroup=function(i,e){this.groups[i]=e};Wr.prototype.removeGroup=function(i){Object.prototype.hasOwnProperty.call(this.groups,i)&&(delete this.groups[i],this.amountOfGroups-=1)};Wr.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)};Wr.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};Wr.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};Wr.prototype.setOptions=function(i){var e=["enabled","orientation","icons","left","right"];k.selectiveDeepExtend(e,this.options,i)};Wr.prototype.redraw=function(){var i=0,e=Ai(this.groups);bi(e).call(e,function(o,a){return o<a?-1:1});for(var t=0;t<e.length;t++){var r=e[t];this.groups[r].visible==!0&&(this.linegraphOptions.visibility[r]===void 0||this.linegraphOptions.visibility[r]==!0)&&i++}if(this.options[this.side].visible==!1||this.amountOfGroups==0||this.options.enabled==!1||i==0)this.hide();else{if(this.show(),this.options[this.side].position=="top-left"||this.options[this.side].position=="bottom-left"?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),this.options[this.side].position=="top-left"||this.options[this.side].position=="top-right")this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var n=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+n+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}this.options.icons==!1?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var s="";for(t=0;t<e.length;t++)r=e[t],this.groups[r].visible==!0&&(this.linegraphOptions.visibility[r]===void 0||this.linegraphOptions.visibility[r]==!0)&&(s+=this.groups[r].content+"<br />");this.dom.textArea.innerHTML=k.xss(s),this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}};Wr.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var i=Ai(this.groups);bi(i).call(i,function(c,u){return c<u?-1:1}),fje(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,t=Number(e.replace("px","")),r=t,n=this.options.iconSize,s=.75*this.options.iconSize,o=t+.5*s+3;this.svg.style.width=n+5+t+"px";for(var a=0;a<i.length;a++){var l=i[a];this.groups[l].visible==!0&&(this.linegraphOptions.visibility[l]===void 0||this.linegraphOptions.visibility[l]==!0)&&(this.groups[l].getLegend(n,s,this.framework,r,o),o+=s+this.options.iconSpacing)}}};var Dg="__ungrouped__";function bt(i,e){this.id=Zc(),this.body=i,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=k.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var t=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(r,n){t._onAdd(n.items)},update:function(r,n){t._onUpdate(n.items)},remove:function(r,n){t._onRemove(n.items)}},this.groupListeners={add:function(r,n){t._onAddGroups(n.items)},update:function(r,n){t._onUpdateGroups(n.items)},remove:function(r,n){t._onRemoveGroups(n.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){t.svg.style.left=k.option.asSize(-t.props.width),t.forceGraphUpdate=!0,t.redraw.call(t)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}bt.prototype=new ma;bt.prototype._create=function(){var i=document.createElement("div");i.className="vis-line-graph",this.dom.frame=i,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",i.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new z6(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new z6(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new Wr(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new Wr(this.body,this.options.legend,"right",this.options.groups),this.show()};bt.prototype.setOptions=function(i){if(i){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];i.graphHeight===void 0&&i.height!==void 0?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):this.body.domProps.centerContainer.height!==void 0&&i.graphHeight!==void 0&&Ir((i.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),k.selectiveDeepExtend(e,this.options,i),k.mergeOptions(this.options,i,"interpolation"),k.mergeOptions(this.options,i,"drawPoints"),k.mergeOptions(this.options,i,"shaded"),k.mergeOptions(this.options,i,"legend"),i.interpolation&&typeof i.interpolation=="object"&&i.interpolation.parametrization&&(i.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:i.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&i.dataAxis!==void 0&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&i.legend!==void 0&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),Object.prototype.hasOwnProperty.call(this.groups,Dg)&&this.groups[Dg].setOptions(i)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))};bt.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};bt.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};bt.prototype.setItems=function(i){var e=this,t,r=this.itemsData;if(!i)this.itemsData=null;else if(bl(i))this.itemsData=Eg(i);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(r&&(le(k).call(k,this.itemListeners,function(s,o){r.off(o,s)}),r.dispose(),t=r.getIds(),this._onRemove(t)),this.itemsData){var n=this.id;le(k).call(k,this.itemListeners,function(s,o){e.itemsData.on(o,s,n)}),t=this.itemsData.getIds(),this._onAdd(t)}};bt.prototype.setGroups=function(i){var e=this,t;if(this.groupsData){le(k).call(k,this.groupListeners,function(s,o){e.groupsData.off(o,s)}),t=this.groupsData.getIds(),this.groupsData=null;for(var r=0;r<t.length;r++)this._removeGroup(t[r])}if(!i)this.groupsData=null;else if(bl(i))this.groupsData=i;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){var n=this.id;le(k).call(k,this.groupListeners,function(s,o){e.groupsData.on(o,s,n)}),t=this.groupsData.getIds(),this._onAddGroups(t)}};bt.prototype._onUpdate=function(i){this._updateAllGroupData(i)};bt.prototype._onAdd=function(i){this._onUpdate(i)};bt.prototype._onRemove=function(i){this._onUpdate(i)};bt.prototype._onUpdateGroups=function(i){this._updateAllGroupData(null,i)};bt.prototype._onAddGroups=function(i){this._onUpdateGroups(i)};bt.prototype._onRemoveGroups=function(i){for(var e=0;e<i.length;e++)this._removeGroup(i[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})};bt.prototype._removeGroup=function(i){Object.prototype.hasOwnProperty.call(this.groups,i)&&(this.groups[i].options.yAxisOrientation=="right"?(this.yAxisRight.removeGroup(i),this.legendRight.removeGroup(i),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(i),this.legendLeft.removeGroup(i),this.legendLeft.redraw()),delete this.groups[i])};bt.prototype._updateGroup=function(i,e){Object.prototype.hasOwnProperty.call(this.groups,e)?(this.groups[e].update(i),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new ga(i,e,this.options,this.groupsUsingDefaultStyles),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()};bt.prototype._updateAllGroupData=function(i,e){if(this.itemsData!=null){var t={},r=this.itemsData.get(),n=this.itemsData.idProp,s={};i&&yi(i).call(i,function(g){s[g]=g});for(var o={},a=0;a<r.length;a++){var l=r[a],c=l.group;c==null&&(c=Dg),Object.prototype.hasOwnProperty.call(o,c)?o[c]++:o[c]=1}var u={};if(!e&&i){for(c in this.groups)if(Object.prototype.hasOwnProperty.call(this.groups,c)){m=this.groups[c];var h=m.getItems();t[c]=Ye(h).call(h,function(g){return u[g[n]]=g[n],g[n]!==s[g[n]]});var d=o[c];o[c]-=t[c].length,t[c].length<d&&(t[c][d-1]={})}}for(a=0;a<r.length;a++)if(l=r[a],c=l.group,c==null&&(c=Dg),!(!e&&i&&l[n]!==s[l[n]]&&Object.prototype.hasOwnProperty.call(u,l[n]))){Object.prototype.hasOwnProperty.call(t,c)||(t[c]=new Array(o[c]));var f=k.bridgeObject(l);f.x=k.convert(l.x,"Date"),f.end=k.convert(l.end,"Date"),f.orginalY=l.y,f.y=Number(l.y),f[n]=l[n];var p=t[c].length-o[c]--;t[c][p]=f}for(c in this.groups)!Object.prototype.hasOwnProperty.call(this.groups,c)||Object.prototype.hasOwnProperty.call(t,c)||(t[c]=new Array(0));for(c in t)if(Object.prototype.hasOwnProperty.call(t,c))if(t[c].length==0)Object.prototype.hasOwnProperty.call(this.groups,c)&&this._removeGroup(c);else{var m=void 0;this.groupsData!=null&&(m=this.groupsData.get(c)),m==null&&(m={id:c,content:this.options.defaultGroup+c}),this._updateGroup(m,c),this.groups[c].setItems(t[c])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}};bt.prototype.redraw=function(){var i=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,i=this._isResized()||i;var e=this.body.range.end-this.body.range.start,t=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,i==!0){var r;this.svg.style.width=k.option.asSize(3*this.props.width),this.svg.style.left=k.option.asSize(-this.props.width),(gt(r=this.options.height+"").call(r,"%")!=-1||this.updateSVGheightOnResize==!0)&&(this.updateSVGheight=!0)}if(this.updateSVGheight==!0?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",i==!0||t==!0||this.abortedGraphUpdate==!0||this.forceGraphUpdate==!0)i=this._updateGraph()||i,this.forceGraphUpdate=!1,this.lastStart=this.body.range.start,this.svg.style.left=-this.props.width+"px";else if(this.lastStart!=0){var n=this.body.range.start-this.lastStart,s=this.body.range.end-this.body.range.start;if(this.props.width!=0){var o=this.props.width/s,a=n*o;this.svg.style.left=-this.props.width-a+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),i};bt.prototype._getSortedGroupIds=function(){var i=[];for(var e in this.groups)if(Object.prototype.hasOwnProperty.call(this.groups,e)){var t=this.groups[e];t.visible==!0&&(this.options.groups.visibility[e]===void 0||this.options.groups.visibility[e]==!0)&&i.push({id:e,zIndex:t.options.zIndex})}k.insertSort(i,function(s,o){var a=s.zIndex,l=o.zIndex;return a===void 0&&(a=0),l===void 0&&(l=0),a==l?0:a<l?-1:1});for(var r=new Array(i.length),n=0;n<i.length;n++)r[n]=i[n].id;return r};bt.prototype._updateGraph=function(){if($o(this.svgElements),this.props.width!=0&&this.itemsData!=null){var i,e,t={},r=!1,n=this.body.util.toGlobalTime(-this.body.domProps.root.width),s=this.body.util.toGlobalTime(2*this.body.domProps.root.width),o=this._getSortedGroupIds();if(o.length>0){var a={};for(this._getRelevantData(o,a,n,s),this._applySampling(o,a),e=0;e<o.length;e++)this._convertXcoordinates(a[o[e]]);if(this._getYRanges(o,a,t),r=this._updateYAxis(o,t),r==!0)return Xr(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var l=void 0;for(e=0;e<o.length;e++)i=this.groups[o[e]],this.options.stack===!0&&this.options.style==="line"&&(i.options.excludeFromStacking==null||!i.options.excludeFromStacking)&&(l!=null&&(this._stack(a[i.id],a[l.id]),i.options.shaded.enabled==!0&&i.options.shaded.orientation!=="group"&&(i.options.shaded.orientation=="top"&&l.options.shaded.orientation!=="group"?(l.options.shaded.orientation="group",l.options.shaded.groupId=i.id):(i.options.shaded.orientation="group",i.options.shaded.groupId=l.id))),l=i),this._convertYcoordinates(a[o[e]],i);var c={};for(e=0;e<o.length;e++)if(i=this.groups[o[e]],i.options.style==="line"&&i.options.shaded.enabled==!0){var u=a[o[e]];if(u==null||u.length==0)continue;if(Object.prototype.hasOwnProperty.call(c,o[e])||(c[o[e]]=Ii.calcPath(u,i)),i.options.shaded.orientation==="group"){var h=i.options.shaded.groupId;if(gt(o).call(o,h)===-1){console.log(i.id+": Unknown shading group target given:"+h);continue}Object.prototype.hasOwnProperty.call(c,h)||(c[h]=Ii.calcPath(a[h],this.groups[h])),Ii.drawShading(c[o[e]],i,c[h],this.framework)}else Ii.drawShading(c[o[e]],i,void 0,this.framework)}for(Zi.draw(o,a,this.framework),e=0;e<o.length;e++)if(i=this.groups[o[e]],a[o[e]].length>0)switch(i.options.style){case"line":Object.prototype.hasOwnProperty.call(c,o[e])||(c[o[e]]=Ii.calcPath(a[o[e]],i)),Ii.draw(c[o[e]],i,this.framework);case"point":case"points":(i.options.style=="point"||i.options.style=="points"||i.options.drawPoints.enabled==!0)&&Sp.draw(a[o[e]],i,this.framework);break}}}return Xr(this.svgElements),!1};bt.prototype._stack=function(i,e){var t,r,n,s,o;t=0;for(var a=0;a<i.length;a++){s=void 0,o=void 0;for(var l=t;l<e.length;l++)if(e[l].x===i[a].x){s=e[l],o=e[l],t=l;break}else if(e[l].x>i[a].x){o=e[l],l==0?s=o:s=e[l-1],t=l;break}o===void 0&&(s=e[e.length-1],o=e[e.length-1]),r=o.x-s.x,n=o.y-s.y,r==0?i[a].y=i[a].orginalY+o.y:i[a].y=i[a].orginalY+n/r*(i[a].x-s.x)+s.y}};bt.prototype._getRelevantData=function(i,e,t,r){var n,s,o,a;if(i.length>0)for(s=0;s<i.length;s++){n=this.groups[i[s]];var l=n.getItems();if(bi(n.options)==!0){var c=function(f,p){return f.getTime()==p.getTime()?0:f<p?-1:1},u=Math.max(0,k.binarySearchValue(l,t,"x","before",c)),h=Math.min(l.length,k.binarySearchValue(l,r,"x","after",c)+1);h<=0&&(h=l.length);var d=new Array(h-u);for(o=u;o<h;o++)a=n.itemsData[o],d[o-u]=a;e[i[s]]=d}else e[i[s]]=n.itemsData}};bt.prototype._applySampling=function(i,e){var t;if(i.length>0){for(var r=0;r<i.length;r++)if(t=this.groups[i[r]],t.options.sampling==!0){var n=e[i[r]];if(n.length>0){var s=1,o=n.length,a=this.body.util.toGlobalScreen(n[n.length-1].x)-this.body.util.toGlobalScreen(n[0].x),l=o/a;s=Math.min(Math.ceil(.2*o),Math.max(1,Math.round(l)));for(var c=new Array(o),u=0;u<o;u+=s){var h=Math.round(u/s);c[h]=n[u]}e[i[r]]=mr(c).call(c,0,Math.round(o/s))}}}};bt.prototype._getYRanges=function(i,e,t){var r,n,s,o=[],a=[],l;if(i.length>0){for(s=0;s<i.length;s++)r=e[i[s]],l=this.groups[i[s]].options,r.length>0&&(n=this.groups[i[s]],l.stack===!0&&l.style==="bar"?l.yAxisOrientation==="left"?o=Jt(o).call(o,r):a=Jt(a).call(a,r):t[i[s]]=n.getYRange(r,i[s]));Zi.getStackedYRange(o,t,i,"__barStackLeft","left"),Zi.getStackedYRange(a,t,i,"__barStackRight","right")}};bt.prototype._updateYAxis=function(i,e){var t=!1,r=!1,n=!1,s=1e9,o=1e9,a=-1e9,l=-1e9,c,u;if(i.length>0){for(var h=0;h<i.length;h++){var d=this.groups[i[h]];d&&d.options.yAxisOrientation!="right"?(r=!0,s=1e9,a=-1e9):d&&d.options.yAxisOrientation&&(n=!0,o=1e9,l=-1e9)}for(h=0;h<i.length;h++)!Object.prototype.hasOwnProperty.call(e,i[h])||e[i[h]].ignore===!0||(c=e[i[h]].min,u=e[i[h]].max,e[i[h]].yAxisOrientation!="right"?(r=!0,s=s>c?c:s,a=a<u?u:a):(n=!0,o=o>c?c:o,l=l<u?u:l));r==!0&&this.yAxisLeft.setRange(s,a),n==!0&&this.yAxisRight.setRange(o,l)}t=this._toggleAxisVisiblity(r,this.yAxisLeft)||t,t=this._toggleAxisVisiblity(n,this.yAxisRight)||t,n==!0&&r==!0?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!r,this.yAxisRight.masterAxis=this.yAxisLeft,this.yAxisRight.master==!1?(n==!0?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0,t=this.yAxisLeft.redraw()||t,t=this.yAxisRight.redraw()||t):t=this.yAxisRight.redraw()||t;var f=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(h=0;h<f.length;h++)gt(i).call(i,f[h])!=-1&&mr(i).call(i,gt(i).call(i,f[h]),1);return t};bt.prototype._toggleAxisVisiblity=function(i,e){var t=!1;return i==!1?e.dom.frame.parentNode&&e.hidden==!1&&(e.hide(),t=!0):!e.dom.frame.parentNode&&e.hidden==!0&&(e.show(),t=!0),t};bt.prototype._convertXcoordinates=function(i){for(var e=this.body.util.toScreen,t=0;t<i.length;t++)i[t].screen_x=e(i[t].x)+this.props.width,i[t].screen_y=i[t].y,i[t].end!=null?i[t].screen_end=e(i[t].end)+this.props.width:i[t].screen_end=void 0};bt.prototype._convertYcoordinates=function(i,e){var t=this.yAxisLeft,r=Number(this.svg.style.height.replace("px",""));e.options.yAxisOrientation=="right"&&(t=this.yAxisRight);for(var n=0;n<i.length;n++)i[n].screen_y=Math.round(t.convertValue(i[n].y));e.setZeroPosition(Math.min(r,t.convertValue(0)))};let Re="string",He="boolean",pt="number",vje="array",fc="date",It="object",yje="dom",pc="moment",H6="any",bje={configure:{enabled:{boolean:He},filter:{boolean:He,function:"function"},container:{dom:yje},__type__:{object:It,boolean:He,function:"function"}},alignCurrentTime:{string:Re,undefined:"undefined"},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:Re},sort:{boolean:He},sampling:{boolean:He},stack:{boolean:He},graphHeight:{string:Re,number:pt},shaded:{enabled:{boolean:He},orientation:{string:["bottom","top","zero","group"]},groupId:{object:It},__type__:{boolean:He,object:It}},style:{string:["line","bar","points"]},barChart:{width:{number:pt},minWidth:{number:pt},sideBySide:{boolean:He},align:{string:["left","center","right"]},__type__:{object:It}},interpolation:{enabled:{boolean:He},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:pt},__type__:{object:It,boolean:He}},drawPoints:{enabled:{boolean:He},onRender:{function:"function"},size:{number:pt},style:{string:["square","circle"]},__type__:{object:It,boolean:He,function:"function"}},dataAxis:{showMinorLabels:{boolean:He},showMajorLabels:{boolean:He},showWeekScale:{boolean:He},icons:{boolean:He},width:{string:Re,number:pt},visible:{boolean:He},alignZeros:{boolean:He},left:{range:{min:{number:pt,undefined:"undefined"},max:{number:pt,undefined:"undefined"},__type__:{object:It}},format:{function:"function"},title:{text:{string:Re,number:pt,undefined:"undefined"},style:{string:Re,undefined:"undefined"},__type__:{object:It}},__type__:{object:It}},right:{range:{min:{number:pt,undefined:"undefined"},max:{number:pt,undefined:"undefined"},__type__:{object:It}},format:{function:"function"},title:{text:{string:Re,number:pt,undefined:"undefined"},style:{string:Re,undefined:"undefined"},__type__:{object:It}},__type__:{object:It}},__type__:{object:It}},legend:{enabled:{boolean:He},icons:{boolean:He},left:{visible:{boolean:He},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:It}},right:{visible:{boolean:He},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:It}},__type__:{object:It,boolean:He}},groups:{visibility:{any:H6},__type__:{object:It}},autoResize:{boolean:He},throttleRedraw:{number:pt},clickToUse:{boolean:He},end:{number:pt,date:fc,string:Re,moment:pc},format:{minorLabels:{millisecond:{string:Re,undefined:"undefined"},second:{string:Re,undefined:"undefined"},minute:{string:Re,undefined:"undefined"},hour:{string:Re,undefined:"undefined"},weekday:{string:Re,undefined:"undefined"},day:{string:Re,undefined:"undefined"},week:{string:Re,undefined:"undefined"},month:{string:Re,undefined:"undefined"},quarter:{string:Re,undefined:"undefined"},year:{string:Re,undefined:"undefined"},__type__:{object:It}},majorLabels:{millisecond:{string:Re,undefined:"undefined"},second:{string:Re,undefined:"undefined"},minute:{string:Re,undefined:"undefined"},hour:{string:Re,undefined:"undefined"},weekday:{string:Re,undefined:"undefined"},day:{string:Re,undefined:"undefined"},week:{string:Re,undefined:"undefined"},month:{string:Re,undefined:"undefined"},quarter:{string:Re,undefined:"undefined"},year:{string:Re,undefined:"undefined"},__type__:{object:It}},__type__:{object:It}},moment:{function:"function"},height:{string:Re,number:pt},hiddenDates:{start:{date:fc,number:pt,string:Re,moment:pc},end:{date:fc,number:pt,string:Re,moment:pc},repeat:{string:Re},__type__:{object:It,array:vje}},locale:{string:Re},locales:{__any__:{any:H6},__type__:{object:It}},max:{date:fc,number:pt,string:Re,moment:pc},maxHeight:{number:pt,string:Re},maxMinorChars:{number:pt},min:{date:fc,number:pt,string:Re,moment:pc},minHeight:{number:pt,string:Re},moveable:{boolean:He},multiselect:{boolean:He},orientation:{string:Re},showCurrentTime:{boolean:He},showMajorLabels:{boolean:He},showMinorLabels:{boolean:He},showWeekScale:{boolean:He},snap:{function:"function",null:"null"},start:{date:fc,number:pt,string:Re,moment:pc},timeAxis:{scale:{string:Re,undefined:"undefined"},step:{number:pt,undefined:"undefined"},__type__:{object:It}},width:{string:Re,number:pt},zoomable:{boolean:He},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:pt},zoomMin:{number:pt},zIndex:{number:pt},__type__:{object:It}},_je={global:{alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",quarter:"[Q]Q",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",quarter:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,showWeekScale:!1,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};function So(i,e,t,r){var n,s,o,a,l,c,u;if(!(_t(t)||bl(t))&&t instanceof Object){var h=r;r=t,t=h}r&&r.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var d=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:Nr,width:null,height:null,maxHeight:null,minHeight:null},this.options=k.deepExtend({},this.defaultOptions),this._create(i),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:V(n=this.on).call(n,this),off:V(s=this.off).call(s,this),emit:V(o=this.emit).call(o,this)},hiddenDates:[],util:{getScale(){return d.timeAxis.step.scale},getStep(){return d.timeAxis.step.step},toScreen:V(a=d._toScreen).call(a,d),toGlobalScreen:V(l=d._toGlobalScreen).call(l,d),toTime:V(c=d._toTime).call(c,d),toGlobalTime:V(u=d._toGlobalTime).call(u,d)}},this.range=new OA(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new zD(this.body),this.components.push(this.timeAxis),this.currentTime=new rqe(this.body),this.components.push(this.currentTime),this.linegraph=new bt(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(f){d.emit("click",d.getEventProperties(f))}),this.on("doubletap",function(f){d.emit("doubleClick",d.getEventProperties(f))}),this.dom.root.oncontextmenu=function(f){d.emit("contextmenu",d.getEventProperties(f))},this.initialFitDone=!1,this.on("changed",function(){if(d.itemsData!=null){if(!d.initialFitDone&&!d.options.rollingMode)if(d.initialFitDone=!0,d.options.start!=null||d.options.end!=null){if(d.options.start==null||d.options.end==null)var f=d.getItemRange();var p=d.options.start!=null?d.options.start:f.min,m=d.options.end!=null?d.options.end:f.max;d.setWindow(p,m,{animation:!1})}else d.fit({animation:!1});!d.initialDrawDone&&(d.initialRangeChangeDone||!d.options.start&&!d.options.end||d.options.rollingMode)&&(d.initialDrawDone=!0,d.dom.root.style.visibility="visible",d.dom.loadingScreen.parentNode.removeChild(d.dom.loadingScreen),d.options.onInitialDrawComplete&&Lr(()=>d.options.onInitialDrawComplete(),0))}}),r&&this.setOptions(r),t&&this.setGroups(t),e&&this.setItems(e),this._redraw()}So.prototype=new kA;So.prototype.setOptions=function(i){Nt.validate(i,bje)===!0&&console.log("%cErrors have been found in the supplied options object.",YD),kA.prototype.setOptions.call(this,i)};So.prototype.setItems=function(i){var e=this.itemsData==null,t;if(i?bl(i)?t=Eg(i):t=Eg(new ll(i)):t=null,this.itemsData&&this.itemsData.dispose(),this.itemsData=t,this.linegraph&&this.linegraph.setItems(t!=null?t.rawDS:null),e)if(this.options.start!=null||this.options.end!=null){var r=this.options.start!=null?this.options.start:null,n=this.options.end!=null?this.options.end:null;this.setWindow(r,n,{animation:!1})}else this.fit({animation:!1})};So.prototype.setGroups=function(i){var e;i?bl(i)?e=i:e=new ll(i):e=null,this.groupsData=e,this.linegraph.setGroups(e)};So.prototype.getLegend=function(i,e,t){return e===void 0&&(e=15),t===void 0&&(t=15),this.linegraph.groups[i]!==void 0?this.linegraph.groups[i].getLegend(e,t):"cannot find group:'"+i+"'"};So.prototype.isGroupVisible=function(i){return this.linegraph.groups[i]!==void 0?this.linegraph.groups[i].visible&&(this.linegraph.options.groups.visibility[i]===void 0||this.linegraph.options.groups.visibility[i]==!0):!1};So.prototype.getDataRange=function(){var i=null,e=null;for(var t in this.linegraph.groups)if(!(!Object.prototype.hasOwnProperty.call(this.linegraph.groups,t)||this.linegraph.groups[t].visible!==!0))for(var r=0;r<this.linegraph.groups[t].itemsData.length;r++){var n=this.linegraph.groups[t].itemsData[r],s=k.convert(n.x,"Date").valueOf();i=i==null||i>s?s:i,e=e==null||e<s?s:e}return{min:i!=null?new Date(i):null,max:e!=null?new Date(e):null}};So.prototype.getEventProperties=function(i){var e=i.center?i.center.x:i.clientX,t=i.center?i.center.y:i.clientY,r=e-k.getAbsoluteLeft(this.dom.centerContainer),n=t-k.getAbsoluteTop(this.dom.centerContainer),s=this._toTime(r),o=Lre.customTimeFromTarget(i),a=k.getTarget(i),l=null;k.hasParent(a,this.timeAxis.dom.foreground)||this.timeAxis2&&k.hasParent(a,this.timeAxis2.dom.foreground)?l="axis":k.hasParent(a,this.linegraph.yAxisLeft.dom.frame)||k.hasParent(a,this.linegraph.yAxisRight.dom.frame)?l="data-axis":k.hasParent(a,this.linegraph.legendLeft.dom.frame)||k.hasParent(a,this.linegraph.legendRight.dom.frame)?l="legend":o!=null?l="custom-time":k.hasParent(a,this.currentTime.bar)?l="current-time":k.hasParent(a,this.dom.center)&&(l="background");var c=[],u=this.linegraph.yAxisLeft,h=this.linegraph.yAxisRight;return!u.hidden&&this.itemsData.length>0&&c.push(u.screenToValue(n)),!h.hidden&&this.itemsData.length>0&&c.push(h.screenToValue(n)),{event:i,customTime:o?o.options.id:null,what:l,pageX:i.srcEvent?i.srcEvent.pageX:i.pageX,pageY:i.srcEvent?i.srcEvent.pageY:i.pageY,x:r,y:n,time:s,value:c}};So.prototype._createConfigurator=function(){return new dje(this,this.dom.container,_je)};const wje=pje();K.locale(wje);const Hre=vv(i=>({setStart:e=>i({start:e})}));vv(i=>({setFocusedEvent:e=>i({focusedEvent:e})}));const XD=[{id:"location",content:`<div style="height: 36px; padding-top: 6px; padding-inline: 4px;">${zbe}</div>`,clusterIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"/><circle cx="12" cy="10" r="3"/></svg>'},{id:"audio",content:`<div style="height: 36px; padding-top: 6px; padding-inline: 4px;">${Vbe}</div>`,clusterIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"/><path d="M16 9a5 5 0 0 1 0 6"/><path d="M19.364 18.364a9 9 0 0 0 0-12.728"/></svg>'},{id:"visual",content:`<div style="height: 36px; padding-top: 6px; padding-inline: 4px;">${Wbe}</div>`},{id:"text",content:`<div style="height: 36px; padding-top: 6px; padding-inline: 4px;">${Bbe}</div>`},{id:"event",content:`<div style="height: 36px; padding-top: 6px; padding-inline: 4px;">${Gbe}</div>`}];function xje({enityId:i,entityType:e}){const t=Md(Yc,u=>u.timeRange),{data:r}=Ng(HZ(e,i,t)),n=C.useRef(null),s=Md(Hre);C.useEffect(function(){n.current&&n.current.on("click",h=>{n.current?.getEventProperties(h.event)})},[n,r]);const o=C.useMemo(()=>new Date(t.start.getTime()-1800*1e3),[t]),a=C.useMemo(()=>new Date((t.end?.getTime()??Date.now())+1800*1e3),[t]);C.useEffect(function(){n.current},[a,o,t]);const l=C.useMemo(()=>new ll(XD),[]),c=C.useMemo(()=>new ll,[]);if(r&&c.getIds().length===0)for(const u of r)c.add(u);return r?O.jsx(oie,{timelineRef:n,items:c,groups:l,timelineOptions:{moveable:!0,min:o,start:o,end:a,max:a,template:Sje},clusterTemplate:({items:u,group:h})=>[`<div style="display: flex; align-items: center; gap: 2px;">${u.length.toString()} ${XD.find(d=>d.id===h.groupId)?.clusterIcon}</div>`],markerStart:s.start,onMarkerStartChange:s.setStart}):O.jsx("div",{className:"flex h-full animate-spin items-center",children:O.jsx(Ene,{})})}function Sje(i,e,t){if(i.isCluster)return`<div style="display: flex; align-items: center; gap: 2px;">${i.items.length.toString()} ${XD.find(r=>r.id===i.group.groupId)?.clusterIcon}</div>`;switch(i.t){case"point":case"loc":return'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"/><circle cx="12" cy="10" r="3"/></svg>';case"event":return`<span class="m-auto" title="${i.what}">${i.what}</span>`;case"audio":{const r=qve({start:new Date(i.start),end:new Date(i.end??i.start)}),n=r.minutes||0,s=r.seconds||0;return`<div style="display: flex; align-items: center; gap: 6px; padding: 2px 6px;"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"/><path d="M16 9a5 5 0 0 1 0 6"/><path d="M19.364 18.364a9 9 0 0 0 0-12.728"/></svg><span style="font-size: 12px; white-space: nowrap;">${`${n}:${s.toString().padStart(2,"0")}`}</span></div>`}default:return""}}function Eje({map:i,store:e,entities:t,select:r,focusedEntityId:n,onFocusEntity:s}){const o=()=>{n&&RZ(i,t,n)},[a,l]=n?.split("-",2)??[];return O.jsxs(O.Fragment,{children:[O.jsx(C.Activity,{mode:n?"hidden":"visible",children:O.jsx("div",{className:"mr-24 flex h-full items-center justify-center p-4 py-6",children:O.jsx(cke,{mapStore:e,entities:t,select:r,onFocusEntity:s})})}),O.jsx(C.Activity,{mode:n?"visible":"hidden",children:O.jsxs(m_e,{className:"mx-auto flex h-full max-w-4xl flex-col items-center justify-start p-4",defaultValue:"timeline",dir:"rtl",children:[O.jsxs(XQ,{className:"h-min w-min bg-secondary/50",children:[O.jsx(eD,{value:"timeline",children:" "}),O.jsx(eD,{value:"other-details",children:""})]}),O.jsx(Qm,{value:"timeline",className:"h-[296px] p-2",children:O.jsx(xje,{enityId:l,entityType:a})}),O.jsxs(Qm,{value:"other-details",className:"p-2",children:[O.jsx(KQ,{focusedEntityId:n,onFocus:o}),O.jsxs("div",{className:"flex gap-4",children:[O.jsx(Zh,{className:"mt-4 h-12 w-28"}),O.jsx(Zh,{className:"mt-4 h-12 w-64"})]}),O.jsx(Zh,{className:"mt-4 h-12 w-96"})]})]})})]})}const _y=C.createContext(null);_y.displayName="PanelGroupContext";const zt={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},$A=10,Xa=C.useLayoutEffect,Y6=QD.useId,Cje=typeof Y6=="function"?Y6:()=>null;let Tje=0;function FA(i=null){const e=Cje(),t=C.useRef(i||e||null);return t.current===null&&(t.current=""+Tje++),i??t.current}function Yre({children:i,className:e="",collapsedSize:t,collapsible:r,defaultSize:n,forwardedRef:s,id:o,maxSize:a,minSize:l,onCollapse:c,onExpand:u,onResize:h,order:d,style:f,tagName:p="div",...m}){const g=C.useContext(_y);if(g===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:v,expandPanel:y,getPanelSize:_,getPanelStyle:b,groupId:w,isPanelCollapsed:S,reevaluatePanelConstraints:E,registerPanel:x,resizePanel:T,unregisterPanel:R}=g,P=FA(o),I=C.useRef({callbacks:{onCollapse:c,onExpand:u,onResize:h},constraints:{collapsedSize:t,collapsible:r,defaultSize:n,maxSize:a,minSize:l},id:P,idIsFromProps:o!==void 0,order:d});C.useRef({didLogMissingDefaultSizeWarning:!1}),Xa(()=>{const{callbacks:F,constraints:W}=I.current,N={...W};I.current.id=P,I.current.idIsFromProps=o!==void 0,I.current.order=d,F.onCollapse=c,F.onExpand=u,F.onResize=h,W.collapsedSize=t,W.collapsible=r,W.defaultSize=n,W.maxSize=a,W.minSize=l,(N.collapsedSize!==W.collapsedSize||N.collapsible!==W.collapsible||N.maxSize!==W.maxSize||N.minSize!==W.minSize)&&E(I.current,N)}),Xa(()=>{const F=I.current;return x(F),()=>{R(F)}},[d,P,x,R]),C.useImperativeHandle(s,()=>({collapse:()=>{v(I.current)},expand:F=>{y(I.current,F)},getId(){return P},getSize(){return _(I.current)},isCollapsed(){return S(I.current)},isExpanded(){return!S(I.current)},resize:F=>{T(I.current,F)}}),[v,y,_,S,P,T]);const $=b(I.current,n);return C.createElement(p,{...m,children:i,className:e,id:P,style:{...$,...f},[zt.groupId]:w,[zt.panel]:"",[zt.panelCollapsible]:r||void 0,[zt.panelId]:P,[zt.panelSize]:parseFloat(""+$.flexGrow).toFixed(1)})}const Ure=C.forwardRef((i,e)=>C.createElement(Yre,{...i,forwardedRef:e}));Yre.displayName="Panel";Ure.displayName="forwardRef(Panel)";let KD=null,km=-1,Fo=null;function Oje(i,e,t){const r=(e&Qre)!==0,n=(e&Jre)!==0,s=(e&ene)!==0,o=(e&tne)!==0;if(e){if(r)return s?"se-resize":o?"ne-resize":"e-resize";if(n)return s?"sw-resize":o?"nw-resize":"w-resize";if(s)return"s-resize";if(o)return"n-resize"}switch(i){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Rje(){Fo!==null&&(document.head.removeChild(Fo),KD=null,Fo=null,km=-1)}function iP(i,e,t){var r,n;const s=Oje(i,e);if(KD!==s){if(KD=s,Fo===null&&(Fo=document.createElement("style"),document.head.appendChild(Fo)),km>=0){var o;(o=Fo.sheet)===null||o===void 0||o.removeRule(km)}km=(r=(n=Fo.sheet)===null||n===void 0?void 0:n.insertRule(`*{cursor: ${s} !important;}`))!==null&&r!==void 0?r:-1}}function Vre(i){return i.type==="keydown"}function Xre(i){return i.type.startsWith("pointer")}function Kre(i){return i.type.startsWith("mouse")}function wy(i){if(Xre(i)){if(i.isPrimary)return{x:i.clientX,y:i.clientY}}else if(Kre(i))return{x:i.clientX,y:i.clientY};return{x:1/0,y:1/0}}function Pje(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Dje(i,e,t){return i.x<e.x+e.width&&i.x+i.width>e.x&&i.y<e.y+e.height&&i.y+i.height>e.y}function Ije(i,e){if(i===e)throw new Error("Cannot compare node with itself");const t={a:X6(i),b:X6(e)};let r;for(;t.a.at(-1)===t.b.at(-1);)i=t.a.pop(),e=t.b.pop(),r=i;ke(r,"Stacking order can only be calculated for elements with a common ancestor");const n={a:V6(U6(t.a)),b:V6(U6(t.b))};if(n.a===n.b){const s=r.childNodes,o={a:t.a.at(-1),b:t.b.at(-1)};let a=s.length;for(;a--;){const l=s[a];if(l===o.a)return 1;if(l===o.b)return-1}}return Math.sign(n.a-n.b)}const kje=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Mje(i){var e;const t=getComputedStyle((e=Zre(i))!==null&&e!==void 0?e:i).display;return t==="flex"||t==="inline-flex"}function Aje(i){const e=getComputedStyle(i);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||Mje(i))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||kje.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function U6(i){let e=i.length;for(;e--;){const t=i[e];if(ke(t,"Missing node"),Aje(t))return t}return null}function V6(i){return i&&Number(getComputedStyle(i).zIndex)||0}function X6(i){const e=[];for(;i;)e.push(i),i=Zre(i);return e}function Zre(i){const{parentNode:e}=i;return e&&e instanceof ShadowRoot?e.host:e}const Qre=1,Jre=2,ene=4,tne=8,Nje=Pje()==="coarse";let In=[],Qc=!1,Lo=new Map,xy=new Map;const cf=new Set;function $je(i,e,t,r,n){var s;const{ownerDocument:o}=e,a={direction:t,element:e,hitAreaMargins:r,setResizeHandlerState:n},l=(s=Lo.get(o))!==null&&s!==void 0?s:0;return Lo.set(o,l+1),cf.add(a),Ig(),function(){var u;xy.delete(i),cf.delete(a);const h=(u=Lo.get(o))!==null&&u!==void 0?u:1;if(Lo.set(o,h-1),Ig(),h===1&&Lo.delete(o),In.includes(a)){const d=In.indexOf(a);d>=0&&In.splice(d,1),Sy(),n("up",!0,null)}}}function Fje(i){const{target:e}=i,{x:t,y:r}=wy(i);Qc=!0,LA({target:e,x:t,y:r}),Ig(),In.length>0&&(kg("down",i),Sy(),i.preventDefault(),ine(e)||i.stopImmediatePropagation())}function rP(i){const{x:e,y:t}=wy(i);if(Qc&&i.type!=="pointerleave"&&i.buttons===0&&(Qc=!1,kg("up",i)),!Qc){const{target:r}=i;LA({target:r,x:e,y:t})}kg("move",i),Sy(),In.length>0&&i.preventDefault()}function nP(i){const{target:e}=i,{x:t,y:r}=wy(i);xy.clear(),Qc=!1,In.length>0&&(i.preventDefault(),ine(e)||i.stopImmediatePropagation()),kg("up",i),LA({target:e,x:t,y:r}),Sy(),Ig()}function ine(i){let e=i;for(;e;){if(e.hasAttribute(zt.resizeHandle))return!0;e=e.parentElement}return!1}function LA({target:i,x:e,y:t}){In.splice(0);let r=null;(i instanceof HTMLElement||i instanceof SVGElement)&&(r=i),cf.forEach(n=>{const{element:s,hitAreaMargins:o}=n,a=s.getBoundingClientRect(),{bottom:l,left:c,right:u,top:h}=a,d=Nje?o.coarse:o.fine;if(e>=c-d&&e<=u+d&&t>=h-d&&t<=l+d){if(r!==null&&document.contains(r)&&s!==r&&!s.contains(r)&&!r.contains(s)&&Ije(r,s)>0){let p=r,m=!1;for(;p&&!p.contains(s);){if(Dje(p.getBoundingClientRect(),a)){m=!0;break}p=p.parentElement}if(m)return}In.push(n)}})}function sP(i,e){xy.set(i,e)}function Sy(){let i=!1,e=!1;In.forEach(r=>{const{direction:n}=r;n==="horizontal"?i=!0:e=!0});let t=0;xy.forEach(r=>{t|=r}),i&&e?iP("intersection",t):i?iP("horizontal",t):e?iP("vertical",t):Rje()}let oP;function Ig(){var i;(i=oP)===null||i===void 0||i.abort(),oP=new AbortController;const e={capture:!0,signal:oP.signal};cf.size&&(Qc?(In.length>0&&Lo.forEach((t,r)=>{const{body:n}=r;t>0&&(n.addEventListener("contextmenu",nP,e),n.addEventListener("pointerleave",rP,e),n.addEventListener("pointermove",rP,e))}),Lo.forEach((t,r)=>{const{body:n}=r;n.addEventListener("pointerup",nP,e),n.addEventListener("pointercancel",nP,e)})):Lo.forEach((t,r)=>{const{body:n}=r;t>0&&(n.addEventListener("pointerdown",Fje,e),n.addEventListener("pointermove",rP,e))}))}function kg(i,e){cf.forEach(t=>{const{setResizeHandlerState:r}=t,n=In.includes(t);r(i,n,e)})}function Lje(){const[i,e]=C.useState(0);return C.useCallback(()=>e(t=>t+1),[])}function ke(i,e){if(!i)throw console.error(e),Error(e)}function xl(i,e,t=$A){return i.toFixed(t)===e.toFixed(t)?0:i>e?1:-1}function Gs(i,e,t=$A){return xl(i,e,t)===0}function Or(i,e,t){return xl(i,e,t)===0}function qje(i,e,t){if(i.length!==e.length)return!1;for(let r=0;r<i.length;r++){const n=i[r],s=e[r];if(!Or(n,s,t))return!1}return!0}function qc({panelConstraints:i,panelIndex:e,size:t}){const r=i[e];ke(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:n=0,collapsible:s,maxSize:o=100,minSize:a=0}=r;if(xl(t,a)<0)if(s){const l=(n+a)/2;xl(t,l)<0?t=n:t=a}else t=a;return t=Math.min(o,t),t=parseFloat(t.toFixed($A)),t}function Vh({delta:i,initialLayout:e,panelConstraints:t,pivotIndices:r,prevLayout:n,trigger:s}){if(Or(i,0))return e;const o=[...e],[a,l]=r;ke(a!=null,"Invalid first pivot index"),ke(l!=null,"Invalid second pivot index");let c=0;if(s==="keyboard"){{const h=i<0?l:a,d=t[h];ke(d,`Panel constraints not found for index ${h}`);const{collapsedSize:f=0,collapsible:p,minSize:m=0}=d;if(p){const g=e[h];if(ke(g!=null,`Previous layout not found for panel index ${h}`),Or(g,f)){const v=m-g;xl(v,Math.abs(i))>0&&(i=i<0?0-v:v)}}}{const h=i<0?a:l,d=t[h];ke(d,`No panel constraints found for index ${h}`);const{collapsedSize:f=0,collapsible:p,minSize:m=0}=d;if(p){const g=e[h];if(ke(g!=null,`Previous layout not found for panel index ${h}`),Or(g,m)){const v=g-f;xl(v,Math.abs(i))>0&&(i=i<0?0-v:v)}}}}{const h=i<0?1:-1;let d=i<0?l:a,f=0;for(;;){const m=e[d];ke(m!=null,`Previous layout not found for panel index ${d}`);const v=qc({panelConstraints:t,panelIndex:d,size:100})-m;if(f+=v,d+=h,d<0||d>=t.length)break}const p=Math.min(Math.abs(i),Math.abs(f));i=i<0?0-p:p}{let d=i<0?a:l;for(;d>=0&&d<t.length;){const f=Math.abs(i)-Math.abs(c),p=e[d];ke(p!=null,`Previous layout not found for panel index ${d}`);const m=p-f,g=qc({panelConstraints:t,panelIndex:d,size:m});if(!Or(p,g)&&(c+=p-g,o[d]=g,c.toFixed(3).localeCompare(Math.abs(i).toFixed(3),void 0,{numeric:!0})>=0))break;i<0?d--:d++}}if(qje(n,o))return n;{const h=i<0?l:a,d=e[h];ke(d!=null,`Previous layout not found for panel index ${h}`);const f=d+c,p=qc({panelConstraints:t,panelIndex:h,size:f});if(o[h]=p,!Or(p,f)){let m=f-p,v=i<0?l:a;for(;v>=0&&v<t.length;){const y=o[v];ke(y!=null,`Previous layout not found for panel index ${v}`);const _=y+m,b=qc({panelConstraints:t,panelIndex:v,size:_});if(Or(y,b)||(m-=b-y,o[v]=b),Or(m,0))break;i>0?v--:v++}}}const u=o.reduce((h,d)=>d+h,0);return Or(u,100)?o:n}function jje({layout:i,panelsArray:e,pivotIndices:t}){let r=0,n=100,s=0,o=0;const a=t[0];ke(a!=null,"No pivot index found"),e.forEach((h,d)=>{const{constraints:f}=h,{maxSize:p=100,minSize:m=0}=f;d===a?(r=m,n=p):(s+=m,o+=p)});const l=Math.min(n,100-s),c=Math.max(r,100-o),u=i[a];return{valueMax:l,valueMin:c,valueNow:u}}function uf(i,e=document){return Array.from(e.querySelectorAll(`[${zt.resizeHandleId}][data-panel-group-id="${i}"]`))}function rne(i,e,t=document){const n=uf(i,t).findIndex(s=>s.getAttribute(zt.resizeHandleId)===e);return n??null}function nne(i,e,t){const r=rne(i,e,t);return r!=null?[r,r+1]:[-1,-1]}function Gje(i){return i instanceof HTMLElement?!0:typeof i=="object"&&i!==null&&"tagName"in i&&"getAttribute"in i}function sne(i,e=document){if(Gje(e)&&e.dataset.panelGroupId==i)return e;const t=e.querySelector(`[data-panel-group][data-panel-group-id="${i}"]`);return t||null}function Ey(i,e=document){const t=e.querySelector(`[${zt.resizeHandleId}="${i}"]`);return t||null}function Wje(i,e,t,r=document){var n,s,o,a;const l=Ey(e,r),c=uf(i,r),u=l?c.indexOf(l):-1,h=(n=(s=t[u])===null||s===void 0?void 0:s.id)!==null&&n!==void 0?n:null,d=(o=(a=t[u+1])===null||a===void 0?void 0:a.id)!==null&&o!==void 0?o:null;return[h,d]}function Bje({committedValuesRef:i,eagerValuesRef:e,groupId:t,layout:r,panelDataArray:n,panelGroupElement:s,setLayout:o}){C.useRef({didWarnAboutMissingResizeHandle:!1}),Xa(()=>{if(!s)return;const a=uf(t,s);for(let l=0;l<n.length-1;l++){const{valueMax:c,valueMin:u,valueNow:h}=jje({layout:r,panelsArray:n,pivotIndices:[l,l+1]}),d=a[l];if(d!=null){const f=n[l];ke(f,`No panel data found for index "${l}"`),d.setAttribute("aria-controls",f.id),d.setAttribute("aria-valuemax",""+Math.round(c)),d.setAttribute("aria-valuemin",""+Math.round(u)),d.setAttribute("aria-valuenow",h!=null?""+Math.round(h):"")}}return()=>{a.forEach((l,c)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[t,r,n,s]),C.useEffect(()=>{if(!s)return;const a=e.current;ke(a,"Eager values not found");const{panelDataArray:l}=a,c=sne(t,s);ke(c!=null,`No group found for id "${t}"`);const u=uf(t,s);ke(u,`No resize handles found for group id "${t}"`);const h=u.map(d=>{const f=d.getAttribute(zt.resizeHandleId);ke(f,"Resize handle element has no handle id attribute");const[p,m]=Wje(t,f,l,s);if(p==null||m==null)return()=>{};const g=v=>{if(!v.defaultPrevented)switch(v.key){case"Enter":{v.preventDefault();const y=l.findIndex(_=>_.id===p);if(y>=0){const _=l[y];ke(_,`No panel data found for index ${y}`);const b=r[y],{collapsedSize:w=0,collapsible:S,minSize:E=0}=_.constraints;if(b!=null&&S){const x=Vh({delta:Or(b,w)?E-w:w-b,initialLayout:r,panelConstraints:l.map(T=>T.constraints),pivotIndices:nne(t,f,s),prevLayout:r,trigger:"keyboard"});r!==x&&o(x)}}break}}};return d.addEventListener("keydown",g),()=>{d.removeEventListener("keydown",g)}});return()=>{h.forEach(d=>d())}},[s,i,e,t,r,n,o])}function K6(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}function one(i,e){const t=i==="horizontal",{x:r,y:n}=wy(e);return t?r:n}function zje(i,e,t,r,n){const s=t==="horizontal",o=Ey(e,n);ke(o,`No resize handle element found for id "${e}"`);const a=o.getAttribute(zt.groupId);ke(a,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const c=one(t,i),u=sne(a,n);ke(u,`No group element found for id "${a}"`);const h=u.getBoundingClientRect(),d=s?h.width:h.height;return(c-l)/d*100}function Hje(i,e,t,r,n,s){if(Vre(i)){const o=t==="horizontal";let a=0;i.shiftKey?a=100:n!=null?a=n:a=10;let l=0;switch(i.key){case"ArrowDown":l=o?0:a;break;case"ArrowLeft":l=o?-a:0;break;case"ArrowRight":l=o?a:0;break;case"ArrowUp":l=o?0:-a;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:zje(i,e,t,r,s)}function Yje({panelDataArray:i}){const e=Array(i.length),t=i.map(s=>s.constraints);let r=0,n=100;for(let s=0;s<i.length;s++){const o=t[s];ke(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;a!=null&&(r++,e[s]=a,n-=a)}for(let s=0;s<i.length;s++){const o=t[s];ke(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;if(a!=null)continue;const l=i.length-r,c=n/l;r++,e[s]=c,n-=c}return e}function mc(i,e,t){e.forEach((r,n)=>{const s=i[n];ke(s,`Panel data not found for index ${n}`);const{callbacks:o,constraints:a,id:l}=s,{collapsedSize:c=0,collapsible:u}=a,h=t[l];if(h==null||r!==h){t[l]=r;const{onCollapse:d,onExpand:f,onResize:p}=o;p&&p(r,h),u&&(d||f)&&(f&&(h==null||Gs(h,c))&&!Gs(r,c)&&f(),d&&(h==null||!Gs(h,c))&&Gs(r,c)&&d())}})}function _m(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!=e[t])return!1;return!0}function Uje({defaultSize:i,dragState:e,layout:t,panelData:r,panelIndex:n,precision:s=3}){const o=t[n];let a;return o==null?a=i!=null?i.toFixed(s):"1":r.length===1?a="1":a=o.toFixed(s),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function Vje(i,e=10){let t=null;return(...n)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{i(...n)},e)}}function Z6(i){try{if(typeof localStorage<"u")i.getItem=e=>localStorage.getItem(e),i.setItem=(e,t)=>{localStorage.setItem(e,t)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),i.getItem=()=>null,i.setItem=()=>{}}}function ane(i){return`react-resizable-panels:${i}`}function lne(i){return i.map(e=>{const{constraints:t,id:r,idIsFromProps:n,order:s}=e;return n?r:s?`${s}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((e,t)=>e.localeCompare(t)).join(",")}function cne(i,e){try{const t=ane(i),r=e.getItem(t);if(r){const n=JSON.parse(r);if(typeof n=="object"&&n!=null)return n}}catch{}return null}function Xje(i,e,t){var r,n;const s=(r=cne(i,t))!==null&&r!==void 0?r:{},o=lne(e);return(n=s[o])!==null&&n!==void 0?n:null}function Kje(i,e,t,r,n){var s;const o=ane(i),a=lne(e),l=(s=cne(i,n))!==null&&s!==void 0?s:{};l[a]={expandToSizes:Object.fromEntries(t.entries()),layout:r};try{n.setItem(o,JSON.stringify(l))}catch(c){console.error(c)}}function Q6({layout:i,panelConstraints:e}){const t=[...i],r=t.reduce((s,o)=>s+o,0);if(t.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${t.map(s=>`${s}%`).join(", ")}`);if(!Or(r,100)&&t.length>0)for(let s=0;s<e.length;s++){const o=t[s];ke(o!=null,`No layout data found for index ${s}`);const a=100/r*o;t[s]=a}let n=0;for(let s=0;s<e.length;s++){const o=t[s];ke(o!=null,`No layout data found for index ${s}`);const a=qc({panelConstraints:e,panelIndex:s,size:o});o!=a&&(n+=o-a,t[s]=a)}if(!Or(n,0))for(let s=0;s<e.length;s++){const o=t[s];ke(o!=null,`No layout data found for index ${s}`);const a=o+n,l=qc({panelConstraints:e,panelIndex:s,size:a});if(o!==l&&(n-=l-o,t[s]=l,Or(n,0)))break}return t}const Zje=100,Xh={getItem:i=>(Z6(Xh),Xh.getItem(i)),setItem:(i,e)=>{Z6(Xh),Xh.setItem(i,e)}},J6={};function une({autoSaveId:i=null,children:e,className:t="",direction:r,forwardedRef:n,id:s=null,onLayout:o=null,keyboardResizeBy:a=null,storage:l=Xh,style:c,tagName:u="div",...h}){const d=FA(s),f=C.useRef(null),[p,m]=C.useState(null),[g,v]=C.useState([]),y=Lje(),_=C.useRef({}),b=C.useRef(new Map),w=C.useRef(0),S=C.useRef({autoSaveId:i,direction:r,dragState:p,id:d,keyboardResizeBy:a,onLayout:o,storage:l}),E=C.useRef({layout:g,panelDataArray:[],panelDataArrayChanged:!1});C.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),C.useImperativeHandle(n,()=>({getId:()=>S.current.id,getLayout:()=>{const{layout:L}=E.current;return L},setLayout:L=>{const{onLayout:G}=S.current,{layout:B,panelDataArray:H}=E.current,z=Q6({layout:L,panelConstraints:H.map(Q=>Q.constraints)});K6(B,z)||(v(z),E.current.layout=z,G&&G(z),mc(H,z,_.current))}}),[]),Xa(()=>{S.current.autoSaveId=i,S.current.direction=r,S.current.dragState=p,S.current.id=d,S.current.onLayout=o,S.current.storage=l}),Bje({committedValuesRef:S,eagerValuesRef:E,groupId:d,layout:g,panelDataArray:E.current.panelDataArray,setLayout:v,panelGroupElement:f.current}),C.useEffect(()=>{const{panelDataArray:L}=E.current;if(i){if(g.length===0||g.length!==L.length)return;let G=J6[i];G==null&&(G=Vje(Kje,Zje),J6[i]=G);const B=[...L],H=new Map(b.current);G(i,B,H,g,l)}},[i,g,l]),C.useEffect(()=>{});const x=C.useCallback(L=>{const{onLayout:G}=S.current,{layout:B,panelDataArray:H}=E.current;if(L.constraints.collapsible){const z=H.map(et=>et.constraints),{collapsedSize:Q=0,panelSize:re,pivotIndices:me}=Sa(H,L,B);if(ke(re!=null,`Panel size not found for panel "${L.id}"`),!Gs(re,Q)){b.current.set(L.id,re);const ot=Ec(H,L)===H.length-1?re-Q:Q-re,ve=Vh({delta:ot,initialLayout:B,panelConstraints:z,pivotIndices:me,prevLayout:B,trigger:"imperative-api"});_m(B,ve)||(v(ve),E.current.layout=ve,G&&G(ve),mc(H,ve,_.current))}}},[]),T=C.useCallback((L,G)=>{const{onLayout:B}=S.current,{layout:H,panelDataArray:z}=E.current;if(L.constraints.collapsible){const Q=z.map(ht=>ht.constraints),{collapsedSize:re=0,panelSize:me=0,minSize:et=0,pivotIndices:ot}=Sa(z,L,H),ve=G??et;if(Gs(me,re)){const ht=b.current.get(L.id),Ot=ht!=null&&ht>=ve?ht:ve,Ve=Ec(z,L)===z.length-1?me-Ot:Ot-me,Le=Vh({delta:Ve,initialLayout:H,panelConstraints:Q,pivotIndices:ot,prevLayout:H,trigger:"imperative-api"});_m(H,Le)||(v(Le),E.current.layout=Le,B&&B(Le),mc(z,Le,_.current))}}},[]),R=C.useCallback(L=>{const{layout:G,panelDataArray:B}=E.current,{panelSize:H}=Sa(B,L,G);return ke(H!=null,`Panel size not found for panel "${L.id}"`),H},[]),P=C.useCallback((L,G)=>{const{panelDataArray:B}=E.current,H=Ec(B,L);return Uje({defaultSize:G,dragState:p,layout:g,panelData:B,panelIndex:H})},[p,g]),I=C.useCallback(L=>{const{layout:G,panelDataArray:B}=E.current,{collapsedSize:H=0,collapsible:z,panelSize:Q}=Sa(B,L,G);return ke(Q!=null,`Panel size not found for panel "${L.id}"`),z===!0&&Gs(Q,H)},[]),$=C.useCallback(L=>{const{layout:G,panelDataArray:B}=E.current,{collapsedSize:H=0,collapsible:z,panelSize:Q}=Sa(B,L,G);return ke(Q!=null,`Panel size not found for panel "${L.id}"`),!z||xl(Q,H)>0},[]),F=C.useCallback(L=>{const{panelDataArray:G}=E.current;G.push(L),G.sort((B,H)=>{const z=B.order,Q=H.order;return z==null&&Q==null?0:z==null?-1:Q==null?1:z-Q}),E.current.panelDataArrayChanged=!0,y()},[y]);Xa(()=>{if(E.current.panelDataArrayChanged){E.current.panelDataArrayChanged=!1;const{autoSaveId:L,onLayout:G,storage:B}=S.current,{layout:H,panelDataArray:z}=E.current;let Q=null;if(L){const me=Xje(L,z,B);me&&(b.current=new Map(Object.entries(me.expandToSizes)),Q=me.layout)}Q==null&&(Q=Yje({panelDataArray:z}));const re=Q6({layout:Q,panelConstraints:z.map(me=>me.constraints)});K6(H,re)||(v(re),E.current.layout=re,G&&G(re),mc(z,re,_.current))}}),Xa(()=>{const L=E.current;return()=>{L.layout=[]}},[]);const W=C.useCallback(L=>{let G=!1;const B=f.current;return B&&window.getComputedStyle(B,null).getPropertyValue("direction")==="rtl"&&(G=!0),function(z){z.preventDefault();const Q=f.current;if(!Q)return()=>null;const{direction:re,dragState:me,id:et,keyboardResizeBy:ot,onLayout:ve}=S.current,{layout:ht,panelDataArray:Ot}=E.current,{initialLayout:At}=me??{},Ve=nne(et,L,Q);let Le=Hje(z,L,re,me,ot,Q);const sr=re==="horizontal";sr&&G&&(Le=-Le);const ai=Ot.map(Xe=>Xe.constraints),Zt=Vh({delta:Le,initialLayout:At??ht,panelConstraints:ai,pivotIndices:Ve,prevLayout:ht,trigger:Vre(z)?"keyboard":"mouse-or-touch"}),Qt=!_m(ht,Zt);(Xre(z)||Kre(z))&&w.current!=Le&&(w.current=Le,!Qt&&Le!==0?sr?sP(L,Le<0?Qre:Jre):sP(L,Le<0?ene:tne):sP(L,0)),Qt&&(v(Zt),E.current.layout=Zt,ve&&ve(Zt),mc(Ot,Zt,_.current))}},[]),N=C.useCallback((L,G)=>{const{onLayout:B}=S.current,{layout:H,panelDataArray:z}=E.current,Q=z.map(ht=>ht.constraints),{panelSize:re,pivotIndices:me}=Sa(z,L,H);ke(re!=null,`Panel size not found for panel "${L.id}"`);const ot=Ec(z,L)===z.length-1?re-G:G-re,ve=Vh({delta:ot,initialLayout:H,panelConstraints:Q,pivotIndices:me,prevLayout:H,trigger:"imperative-api"});_m(H,ve)||(v(ve),E.current.layout=ve,B&&B(ve),mc(z,ve,_.current))},[]),q=C.useCallback((L,G)=>{const{layout:B,panelDataArray:H}=E.current,{collapsedSize:z=0,collapsible:Q}=G,{collapsedSize:re=0,collapsible:me,maxSize:et=100,minSize:ot=0}=L.constraints,{panelSize:ve}=Sa(H,L,B);ve!=null&&(Q&&me&&Gs(ve,z)?Gs(z,re)||N(L,re):ve<ot?N(L,ot):ve>et&&N(L,et))},[N]),D=C.useCallback((L,G)=>{const{direction:B}=S.current,{layout:H}=E.current;if(!f.current)return;const z=Ey(L,f.current);ke(z,`Drag handle element not found for id "${L}"`);const Q=one(B,G);m({dragHandleId:L,dragHandleRect:z.getBoundingClientRect(),initialCursorPosition:Q,initialLayout:H})},[]),j=C.useCallback(()=>{m(null)},[]),X=C.useCallback(L=>{const{panelDataArray:G}=E.current,B=Ec(G,L);B>=0&&(G.splice(B,1),delete _.current[L.id],E.current.panelDataArrayChanged=!0,y())},[y]),U=C.useMemo(()=>({collapsePanel:x,direction:r,dragState:p,expandPanel:T,getPanelSize:R,getPanelStyle:P,groupId:d,isPanelCollapsed:I,isPanelExpanded:$,reevaluatePanelConstraints:q,registerPanel:F,registerResizeHandle:W,resizePanel:N,startDragging:D,stopDragging:j,unregisterPanel:X,panelGroupElement:f.current}),[x,p,r,T,R,P,d,I,$,q,F,W,N,D,j,X]),M={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return C.createElement(_y.Provider,{value:U},C.createElement(u,{...h,children:e,className:t,id:s,ref:f,style:{...M,...c},[zt.group]:"",[zt.groupDirection]:r,[zt.groupId]:d}))}const hne=C.forwardRef((i,e)=>C.createElement(une,{...i,forwardedRef:e}));une.displayName="PanelGroup";hne.displayName="forwardRef(PanelGroup)";function Ec(i,e){return i.findIndex(t=>t===e||t.id===e.id)}function Sa(i,e,t){const r=Ec(i,e),s=r===i.length-1?[r-1,r]:[r,r+1],o=t[r];return{...e.constraints,panelSize:o,pivotIndices:s}}function Qje({disabled:i,handleId:e,resizeHandler:t,panelGroupElement:r}){C.useEffect(()=>{if(i||t==null||r==null)return;const n=Ey(e,r);if(n==null)return;const s=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),t(o);break}case"F6":{o.preventDefault();const a=n.getAttribute(zt.groupId);ke(a,`No group element found for id "${a}"`);const l=uf(a,r),c=rne(a,e,r);ke(c!==null,`No resize element found for id "${e}"`);const u=o.shiftKey?c>0?c-1:l.length-1:c+1<l.length?c+1:0;l[u].focus();break}}};return n.addEventListener("keydown",s),()=>{n.removeEventListener("keydown",s)}},[r,i,e,t])}function dne({children:i=null,className:e="",disabled:t=!1,hitAreaMargins:r,id:n,onBlur:s,onClick:o,onDragging:a,onFocus:l,onPointerDown:c,onPointerUp:u,style:h={},tabIndex:d=0,tagName:f="div",...p}){var m,g;const v=C.useRef(null),y=C.useRef({onClick:o,onDragging:a,onPointerDown:c,onPointerUp:u});C.useEffect(()=>{y.current.onClick=o,y.current.onDragging=a,y.current.onPointerDown=c,y.current.onPointerUp=u});const _=C.useContext(_y);if(_===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:b,groupId:w,registerResizeHandle:S,startDragging:E,stopDragging:x,panelGroupElement:T}=_,R=FA(n),[P,I]=C.useState("inactive"),[$,F]=C.useState(!1),[W,N]=C.useState(null),q=C.useRef({state:P});Xa(()=>{q.current.state=P}),C.useEffect(()=>{if(t)N(null);else{const U=S(R);N(()=>U)}},[t,R,S]);const D=(m=r?.coarse)!==null&&m!==void 0?m:15,j=(g=r?.fine)!==null&&g!==void 0?g:5;C.useEffect(()=>{if(t||W==null)return;const U=v.current;ke(U,"Element ref not attached");let M=!1;return $je(R,U,b,{coarse:D,fine:j},(G,B,H)=>{if(!B){I("inactive");return}switch(G){case"down":{I("drag"),M=!1,ke(H,'Expected event to be defined for "down" action'),E(R,H);const{onDragging:z,onPointerDown:Q}=y.current;z?.(!0),Q?.();break}case"move":{const{state:z}=q.current;M=!0,z!=="drag"&&I("hover"),ke(H,'Expected event to be defined for "move" action'),W(H);break}case"up":{I("hover"),x();const{onClick:z,onDragging:Q,onPointerUp:re}=y.current;Q?.(!1),re?.(),M||z?.();break}}})},[D,b,t,j,S,R,W,E,x]),Qje({disabled:t,handleId:R,resizeHandler:W,panelGroupElement:T});const X={touchAction:"none",userSelect:"none"};return C.createElement(f,{...p,children:i,className:e,id:n,onBlur:()=>{F(!1),s?.()},onFocus:()=>{F(!0),l?.()},ref:v,role:"separator",style:{...X,...h},tabIndex:d,[zt.groupDirection]:b,[zt.groupId]:w,[zt.resizeHandle]:"",[zt.resizeHandleActive]:P==="drag"?"pointer":$?"keyboard":void 0,[zt.resizeHandleEnabled]:!t,[zt.resizeHandleId]:R,[zt.resizeHandleState]:P})}dne.displayName="PanelResizeHandle";const eK=({className:i,...e})=>O.jsx(hne,{className:J("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",i),...e}),wm=Ure,tK=({withHandle:i,className:e,...t})=>O.jsx(dne,{className:J("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",e),...t,children:i&&O.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:O.jsx(Vne,{className:"h-2.5 w-2.5"})})});function Jje({focusedFeatureId:i,onDismiss:e,map:t,entities:r}){const n=()=>{i&&RZ(t,r,i)};return O.jsxs("div",{className:"mr-72 flex h-full flex-col p-2",dir:"rtl",children:[O.jsxs("div",{className:"flex items-center justify-between",children:[i?O.jsxs("h2",{className:"flex gap-1",children:[O.jsx(Tne,{}),O.jsx("span",{className:"font-bold",children:i})]}):O.jsxs("h2",{className:"flex gap-2",children:["       ",O.jsx(nse,{})]}),O.jsx(Tn,{onClick:e,variant:"ghost",children:O.jsx(Lne,{})})]}),i&&O.jsx("div",{className:"p-4",children:O.jsx(KQ,{focusedEntityId:i,onFocus:n})})]})}var eGe=typeof global=="object"&&global&&global.Object===Object&&global,tGe=typeof self=="object"&&self&&self.Object===Object&&self,fne=eGe||tGe||Function("return this")(),Mg=fne.Symbol,pne=Object.prototype,iGe=pne.hasOwnProperty,rGe=pne.toString,$h=Mg?Mg.toStringTag:void 0;function nGe(i){var e=iGe.call(i,$h),t=i[$h];try{i[$h]=void 0;var r=!0}catch{}var n=rGe.call(i);return r&&(e?i[$h]=t:delete i[$h]),n}var sGe=Object.prototype,oGe=sGe.toString;function aGe(i){return oGe.call(i)}var lGe="[object Null]",cGe="[object Undefined]",iK=Mg?Mg.toStringTag:void 0;function uGe(i){return i==null?i===void 0?cGe:lGe:iK&&iK in Object(i)?nGe(i):aGe(i)}function hGe(i){return i!=null&&typeof i=="object"}var dGe="[object Symbol]";function fGe(i){return typeof i=="symbol"||hGe(i)&&uGe(i)==dGe}var pGe=/\s/;function mGe(i){for(var e=i.length;e--&&pGe.test(i.charAt(e)););return e}var gGe=/^\s+/;function vGe(i){return i&&i.slice(0,mGe(i)+1).replace(gGe,"")}function Ag(i){var e=typeof i;return i!=null&&(e=="object"||e=="function")}var rK=NaN,yGe=/^[-+]0x[0-9a-f]+$/i,bGe=/^0b[01]+$/i,_Ge=/^0o[0-7]+$/i,wGe=parseInt;function nK(i){if(typeof i=="number")return i;if(fGe(i))return rK;if(Ag(i)){var e=typeof i.valueOf=="function"?i.valueOf():i;i=Ag(e)?e+"":e}if(typeof i!="string")return i===0?i:+i;i=vGe(i);var t=bGe.test(i);return t||_Ge.test(i)?wGe(i.slice(2),t?2:8):yGe.test(i)?rK:+i}var aP=function(){return fne.Date.now()},xGe="Expected a function",SGe=Math.max,EGe=Math.min;function CGe(i,e,t){var r,n,s,o,a,l,c=0,u=!1,h=!1,d=!0;if(typeof i!="function")throw new TypeError(xGe);e=nK(e)||0,Ag(t)&&(u=!!t.leading,h="maxWait"in t,s=h?SGe(nK(t.maxWait)||0,e):s,d="trailing"in t?!!t.trailing:d);function f(S){var E=r,x=n;return r=n=void 0,c=S,o=i.apply(x,E),o}function p(S){return c=S,a=setTimeout(v,e),u?f(S):o}function m(S){var E=S-l,x=S-c,T=e-E;return h?EGe(T,s-x):T}function g(S){var E=S-l,x=S-c;return l===void 0||E>=e||E<0||h&&x>=s}function v(){var S=aP();if(g(S))return y(S);a=setTimeout(v,m(S))}function y(S){return a=void 0,d&&r?f(S):(r=n=void 0,o)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=n=a=void 0}function b(){return a===void 0?o:y(aP())}function w(){var S=aP(),E=g(S);if(r=arguments,n=this,l=S,E){if(a===void 0)return p(l);if(h)return clearTimeout(a),a=setTimeout(v,e),f(l)}return a===void 0&&(a=setTimeout(v,e)),o}return w.cancel=_,w.flush=b,w}var TGe="Expected a function";function OGe(i,e,t){var r=!0,n=!0;if(typeof i!="function")throw new TypeError(TGe);return Ag(t)&&(r="leading"in t?!!t.leading:r,n="trailing"in t?!!t.trailing:n),CGe(i,e,{leading:r,maxWait:e,trailing:n})}const lP=40;function aWe(){const i=oK(),e=C.useRef(null),t=C.useRef(null),[r,n]=C.useState(!1),[{map:s,select:o,entities:a,histories:l,entitiesCluster:c,store:u,draw:h}]=C.useState(Eme),d=Md(Yc),{data:f}=Ng(oge(d));C.useEffect(function(){f&&(a.clear(),Tme(a,f))},[f,a]);const[p,m]=C.useState(),g=async v=>{m(v),Rme(a,v),v&&(n(!0),e.current?.collapse())};return C.useEffect(function(){if(p){let y;const[_,b]=p?.split("-",2),w=OGe(async S=>{y??=await age(i,_,b,d.timeRange),y?Pme(l,{[p]:y},S):C$(l)},100);return w(new Date),Hre.subscribe((S,E)=>{S.start&&S.start!==E.start&&w(S.start)})}else{C$(l);return}},[p,l,i]),C.useEffect(function(){const y=new EZ;return u.subscribe((_,b)=>{if(_.drawnPolygon!==b.drawnPolygon){const w=_.drawnPolygon?.getGeometry();if(w){const S=y.writeGeometry(w);Yc.getState().setSelectedWkt(S)}else Yc.getState().setSelectedWkt()}})},[u]),O.jsx(O.Fragment,{children:O.jsxs(W9,{className:"flex h-screen w-screen flex-col",children:[O.jsx(Y9,{children:O.jsxs(eK,{direction:"vertical",children:[O.jsx(wm,{className:"relative",order:1,children:O.jsxs(eK,{direction:"horizontal",children:[O.jsx(wm,{children:O.jsx("div",{className:"relative h-screen w-screen",children:O.jsx(Zbe,{map:s,select:o,onViewEntity:v=>{g(v),v&&e?.current?.expand(lP),v&&t?.current?.expand(50)},onClickSingleEntity:v=>{g(v),v&&e?.current?.expand(lP)}})})}),O.jsx(tK,{className:"hover:after:bg-sidebar-border",onClick:()=>t.current?.isCollapsed()?t.current?.expand():t.current?.collapse()}),O.jsx(wm,{className:J(r&&"transition-all duration-100"),onTransitionEnd:()=>n(!1),collapsible:!0,minSize:1,defaultSize:1,maxSize:70,collapsedSize:1,ref:t,children:O.jsx(Jje,{focusedFeatureId:p,map:s,entities:a,onDismiss:()=>t.current?.collapse()})})]})}),O.jsx(tK,{className:"hover:after:bg-sidebar-border",onClick:()=>(n(!0),e.current?.isCollapsed()?e.current?.expand(lP):e.current?.collapse())}),O.jsx(wm,{className:J(r&&"transition-all duration-100"),onTransitionEnd:()=>n(!1),ref:e,order:2,collapsible:!0,minSize:1,collapsedSize:1,defaultSize:1,maxSize:60,children:O.jsx(Eje,{map:s,store:u,entities:a,select:o,focusedEntityId:p,onFocusEntity:g})})]})}),O.jsx(Kbe,{map:s,draw:h,entities:a,entitiesCluster:c})]})})}export{aWe as default};
